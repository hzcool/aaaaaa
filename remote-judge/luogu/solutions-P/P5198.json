[
    {
        "content": "\u8fd9\u9053\u9898\u4e2a\u4eba\u8ba4\u4e3a\u7528dfs\u6bd4\u8f83\u597d\u7406\u89e3\n\n\u4f46\u662fdfs\u6709\u53ef\u80fd\u6216\u7206\u6808\n\n\u6240\u4ee5\u4e00\u4e0b\u4ee3\u7801\u4ec5\u4f9b\u53c2\u8003\n\n\u51b0\u6dc7\u6dcb\u7684\u9762\u79ef\u7528dfs\u5f88\u597d\u6c42\n\n\u53ea\u8981\u7b97\u51fa\u6bcf\u4e2a\u8054\u901a\u5757\u4e2d'#'\u7684\u4e2a\u6570\u5373\u53ef\n\n\u96be\u70b9(?)\u5728\u4e8e\u6c42\u8054\u901a\u5feb\u7684\u5468\u957f\n\n\u5176\u5b9e\u4e5f\u5f88\u597d\u60f3\n\n\u89c2\u5bdf\u4e00\u4e0b\u6837\u4f8b\n\u53d1\u73b0\u5468\u957f\u5c31\u662f\u6bcf\u4e2a'#'\u5468\u56f4'.'\u6216\u8d85\u8fc7\u8fb9\u754c\u7684\u65b9\u5757\u4e2a\u6570\n\n\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u540e\u8fd9\u9053\u9898\u51e0\u4e4e\u5c31\u662f\u4e00\u9053dfs\u88f8\u9898\u4e86\n\n```cpp\n#pragma GCC optimize(\"no-stack-protector\")//\u5bf9\u5806\u6808\u7684\u4e00\u70b9\u4f18\u5316(\u6216\u8bb8\u53ef\u4ee5\u9632\u6b62\u7206\u6808)\n#include<iostream>\n#define HAND\nconst int MAXN=1e3+7;\nconst int dx[]= {0,1,0,-1},dy[]= {1,0,-1,0};\nint n,S,C,mxs,mic;//S\u662f\u9762\u79ef C\u662f\u5468\u957f\nchar ice[MAXN][MAXN];\nbool vis[MAXN][MAXN];\nvoid dfs(int x,int y) {\n\tif(vis[x][y])\n\t\treturn ;\n\tvis[x][y]=true;\n\tS++;\n\tfor(int d=0; d<4; d++) {\n\t\tint xx=x+dx[d],yy=y+dy[d];\n\t\tif(xx<1||xx>n||yy<1||yy>n||ice[xx][yy]=='.')//\u6ce8\u610f\u5468\u957f\u6761\u4ef6\u5904\u7406\n\t\t\tC++;\n\t\tif(ice[xx][yy]=='#')\n\t\t\tdfs(xx,yy);\n\t}\n\treturn ;\n}\nvoid solve(void) {\n\tstd::cin>>n;\n\tfor(int i=1; i<=n; i++)\n\t\tstd::cin>>ice[i]+1;\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=n; j++) {\n\t\t\tif(ice[i][j]=='#'&&!vis[i][j]) {\n\t\t\t\tS=C=0;\n\t\t\t\tdfs(i,j);\n\t\t\t\tif(S>mxs) {\n\t\t\t\t\tmxs=S;\n\t\t\t\t\tmic=C;\n\t\t\t\t} else if(S==mxs)\n\t\t\t\t\tmic=std::min(mic,C);\n\t\t\t}\n\t\t}\n\t}\n\tstd::cout<<mxs<<' '<<mic;\n}\nint main(void) {\n#ifdef HANDIN\n\tfreopen(\"perimeter.in\",\"r\",stdin);\n\tfreopen(\"perimeter.out\",\"w\",stdout);\n#endif\n\tsolve();\n\treturn 0;\n}\n```\n",
        "postTime": 1571924574,
        "uid": 242426,
        "name": "Swire",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "# \u54c7\u585e\uff0c\u597d\u6fc0\u52a8\uff0cAC\u4e86\u4e00\u9053\u84dd\u9898\n\n\u5728\u5b66\u6821\u542c\u5927\u4f6c\u8bf4\u8fd9\u662f\u4e00\u9053\u7eaf\u641c\u7d22\uff0c\u4e8e\u662f\u6211\u5c41\u98a0\u5c41\u98a0\u7684\u505a\u4e86\u4e00\u665a\u4e0a\uff0c\n\n~~\u6ca1\u505a\u51fa\u6765~~\uff0c\u8fd8\u597d\u6709\u5927\u4f6c\u4e3a\u6211\u6307\u660e\u9053\u8def\n\n\u5728\u6b64\u611f\u8c22[\u8d1e\u767d\u5f90\u665f](https://www.luogu.org/space/show?uid=66319)\uff0c~~\u4e0d\u8981\u7ba1\u5927\u4f6c\u7684\u540d\u5b57\u989c\u8272~~\n\n\u770b\u89c1\u597d\u591a\u5927\u4f6c\u7528\u5e7f\u641c\u505a\uff0c\u4f46\u662f\u672c\u849f\u84bb\u81ea\u8ba4\u4e3a\u6b64\u9898\u6df1\u641c\u66f4\u7b80\u6d01\u6613\u61c2\n\n\u8bdd\u4e0d\u591a\u8bf4\uff0c\u8d34\u4ee3\u7801\n```cpp\n#include <iostream>\n#include <cstdio>\nusing namespace std;\nchar a[1005][1005];\nint vis[1005][1005];\nint dir[4][2] = {0,1,0,-1,1,0,-1,0}//\u65b9\u5411\u6570\u7ec4\uff0c\u5927\u4f6c\u4eec\u5e94\u8be5\u90fd\u77e5\u9053\u5427...\nint n,step = 0,step1 = 0;\nint mmp (int r1, int r2) //\u4e0d\u7528\u5728\u610f\u51fd\u6570\u540d\uff0c\u4e0d\u662f\u6211\u6539\u7684...qwq\n{\n\tint k = 0;\n\tfor (int w = 0; w < 4; w++){\n\t\tint xx = r1 + dir[w][0];\n\t\tint yy = r2 + dir[w][1];\n\t\tif (a[xx][yy] == '.') k++;\n\t}\n\treturn k; \n} //\u6c42\u51fa\u4e0a\u4e0b\u5de6\u53f3\u201c.\u201d\u7684\u6570\u91cf\uff0c\u5206\u5f00\u5199\u66f4\u76f4\u89c2\u5427\nvoid dfs(int x,int y) {\n\tvis[x][y] = step;//\u6807\u8bb0\u6570\u7ec4\u5b58\u6b65\u6570\uff0c\u5176\u5b9e\u5b58\u4ec0\u4e48\u65e0\u6240\u8c13...\n\tfor(int i = 0; i < 4; i++) {\n\t\tint xx = x + dir[i][0];// \u6c42\u4e0a\u4e0b\u5de6\u53f3\u7684\u6a2a\u5750\u6807\n\t\tint yy = y + dir[i][1];//\u8fd9\u4e2a\u5c31\u662f\u7eb5\u5750\u6807\u55bd\n\t\tif(xx >= 1 && xx <= n && yy >= 1 && yy <= n && !vis[xx][yy] && a[xx][yy] == '#') { // \u5224\u65ad\u8fb9\u754c\u4ee5\u53ca\u662f\u5426\u88ab\u8bbf\u95ee\u8fc7\n\t\t\tstep++;//\u5b58\u6b64\u65f6\u641c\u51fa\u6765\u7684\u51b0\u6dc7\u6dcb\u5927\u5c0f\n\t\t\tstep1 += mmp (xx, yy);//\u7b97\u4e00\u6b21\u56db\u5468\u7684\u201c.\u201d\u7684\u4e2a\u6570\n\t\t\tdfs(xx,yy);//\u9012\u5f52\u8d70\u8d77\n\t\t}\n\t}\n}\nint main()\n{\n\tint maxn = -9999,maxn1 = -9999;//\u4e00\u4e2a\u5b58\u6700\u5927\u7684\u51b0\u6dc7\u6dcb\u7684\u5927\u5c0f\uff0c\u53e6\u4e00\u4e2a\u662f\u201c.\u201d\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) {\n\t\tfor(int j = 1; j <= n; j++) {\n\t\t\tcin >> a[i][j];\n\t\t}\n\t}\n\tfor (int i = 0; i <= n + 1; i++){\n\t\ta[0][i] = '.';\n\t\ta[n + 1][i] = '.';\n\t\ta[i][0] = '.';\n\t\ta[i][n + 1] = '.';\n\t}//\u7075\u9b42\u4ee3\u7801\uff0c\u628a\u5468\u56f4\u7684\u8fb9\u754c\u5168\u90e8\u5f04\u6210\".\" \u9e23\u8c22\u5f90\u5927\u4f6c\u7684\u63d0\u9192\n\tfor(int i = 1; i <= n; i++) {\n\t\tfor(int j = 1; j <= n; j++) {\n\t\t\tif (a[i][j] == '#'){\n\t\t\t\tstep = 1;\n\t\t\t\tstep1 = mmp (i, j);\n\t\t\t\tdfs(i,j);\n\t\t\t\tif(maxn < step) maxn = step, maxn1 = step1;//\u6bcf\u51fa\u4e00\u4e2a\u7b54\u6848\u5c31\u8981\u6bd4\u4e00\u6b21\uff0c\u662f\u4e0d\u662f\u6700\u5927\n\t\t\t\tif(maxn == step)\n\t\t\t\t\tif (maxn1 > step1) maxn1 = step1; //\u540c\u7406 \u540c\u4e0a\n\t\t\t}\t\n\t\t}\n\t}\n\tcout << maxn << ' '<< maxn1 <<endl;\n\treturn 0;//\u5b8c\u7f8e\u7ed3\u675f\uff08So beautiful!!!\uff09\n}\n```\n\u770b\u5b8c\u4e86\u7684\u8001\u7237\u4eec\u70b9\u4e2a\u8d5e\u518d\u8d70\u554a~~~",
        "postTime": 1568464079,
        "uid": 158439,
        "name": "\u6c49\u82f1\u4f18\u79c0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u5355\u7eaf\u6c42\u8054\u901a\u5757\u7684\u4e00\u9053\u9898\uff0c\u79cd\u5b50\u586b\u5145\u7b97\u6cd5\u53ef\u4ee5\u7b80\u5355\u7684\u89e3\u51b3\u3002\n\n\u79cd\u5b50\u586b\u5145\u5c31\u4e0d\u4ecb\u7ecd\u4e86\uff0c\u8fd9\u4e2a\u90fd\u4e0d\u77e5\u9053\u8fd8\u6562\u505a\u84dd\u9898\u2026\u2026\n\n\u7136\u540e\u662f\u4e0d\u597d\u641e\u7684\u6c42\u5468\u957f\u90e8\u5206\uff0c\u5bf9\u4e8e\u9012\u5f52\u4e2d\u7684\u6bcf\u4e2a\u70b9\uff0c\u5982\u679c\u5468\u56f4\u662f\u672a\u7f16\u53f7\u8282\u70b9\uff0c\u5927\u5c0f\u52a0\u4e00\u5e76\u4e14\u8fdb\u5165\u8be5\u70b9\uff0c\u5982\u679c\u5468\u56f4\u662f\u7a7a\u5730\uff0c\u5468\u957f\u52a0\u4e00\u3002\n\n\u4ee3\u7801\u5f88\u7b80\u5355\uff0c\u4ec5\u4f9b\u53c2\u8003\u3002\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,siz,len,anss,ansl;//len\u4e0esiz\u4e3a\u5f53\u524d\u8054\u901a\u5757\u5468\u957f\u548c\u5927\u5c0f\uff0canss\u548cansl\u4e3a\u6700\u7ec8\u8054\u901a\u5757\u5927\u5c0f\u548c\u5468\u957f\nchar inp;\nbool pic[1005][1005],mk[1005][1005];//pic\u6570\u7ec4\u5b58\u50a8\u56fe\uff0cmk\u6570\u7ec4\u50a8\u5b58\u67d0\u70b9\u662f\u5426\u88ab\u904d\u5386\u8fc7\nvoid dfs(int a,int b){\n    mk[a][b]=1;\n    siz++;\n    for(int i=-1;i<=1;i++)\n        for(int j=-1;j<=1;j++)\n            if(abs(i)!=abs(j)){\n                if(pic[a+i][b+j]==1&&!mk[a+i][b+j])//\u5982\u679c\u662f\u4e2a\u672a\u7f16\u53f7\u8282\u70b9\uff0c\u9012\u5f52\u8fdb\u5165\u3002\n                    dfs(a+i,b+j);\n                if(pic[a+i][b+j]==0)//\u5982\u679c\u662f\u4e2a\u7a7a\u8282\u70b9\uff0c\u5468\u957f\u52a0\u4e00\n                    len++;\n            }\n}\nint main(){\n    cin>>n;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++){\n            cin>>inp;\n            if(inp=='#')\n                pic[i][j]=1;\n        }\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n            if(!mk[i][j]&&pic[i][j]){\n                siz=0;\n                len=0;\n                dfs(i,j);\n                // cout<<siz<<\" \"<<len<<'\\n';\n                if(siz>anss){//\u5bf9\u5927\u5c0f\u548c\u5468\u957f\u505a\u6700\u5927\u503c\u5904\u7406\n                    anss=siz;\n                    ansl=len;\n                }\n                else if(siz==anss)\n                    ansl=min(ansl,len);\n            }\n    cout<<anss<<' '<<ansl;\n}\n```\n\u4f46\u662f\uff0c\u63a5\u4e0b\u6765\u662f\u5173\u952e\u90e8\u5206\u3002\n\n\u6211\u4eec\u53d1\u73b0\u5f53\u524d\u60c5\u51b5\u4e0b\u9012\u5f52\u7684\u5c42\u6570\u6700\u5927\u8fbe\u5230\u4e86$10^6$\uff0c\u867d\u7136\u6d1b\u8c37\u8ba9\u4f60\u8fc7\u4e86\uff0c\u53ef\u662f\u4e07\u4e00\u5728\u67d0\u4e9b\u5c11\u7237\u673a\u4e0a\u7a81\u7136\u7206\u6808\u4e86\u2026\u2026\uff08\u7206\u96f6\u7684\u6050\u60e7\uff09\n\n\u63a5\u4e0b\u6765\u6211\u4eec\u5b66\u4e60\u5982\u4f55\u9632\u6b62\u5728\u9012\u5f52\u8fc7\u7a0b\u4e2d\u7206\u6808\u3002\n\n\u5728\u4ee3\u7801\u5f00\u5934\u6dfb\u52a0\u5982\u4e0b\u7247\u6bb5\uff1a\n```cpp\n#pragma comment(linker, \"/STACK:102400000,102400000\") \n```\n\u548c/\u6216\n```cpp\n#pragma GCC optimize(\"no-stack-protector\")\n```\n\u5373\u53ef\uff01\n\n### ~~\u5b8c~~\n\n\u597d\u5427\u6211\u4eec\u63a5\u4e0b\u6765\u6765\u5b66\u4e60\u5982\u4f55\u624b\u52a8\u6a21\u62df\u9012\u5f52\u8fc7\u7a0b\u4ee5\u6c42\u4e0d\u4f7f\u7528\u9012\u5f52\u5b8c\u6210dfs\u3002\n\n\u5728\u6570\u636e\u7ed3\u6784\u57fa\u7840\u4e0a\u6211\u4eec\u5b66\u8fc7\u9012\u5f52\u7684\u539f\u7406\u662f\u5229\u7528\u6808\u7a7a\u95f4\u6765\u5b8c\u6210\u6570\u636e\u7684\u4f20\u8f93\u3002\n\n\u7136\u800c\uff0c\u8fd9\u4e2a\u6808\u7a7a\u95f4\u7684\u5927\u5c0f\uff08\u53ea\u6709\u51e0M\uff09\u8fdc\u8fdc\u5c0f\u4e8e\u5806\u7a7a\u95f4\u7684\u5927\u5c0f\uff08\u603b\u4f53\u53ef\u8c03\u7528\u7684\u5728G\u4ee5\u4e0a\uff09\uff0c\u4e8e\u662f\u6211\u4eec\u624b\u5199\u6570\u636e\u7ed3\u6784\u628a\u6808\u79fb\u5230\u5806\u91cc\u5934\u3002\u5177\u4f53\u5b9e\u73b0\u89c1\u4ee3\u7801\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,siz,len,anss,ansl,top;//len\u4e0esiz\u4e3a\u5f53\u524d\u8054\u901a\u5757\u5468\u957f\u548c\u5927\u5c0f\uff0canss\u548cansl\u4e3a\u6700\u7ec8\u8054\u901a\u5757\u5927\u5c0f\u548c\u5468\u957f\npair<int,int> sta[1000005];//Stack! first\u5b58\u50a8\u884c,second\u5b58\u50a8\u5217\nchar inp;\nbool pic[1005][1005],mk[1005][1005],lmk[1005][1005][3][3];//pic\u6570\u7ec4\u5b58\u50a8\u56fe\uff0cmk\u6570\u7ec4\u50a8\u5b58\u67d0\u70b9\u662f\u5426\u88ab\u904d\u5386\u8fc7\nint main(){\n    cin>>n;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++){\n            cin>>inp;\n            if(inp=='#')\n                pic[i][j]=1;\n        }\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n            if(!mk[i][j]&&pic[i][j]){\n                siz=1;\n                len=0;\n                int a,b,p;\n                sta[++top]=make_pair(i,j);\n                mk[i][j]=1;\n                while(top){\n                    a=sta[top].first;\n                    b=sta[top].second;//\u4f20\u5165\u6808\u4e2d\u7684\u503c\n                    p=1;\n                    bool flag=0;\n                    for(int k=-1;k<=1;k++){\n                        for(int l=-1;l<=1;l++)\n                            if(abs(k)!=abs(l)){\n                                if(pic[a+k][b+l]&&!mk[a+k][b+l]){\n                                    sta[++top]=make_pair(a+k,b+l);//\u8fd9\u662f\u96be\u70b9\uff0c\u5c06\u9012\u5f52\u53c2\u6570\u5199\u8fdb\u6808\u91cc\u9762\n                                    mk[a+k][b+l]=1;\n                                    siz++;\n                                    flag=1;//\u8fd9\u662f\u96be\u70b9\uff0c\u5982\u4f55\u6682\u505c\u5f53\u524d\u5faa\u73af\u5e76\u4e14\u5728\u5b8c\u6210\u4e0b\u5c42\u4e4b\u540e\u4f7f\u4e4b\u6062\u590d\u539f\u72b6\u6001\n                                    break;\n                                }\n                                if(pic[a+k][b+l]==0&&!lmk[a][b][k+1][l+1]){\n                                    len++;\n                                    lmk[a][b][k+1][l+1]=1;\n                                }\n                            }\n                        if(flag)\n                            break;\n                    }\n                    if(flag)\n                        continue;\n                    top--;\n                }\n                if(siz>anss){//\u5bf9\u5927\u5c0f\u548c\u5468\u957f\u505a\u6700\u5927\u503c\u5904\u7406\n                    anss=siz;\n                    ansl=len;\n                }\n                else if(siz==anss)\n                    ansl=min(ansl,len);\n            }\n    cout<<anss<<' '<<ansl;\n}\n```\n\u6bd4\u76f4\u63a5\u9012\u5f52\u9ebb\u70e6\u7684\u4e0d\u662f\u4e00\u70b9\u534a\u70b9\uff0c\u6548\u7387\u4e0a\u540c\u6837\u6709\u5dee\u522b\uff0c\u4f46\u4e0d\u662f\u592a\u5927\u3002\n\n\u5173\u952e\u70b9\u5c31\u662f\u5982\u4f55\u6682\u505c\u5f53\u524d\u5c42\u7684\u5faa\u73af\u5e76\u4e14\u5728\u5b8c\u6210\u5b83\u7684\u5b50\u5c42\u5faa\u73af\u540e\u4f7f\u4e4b\u6062\u590d\u5230\u539f\u72b6\u6001\u3002\u6211\u91c7\u53d6\u7684\u65b9\u6cd5\u662f\u8fd9\u6837\uff0c\u5bf9\u4e8e\u5df2\u7ecf\u5904\u7406\u8fc7\u7684\u5730\u65b9\u6253\u4e0a\u6807\u8bb0\uff0c\u5728\u5904\u7406\u5b8c\u5b50\u5c42\u5faa\u73af\u540e\u5bf9\u4e8e\u5df2\u7ecf\u6807\u8bb0\u8fc7\u7684\u5730\u65b9\u4e0d\u505a\u5904\u7406\uff0c\u4ee5\u4f7f\u4e4b\u53ea\u5904\u7406\u4e0a\u4e00\u6b21\u5904\u7406\u8fc7\u7684\u4f4d\u7f6e\u7684\u4e0b\u4e00\u4e2a\u3002\n\n\u914d\u4e0aSubmit\u622a\u56fe\uff1a\n\n\u9012\u5f52\n![\u9012\u5f52](https://cdn.luogu.com.cn/upload/image_hosting/t7nz3bht.png)\n\n\u975e\u9012\u5f52\n![\u975e\u9012\u5f52](https://cdn.luogu.com.cn/upload/image_hosting/5bqnpd21.png)\n\n\u597d\u5427\u6700\u540e\u8bf4\u53e5\u9898\u5916\u8bdd\uff0c\u5bf9\u4e8e\u8fd9\u4e9b\u4fdd\u8bc1\u9700\u8981\u5168\u90e8\u904d\u5386\u56fe\u7684\u7684\u641c\u7d22\uff0c\u63a8\u8350\u4f7f\u7528BFS\u4ee5\u907f\u514d\u7206\u6808\uff0c\u7136\u800c\u697c\u4e0a\u5927\u4f6c\u5199\u8fc7\u4e86\u6211\u5c31\u4e0d\u5199\u4e86\u3002\n\n\u63a8\u9500\u4e00\u4e0b\u6211\u7684\u535a\u5ba2\uff01\u672c\u6587\u4f1a\u5728\u535a\u5ba2\u56ed\u540c\u6b65\u66f4\u65b0\u3002\n[Blog of Schwarzkopf-Henkal](https://www.cnblogs.com/Schwarzkopf-Henkal/)\n\n#### \u5b8c\uff08\u662f\u771f\u7684\uff09\n\nI'm Schwarzkopf Henkal.",
        "postTime": 1571975408,
        "uid": 251723,
        "name": "Schwarzkopf_Henkal",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u867d\u7136\u662f\u84dd\u9898\uff0c\u4f46\u5341\u5206\u7684\u6c34\u3002\u53ea\u8981\u8bfb\u61c2\u9898\u610f\u5c31\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u9053\u9898\u5c31\u662f\u8ba9\u6211\u4eec\u6c42\u6700\u5927\u8fde\u901a\u5757\u7684\u9762\u79ef\u548c\u5468\u957f\u3002\u9762\u79ef\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u8fd9\u4e2a\u51b0\u6fc0\u51cc\u7403\u4e2d'#'\u7684\u6570\u91cf\u3002\u800c\u5468\u957f\u6211\u4eec\u53ef\u4ee5\u8f7b\u800c\u6613\u4e3e\u5730\u63a8\u51fa\u662f\u8fd9\u4e2a\u51b0\u6fc0\u51cc\u7403\u4e2d'#'\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\u2018.\u2019\u7684\u4e2a\u6570\u3002\u8fd9\u6837\u8fd9\u9053\u9898\u5c31\u5f88\u597d\u505a\u4e86\u3002\n\u4e0b\u4e3aAC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,maze[1001][1001]= {0},v[1001][1001];\nint dx[4]= {-1,1,0,0},dy[4]= {0,0,1,-1};//\u56db\u4e2a\u65b9\u5411 \nstruct bfc {\n\tint x,y;\n} a,b,c,d;\nint ans1,ans2;//ans1\u662f\u9762\u79ef\uff0cans2\u662f\u5468\u957f \nvoid bfs(int sx,int sy) {\n\tqueue<bfc>que;\n\ta.x=sx;\n\ta.y=sy;\n\tint num1=1,num2=0; //num1\u662f\u9762\u79ef\uff0cnum2\u662f\u5468\u957f \n\tfor(int i=0; i<4; i++) {\n\t\tc.x=a.x+dx[i];\n\t\tc.y=a.y+dy[i];\n\t\tif(maze[c.x][c.y]==-1)\n\t\t\tnum2++;\n\t}\n\tv[sx][sy]=1;\n\tque.push(a);\n\twhile(!que.empty()) {\n\t\tb=que.front();\n\t\tque.pop();\n\t\tfor(int i=0; i<4; i++) {\n\t\t\tc.x=b.x+dx[i];\n\t\t\tc.y=b.y+dy[i];\n\t\t\tif(c.x>=1&&c.x<=n&&c.y>=1&&c.y<=n&&v[c.x][c.y]==0&&maze[c.x][c.y]==1) {\n\t\t\t\tnum1++;\n\t\t\t\tv[c.x][c.y]=1;\n\t\t\t\tfor(int j=0; j<4; j++) {\n\t\t\t\t\td.x=c.x+dx[j];\n\t\t\t\t\td.y=c.y+dy[j];\n\t\t\t\t\tif(maze[d.x][d.y]==-1)\n\t\t\t\t\t\tnum2++;\n\t\t\t\t}\n\t\t\t\tque.push(c);\n\t\t\t}\n\t\t}\n\t}\n\tif(num1>ans1) {\n\t\tans1=num1;\n\t\tans2=num2;\n\t} else if(num1==ans1) {\n\t\tif(num2<ans2) {\n\t\t\tans2=num2;\n\t\t}\n\t}\n\treturn;\n}\nvoid solve() {\n\tcin>>n;\n\tfor(int i=0; i<=n+1; i++) {\n\t\tfor(int j=0; j<=n+1; j++) {\n\t\t\tmaze[i][j]=-1;\n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=n; j++) {\n\t\t\tchar x;\n\t\t\tcin>>x;\n\t\t\tif(x=='#')\n\t\t\t\tmaze[i][j]=1;\n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=n; j++) {\n\t\t\tif(maze[i][j]==1&&v[i][j]==0)//\u6bcf\u9047\u5230\u201c#\u201d\u641c\u4e00\u904d \n\t\t\t\tbfs(i,j);\n\t\t}\n\t}\n\tcout<<ans1<<\" \"<<ans2;\n}\nint main() {\n//\tfreopen(\"perimeter.in\",\"r\",stdin);\n//\tfreopen(\"perimeter.out\",\"w\",stdout);\n\tsolve();\n//\tfclose(stdin);\n//\tfclose(stdout);\n}\n```\n",
        "postTime": 1571969786,
        "uid": 251109,
        "name": "OnlyU",
        "ccfLevel": 0,
        "title": "P5198 Icy Perimeter\u9898\u89e3"
    },
    {
        "content": "\u9898\u76ee\u4e0d\u96be\uff0c\u53ea\u7528BFS\u5c31\u53ef\u4ee5AC\u3002\u7b2c\u4e00\u6b21\u6211\u5f00\u5c0f\u4e86\u6570\u7ec4RE\u4e86\uff08\u5f00\u76841001\\*1001\uff0c\u6211\u4e5f\u4e0d\u77e5\u9053\u4e3a\u4ec0\u4e48RE\uff09\uff0c\u7b2c\u4e8c\u6b21\u5c31AC\u4e86\u3002\u5b9e\u73b0\u4e0d\u96be\u3002\n\nBFS\u9002\u7528\u4e8e\u5411\u591a\u4e2a\u65b9\u5411\u540c\u65f6\u6269\u5c55\uff0c\u50cf\u8fd9\u79cd\u5728\u77e9\u9635\u4e2d\u6c42\u8054\u901a\u5757\u7684\u95ee\u9898\u7528BFS\u601d\u7ef4\u548c\u4ee3\u7801\u96be\u5ea6\u90fd\u4e0d\u9ad8\u3002\u7528DFS\u591a\u534a\u4e5f\u53ef\u4ee5\uff0c\u4f46\u662f\u6211\u61d2\u800c\u4e14\u5f31\uff0c\u6545\u53ea\u5199BFS\u3002\u8fd9\u7c7b\u9898\u6709\u4e00\u4e2a\u6a21\u677f\uff1a[\u6c42\u7ec6\u80de\u6570\u91cf](https://www.luogu.org/problem/P1451)\u3002\u672c\u9898\u76f8\u5bf9\u4ec5\u591a\u4e00\u4e2a\u6c42\u5468\u957f\u7684\u6b65\u9aa4\uff0c\u4e5f\u53ef\u4ee5\u7528\u88f8BFS\u89e3\u51b3\uff0c\u8fd8\u662f\u6bd4\u8f83\u6c34\u7684\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u4e0a\u6211\u5efa\u4e86\u4e09\u4e2a\u6570\u7ec4\u7528\u4e8eBFS\uff0c\u89c1\u4ee3\u7801\u3002\u6c42\u9762\u79ef\u8be6\u89c1P1451\u3002\u6c42\u5468\u957f\u65f6\u904d\u5386\u6bcf\u4e2a\u70b9\uff0c\u770b\u5b83\u5468\u56f4\u6709\u51e0\u4e2a\u7a7a\u683c\uff0c\u5e76\u5c06\u7a7a\u683c\u6570\u52a0\u5165\u7b54\u6848\u3002\n\n```cpp\n#include<bits/stdc++.h>\nint n,max,ans,ax,ay,d=0x7fffffff,book[5001][5001],s[5001][5001],s1[5001][5001],step[5][3]={{0,0,0},{0,0,1},{0,1,0},{0,-1,0},{0,0,-1}};\nstd::queue<std::pair<int,int> > b;//STL\ninline int find(int x,int y)\n{\n\tint dis=0;\n\ts1[x][y]=0;\n\tb.push(std::make_pair(x,y));\n\twhile(!b.empty())\n\t{\n\t\tint x1=b.front().first,y1=b.front().second;\n\t\tb.pop();\n\t\tfor(register int i=1;i<=4;i=-~i)\n\t\t\tif(!s[x1+step[i][1]][y1+step[i][2]])\n\t\t\t\tdis=-~dis;//\u5728\u6b64\u7edf\u8ba1\u5468\u957f\n\t\tfor(register int i=1;i<=4;i=-~i)\n\t\t\tif(s1[x1+step[i][1]][y1+step[i][2]])\n\t\t\t{\n\t\t\t\ts1[x1+step[i][1]][y1+step[i][2]]=0;\n\t\t\t\tb.push(std::make_pair(x1+step[i][1],y1+step[i][2]));\n\t\t\t}//\u540c\u6c42\u9762\u79ef\u51fd\u6570\u7684BFS\n\t}\n\t\n\treturn dis;\n}\n\ninline void Breadth_First_Search(int x,int y)\n{\n\tint res=0,f=find(x,y);//find\u6c42\u5468\u957f\uff0c\u8fd9\u4e2a\u51fd\u6570\u4e3b\u8981\u8d1f\u8d23\u6c42\u9762\u79ef\uff0c\u987a\u4fbf\u7edf\u8ba1\u7b54\u6848\n\tbook[x][y]=0;\n\tb.push(std::make_pair(x,y));\n\twhile(!b.empty())\n\t{\n\t\tint x1=b.front().first,y1=b.front().second;\n\t\tb.pop();\n\t\tres=-~res;\n\t\tfor(register int i=1;i<=4;i=-~i)\n\t\t{\n\t\t\tif(book[x1+step[i][1]][y1+step[i][2]])\n\t\t\t{\n\t\t\t\tbook[x1+step[i][1]][y1+step[i][2]]=0;\n\t\t\t\tb.push(std::make_pair(x1+step[i][1],y1+step[i][2]));\n\t\t\t}//step\u662f\u6269\u5c55\u65b9\u5411\uff0c\u8fd9\u91cc\u5411\u56db\u4e2a\u65b9\u5411\u6269\u5c55\u5e76\u7edf\u8ba1\u9762\u79ef\n\t\t}\n\t}\n\t\n\t\n\tif(res>ans||!(res^ans)&&f<d)\n\t{\n\t\tans=res;\n\t\tax=x;\n\t\tay=y;\n\t\td=f;\n\t}//\u6309\u9898\u76ee\u7684\u8981\u6c42\uff0c\u6c42\u51fa\u6700\u4f18\u89e3\u3002f\u662f\u524d\u9762\u6c42\u51fa\u7684\u5468\u957f\u3002\n\t\n\treturn;\n}\n\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(register int i=1;i<=n;i=-~i)\n\t\tfor(register int j=1;j<=n;j=-~j)\n\t\t{\n\t\t\tchar c;\n\t\t\tscanf(\"%c\",&c);\n\t\t\twhile(c=='\\n')\n\t\t\t\tscanf(\"%c\",&c);\n\t\t\ts[i][j]=book[i][j]=s1[i][j]=!(c^'#')?1:0;//\u8d4b\u503c\uff0c3\u4e2a\u6570\u7ec4\n\t\t}\n\t\t\n\tfor(register int i=1;i<=n;i=-~i)\n\t\tfor(register int j=1;j<=n;j=-~j)\n\t\t\tif(book[i][j])\n\t\t\t\tBreadth_First_Search(i,j);//\u8fd9\u91cc\u679a\u4e3e\u6bcf\u4e2a\u70b9\uff0c\u5bf9\u5b58\u5728\u51b0\u6fc0\u51cc\u7684\u70b9\u8fdb\u884cBFS\uff0c\u5e76\u5728BFS\u65f6\u5220\u53bb\u672c\u8054\u901a\u5757\n\tprintf(\"%d %d\",ans,d);\n\treturn 0;\n}\n```",
        "postTime": 1571571711,
        "uid": 143841,
        "name": "Star1_3st",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "# \u8fd9\u662f\u4e00\u9053\u7ecf\u5178\u7684\u641c\u7d22\u9898\n\n### \u76f4\u63a5\u770b\u4ee3\u7801\uff08\u4ee3\u7801\u91cc\u6709\u6ce8\u91ca\uff09\n```\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nconst int MAX=1000;\nstruct node\n{\n\tint s=0,c=0;//\u9762\u79ef\u4e0e\u5468\u957f\n}ans[MAX*MAX];\nint n;char a[MAX][MAX];\nvoid bfs(int i,int j,int k);\nint main()\n{\n\tcin>>n;\n\tfor(int i=0;i<n;i++)\n\t\tfor(int j=0;j<n;j++)cin>>a[i][j];\n\tint k=0;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tfor(int j=0;j<n;j++)\n\t\t{\n\t\t\tif(a[i][j]=='#')//\u5982\u679c\u662f#\u53f7\u5f00\u59cb\u641c\u7d22 \n\t\t\t{\n\t\t\t\tbfs(i,j,k);\n\t\t\t\tk++;//\u7b54\u6848\u6570\u91cf+1\uff0c\u7528\u4e8e\u627e\u6700\u5c0f\u5468\u957f \n\t\t\t}\n\t\t}\n\t}\n\tint anss=0,ansc=999999;\n\tfor(int i=0;i<k;i++)\n\t{\n\t\tif(ans[i].s>anss)//\u66f4\u65b0\u7b54\u6848 \n\t\t{\n\t\t\tanss=ans[i].s;\n\t\t\tansc=ans[i].c;\n\t\t}\n\t\telse if(ans[i].s==anss)ansc=min(ans[i].c,ansc);//\u53d6\u6700\u5c0f\u7684\u5468\u957f \n\t}\n\tcout<<anss<<\" \"<<ansc<<endl;//\u8f93\u51fa \n\treturn 0;\n}\nvoid bfs(int i,int j,int k)\n{\n\tans[k].s++;//\u9762\u79ef\u52a0\u4e00 \n\ta[i][j]='o';//\u8868\u793a\u5df2\u88ab\u8bbf\u95ee\u4e86\n\tif(i-1<0)ans[k].c++; if(j-1<0)ans[k].c++; if(i+1>=n)ans[k].c++; if(j+1>=n)ans[k].c++;//\u5982\u679c\u65c1\u8fb9\u5df2\u7ecf\u51fa\u754c\uff08\u65e0\u4e1c\u897f\uff09\uff0c\u5219\u5468\u957f\u76f4\u63a5\u52a0\u4e00 \n\tif(a[i+1][j]=='.'&&i+1<n)ans[k].c++; if(a[i-1][j]=='.'&&i-1>=0)ans[k].c++; if(a[i][j+1]=='.'&&j+1<n)ans[k].c++; if(a[i][j-1]=='.'&&j-1>=0)ans[k].c++;//\u6ca1\u6709\u51fa\u754c\uff0c\u5982\u679c\u65c1\u8fb9\u662f\".\"\uff0c\u5468\u957f\u52a0\u4e00 \n\t//\u7ee7\u7eed\u5f80\u56db\u4e2a\u65b9\u5411\u8fdb\u884c\u641c\u7d22 \n\tif(i-1>=0&&a[i-1][j]=='#')bfs(i-1,j,k);\n\tif(i+1<n&&a[i+1][j]=='#')bfs(i+1,j,k);\n\tif(j-1>=0&&a[i][j-1]=='#')bfs(i,j-1,k);\n\tif(j+1<n&&a[i][j+1]=='#')bfs(i,j+1,k);\n}\n```\n",
        "postTime": 1553332165,
        "uid": 183603,
        "name": "SUNCHAOYI",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "### \u9898\u76ee\u5927\u610f\n\u7ed9\u51fa\u4e00\u4e2a\u7531`.`\u548c`#`\u7ec4\u6210\u7684\u4e8c\u7ef4\u77e9\u9635\uff0c\u6bcf\u4e00\u4e2a\u8fde\u901a\u5757\u90fd\u6709\u4e00\u4e2a\u9762\u79ef \u548c \u5468\u957f\uff0c\u6c42\u9762\u79ef\u6700\u5927\u7684\u8fde\u901a\u5757\u7684\u9762\u79ef\u548c\u5468\u957f\uff0c\u82e5\u6709\u591a\u4e2a\u9762\u79ef\u4e00\u6837\u5927\u7684\uff0c\u8f93\u51fa\u5468\u957f\u6700\u5c0f\u7684\u90a3\u4e2a\n\n\u6839\u636e\u9898\u610f\uff0c\u6211\u4eec\u9700\u8981\u6c42\u51fa\u6bcf\u4e2a\u8fde\u901a\u5757\u7684\u9762\u79ef\u548c\u5468\u957f\uff0c\u9762\u79ef\u5c31\u4e0d\u7528\u8bf4\u4e86\uff0c\u96be\u70b9\u5728\u6c42\u5468\u957f  \n\u6211\u4eec\u4f7f\u7528bfs\uff0c\u8bbe\u5f53\u524d\u51fa\u961f\u7684\u70b9\u4e3a$x$\u3002\u5728\u70b9$x$\u5411\u56db\u5468\u5bfb\u627e\u904d\u5386\u7684\u4e0b\u4e00\u4e2a\u70b9$y$\u65f6\uff0c\u82e5$y$\u4e0d\u662f\u51b0\u6dc7\u6dcb\u683c\u6216\u8005\u5728\u5730\u56fe\u4e4b\u5916\uff0c\u8bf4\u660e\u70b9$x,y$\u4e4b\u95f4\u7684\u7f1d\u9699\u662f\u8fde\u901a\u5757\u7684\u8fb9\u7f18\uff0c\u6240\u4ee5\u5468\u957f++  \n\u82e5\u51b0\u6dc7\u6dcb\u542b\u6709\u6d1e\uff0c\u4ee5\u4e0a\u65b9\u6cd5\u4ecd\u7136\u9002\u7528\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<queue>\nusing namespace std;\nconst int Maxn=1010,inf=0x3f3f3f3f;\nconst int dx[]={1,-1,0,0},dy[]={0,0,-1,1};\nbool a[Maxn][Maxn],vis[Maxn][Maxn];\nint n,ans,tot=inf;\nstruct node{\n\tint x,y;\n\tnode(int u,int v)\n\t{\n\t\tx=u,y=v;\n\t}\n};\ninline int read()\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9'){if(ch=='-')w=-1;ch=getchar();}\n\twhile(ch>='0' && ch<='9')s=(s<<3)+(s<<1)+(ch^48),ch=getchar();\n\treturn s*w;\n}\nbool check(int x,int y)\n{\n\treturn x<1 || y<1 || x>n || y>n || a[x][y];\n}\nvoid bfs(int sx,int sy)\n{\n\tqueue <node> q;\n\tvis[sx][sy]=1;\n\tint size=0,cir=0;  // \u7ef4\u62a4\u9762\u79ef\u548c\u5468\u957f\n\tq.push(node(sx,sy));\n\twhile(q.size())\n\t{\n\t\tint x=q.front().x,y=q.front().y;\n\t\tq.pop();\n\t\tsize++;\n\t\tfor(int i=0;i<4;++i)\n\t\t{\n\t\t\tint u=x+dx[i],v=y+dy[i];\n\t\t\tif(check(u,v)){cir++;continue;}\n\t\t\tif(vis[u][v])continue;\n\t\t\tvis[u][v]=1;\n\t\t\tq.push(node(u,v));\n\t\t}\n\t}\n\tif(size>ans || (size==ans) && cir<tot)\n\tans=size,tot=cir;\n}\nint main()\n{\n//\tfreopen(\"in.txt\",\"r\",stdin);\n//\tfreopen(\"perimeter.in\",\"r\",stdin);\n//\tfreopen(\"perimeter.out\",\"w\",stdout);\n\tn=read();\n\tfor(int i=1;i<=n;++i)\n\tfor(int j=1;j<=n;++j)\n\t{\n\t\tchar ch;\n\t\tcin>>ch;\n\t\tif(ch=='.')a[i][j]=1;\n\t\telse a[i][j]=0;\n\t}\n\t\n\tfor(int i=1;i<=n;++i)\n\tfor(int j=1;j<=n;++j)\n\tif(!vis[i][j] && !a[i][j])bfs(i,j);\n\t\n\tprintf(\"%d %d\\n\",ans,tot);\n\t\n\treturn 0;\n}\n```",
        "postTime": 1577707382,
        "uid": 120362,
        "name": "Priori_Incantatem",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u5eb7\u4e86\u4e00\u773c\uff0c\u89c9\u5f97\u5c31\u662fDFS\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u9996\u5148\u9898\u76ee\u8981\u6c42\u6700\u5927\u9762\u79ef\uff0c\u5f88\u597d\u505a\u3002\u6211\u4eec\u628a\u56fe\u8bfb\u8fdb\u6765\uff0c\u7136\u540e\u5907\u4efd\u4e00\u5f20\u56fe\u3002\n\u8fd9\u5f20\u56fe\u6709\u4ec0\u4e48\u7528\u5462\uff1f\u6211\u4eec\u60f3\u554a\uff0c\u6211\u4eec\u5728\u4e00\u5f20\u56fe\u4e0a\u8fdb\u884c\u67e5\u627e\uff0c\u627e\u5230\u4e00\u4e2a'#'\u4e4b\u540e\uff0c\u5c31\u5bf9\u5b83\u8fdb\u884cDFS\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u5728DFS\u8fc7\u7a0b\u4e2d\u6c42\u51fa\u9762\u79ef\u4e86\uff0c\u5f53\u7136\u4e3a\u4e86\u907f\u514d\u4e00\u4e2a\u8054\u901a\u5757\u5185\u7684\u70b9\u88ab\u591a\u6b21DFS\uff0c\u6211\u4eec\u5bf9\u4e8e\u6bcf\u4e2a\u8054\u901a\u5757\uff0c\u5728DFS\u4e4b\u540e\u5c06\u5176\u53d8\u4e3a '.' \u5c31\u53ef\u4ee5\u4e86\u3002\u4f46\u662f\u6211\u4eec\u5728\u8fdb\u884c\u5224\u65ad\u7684\u65f6\u5019\u8981\u4e71\u641e\u4e00\u4e9b\u4e8b\uff0c\u4e3a\u4e86\u907f\u514d\u5224\u65ad\u9519\u8bef\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u5907\u4efd\u4e00\u5f20\u56fe\u3002\u800c\u4e14\u8fd9\u79cd\u505a\u6cd5\u4e0d\u9700\u8981\u7279\u6b8a\u8003\u8651\u8054\u901a\u5757\u5185\u6709\u8054\u901a\u5757\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u5341\u5206\u597d\u5199\u3002\n\n\u5176\u6b21\u5c31\u662f\u5468\u957f\u4e86\uff0c\u540c\u6837\u5f88\u7b80\u5355\uff0c\u5728DFS\u7684\u65f6\u5019\uff0c\u6211\u4eec\u6bcf\u5230\u4e00\u4e2a\u70b9\uff0c\u5c31\u5728\u539f\u56fe\u4e0a\u5411\u5176\u56db\u4e2a\u65b9\u5411\u8fdb\u884c\u641c\u7d22\uff0c\u5982\u679c\u6709 '.' \u5c31\u5468\u957f++\u5373\u53ef\u3002\n\n\u6700\u540e\u6211\u4eec\u628a\u6bcf\u4e2a\u8054\u901a\u5757\u7684\u4fe1\u606f\u50a8\u5b58\u4e00\u4e0b\uff0c\u518d\u6392\u4e00\u4e0b\u5e8f\u8f93\u51fa\u5c31\u597d\u4e86\u3002\n\n\u53e6\u5916\u5b58\u56fe\u7684\u65f6\u5019\u4e00\u5b9a\u8981\u4ece1\u5f00\u59cb\u5b58\uff0c\u8fd9\u6837\u8ba1\u7b97\u5468\u957f\u65f6\u624d\u80fd\u6b63\u786e\u7684\u5c06\u4f4d\u4e8e\u8fb9\u754c\u4e0a\u7684\u5468\u957f\u8ba1\u5165\u3002\n\n### Code\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1e3 + 7;\nint n, cnt;\nint a[N][N], s[N][N];\n//a[][]\u662f\u539f\u56fe,s[][]\u662f\u8981\u4fee\u6539\u7684\u56fe \nstruct ice_cream{//\u6bcf\u4e2a\u51b0\u6fc0\u51cc\u7684\u4fe1\u606f \n\tint s, c;\n\tbool operator < (ice_cream b) {//\u91cd\u8f7d\u8fd0\u7b97\u7b26\u6bd4\u8f83 \n\t\tif (s == b.s) return c > b.c;\n\t\treturn s < b.s;\n\t}\n}t[N * N];//\u6ce8\u610f\u6570\u7ec4\u7684\u5927\u5c0f,\u6700\u591a\u6709N * N\u4e2a\u70b9 \nint dx[] = {0, 0, 1, -1};\nint dy[] = {1, -1, 0, 0};\nbool in(int x, int y) {\n\treturn 0 <= x && x <= n + 1 && 0 <= y && y <= n + 1;\n\t//\u8fd9\u91cc\u5224\u8fb9\u754c\u7684\u65f6\u5019\u8981\u6ce8\u610f,\u7b97\u5468\u957f\u7684\u65f6\u5019\u624d\u4f1a\u6b63\u786e\u8ba1\u6570 \n}\nvoid dfs(int r, int c) {\n\ts[r][c] = 0;//\u4fee\u6539 \n\tt[cnt].s++;//\u9762\u79ef++ \n\tfor (int i = 0; i < 4; i++) {\n\t\tint nr = r + dx[i];\n\t\tint nc = c + dy[i];\n\t\tif (in(nr, nc) && !a[nr][nc]) {\n\t\t\tt[cnt].c++;//\u5982\u679c\u56db\u5468\u6709'.'\u5c31\u5468\u957f++ \n\t\t}\n\t}\n\tfor (int i = 0; i < 4; i++) {\n\t\tint nx = r + dx[i];\n\t\tint ny = c + dy[i];\n\t\tif (in(nx, ny) && s[nx][ny] == 1) {\n\t\t\tdfs(nx, ny);//\u7ee7\u7eedDFS \n\t\t}\n\t}\n}\nint main () {\n\tscanf(\"%d\", &n);\n\tchar o;\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 1; j <= n; j++) {\n\t\t\tscanf(\" %c\", &o);//\u8bfb\u5165\u975e\u7a7a\u5b57\u7b26\u8981\u7528 \u7a7a\u683c%c \n\t\t\ta[i][j] = s[i][j] = o == '#' ? 1 : 0;\n\t\t\t//\u76f4\u63a5\u8f6c\u5316\u4e3a0 1 \n\t\t}\n\t}\n\tfor (int i = 1; i <= n; i++) {\n\t\tfor (int j = 0; j <= n; j++) {\n\t\t\tif (s[i][j] == 1) {//\u53d1\u73b0\u65b0\u7684\u51b0\u6fc0\u51cc \n\t\t\t\tcnt++;\n\t\t\t\tdfs(i, j);\n\t\t\t}\n\t\t}\n\t}\n\tsort(t + 1, t + 1 + cnt);//\u6392\u5e8f \n\tprintf(\"%d %d\\n\", t[cnt].s, t[cnt].c);\n\treturn 0;\n}\n```\n\n\u5eb7\u4e86\u4e0b\u5176\u5b83\u9898\u89e3\uff0c\u8bf4\u53ef\u80fd\u4f1a\u7206\u6808\uff0c\u6211\u60f3\u53ef\u80fd\u662f\u56e0\u4e3a\u7f16\u8bd1\u5668\u7684\u9505\u5427\uff0cDEV\u9ed8\u8ba4\u7684\u6808\u8fd8\u662f\u6bd4\u8f83\u5c0f\u7684\n\n\u5927\u5bb6\u53ef\u4ee5\u6253\u5f00DEV -> \u5de5\u5177 -> \u7f16\u8bd1\u9009\u9879 -> \u5728\u7f16\u8bd1\u65f6\u52a0\u5165\u4e00\u4e0b\u547d\u4ee4\n\n\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801\n\n-Wl,--stack=67108864  (\u6ce8\u610f\u5148\u6253\u4e2a\u7a7a\u683c)\n\n\u8fd9\u662f\u5c06\u6808\u7a7a\u95f4\u6539\u4e3a64MB\u7684\u610f\u601d\n\n\u611f\u8c22\u89c2\u8d4f",
        "postTime": 1577360552,
        "uid": 155944,
        "name": "Sundial",
        "ccfLevel": 0,
        "title": "P5198 [USACO19JAN]Icy Perimeter"
    },
    {
        "content": "\t\t\u7167\u6211\u7684\u611f\u89c9\u8fd9\u9898\u8003\u5f97\u662f\u641c\u7d22\uff0c\u6211\u7528\u7684\u662fdfs\uff0cbfs\u4e5f\u80fd\u6253.\n    \n    \t\u601d\u8def\u662f\uff0c\u50cf\u8d70\u8ff7\u5bab\u4f3c\u7684\u8bb0\u9762\u79ef\uff0c\u5982\u679c\u6240\u5728\u683c\u5b50\u76f8\u90bb\u65e0\u51b0\u6fc0\u51cc\uff0c\u4e00\u4e2a\n        \u5c31\u5468\u957f++\u3002\n     \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,S,C,mx,mi=1e9;//S \u9762\u79ef\uff0cC \u5468\u957f\nbool mk[1005][1005],f[1005][1005];//mk\u6709\u65e0\u8d70\u8fc7 f 0 \u65e0\u51b0\u6fc0\u51cc 1 \u6709\nconst int dx[]= {0,1,0,-1},dy[]= {1,0,-1,0};\nvoid dfs(int x,int y) {\n\tif(!f[x][y]||mk[x][y]) return;//\u5982\u679c\u6ca1\u6709\u51b0\u6fc0\u51cc \u6216\u8d70\u8fc7return\n\tmk[x][y]=1;\n\tS++;\n\tfor(int i=0; i<4; i++) {\n\t\tif(f[x+dx[i]][y+dy[i]]) dfs(x+dx[i],y+dy[i]);\n\t\telse C++;//\u5982\u679c\u6ca1\u6709\u88ab\u5176\u5b83\u51b0\u6fc0\u51cc\u906e\u6321\n\t}\n}\nint main() {\n\tcin>>n;\n\tfor(int i=1; i<=n; i++) {\n\t\tfor(int j=1; j<=n; j++) {\n\t\t\tchar a;\n\t\t\tcin>>a;\n\t\t\tif(a=='#') f[i][j]=1;\n\t\t}\n\t}\n\tfor(int i=1; i<=n; i++)\n\t\tfor(int j=1; j<=n; j++)\n\t\t\tif(f[i][j]&&!mk[i][j]) {\n\t\t\t\tS=C=0;//\u521d\u59cb\u5316\n\t\t\t\tdfs(i,j);\n\t\t\t\tif(S>mx) mx=S,mi=C;//\u627e\u9762\u79ef\u6700\u5927\n\t\t\t\telse if(S==mx) mi=min(C,mi);//\u627e\u9762\u79ef\u6700\u5927\uff0c\u5468\u957f\u6700\u5c0f\n\t\t\t}\n\tcout<<mx<<\" \"<<mi;\n\treturn 0;\n}\n```\n",
        "postTime": 1571990210,
        "uid": 251894,
        "name": "QHhee004",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "#### \u8fd9\u9053\u9898\u5176\u5b9e\u4e0d\u96be\uff0c\u7eaf\u641c\u7d22\n\n\u8fd9\u9053\u9898\u5f88\u660e\u663e\u662fBFS\uff0c\u4f46\u662f\u53ef\u80fd\u6709\u4eba\u662f\u5229\u7528DFS\u5361\u8fc7\u3002\n\n\u867d\u7136\u53ef\u4ee5\u5361\u8fc7\uff0c\u4f46\u662f\u6211\u4eec\u9700\u8981\u5bf9BFS\u7684\u5199\u6cd5\u8fdb\u884c\u590d\u4e60\uff0c\u65b0\u5b66BFS\u7684\u849f\u84bb\u6765\u6311\u6218\u4e00\u4e0b\u81ea\u5df1\u3002\n\nDFS\u548cBFS\u6a21\u677f\u6211\u5c31\u4e0d\u5199\u4e86,\u505a\u8fd9\u9053\u9898\u7684\u4e00\u822c\u90fd\u662f\u5b66\u8fc7\u641c\u7d22\u7684\uff0c\u4f46\u662f**\u6c42\u5468\u957f\u548c\u9762\u79ef**\u6211\u8fd8\u662f\u4f1a\u7b80\u5355\u8bb2\u4e00\u4e0b\u3002\n\n#### \u6574\u4f53\u60f3\u6cd5\uff1a\n\n1\u3001\u5168\u56fe\u5bfb\u627e#\u53f7\uff0c\u4fdd\u8bc1\u4e4b\u524d\u7684\u641c\u7d22\u91cc\u6ca1\u6709\u641c\u7d22\u8fc7\u5f53\u524d\u7684\u70b9\n\n2\u3001\u627e\u5230\u70b9\u540e\uff0c\u5bf9\u8fd9\u4e2a\u70b9\u8fdb\u884cDFS\u6216BFS\n\n#### \u6c42\u9762\u79ef\n\n\u4e00\u822c\u6765\u8bf4\uff0c\u6c42\u9762\u79ef\u4e00\u822c\u662f\u5728\u641c\u7d22\u91cc\u627e\u5230\u9898\u76ee\u7279\u5b9a\u7684\u4e00\u4e9b\u7b26\u53f7\uff0c\u7136\u540e\u62ff\u4e2a\u53d8\u91cf\u7edf\u8ba1\u7f62\u4e86\n\n#### \u6c42\u5468\u957f\n\n\u901a\u8fc7\u9898\u76ee\u6837\u4f8b\uff0c\u5176\u5b9e\u6211\u4eec\u80fd\u53d1\u73b0\uff0c\u5bf9\u4e8e\u5f53\u524d\u8fd9\u4e2a\u70b9\uff0c\u53ea\u9700\u8981\u770b\u5468\u56f4\u6709\u591a\u5c11\u4e2a\u70b9\u53f7\u5c31\u597d\u4e86\uff0c\u6ce8\u610f\uff0c\u5468\u56f4\u6307\u7684\u662f\u4e0a\u3001\u4e0b\u3001\u5de6\u3001\u53f3\u3002\n\n#### \u8fd9\u662f\u6211\u7684\u7a0b\u5e8f\uff1a\n\n```cpp\n//\u9632\u4f2a\u6807\u8bc6\uff08MKM_K\u795e\uff09\n#include<iostream>\n#include<cmath>\n#include<cstdio>\n#include<string>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\n#define ll long long\nusing namespace std;\nconst int maxn=1000+10;\nconst int dx[4]={0,0,-1,+1};\nconst int dy[4]={-1,+1,0,0};//\u8fd9\u662f\u56db\u4e2a\u65b9\u5411\nint n,m,S,L;\nchar ch;\nint s[maxn][maxn];\nint map[maxn][maxn];\nint minx,miny,maxx,maxy;\nint maxS,maxL;\nstruct data\n{\n\tint x,y,t;\n}queue[maxn*maxn];\nint BFS(int x,int y)//BFS\uff0c\u4e00\u822c\u6765\u8bf4\u4f7f\u7528void\u7684\uff0c\u4f46\u662f\u8fd9\u91cc\u662f\u4e3a\u4e86\u5f97\u5230i,j\u8fd9\u4e00\u7247\u7684\u9762\u79ef\uff0c\u6240\u4ee5\u4f7f\u7528\u4e86int\u7c7b\u578b\n{\n\tint head=0,tail=1,ans=1,nx,ny,nt;\n\tqueue[0].x=x,queue[0].y=y,queue[0].t=1;\n\tmap[x][y]=1;\n\tL+=4-(s[x-1][y]+s[x+1][y]+s[x][y-1]+s[x][y+1]);//\u8d77\u59cb\u70b9\u7684\u5468\u957f\uff0c\u4e0d\u8981\u5fd8\u8bb0\u7b97\n\twhile(head!=tail)//\u5faa\u73af\u961f\u5217\n\t{\n\t\tfor(int i=0;i<4;i++)//\u56db\u79cd\u65b9\u5411\u5168\u90fd\u641c\n\t\t{\n\t\t\tnx=queue[head].x+dx[i],ny=queue[head].y+dy[i];\n\t\t\tnt=queue[head].t+1;//\u4ee5x,y\u70b9\u79fb\u52a8\u540e\u80fd\u5730\u70b9\uff0cnt\u662f\u624b\u6b8b\u5199\u7684\uff0c\u53ea\u662f\u4e00\u4e9b\u9898\u5728\u641c\u7d22\u7684\u540e\uff0c\u8981\u6c42\u6700\u77ed\u65f6\u95f4\u624d\u4f1a\u5199\n\t\t\tif(nx<1||nx>n||ny<1||ny>n||map[nx][ny]||!s[nx][ny])continue;//\u8fd9\u4e2a\u70b9\u8d8a\u754c\u4e86\uff0c\u522b\u641c\u4e86\uff0c\u4f1a\u6b7b\u5faa\u73af\u7684\u3002\n\t\t\tans++;//\u8fd9\u4e2a\u70b9\u7b26\u5408\u8981\u6c42\uff0c\u65b9\u6848\u6570\u589e\u52a0\n\t\t\tmap[nx][ny]=true;//\u6807\u8bb0\u8fd9\u4e2a\u70b9\u5df2\u52a0\u5230\u961f\u5217\uff0c\u6211\u5df2\u7ecf\u641c\u8fc7\n\t\t\tL+=4-(s[nx-1][ny]+s[nx+1][ny]+s[nx][ny-1]+s[nx][ny+1]);//\u6c42\u6b64\u70b9\u5468\u957f\n\t\t\tqueue[tail].x=nx,queue[tail].y=ny,queue[tail].t=nt;//\u76f8\u5173\u4fe1\u606f\u5b58\u5165\u961f\u5217\n\t\t\ttail++;\n\t\t\ttail%=10000000;//\u5faa\u73af\u961f\u5217\uff0c\u961f\u5217\u5c3e\u5f80\u540e\u79fb\u52a8\n\t\t}\n\t\thead++;\n\t\thead%=10000000;//\u5faa\u73af\u961f\u5217\uff0c\u5f39\u51fa\u4e00\u4e2a\u70b9\uff0c\u56e0\u4e3a\u5df2\u7ecf\u8fd9\u4e2a\u5e97\u641c\u7d22\u8fc7\u4e86\n\t}\n\treturn ans;//\u8fd4\u56de\u8fd9\u4e2a\u70b9\u7684\u7b54\u6848\n}\nint main()\n{\n    cin>>n;\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n        {\n        \tcin>>ch;\n        \tif(ch=='#')s[i][j]=1;\n        }//\u8f6c\u6570\u503c\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n        {\n        \tif(!map[i][j]&&s[i][j])//\u4fdd\u8bc1\u6211\u80fd\u641c\u7d22\uff0c\u5e76\u4e14\u6b64\u6b21\u641c\u7d22\u4e0d\u4e71\u82b1\u65f6\u95f4\uff08\u5373\u6ca1\u6709\u641c\u7d22\u8fc7\uff09\n        \t{\n        \t\tS=0,L=0;//\u521d\u59cb\u5316\n        \t\tS=BFS(i,j);//\u5f97\u5230\u7b54\u6848\n        \t\tif(S>maxS||S==maxS&&L<maxL)maxS=S,maxL=L;//\u627e\u6700\u597d\u7b54\u6848\n        \t}\n        }\n    cout<<maxS<<\" \"<<maxL;//\u8f93\u51fa\u7b54\u6848\n    return 0;\n}\n\n```\n\u82e5\u6709\u95ee\u9898\u7684\uff0c\u8bf7\u79c1\u4fe1\u6211\uff0c\u6211\u4f1a\u53ca\u65f6\u6539\u6b63\uff0c\u8c22\u8c22\u6bcf\u4e00\u4e2a\u770b\u6211\u9898\u89e3\u7684\u4eba\n\n\u5e0c\u671b\u5927\u5bb6\u5411\u6211\u4e00\u6837\uff0c\u4e00\u5199\u5c31AC\u3002",
        "postTime": 1556638554,
        "uid": 51800,
        "name": "\u5929\u5357\u5730\u5317",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u53ef\u4ee5\u4e0d\u7528\u641c\u7d22\uff0c\u8003\u8651\u5efa\u7acb\u4e00\u4e2a\u5e76\u67e5\u96c6\uff0c\u6309\u987a\u5e8f\u904d\u5386\u5e76\u7ef4\u62a4\u540c\u4e00\u8fde\u901a\u5757\u7684\u4fe1\u606f\u3002   \n\u6ce8\u610f \u5408\u5e76\u70b9 \u548c\u5408\u5e76 \u70b9\u7684\u4fe1\u606f \u7684\u987a\u5e8f\u4e4b\u7c7b\u7684\u7ec6\u8282\u3002\n```cpp\n#include<cstdio>\n#include<iostream>\n\nint dx[4]={0,-1,0,1},dy[4]={-1,0,1,0};\nint n,tot,m[1003][1003],edge[1000009],fa[1000009],area[1000009],maxarea,minedge=0x3f3f3f3f;\n\nint get(int x) {return ((x==fa[x])?x:fa[x]=get(fa[x]));}\nvoid merge(int x,int y) {fa[get(x)]=get(y);}\n\nint main() {\n\tscanf(\"%d\\n\",&n);\n\tchar ch;\n\tfor(int i=1;i<=n;i++) {\n\t\tfor(int j=1;j<=n;j++) {\n\t\t\tscanf(\"%c\",&ch);\n\t\t\tif(ch=='#')m[i][j]=++tot;\n\t\t}\n\t\tif(ch==EOF)break;\n\t\tgetchar();\n\t}\n\tfor(int i=1,n2=n*n;i<=n2;i++){fa[i]=i;area[i]=1;}\n\tfor(int x=1;x<=n;x++) {\n\t\tfor(int y=1;y<=n;y++) {\n\t\t\tif(m[x][y]==0)continue;\n\t\t\tfor(int p=0;p<2;p++) {\n\t\t\t\tif(m[x+dx[p]][y+dy[p]]==0)continue;\n\t\t\t\tif(get(m[x+dx[p]][y+dy[p]])!=get(m[x][y])) {\t\n\t\t\t\t\tarea[get(m[x][y])]+=area[get(m[x+dx[p]][y+dy[p]])];\n\t\t\t\t\tedge[get(m[x][y])]+=edge[get(m[x+dx[p]][y+dy[p]])];\n\t\t\t\t\tmerge(m[x+dx[p]][y+dy[p]],m[x][y]);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint edgex=4;\n\t\t\tfor(int p=0;p<4;p++) if(m[x+dx[p]][y+dy[p]])edgex--;\n\t\t\tedge[get(m[x][y])]+=edgex;\n\t\t\tif(maxarea<area[get(m[x][y])]) {\n\t\t\t\tmaxarea=area[get(m[x][y])];\n\t\t\t\tminedge=edge[get(m[x][y])];\n\t\t\t} else if(maxarea==area[get(m[x][y])]) {\n\t\t\t\tminedge=std::min(edge[get(m[x][y])],minedge);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d %d\\n\",maxarea,minedge);\n\treturn 0;\n}\n```",
        "postTime": 1548675305,
        "uid": 61369,
        "name": "Polarnova",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "**~~\u5c31\u8fd9\u4e48\u7b80\u5355\u4e00\u9053\u9898\uff0c\u6211\u8fd8\u786c\u8981\u7528DFS\u5361\u8fc7\u53bb~~**\n\n**~~\u6211\u88ab\u5361\u4e863\u5929~~**\n \n---\n### \u9898\u610f:\n\n\u7ed9\u5b9a\u4e00\u4e2a\u8868(\u53ef\u4ee5\u60f3\u8c61\u62100 1)\n\n\u6c42\u6700\u591a\u8fde\u901a\u76841\u7684\u4e2a\u6570\u53ca\u5468\u957f\n\n\u82e5\u6709\u591a\u4e2a\u4e2a\u6570\u76f8\u540c\u7684\u8fde\u901a\u5757\uff0c\u5219\u8f93\u51fa\u5468\u957f\u6700\u5c0f\u7684\u90a3\u4e2a\n\n---\n### DFS\u57fa\u672c\u601d\u60f3:\n\n\u5bf9\u4e8e\u6bcf\u4e2a\u70b9(\u4e5f\u53ef\u4ee5\u662f\u6bcf\u5757\u51b0\u6dc7\u6dcb) \u5411\u56db\u5468(\u4e0a\u4e0b\u5de6\u53f3)\u641c\u7d22\uff0c\u9047\u5230 $#$ \u5219\u9762\u79ef++\uff0c\u5e76\u4e14\u6807\u8bb0(\u9632\u6b62\u591a\u6b21\u8bb0\u5f55)\n\n\u9047\u5230 $.$ \u8868\u793a\u8be5\u4e2a\u51b0\u6dc7\u6dcb\u7684\u67d0\u4e00\u8fb9\u662f\u8fb9\u754c\uff0c\u5468\u957f++\n\n\u6309\u7167\u8981\u6c42\u6c42\u51fa\u9762\u79ef\u6700\u5927\u4e14\u5468\u957f\u6700\u5c0f\u7684\u51b0\u6dc7\u6dcb\u5373\u53ef\n\n\u66f4\u8be6\u7ec6\u7684\u601d\u8def\u8be6\u89c1\u4ee3\u7801\n\n---\n\n\u4e3a\u4ec0\u4e48DFS\u6211\u4f1a\u4e00\u76f4T\u6389\uff1a\n\n~~\u6211\u4e5f\u4e0d\u77e5\u9053\u4e3a\u5565\u6211\u4f1a\u5199sort\u51fd\u6570\u8fdb\u53bb~~\n\n---\n### AC Code\uff1a\n```\n// luogu-judger-enable-o2\n#include<bits/stdc++.h>\nusing namespace std;\nint n,num=0,ices,icec/*\u8bb0\u5f55\u5f53\u524d\u51b0\u6dc7\u6dcb\u7684\u6570\u636e*/,maxices=0,minicec=0/*\u8bb0\u5f55\u6240\u6709\u51b0\u6dc7\u6dcb\u4e2d\u9762\u79ef\u6700\u5927\u4e2d\u5468\u957f\u6700\u5c0f\u7684\u6570\u636e*/;\nstruct node\n{\n    int biaoji;\n    char m;\n}map1[1005][1005];\nint side(int i,int j)//\u7528\u8fd9\u4e2a\u51fd\u6570\u6765\u5224\u65ad\u8be5\u6761\u8fb9\u662f\u5426\u5c5e\u4e8e\u5468\u957f\u4e0a\u7684\u4e00\u6761\u8fb9\n{\n    if(i<1||j<1||i>n||j>n)\n        return 1;\n    if(map1[i][j].m=='.')\n        return 1;\n    return 0;\n}\nint ss(int i,int j)//DFS\n{\n    if(i<1||j<1||i>n||j>n)//\u8d85\u8fc7\u8fb9\u754c\n        return 0;\n    if(map1[i][j].m=='.')//\u4e0d\u662f\u51b0\u6dc7\u6dcb\n        return 0;\n    if(map1[i][j].biaoji!=0)//\u6539\u70b9\u5df2\u7ecf\u5904\u7406\u8fc7\n        return 0;\n    map1[i][j].biaoji=1;//\u5bf9\u5f53\u524d\u7684\u51b0\u6dc7\u6dcb\u6807\u8bb0\n    ices++;//\u9762\u79ef+1\n    ss(i+1,j,1);//DFS\u5411\u56db\u4e2a\u65b9\u5411\u641c\u7d22\n    ss(i-1,j,1);\n    ss(i,j+1,1);\n    ss(i,j-1,1);\n    icec+=side(i,j+1);\n    icec+=side(i,j-1);\n    icec+=side(i+1,j);\n    icec+=side(i-1,j);//\u5224\u65ad\u8be5\u6761\u8fb9\u662f\u5426\u5c5e\u4e8e\u51b0\u6dc7\u6dcb\u7684\u5468\u957f\n    return 0;\n}\nint main()\n{\n    ios::sync_with_stdio(false);//\u5feb\u901f\u8f93\u5165\u8f93\u51fa\n    cin>>n;\n    memset(map1,0,sizeof(map1));\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)\n            cin>>map1[i][j].m;//\u8f93\u5165\u51b0\u6dc7\u6dcb\n    for(int i=1;i<=n;i++)\n        for(int j=1;j<=n;j++)//\u5bf9\u6bcf\u4e2a\u70b9\u90fdDFS\u4e00\u904d(\u5176\u5b9e\u53ef\u4ee5\u66f4\u4f18\u5316)\n        {\n        \tices=0;\n        \ticec=0;\n            ss(i,j);\n            if(ices>maxices)//\u5982\u679c\u51b0\u6dc7\u6dcb\u9762\u79ef\u66f4\u5927\uff0c\u76f4\u63a5\u66ff\u6362\n            {\n            \tmaxices=ices;\n            \tminicec=icec;\n\t\t\t}\n\t\t\telse if(ices==maxices&&icec<minicec)//\u9762\u79ef\u4e00\u6837\u7684\u60c5\u51b5\u4e0b\u6c42\u5468\u957f\u6700\u5c0f\u7684\n            \t\tminicec=icec;\n        }\n    cout<<maxices<<' '<<minicec<<endl;\n    return 0;\n}\n```",
        "postTime": 1562756607,
        "uid": 91013,
        "name": "hgoicjl",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u4e00\u9053\u641c\u7d22\u9898\uff0c\u6211\u7528\u7684\u5e7f\u641c\u8fc7\u7684\uff0c\u601d\u8def\u5f88\u7b80\u5355\uff0cfor\u5faa\u73af\u904d\u5386\u6bcf\u4e2a\u70b9\uff0c\u5982\u679c\u662f\u2018#\u2019\u5e76\u4e14\u6ca1\u6709\u88ab\u641c\u7d22\u8fc7\uff0c\u5219\u5165\u961f\u641c\u7d22\u4e00\u904d\uff0c\u6bcf\u6b21\u80fd\u641c\u5230\u4e00\u4e2a\u8054\u901a\u7684\u2018#\u2019\u5219\u9762\u79ef\u52a01\uff0c\u5468\u957f\u5219\u518d\u7528\u4e00\u4e2afor\u5faa\u73af\u6765\u5224\u65ad\u8fb9\u754c\uff0c\u5982\u679c\u4e3a\u2018.\u2019\u5219\u5468\u957f\u52a01.\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int MAXN = 1e3 + 7;\nstruct Node{\n\tint x, y;\n\tNode(int xx = 0, int yy = 0) {\n\t\tx = xx, y = yy;\n\t}\n};\nint n;\nqueue<Node> q;\nchar Map[MAXN][MAXN];\nint vis[MAXN][MAXN];\nint dx[5] = {1, -1, 0, 0, 0};\nint dy[5] = {0, 0, 1, -1, 0};\npair<int, int> ans;\npair<int, int> bfs() {\n\tans.first = ans.second = 0;\n\twhile(!q.empty()) {\n\t\tNode now = q.front();\n\t\tq.pop();\n\t\tfor(int i = 0; i < 5; ++i) {\n\t\t\tint fx = now.x + dx[i];\n\t\t\tint fy = now.y + dy[i];\n\t\t\tif(fx >= 1 && fx <= n && fy >= 1 && fy <= n && Map[fx][fy] != '.' && !vis[fx][fy]) {\n\t\t\t\t++ans.first;\n\t\t\t\tfor(int i = 0; i < 5; ++i) {\n\t\t\t\t\tint x = fx + dx[i];\n\t\t\t\t\tint y = fy + dy[i];\n\t\t\t\t\tif(Map[x][y] == '.' || x > n || y > n || x < 1 || y < 1) {\n\t\t\t\t\t\t++ans.second;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tq.push(Node(fx, fy));\n\t\t\t\tvis[fx][fy] = 1;\n\t\t\t}\n\t\t}\n\t}\n\treturn ans;\n}\nint main() {\n\tcin >> n;\n\tfor(int i = 1; i <= n; ++i) {\n\t\tfor(int j = 1; j <= n; ++j) {\n\t\t\tcin >> Map[i][j];\n\t\t}\n\t}\n\tpair<int, int> res, tmp;\n\tres.first = 0, res.second = 0x3f3f3f3f;\n\tfor(int i = 1; i <= n; ++i) {\n\t\tfor(int j = 1; j <= n; ++j) {\n\t\t\tif(Map[i][j] == '#' && !vis[i][j]) {\n\t\t\t\twhile(!q.empty()) {\n\t\t\t\t\tq.pop();\n\t\t\t\t}\n\t\t\t\tq.push(Node(i, j));\n\t\t\t\ttmp = bfs();\n\t\t\t\tif(tmp.first >= res.first) {\n\t\t\t\t\tif(tmp.first == res.first) {\n\t\t\t\t\t\tif(tmp.second <= res.second) {\n\t\t\t\t\t\t\tres = tmp;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tres = tmp;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout << res.first << ' ' << res.second << endl;\n\treturn 0;\n}\n```",
        "postTime": 1550080236,
        "uid": 104767,
        "name": "hetangxin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "# dfs\n\n\u770b\u5927\u5bb6\u6709\u5e7f\u641c\uff0c\u6709\u5e76\u67e5\u96c6\uff0c\u6ca1\u4eba\u7528\u6df1\u641c\uff0c\u849f\u84bb\u5c31\u53ea\u80fd\u6765\u4e2a\u6df1\u641c\u4e86\u3002\n\n**\u601d\u8def\u5f88\u7b80\u5355\uff1a\u6bcf\u4e00\u6b21\u627e\u5230\u8fd8\u6ca1\u641c\u7d22\u8fc7\u7684'#'\uff08\u51b0\u6dc7\u6dcb\uff09\uff0c\u5f00\u59cb\u6df1\u641c\uff0c\u9047\u5230'.'\uff08\u7a7a\u5730\uff09\u5c31\u56de\u6eaf\u3002**\n\n**\u8ba1\u7b97\u9762\u79ef\u7684\u5b9e\u73b0\uff1a\u6bcf\u641c\u7d22\u5230\u4e00\u4e2a\u8282\u70b9\uff0c\u9762\u79ef++\u3002**\n\n**\u8ba1\u7b97\u5468\u957f\u7684\u5b9e\u73b0\uff1a\u6bcf\u641c\u5230\u4e00\u4e2a\u8282\u70b9\uff0c\u5bfb\u627e\u5b83\u7684\u4e0a\u4e0b\u5de6\u53f3\uff0c\u67d0\u4e2a\u65b9\u5411\u662f'.'\uff08\u7a7a\u5730\uff09\uff0c\u5468\u957f++\uff08\u8bc1\u660e\u8fd9\u4e2a\u65b9\u5411\u662f\u51b0\u6dc7\u6dcb\u7684\u8fb9\u754c\u4e86\uff09\u3002**\n\n\u5bf9\u4e8e\u9762\u79ef\u4e0e\u5468\u957f\u7684\u5b58\u50a8\uff0c\u6211\u662f\u7528$pair<\\text{\u9762\u79ef}\\ ,\\text{\u5468\u957f}>$\u5b9e\u73b0\u7684\u3002\n\n\u5177\u4f53\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n\n#define N 1001\n\nusing namespace std;\n\nint n;\nint fx[]={-1,0,1,0},fy[]={0,1,0,-1};\nbool vis[N][N];\nchar ch[N][N];\n\npair<int,int>ans(0,0);//\u8bb0\u5f97\u521d\u59cb\u5316\n\nbool right(int x,int y)//\u5224\u65ad\u8fb9\u754c\n{\n\treturn x>=1&&x<=n&&y>=1&&y<=n;\n}\n\npair<int,int> dfs(int x,int y)\n{\n\tvis[x][y]=true;\n\tpair<int,int>ans(1,0);\n\tfor(int i=0;i<4;i++)\n\t{\n\t\tint xi=x+fx[i];\n\t\tint yi=y+fy[i];\n\t\tif(vis[xi][yi])continue;//\u5982\u679c\u8bbf\u95ee\u8fc7\u4e86\uff08\u4e5f\u5c31\u662f\u8fd9\u4e2a\u70b9\u662f\u5b83\u7c91\u7c91\uff09\uff0c\u6211\u4eec\u5c31continue\n\t\tif(right(xi,yi)&&ch[xi][yi]=='#')\n\t\t{\n\t\t\tpair<int,int>now=dfs(xi,yi);//\u7ee7\u7eed\u6df1\u641c\n\t\t\tans.first+=now.first;\n\t\t\tans.second+=now.second;\n\t\t}\n\t\telse ans.second++;//\u5426\u5219\u5c31\u5c06\u8fb9\u957f++\n\t}\n\treturn ans;\n}\n\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%s\",ch[i]+1);\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tfor(int j=1;j<=n;j++)\n\t\t{\n\t\t\tif(!vis[i][j]&&ch[i][j]=='#')\n\t\t\t{\n\t\t\t\tpair<int,int>p=dfs(i,j);\n\t\t\t\tif(p.first>ans.first)ans=p;//\u53d6\u6700\u4f18\u89e3\n\t\t\t\telse if(p.first==ans.first)ans.second=min(p.second,ans.second);\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d %d\\n\",ans.first,ans.second);\n\treturn 0;\n}\n```",
        "postTime": 1549013104,
        "uid": 118318,
        "name": "ez_lcw",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u4e00\u4e2a\u5927\u5e7f\u641c\u3002\u8868\u793a\u5e76\u6ca1\u6709\u7528\u5e76\u67e5\u96c6\u505aqwq\uff0c\u53ef\u4ee5\u8fc7\u3002\n\n\u81f3\u4e8e\u8054\u901a\u5feb\u7684\u4e2a\u6570\uff0c\u6bd4\u8f83\u7b80\u5355\u3002\n\n\u81f3\u4e8e\u5468\u957f\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8bbe\u7f6e\u4e00\u4e2a\u53d8\u91cf\u521d\u503c\u4e3a4\uff0c\u7136\u540e\u5faa\u73af\u4e00\u904d\uff0c\u5224\u65ad\u4e00\u4e0b\u5468\u56f4\u662f\u5426\u6709\u5757\uff0c\u5982\u679c\u6709\uff0c\u90a3\u4e48\u8fd9\u6761\u8fb9\u53ea\u5bf9\u9762\u79ef\u6709\u8d21\u732e\uff1b\u53cd\u4e4b\u5219\u5bf9\u4e24\u4e2a\u90fd\u6709\u76ca\uff0c\u6700\u540e\u591a\u5173\u952e\u5b57\u6392\u5e8f\u8f93\u51fa\u5373\u53ef\u3002\n\n```\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <cctype>\n#include <algorithm>\nstatic const int MAXN=1005;\nstatic const int dirx[5]={-1,1,0,0};\nstatic const int diry[5]={0,0,-1,1};\nusing namespace std;\nstruct node\n{\n    int m,z;\n}s[MAXN*MAXN];\nstruct node1\n{\n    int x,y;\n}q[MAXN*MAXN];\nint n,cnt,head,tail;\nbool b[MAXN][MAXN],vis[MAXN][MAXN];\nchar a[MAXN][MAXN];\ninline bool cmp(node a,node b)\n{\n    if(a.m==b.m) return a.z<b.z;\n    return a.m>b.m;\n}\ninline bool check(int x,int y){return x<1||x>n||y<1||y>n?true:false;}\ninline void bfs(int x,int y)\n{\n    vis[x][y]=true;\n    cnt++;\n    head=tail=0;\n    q[head]=(node1){x,y};\n    while(head<=tail)\n    {\n        node1 now=q[head];\n        s[cnt].m++;\n        int num=4;\n        for(int i=0;i<4;i++) if(b[now.x+dirx[i]][now.y+diry[i]]) num--;\n        s[cnt].z+=num;\n        for(int i=0;i<4;i++)\n        {\n            int dx=now.x+dirx[i],dy=now.y+diry[i];\n            if(vis[dx][dy]||check(dx,dy)||!b[dx][dy]) continue;\n            vis[dx][dy]=true;\n            q[++tail]=(node1){dx,dy};\n        }\n        head++;\n    }\n}\nint main()\n{\n    freopen(\"perimeter.in\",\"r\",stdin);\n    freopen(\"perimeter.out\",\"w\",stdout);\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%s\",a[i]+1);\n        for(int j=1;j<=n;j++) if(a[i][j]=='#') b[i][j]=true;\n    }\n    for(int i=1;i<=n;i++)\n    {\n        for(int j=1;j<=n;j++)\n          if(!vis[i][j]&&b[i][j]) bfs(i,j);\n    }\n    sort(s+1,s+cnt+1,cmp);\n    printf(\"%d %d\\n\",s[1].m,s[1].z);\n    fclose(stdin);\n    fclose(stdout);\n    return 0;\n}\n```\n[\u5206\u4eab\u4e00\u6ce2\u81ea\u5df1\u7684\u535a\u5ba2qwq\uff0cUSACO 2019 January Contest, Silver](https://beyondlimits.site/1118.html)",
        "postTime": 1548554778,
        "uid": 45822,
        "name": "zylll",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P5198 \u3010[USACO19JAN]Icy Perimeter\u3011"
    },
    {
        "content": "\u4ed4\u7ec6\u8bfb\u9898\u540e\u53ef\u4ee5\u53d1\u73b0:\n\n\u663e\u7136\u53ef\u4ee5\u628a\u6bcf\u4e00\u4e2a#\u5411\u56db\u5468\u7684#\u5efa\u4e00\u6761\u8fb9,\u7136\u540e\u628a\u6bcf\u4e00\u4e2a\u5757\u7684\u9762\u79efdfs\n~~(\u6211\u4e00\u5f00\u59cb\u8fd8\u5199\u7684tarjan)~~\n\u5904\u7406\u51fa\u6765,\n\u518d\u627e\u5468\u957f.\n\n\u800c\u4e14\u627e\u5468\u957f\u4e5f\u53ea\u8981\u5168\u90e8\u904d\u5386\u4e00\u904d,\u9047\u5230\u4e00\u4e2a#,\u5c31\u770b\u5b83\u7684\u524d\u540e\u5de6\u53f3,\u6709\u4e00\u4e2a\u4e0d\u662f#\u5c31\u628a\u5b83\u6240\u5728\u7684\u5757\u5468\u957f++\u5373\u53ef.\n\nCode:\n```\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm> \nusing namespace std;\nint n,m,qwq[1000005],QAQ,tot,cnt,h[1000005],b[1000005],s,k[1000005],mx,C[1000005],an=0x7fffffff,dfn[1000005],low[1000005],v[1000005];\nchar c[1005][1005];\nstruct ll\n{\n\tint nx;\n\tint to;\n}a[8000005];\nvoid ad(int x,int y)\n{\n\ta[++cnt].nx=h[x];\n\ta[cnt].to=y;\n\th[x]=cnt;\n}\nvoid dfs(int x)\n{\n\tint i,j;\n\t++k[tot];//\u6bcf\u4e2a\u5757\u7684\u9762\u79ef\n\tb[x]=tot;//\u6bcf\u4e2a#\u6240\u5728\u7684\u5757\n\tv[x]=1;\n\tfor(i=h[x];i;i=a[i].nx)\n\t{\n\t\tj=a[i].to;\n\t\tif(v[j])\n\t\tcontinue;\n\t\tdfs(j);\n\t}\n}\nint main()\n{\n\tint i,j,x,y,z;\n\tscanf(\"%d\",&n);\n\tfor(i=1;i<=n;++i)\n\tscanf(\"%s\",c[i]+1);\n\tfor(i=1;i<=n;++i)\n\tfor(j=1;j<=n;++j)\n\tif(c[i][j]=='#')\n\t{\n\t\tqwq[(i-1)*n+j]=++QAQ;//\u7ed9\u6bcf\u4e00\u4e2a#\u7f16\u53f7\u540c\u65f6\u8bb0\u5f55\n\t\tif(c[i-1][j]=='#'&&i-1)\n\t\t{//\u6bcf\u4e00\u4e2a#\u53ea\u9700\u770b\u5b83\u5de6\u548c\u4e0a\u7684\u70b9\u5efa\u53cc\u5411\u8fb9\n\t\t\tad(qwq[(i-2)*n+j],QAQ);\n\t\t\tad(QAQ,qwq[(i-2)*n+j]);\n\t\t}\n\t\tif(c[i][j-1]=='#'&&j-1)\n\t\t{\n\t\t\tad(qwq[(i-1)*n+j-1],QAQ);\n\t\t\tad(QAQ,qwq[(i-1)*n+j-1]);\n\t\t}\n\t}\n\tfor(i=1;i<=QAQ;++i)//dfs\u627e\u6bcf\u4e00\u4e2a\u5757\u7684\u70b9\n\tif(!v[i])\n\t{\n\t\t++tot;\n\t\tdfs(i);\n\t\tmx=max(mx,k[tot]);//\u6700\u5927\u9762\u79ef\n\t}\n\tfor(i=1;i<=n;++i)\n\tfor(j=1;j<=n;++j)\n\tif(c[i][j]=='#')\n\t{\n\t\tif(c[i-1][j]!='#')//\u6c42\u5468\u957f\n\t\t++C[b[qwq[(i-1)*n+j]]];\n\t\tif(c[i+1][j]!='#')\n\t\t++C[b[qwq[(i-1)*n+j]]];\n\t\tif(c[i][j-1]!='#')\n\t\t++C[b[qwq[(i-1)*n+j]]];\n\t\tif(c[i][j+1]!='#')\n\t\t++C[b[qwq[(i-1)*n+j]]];\n\t}\n\tfor(i=1;i<=tot;++i)\n\tif(k[i]==mx)\n\tan=min(an,C[i]);\n\tprintf(\"%d %d\",mx,an);\n\treturn 0;\n}\n```\n",
        "postTime": 1568641363,
        "uid": 110857,
        "name": "\u4e9a\u7531\u4e9a\u7531",
        "ccfLevel": 0,
        "title": "P5198 [USACO19JAN]Icy Perimeter"
    }
]