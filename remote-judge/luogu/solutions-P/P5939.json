[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P5939)\n\n---\n\u8003\u8651\u8fd9\u4e2a45\u5ea6\u4e0d\u662f\u90a3\u4e48\u597d\u641e\uff0c\n\n\u90a3\u4e48\u5c06\u5750\u6807\u7cfb\u9006\u65f6\u9488\u65cb\u8f6c45\u5ea6\uff0c\u65b0\u5750\u6807 $(x',y')$ \u6ee1\u8db3\n\n$$\nx'=x \\cos \\theta +y \\sin \\theta,y'=y \\cos \\theta -x\\sin \\theta\n$$\n\n $\\frac{\\sqrt{2}}{2}$ \u4e3a\u4e86\u65b9\u4fbf\u53ef\u4ee5\u76f4\u63a5\u7ea6\u6389\uff0c\u5c31\u9898\u8bba\u9898\u5c31\u53d8\u6210\u4e86 $(x+y,y-x)$ \n\n\u7136\u540e\u6392\u5e8f\u5c31\u662f\u5c06\u6a2a\u5750\u6807\u4f5c\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\u5347\u5e8f\u6392\u5e8f\uff0c\n\n\u518d\u5c06\u7eb5\u5750\u6807\u4f5c\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u964d\u5e8f\u6392\u5e8f\uff0c\u8fd9\u6837\u5c31\u53ea\u7528\u7ba1\u7eb5\u5750\u6807\u4e86\n\n\u90a3\u95ee\u9898\u5c31\u8f6c\u6362\u6210\u6700\u5c11\u7528\u591a\u5c11\u4e2a\u4e0d\u4e0a\u5347\u5e8f\u5217\u53ef\u4ee5\u8986\u76d6\u6240\u6709\u70b9\n\n\u6839\u636eDilworth\u5b9a\u7406\u4e5f\u5c31\u662f\u6c42\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\u7684\u957f\u5ea6\n\n---\n```cpp\n#include <cstdio>\n#include <cctype>\n#include <algorithm>\n#define rr register\nusing namespace std;\nconst int N=30011;\nstruct rec{int x,y;}a[N]; int n,b[N],len;\ninline signed iut(){\n\trr int ans=0; rr char c=getchar();\n\twhile (!isdigit(c)) c=getchar();\n\twhile (isdigit(c)) ans=(ans<<3)+(ans<<1)+(c^48),c=getchar();\n\treturn ans; \n}\nbool cmp(rec a,rec b){return a.x<b.x||(a.x==b.x&&a.y>b.y);} \nsigned main(){\n\tn=iut();\n\tfor (rr int i=1;i<=n;++i){\n\t\trr int x=iut(),y=iut();\n\t\ta[i]=(rec){x+y,y-x};\n\t}\n\tsort(a+1,a+1+n,cmp);\n\tb[++len]=a[1].y;\n\tfor (rr int i=2;i<=n;++i){\n\t\tif (a[i].y>b[len]) b[++len]=a[i].y;\n\t\telse b[lower_bound(b+1,b+1+len,a[i].y)-b]=a[i].y;\n\t}\n\treturn !printf(\"%d\",len);\n}\n```",
        "postTime": 1609663991,
        "uid": 37782,
        "name": "lemondinosaur",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5939 \u3010 [POI1998]\u6298\u7ebf\u3011"
    },
    {
        "content": "\u539f\u6765\u7684\u5750\u6807\u7cfb\u5185\u7684\u4efb\u610f\u4e00\u4e2a\u70b9\u53ef\u4ee5\u5bf9\u4e0e\u5176\u8fde\u7ebf\u7684\u659c\u7387\u5728 $-1\\sim 1$ \u4e4b\u95f4\uff0c\u5982\u679c\u6211\u4eec\u628a\u8fd9\u4e2a\u5750\u6807\u7cfb\u987a\u65f6\u9488\u65cb\u8f6c $45$\u00b0\uff0c\u90a3\u4e48\u5bf9\u4e8e\u65b0\u5750\u6807\u7cfb\u5185\u7684\u4efb\u610f\u4e00\u70b9\uff0c\u5b83\u6240\u80fd\u8d21\u732e\u7684\u70b9\u5c31\u4f4d\u4e8e\u5b83\u7684\u53f3\u4e0a\u65b9\u3002\n\n\u90a3\u4e48\u5982\u4f55\u5728\u65b0\u5750\u6807\u7cfb\u5185\u6c42\u51fa\u8fd9\u4e9b\u70b9\u5462\uff1f\n\n\u65b0\u5750\u6807\u7cfb\u7684 $y$ \u8f74\u5176\u5b9e\u5c31\u662f\u539f\u5750\u6807\u7cfb\u7684\u76f4\u7ebf $y=x$\u3002\u90a3\u4e48\u5982\u679c\u4e00\u4e2a\u70b9\u7ecf\u8fc7\u539f\u5750\u6807\u7cfb\u7684 $y=x+k$\uff0c\u90a3\u4e48\u5b83\u5728\u65b0\u5750\u6807\u7cfb\u7684\u6a2a\u5750\u6807\u5c31\u662f $k$\u3002\n\n\u540c\u7406\uff0c\u65b0\u5750\u6807\u7cfb\u7684 $x$ \u8f74\u5c31\u662f\u539f\u5750\u6807\u7cfb\u7684 $y=-x$\uff0c\u82e5\u4e00\u4e2a\u70b9\u8fc7 $y=-x+k$\uff0c\u90a3\u4e48\u8fd9\u4e2a\u70b9\u5728\u65e7\u5750\u6807\u7cfb\u7684\u7eb5\u5750\u6807\u5c31\u662f $k$\u3002\n\n\u6240\u4ee5\u5bf9\u4e8e\u4e00\u4e2a\u70b9 $(x,y)$\uff0c\u5b83\u7684\u65b0\u5750\u6807\u5c31\u662f $(y-x,x+y)$\u3002\n\n\u7136\u540e\u7531\u4e8e\u53ea\u80fd\u4ece\u5de6\u5411\u53f3\u9009\uff0c\u6240\u4ee5\u5c06\u6bcf\u4e00\u4e2a\u65b0\u70b9\u6309\u6a2a\u5750\u6807\u6392\u5e8f\u3002\n\n\u90a3\u4e48\u63a5\u4e0b\u6765\u5c31\u662f\u8986\u76d6 $y$ \u7684\u95ee\u9898\u4e86\u3002\u65e2\u7136\u5df2\u7ecf\u6ee1\u8db3 $x$ \u5355\u8c03\uff0c\u6211\u4eec\u5c31\u662f\u8981\u6c42\u591a\u5c11\u4e2a\u4e0d\u964d\u5e8f\u5217\u53ef\u4ee5\u5c06\u6bcf\u4e00\u4e2a\u70b9\u7684$y$\u8986\u76d6\u6389\u3002\n\n\u8fd9\u5c31\u662f\u7ecf\u5178\u7684\u5bfc\u5f39\u62e6\u622a\u7684\u95ee\u9898\u4e86\u3002\u53ea\u4e0d\u8fc7\u662f\u5c06\u4e0d\u5347\u6539\u6210\u4e86\u4e0d\u964d\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n\\log n)$\u3002\n\n```cpp\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\nusing namespace std;\n\nconst int N=30010;\nint n,x,y,l,r,mid,ans,f[N];\n\nstruct node\n{\n\tint x,y;\n}a[N];\n\nbool cmp(node x,node y)\n{\n\tif (x.x>y.x) return 1;\n\tif (x.x<y.x) return 0;\n\treturn x.y<y.y;\n}\n\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d\",&x,&y);\n\t\ta[i].x=y-x; a[i].y=x+y;\n\t}\n\tsort(a+1,a+1+n,cmp);\n\tf[0]=2147483647;\n\tfor (int i=1;i<=n;i++)\n\t{\n\t\tif (f[ans]>a[i].y) f[++ans]=a[i].y;\n\t\telse\n\t\t{\n\t\t\tl=1; r=ans;\n\t\t\twhile (l<=r)\n\t\t\t{\n\t\t\t\tmid=(l+r)>>1;\n\t\t\t\tif (f[mid]>a[i].y) l=mid+1;\n\t\t\t\t\telse r=mid-1;\n\t\t\t}\n\t\t\tf[l]=a[i].y;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1609666106,
        "uid": 53962,
        "name": "stoorz",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5939 \u3010 [POI1998]\u6298\u7ebf\u3011"
    },
    {
        "content": "## \u5206\u6790\n\u5f88\u81ea\u7136\u80fd\u591f\u60f3\u5230\u65cb\u8f6c\u5750\u6807\u7cfb\uff0c\u7b80\u5316\u95ee\u9898\u3002\n\n\u65cb\u8f6c\u5750\u6807\u7cfb\u663e\u7136\u7b49\u4ef7\u4e8e\u5bf9\u6bcf\u4e2a\u70b9\u65cb\u8f6c\uff0c\u6839\u636e\u4e09\u89d2\u51fd\u6570\u77e5\u8bc6\uff0c\u6211\u4eec\u77e5\u9053\u4e00\u4e2a\u70b9 $(x,y)$ \u7ed5\u539f\u70b9\u9006\u65f6\u9488\u65cb\u8f6c\u89d2\u5ea6 $\\theta$ \u540e\u5750\u6807\u4e3a $(x\\cos{\\theta}-y\\sin{\\theta},x\\sin{\\theta}+y\\cos{\\theta})$\u3002\n\n\u56e0\u4e3a\u6211\u4eec\u8981\u9006\u65f6\u9488\u65cb\u8f6c $45\\degree$\uff0c\u6240\u4ee5\u65cb\u8f6c\u540e\u5750\u6807\u4e3a $(\\dfrac{\\sqrt{2}}{2}x-\\dfrac{\\sqrt{2}}{2}y,\\dfrac{\\sqrt{2}}{2}x+\\dfrac{\\sqrt{2}}{2}y)$\uff0c\u53ef\u4ee5\u7ea6\u53bb $\\dfrac{\\sqrt{2}}{2}$\uff0c\u53d8\u4e3a $(x-y,x+y)$\u3002\n\n\u6b64\u65f6\u95ee\u9898\u6761\u4ef6\u53d8\u4e3a\uff1a\n\n\u6298\u7ebf\u4e0e $x$ \u8f74\u5939\u89d2\u4e3a $[0\\degree,90\\degree]$ \u4e4b\u95f4\uff0c\u7528\u5c3d\u91cf\u5c11\u7684\u6298\u7ebf\u8986\u76d6\u6240\u6709\u7684\u70b9\u3002\n\n\u8bbe\u6bcf\u4e2a\u70b9\u65cb\u8f6c\u540e\u7684\u5750\u6807\u4e3a $(x_i,y_i)$\uff0c\u5b83\u5728\u6298\u7ebf\u4e0a\u7684\u4e0b\u4e00\u4e2a\u70b9\u53ea\u6709\u53ef\u80fd\u5728\u5b83\u7684\u53f3\u4e0a\u89d2\u3002\u4e5f\u5c31\u662f\u6309\u7167 $x$ \u6392\u5e8f\u540e\uff0c\u6bcf\u6761\u6298\u7ebf\u4e0a\u7684\u70b9\u7684 $y$ \u90fd\u662f\u5355\u8c03\u4e0d\u51cf\u7684\u3002\n\n\u8fd9\u4e0d\u5c31\u662f\u7ecf\u5178\u9898\u76ee\u5bfc\u5f39\u62e6\u622a\u5417\uff1f\n\n\u4ee5 $x$ \u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c\u4ee5 $y$ \u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\uff0c\u628a\u70b9\u6392\u4e2a\u5e8f\uff0c\u7136\u540e\u626b\u4e00\u904d\uff0c\u6bcf\u6b21\u628a\u70b9\u653e\u5728\u5b83\u80fd\u653e\u7684 $y$ \u6700\u5927\u7684\u6298\u7ebf\u4e0a\uff0c\u5982\u679c\u6ca1\u6709\u5c31\u65b0\u5f00\u4e00\u6761\u7ebf\uff0c\u7136\u540e\u5c31\u505a\u5b8c\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u663e\u7136\u662f $O(n\\log n)$\u3002\n\n\u653e\u4e2a\u4ee3\u7801\u4f5c\u4e3a\u53c2\u8003\u3002\n\n## \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\n#define N 30005\nusing namespace std;\nint n;\nstruct node {\n\tint x,y;\n\tbool operator <(node k) const {\n\t\treturn x==k.x?y<k.y:x<k.x;\n\t}\n} a[N];\nvoid init() {\n\tfor(int i=1;i<=n;++i) {\n\t\tint x,y;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\ta[i].x=x-y,a[i].y=x+y;\n\t}\n}\nint cnt,hei[N];\nint main() {\n\tscanf(\"%d\",&n);\n\tinit();\n\tsort(a+1,a+1+n);\n\thei[0]=1e9;\n\tfor(int i=1;i<=n;++i) {\n\t\tif(hei[cnt]>a[i].y) {\n\t\t\thei[++cnt]=a[i].y;\n\t\t} else {\n\t\t\tint l=1,r=cnt;\n\t\t\twhile(l<r) {\n\t\t\t\tint mid=(l+r)>>1;\n\t\t\t\tif(hei[mid]<=a[i].y) {\n\t\t\t\t\tr=mid;\n\t\t\t\t} else {\n\t\t\t\t\tl=mid+1;\n\t\t\t\t}\n\t\t\t}\n\t\t\thei[l]=a[i].y;\n\t\t}\n\t}\n\tprintf(\"%d\\n\",cnt);\n\treturn 0;\n}\n```",
        "postTime": 1660636118,
        "uid": 263112,
        "name": "Y_ATM_K",
        "ccfLevel": 7,
        "title": "P5939 [POI1998]\u6298\u7ebf"
    }
]