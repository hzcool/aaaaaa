[
    {
        "content": "[~~\u65e0\u803b\u7684\u63a8\u9500\u535a\u5ba2~~](https://www.cnblogs.com/LcyRegister/p/17007886.html)\r\n\r\n### \u9898\u76ee\u63cf\u8ff0\r\n\r\n\u7ed9\u5b9a\u4e00\u4e32\u957f\u5ea6\u4e3a $n$ \u7684\u6570\u5b57\uff0c\u6570\u5b57\u4e3a $0 \\sim 9$ \u4e4b\u95f4\u7684\u4efb\u610f\u4e00\u4e2a\uff0c\u4e0b\u6807\u4ece $1$ \u8bb0\u8d77\u3002\r\n\r\n\u7136\u540e\u8fdb\u884c $m$ \u6b21\u533a\u95f4\u67e5\u8be2\uff0c\u6bcf\u6b21\u67e5\u627e\u533a\u95f4 $[l, r]$ \u7684\u533a\u95f4\u548c\uff0c\u5e76\u5728\u67e5\u8be2\u7ed3\u675f\u540e\u5c06\u533a\u95f4\u91cc\u7684\u6bcf\u4e00\u4e2a\u6570\u90fd $ + 1$\u3002\u7279\u6b8a\u5730\uff0c\u5982\u679c $ + 1$ \u524d\u7684\u6570\u5b57\u4e3a $9$\uff0c\u90a3\u4e48 $ + 1$ \u4e4b\u540e\u5c31\u53d8\u6210\u4e86 $0$\u3002\r\n\r\n\u8f93\u51fa\u6bcf\u6b21\u67e5\u8be2\u7684\u533a\u95f4\u548c\u3002\r\n\r\n### \u9898\u76ee\u5206\u6790\r\n\r\n\u4f7f\u7528\u652f\u6301\u533a\u95f4\u52a0\u548c\u533a\u95f4\u6c42\u548c\u7684\u6570\u636e\u7ed3\u6784\u5373\u53ef\u3002\u5728\u8fd9\u91cc\u4f7f\u7528\u5206\u5757\u548c\u7ebf\u6bb5\u6811\u3002\r\n\r\n#### \u5206\u5757\r\n\r\n\u611f\u89c9\u8dd1\u7684\u98de\u5feb\u3002\u9898\u89e3\u533a\u4f3c\u4e4e\u6709\u5144\u5f1f\u5361\u4e0d\u8fc7\u53bb\u3002\r\n\r\n$9 + 1 \\to 0$ \u8fd9\u4e2a\u9650\u5236\u975e\u5e38\u7684\u96be\u641e\u3002\u7136\u800c\u6211\u4eec\u53d1\u73b0\u4e00\u5171\u53ea\u6709\u5341\u4e2a\u6570\u5b57\uff0c\u56e0\u6b64\u4e0d\u7ba1\u600e\u4e48\u66b4\u529b\u641e\u90fd\u662f\u6ca1\u95ee\u9898\u7684\uff08\u5927\u4e0d\u4e86\u4e58\u4e2a\u5927\u5e38\u6570\uff09\u3002\r\n\r\n\u5728\u6bcf\u4e2a\u5757\u5185\u7ef4\u62a4\u4ee5\u4e0b\u4fe1\u606f\uff1a\u5f53\u524d\u5757\u5185 $1 \\sim 9$ \u6bcf\u4e2a\u6570\u51fa\u73b0\u7684\u6b21\u6570\uff08$cnt_i$\uff09\uff0c\u5f53\u524d\u5757\u7684\u61d2\u6807\u8bb0\uff08$add$\uff09\u3002\u90a3\u4e48\u4e00\u4e2a\u5757\u5185\u7684\u533a\u95f4\u548c\u5c31\u662f\uff1a\r\n\r\n$$sum = \\sum_{i \\in [0, 9]} cnt_i \\times [(i + add) \\bmod 10]$$\r\n\r\n\u4ee3\u7801\u793a\u4f8b\u5982\u4e0b\uff1a\r\n\r\n```cpp\r\n#include <algorithm>\r\n#include <iostream>\r\n#include <cstring>\r\n#include <cstdio>\r\n#include <cmath>\r\n\r\nusing namespace std;\r\n\r\nusing LL = long long;\r\nusing PII = pair<int, int>;\r\nusing PLL = pair<LL, LL>;\r\n\r\nconst int N = 250010, M = (int)sqrt(N) + 20;\r\nconst int INF = 0x3f3f3f3f;\r\n\r\nint n, m, len, w[N];\r\nstruct Block {\r\n\tint l = INF, r = -INF, add;\r\n\tint cnt[10];\r\n}b[M];\r\n\r\nint get(int x) {\r\n\treturn (int)x / len;\r\n}\r\n\r\nvoid change(int k, int &x) {\r\n\tb[k].cnt[x] -- ;\r\n\tb[k].cnt[(x + 1) % 10] ++ ;\r\n\tx = (x + 1) % 10;\r\n}\r\n\r\nvoid modify(int l, int r) {\r\n\tint lc = get(l), rc = get(r);\r\n\tif (lc == rc) {\r\n\t\tfor (int i = l; i <= r; i ++ )\r\n\t\t\tchange(lc, w[i]);\r\n\t\treturn;\r\n\t}\r\n\tfor (int i = l; i <= b[lc].r; i ++ ) change(lc, w[i]);\r\n\tfor (int i = r; i >= b[rc].l; i -- ) change(rc, w[i]);\r\n\tfor (int i = lc + 1; i <= rc - 1; i ++ )\r\n\t\tb[i].add = (b[i].add + 1) % 10;\r\n}\r\n\r\nint query_block(int k) {\r\n\tint ans = 0;\r\n\tfor (int i = 0; i <= 9; i ++ )\r\n\t\tans += b[k].cnt[i] * ((i + b[k].add) % 10);\r\n\treturn ans;\r\n}\r\n\r\nint query(int l, int r) {\r\n\tint lc = get(l), rc = get(r);\r\n\tint ans = 0;\r\n\tif (lc == rc) {\r\n\t\tfor (int i = l; i <= r; i ++ )\r\n\t\t\tans += (w[i] + b[lc].add) % 10;\r\n\t\treturn ans;\r\n\t}\r\n\tfor (int i = l; i <= b[lc].r; i ++ ) ans += (w[i] + b[lc].add) % 10;\r\n\tfor (int i = r; i >= b[rc].l; i -- ) ans += (w[i] + b[rc].add) % 10;\r\n\tfor (int i = lc + 1; i <= rc - 1; i ++ )\r\n\t\tans += query_block(i);\r\n\treturn ans;\r\n}\r\n\r\nint main() {\r\n\tscanf(\"%d%d\", &n, &m); len = (int)sqrt(n);\r\n    for (int i = 1; i <= n; i ++ )\r\n        scanf(\"%1d\", &w[i]);\r\n    for (int i = 1; i <= n; i ++ ) {\r\n    \tb[get(i)].l = min(b[get(i)].l, i);\r\n    \tb[get(i)].r = max(b[get(i)].r, i);\r\n    \tb[get(i)].cnt[w[i]] ++ ;\r\n\t}\r\n\t\r\n\twhile (m -- ) {\r\n\t\tint l, r;\r\n\t\tscanf(\"%d%d\", &l, &r);\r\n\t\tprintf(\"%d\\n\", query(l, r));\r\n\t\tmodify(l, r);\r\n\t}\r\n\t\r\n\treturn 0;\r\n}\r\n```\r\n\r\n\u5355\u6b21\u8be2\u95ee\u590d\u6742\u5ea6\u4e3a $O(\\sqrt{n})$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6 $O(\\sqrt{n})$\r\n\r\n#### \u7ebf\u6bb5\u6811\r\n\r\n\u601d\u8def\u4e0e\u5206\u5757\u76f8\u540c\uff0c\u5373\u5728\u6bcf\u4e00\u4e2a\u8282\u70b9\u7ef4\u62a4\u6bcf\u4e2a\u6570\u51fa\u73b0\u7684\u6b21\u6570\u3002\u6ce8\u610f `pushup` \u548c `pushdown` \u7684\u5904\u7406\u3002\r\n\r\n\u5355\u6b21\u8be2\u95ee\u590d\u6742\u5ea6 $O(\\log n)$ \u660e\u663e\u5feb\u4e8e\u5206\u5757\u3002\u7a7a\u95f4\u590d\u6742\u5ea6 $O(n)$ \u7565\u52a3\u3002\r\n\r\n\u4ee3\u7801\u793a\u4f8b\u5982\u4e0b\uff1a\r\n\r\n```cpp\r\n#include <algorithm>\r\n#include <iostream>\r\n#include <cstring>\r\n#include <cstdio>\r\n\r\nusing namespace std;\r\n\r\nconst int N = 250010;\r\n\r\nint w[N], n, m;\r\nstruct Tree {\r\n    int l, r;\r\n    int sum, add;\r\n    int cnt[10];\r\n}tr[N << 2];\r\n#define ls u << 1\r\n#define rs u << 1 | 1\r\n\r\nvoid pushup(int u) {\r\n    tr[u].sum = tr[ls].sum + tr[rs].sum;\r\n    for (int i = 0; i <= 9; i ++ )\r\n        tr[u].cnt[i] = tr[ls].cnt[i] + tr[rs].cnt[i];\r\n}\r\n\r\nvoid push(int u, int k) { // \u8fd9\u91cc\u9700\u8981\u6ce8\u610f\r\n\ttr[u].add += k;\r\n    while (k -- ) {\r\n        for (int i = 9; i; i -- )\r\n            swap(tr[u].cnt[i], tr[u].cnt[i - 1]);\r\n    }\r\n    tr[u].sum = 0;\r\n    for (int i = 1; i <= 9; i ++ )\r\n        tr[u].sum += tr[u].cnt[i] * i;\r\n}\r\n\r\nvoid pushdown(int u) {\r\n    if (tr[u].add) {\r\n        tr[u].add %= 10;\r\n        push(ls, tr[u].add);\r\n        push(rs, tr[u].add);\r\n        tr[u].add = 0;\r\n    }\r\n}\r\n\r\nvoid build(int u, int l, int r) {\r\n    tr[u] = {l, r};\r\n    if (l == r) {\r\n        tr[u].sum = w[r];\r\n        tr[u].cnt[w[r]] ++ ;\r\n        return;\r\n    }\r\n    int mid = l + r >> 1;\r\n    build(ls, l, mid), build(rs, mid + 1, r);\r\n    pushup(u);\r\n}\r\n\r\nvoid modify(int u, int l, int r) {\r\n    if (tr[u].l >= l && tr[u].r <= r)\r\n        return (void)push(u, 1);\r\n    pushdown(u);\r\n    int mid = tr[u].l + tr[u].r >> 1;\r\n    if (l <= mid) modify(ls, l, r);\r\n    if (r > mid) modify(rs, l, r);\r\n    pushup(u);\r\n}\r\n\r\nint query(int u, int l, int r) {\r\n    if (tr[u].l >= l && tr[u].r <= r)\r\n        return tr[u].sum;\r\n    pushdown(u);\r\n    int mid = tr[u].l + tr[u].r >> 1, sum = 0;\r\n    if (l <= mid) sum += query(ls, l, r);\r\n    if (r > mid) sum += query(rs, l, r);\r\n    return sum;\r\n}\r\n\r\nint main() {\r\n    scanf(\"%d%d\", &n, &m);\r\n    for (int i = 1; i <= n; i ++ )\r\n\t    scanf(\"%1d\", &w[i]);\r\n\t\r\n    build(1, 1, n);\r\n    \r\n    while (m -- ) {\r\n        int l, r;\r\n        scanf(\"%d%d\", &l, &r);\r\n        printf(\"%d\\n\", query(1, l, r));\r\n        modify(1, l, r);\r\n    }\r\n    return 0;\r\n}\r\n```",
        "postTime": 1672118405,
        "uid": 519384,
        "name": "Link_Cut_Y",
        "ccfLevel": 0,
        "title": "P6357 \u9898\u89e3"
    },
    {
        "content": "\u8fd9\u9898\u5c31\u662f\u4e00\u4e2a\u88f8\u7684 **\u533a\u95f4\u4fee\u6539 + \u67e5\u8be2** \uff0c\u6240\u4ee5\u5f88\u5bb9\u6613\u60f3\u5230\u7528\u6570\u636e\u7ed3\u6784\u53bb\u7ef4\u62a4\u5b83\u3002\u672c\u6765\u6211\u5199\u7684\u662f\u5206\u5757\uff0c\u6570\u636e\u8303\u56f4\u662f $10 ^ 5$ \uff0c\u6309\u7406\u8bf4\u4e0d\u4f1a\u70b8\uff0c\u4f46\u662f\u83ab\u540d\u5176\u5999 T \u4e86\uff0c\u53ea\u597d\u6539\u7801\u7ebf\u6bb5\u6811\uff0c\u8fc7\u4e86\u6b64\u9898\u3002\n\n\u5176\u5b9e\u4e0e\u677f\u5b50\u552f\u4e00\u7684\u4e0d\u540c\u5c31\u662f pushup \u548c pushdown \u51fd\u6570\uff0c\u5177\u4f53\u770b\u7a0b\u5e8f\u5b9e\u73b0\u5c31\u884c\u4e86 ~~\u8fd8\u662f\u633a\u6c34\u7684~~ \u3002\n\n```cpp\n#include <bits/stdc++.h>\n#define ls (p << 1)\n#define rs (p << 1 | 1)\nusing namespace std;\n\nint n, m;\nint a[250005];\nint cnt[1000005][10];\nint sum[1000005], tag[1000005];\n\nvoid push_up(int p){//\u5927\u5bb6\u91cd\u70b9\u770b\u8fd9\u91cc\n\tsum[p] = sum[ls] + sum[rs];\n\tfor (int i = 0; i < 10; i++)\n\t\tcnt[p][i] = cnt[ls][i] + cnt[rs][i];\n}\n\nvoid build(int l, int r, int p){\n\tif(l == r){\n\t\tsum[p] = a[l];\n\t\tcnt[p][a[l]]++;\n\t\treturn;\n\t}\n\tint mid = (l + r) >> 1; \n\tbuild(l, mid, ls), build(mid + 1, r, rs);\n\tpush_up(p);\n}\n\nvoid updnode(int p, int k){//\u8fd9\u91cc\n\tfor (int j = 1; j <= k; j++){\n\t\tint k = cnt[p][9];\n\t\tfor (int i = 9; i > 0; i--)\n\t\t\tcnt[p][i] = cnt[p][i - 1], sum[p] += cnt[p][i];\n\t\tcnt[p][0] = k, sum[p] -= 9 * k;\n\t}\n}\n\nvoid push_down(int p){//\u4ee5\u53ca\u8fd9\u91cc\n\tif (!tag[p])\n\t\treturn ;\n\ttag[p] %= 10;\n\tupdnode(ls, tag[p]), updnode(rs, tag[p]);\n\ttag[ls] += tag[p], tag[rs] += tag[p];\n\ttag[p] = 0;\n}\n\nint query(int l, int r, int p, int x, int y){\n\tif (x <= l && r <= y) \n\t\treturn sum[p];\n\tpush_down(p);\n\tint mid = (l + r) >> 1, ans = 0;\n\tif (x <= mid)\n\t\tans += query(l, mid, ls, x, y);\n\tif (mid < y)\n\t\tans += query(mid + 1, r, rs, x, y);\n\treturn ans;\n}\n\nvoid change(int l, int r, int p, int x, int y){\n\tif (x <= l && r <= y){\n\t\ttag[p] = (tag[p] + 1) % 10;\n\t\tupdnode(p, 1);\n\t\treturn ;\n\t}\n\tpush_down(p);\n\tint mid = (l + r) >> 1;\n\tif (x <= mid)\n\t\tchange(l, mid, ls, x, y);\n\tif (mid < y)\n\t\tchange(mid + 1, r, rs, x, y);\n\tpush_up(p);\n}\n\nint main(){\n\tcin >> n >> m;\n\tfor (int i = 1; i <= n; i++)\n\t\tscanf(\"%1d\", &a[i]);\n\tbuild(1, n, 1);\n\tfor (int i = 1; i <= m; i++){\n\t\tint l, r;\n\t\tscanf(\"%d %d\", &l, &r);\n\t\tprintf(\"%d\\n\", query(1, n, 1, l, r));\n\t\tchange(1, n, 1, l, r);\n\t}\n\treturn 0;\n}\n```\n\u518d\u9644\u4e0a\u6211\u7684\u5206\u5757\u4ee3\u7801\uff0c\u6709\u5927\u4f6c\u77e5\u9053\u4e3a\u4ec0\u4e48 T \u7684\u8bf7\u79c1\u4fe1\u6211\uff0c\u611f\u6fc0\u4e0d\u5c3d\uff01\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nint n, m;\nint a[250005];\nint t;\nint bl[250005];\nint l[1000] = {0}, r[1000] = {0};\nint sum[1000] = {0}, cnt[1000][10] = {0};\n\nvoid build_block(){\n\tt = sqrt(n);\n\tfor (int i = 1; i <= t; i++)\n\t\tl[i] = r[i - 1] + 1, r[i] = r[i - 1] + t;\n\tif (r[t] < n)\n\t\tl[++t] = r[t - 1] + 1, r[t] = n;\n\tfor (int i = 1; i <= t; i++)\n\t\tfor (int j = l[i]; j <= r[i]; j++)\n\t\t\tcnt[i][a[j]]++, sum[i] += a[j];\n}\n\nint qrydir(int x, int y){\n\tint ans = 0;\n\tfor (int i = x; i <= y; i++)\n\t\tans += a[i];\n\treturn ans;\t\n}\n\nint qry(int x, int y){\n\tint lz = bl[x], rz = bl[y];\n\tif (lz == rz)\n\t\treturn qrydir(x, y);\n\tint ans = qrydir(x, r[lz]) + qrydir(l[rz], y);\n\tfor (int i = lz + 1; i <= rz - 1; i++)\n\t\tans += sum[i];\n\treturn ans;\n}\n\nvoid adddir(int x, int y){\n\tint z = bl[x];\n\tfor (int i = x; i <= y; i++){\n\t\tcnt[z][a[i]]--;\n\t\ta[i] = (a[i] + 1) % 10;\n\t\tcnt[z][a[i]]++;\n\t\tif (a[i] == 0)\n\t\t\tsum[z] -= 9;\n\t\telse\n\t\t\tsum[z]++;\n\t}\n}\n\nvoid addran(int z){\n\tint k = cnt[z][9];\n\tfor (int i = 9; i > 0; i--)\n\t\tcnt[z][i] = cnt[z][i - 1], sum[z] += cnt[z][i];\n\tcnt[z][0] = k, sum[z] -= 9 * k;\n}\n\nvoid add(int x, int y){\n\tint lz = bl[x], rz = bl[y];\n\tif (lz == rz){\n\t\tadddir(x, y);\n\t\treturn ;\n\t}\n\tadddir(x, r[lz]), adddir(l[rz], y);\n\tfor (int i = lz + 1; i <= rz - 1; i++)\n\t\taddran(i);\n}\n\nsigned main(){\n\tcin >> n >> m;\n\tfor (int i = 1; i <= n; i++)\n\t\tscanf(\"%1d\", &a[i]);\n\tbuild_block();\n\tfor (int i = 1; i <= m; i++){\n\t\tint L, R;\n\t\tscanf(\"%d %d\", &L, &R);\n\t\tprintf(\"%d\\n\", qry(L, R));\n\t\tadd(L, R);\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1646035418,
        "uid": 483037,
        "name": "Galex",
        "ccfLevel": 6,
        "title": "P6357-\u9898\u89e3"
    },
    {
        "content": "## \u9898\u610f\n\u7ed9\u4f60\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217\uff0c\u8981\u6c42\u67e5\u8be2\u4e00\u4e2a\u533a\u95f4\u7684\u548c\u5728 $(\\mod 10)$ \u7684\u610f\u4e49\u4e0b\uff0c\u4e5f\u5c31\u662f\n$$\nans = \\sum_{L\\le i \\le R} (val[i]\\mod 10) \n$$\n\u518d\u5bf9\u8be5\u5e8f\u5217\u8fdb\u884c\u533a\u95f4 $+1$ \u3002\n\n[QWQ](https://www.luogu.com.cn/blog/xzc/solution-p6357)\n## \u5206\u6790\n- \u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5982\u679c\u76f4\u63a5\u7ef4\u62a4\u6bcf\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u503c\uff0c\u90a3\u4e48\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u4e2a $RMQ$ \u95ee\u9898\uff0c\u4f46\u662f $\\mod 10$ \u662f\u4e0d\u6ee1\u8db3\u7ed3\u5408\u4e0e\u4ea4\u6362\u7387\u7684\u3002\u90a3\u4e48\u662f\u6ca1\u6cd5\u76f4\u63a5\u7ef4\u62a4 $val[i]$ \u7684\u3002\n\n- \u53ef\u4ee5\u53d1\u73b0\u5176\u5b9e $val$ \u53ef\u4ee5\u53d6\u7684\u503c\u662f\u975e\u5e38\u5c0f\u7684\u3002\u90a3\u4e48\u8003\u8651\u7ef4\u62a4\u6bcf\u79cd $val$ \u6709\u591a\u5c11\u4e2a\u3002\u90a3\u4e48\u7b54\u6848\u4e3a\n$$\nans = \\sum_{1\\le i\\le 9} (sum[i] \\times i)\n$$\n- \u90a3\u4e48\u53ea\u8981\u6ce8\u610f\u4e00\u4e0b\u7ec6\u8282\u5c31\u884c\u4e86\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint read()\n{\n\tint x = 0,f = 0;char ch=getchar();\n\twhile(!isdigit(ch)){if(ch=='-')f=1;ch=getchar();}\n\twhile(isdigit(ch)){x=x*10+ch-'0';ch=getchar();}\n\treturn f?-x:x;\n}\nconst int inf = 100000000;\nconst int N = 2100010;\nstruct Tree{\n\tint c[12];\n\tint lazy;\n}t[N];\nint a[N];\nvoid updown(int x)\n{\n\tif(t[x].lazy)\n\t{\n\t\tint old[12];\n\t\tfor(int i = 0;i <= 9;i++) old[i] = t[x<<1].c[i];\n\t\tfor(int i = 0;i <= 9;i++) t[x<<1].c[i] = old[(i-t[x].lazy+inf)%10];\n\t\tfor(int i = 0;i <= 9;i++) old[i] = t[x<<1|1].c[i];\n\t\tfor(int i = 0;i <= 9;i++) t[x<<1|1].c[i] = old[(i-t[x].lazy+inf)%10];//\u6709\u53ef\u80fd\u4e3a\u8d1f\u6570\u3002\u5212\u91cd\u70b9 \n\t\tt[x<<1|1].lazy += t[x].lazy;\n\t\tt[x<<1].lazy += t[x].lazy;\n\t\tt[x].lazy = 0;\n\t}\n}\nint query(int x,int L,int R,int l,int r,int i)\n{\n\tif(l <= L && R <= r) return t[x].c[i];\n\tif(L > r || R < l) return 0;\n\tupdown(x);\n\tint mid = L+R>>1;\n\treturn query(x<<1|1,mid+1,R,l,r,i)+query(x<<1,L,mid,l,r,i);\n}\nvoid add(int x,int L,int R,int l,int r,int d)\n{\n\tif(l <= L && R <= r) \n\t{\n\t\tt[x].lazy += d;\n\t\tint old[12];\n\t\tfor(int i = 0;i <= 9;i++) old[i] = t[x].c[i];\n\t\tfor(int i = 0;i <= 9;i++) t[x].c[i] = old[(i-d+inf)%10];\n\t\treturn;\n\t}\n\tif(L > r || R < l) return;\n\tupdown(x);\n\tint mid = L+R>>1;\n\tadd(x<<1|1,mid+1,R,l,r,d);\n\tadd(x<<1,L,mid,l,r,d);\n\tfor(int i = 0;i <= 9;i++)\n\tt[x].c[i] = t[x<<1].c[i]+t[x<<1|1].c[i];\n}\nvoid build1(int x,int L,int R)\n{\n\tif(L==R) {\n\t\tt[x].c[a[L]]++;\n\t\treturn;\n\t}\n\tint mid = L+R>>1; \n\tbuild1(x<<1,L,mid);build1(x<<1|1,mid+1,R);\n\tfor(int i = 0;i <= 9;i++)\n\tt[x].c[i] = t[x<<1].c[i]+t[x<<1|1].c[i];\n}\nchar ch[N];\nint main()\n{\n\tint n = read(),m = read();\n\tscanf(\"%s\",ch+1);\n\tfor(int i = 1;i <= n;i++)\n\t{\n\t\ta[i] = ch[i]-'0';\n\t}\n\tbuild1(1,1,n);\n\twhile(m--)\n\t{\n\t\tint l=read(),r=read();\n\t\tint ans = 0;\n\t\tfor(int i = 1;i <= 9;i++)\n\t\tans = ans+(query(1,1,n,l,r,i)*i);\n\t\tprintf(\"%d\\n\",ans);\n\t\tadd(1,1,n,l,r,1);\n\t}\n\treturn 0;\n}\n```\n\n\n\n",
        "postTime": 1593912838,
        "uid": 227824,
        "name": "JK_LOVER",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6357 \u3010[COCI2007-2008#3] REDOKS\u3011"
    }
]