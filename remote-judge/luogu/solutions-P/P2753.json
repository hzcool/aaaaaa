[
    {
        "content": "\u9898\u89e3 by redbag\n\n\u8fd9\u9053\u9898\u867d\u7136\u6ca1\u6709\u6570\u636e\uff0c\u4f46\u662f\u8fd8\u662f\u53ef\u4ee5\u5728usaco\u4e0a\u505a\u7684\u3002\n\n4w\u770b\u8d77\u6765\u5f88\u53ef\u6015\uff0c\u4f46\u662f\u6709\u5f88\u591a\u7684\u60c5\u51b5\u90fd\u53ef\u4ee5\u4e0d\u8981\n\n1.\u67d0\u5b57\u6bcd\u51fa\u73b0\u6b21\u6570>\u8bfb\u5165\u7684\u4e32\u4e2d \u8be5\u5b57\u6bcd\u7684 \u51fa\u73b0\u6b21\u6570\n\n2.\u51fa\u73b0\u4e86 \u5728 \u8bfb\u5165\u7684\u4e32\u4e2d \u672a\u51fa\u73b0\u7684\u5b57\u6bcd\n\n\u800c\u4e14usaco\u5f88\u826f\u5fc3\uff0c\u5e76\u6ca1\u6709\u51fa\u73b04w\u4e2a\u6570\u90fd\u6ee1\u8db3\u6761\u4ef6\u7684\u60c5\u51b5\n\n\u7136\u540e\u5c31\u662f\u6109\u5feb\u7684\u679a\u4e3e+\u66b4\u529b\u4e86\n\n```cpp\n/*\nID: ylx14271\nPROG: lgame\nLANG: C++     \n*/\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\n#include<string>\n#include<algorithm>\nusing namespace std;\nconst int v[28]={2,5,4,4,1,6,5,5,1,7,6,3,5,2,3,5,7,2,1,2,4,6,6,7,5,7};\nint in[28];//\u7edf\u8ba1\u51fa\u73b0\u6b21\u6570 \nint in1[28];\nint in2[28];\n\nchar word[40003][10];//\u5b58\u6bcf\u4e2a\u5355\u8bcd,\u4e0b\u6807\u4ece1\u5f00\u59cb \nint lw[40003],n;\nint va[40003];//\u5b58\u6bcf\u4e2a\u5355\u8bcd\u7684\u4ef7\u503c \n\nchar s[10];\nint ls,i,j;\nint ans[40003][2],num,ans1;//ans\uff1a\u4e0b\u68070\u5f00\u59cb  \nvoid qm(int x,int y)\n{\n    if (va[x]+va[y]<ans1) return;\n    if (va[x]+va[y]>ans1)//\u4ef7\u503c\u66f4\u5927 \n    {\n        ans1=va[x]+va[y];//\u66f4\u65b0 \n        num=0;\n    }\n    num++;//\u76f8\u5f53\u4e8e\u4ef7\u503c\u548cmax\u76f8\u7b49\uff0c\u6240\u4ee5\u7edf\u8ba1 \n    ans[num][0]=x;\n    ans[num][1]=y; \n}\n\nint main()\n{\n    freopen(\"lgame.in\",\"r\",stdin);\n    scanf(\"%s\",s);\n    ls=strlen(s);\n    for (i=0;i<ls;i++)\n    {\n        in[s[i]-'a']++;//\u7edf\u8ba1\u51fa\u73b0\u6b21\u6570 \n    }\n    freopen(\"lgame.dict\",\"r\",stdin);\n    freopen(\"lgame.out\",\"w\",stdout);\n    while (scanf(\"%s\",s)!=EOF)\n    {\n        if (s[0]=='.') break;\n        memcpy(in1,in,sizeof(in));\n        int ll=strlen(s);\n        int flag=0;\n        for (i=0;i<ll;i++)//\u770b\u8fd9\u4e2a\u4e32\u8981\u4e0d\u8981\u5b58  \n        {\n            in1[s[i]-'a']--;\n            if (in1[s[i]-'a']<0)\n            {\n                flag=1;\n                break;\n            }\n        }\n        if (flag==0)\n        {\n            n++;\n            strcpy(word[n],s); \n            lw[n]=strlen(word[n]);\n            for (i=0;i<lw[n];i++)\n            {\n                va[n]+=v[s[i]-'a'];//\u7b97\u4ed6\u7684\u4ef7\u503c \n            }\n        }\n    }//\u5bf9\u8bfb\u5165\u7684\u5904\u7406\n    for (i=1;i<=n;i++)\n    {\n        qm(i,0);\n        memcpy(in1,in,sizeof(in));\n        for (j=0;j<lw[i];j++)\n        {\n            in1[word[i][j]-'a']--;\n        }\n        for (j=i;j<=n;j++)//j\u4ecei\u5f00\u59cb\u53bb\u91cd\n        {\n            int flag=0;\n            memcpy(in2,in1,sizeof(in2));\n            for (int k=0;k<lw[j];k++)//\u770bi\u548cj\u4e24\u4e2a\u4e32\u62fc\u4e00\u8d77\u7b26\u4e0d\u7b26\u5408\u6761\u4ef6 \n            {\n                in2[word[j][k]-'a']--;\n                if (in2[word[j][k]-'a']<0)\n                {\n                    flag=1;//\u6807\u8bb0 \n                    break;\n                }\n            }\n            if (flag==0)\n            {\n                qm(i,j);\n            }\n        }\n    }\n    printf(\"%d\\n\",ans1);\n    for (i=1;i<=num;i++)//\u8f93\u51fa \n    {\n        printf(\"%s\",word[ans[i][0]]);\n        if (ans[i][1]!=0) printf(\" %s\",word[ans[i][1]]);\n        printf(\"\\n\");\n    }\n    return 0;\n}\n```",
        "postTime": 1499181824,
        "uid": 2674,
        "name": "\u300cQQ\u7ea2\u5305\u300d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2753 \u3010[USACO4.3]\u5b57\u6bcd\u6e38\u620fLetter Game\u3011"
    },
    {
        "content": "\u8fd9\u4e00\u9053\u9898\u4e5f\u6ca1\u6709\u4ec0\u4e48\u7b97\u6cd5\u4e86\uff0c\u5c31\u662f\u7eaf\u9760\u601d\u7ef4\u6765\u505a\u7684\n\n\u5728\u8f93\u5165\u7684\u5b57\u6bcd\u4e4b\u4e2d\uff0c\u6709\u5f88\u591a\u4e2a\u90fd\u662f\u4e0d\u884c\u7684\uff08\u6216\u8d85\u51fa\u8303\u56f4\u7684\uff09\uff0c\n\n\u6240\u4ee5\u6211\u4eec\u53ea\u7528\u8bb0\u5f55\u53ef\u4ee5\u7528\u7684\u5355\u8bcd\n\n\u627e\u5b8c\u53ef\u4ee5\u7528\u7684\u5355\u8bcd\uff0c\u5c31\u7528\u4e24\u91cdfor\u5faa\u73af\u627e\u51fa\u6700\u5927\u503c\u5e76\u4e14\u76f4\u63a5\n\n\u8bb0\u5f55\uff0c\u6700\u540e\u8f93\u51fa\u5c31\u53ef\u4ee5\u4e86\uff0c\u628a\u5c0f\u5199\u5b57\u6bcda,b,c,d\u53d8\u62101,2,3,4 \u5c31\u662f\n\nss[]-'a'+1\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node\n{\n\tint x,y;//\u8bb0\u5f55\u6700\u5927\u503c\uff0cx\u8bb0\u5f55\u88ab\u9009\u5355\u8bcd\u7684\u5e8f\u53f7\uff0c\u5982\u679cy\u662f0\uff0c\u5c31\u53ea\u6709x\u4e00\u4e2a \n}result[5100];int len,maxx=0;\nstruct node1\n{\n\tchar s[11];\n\tint len,score;//\u8bb0\u5f55\u5355\u8bcd \n}st[5100];int n;\nchar ss[31];\nconst int s[27]={0,2,5,4,4,1,6,5,5,1,7,6,3,5,2,3,5,7,2,1,2,4,6,6,7,5,7};//\u5206\u503c \nint flag[31];//flag\u8bb0\u5f55\u6bcf\u4e2a\u5b57\u6bcd\u6700\u591a\u53ef\u4ee5\u51fa\u73b0\u591a\u5c11\u6b21 \nbool pd()//\u5224\u65ad\u8fd9\u4e00\u4e2a\u662f\u5426\u53ef\u4ee5 \n{\n\tint i,k[31];memset(k,0,sizeof(k));\n\tfor(i=1;i<=strlen(ss+1);i++)\n\t{\n\t\tk[ss[i]-'a'+1]++;\n\t\tif(k[ss[i]-'a'+1]>flag[ss[i]-'a'+1]) return false;//\u5982\u679c\u8d85\u51fa\u8303\u56f4\uff0c\u5c31\u80af\u5b9a\u4e0d\u53ef\u4ee5\u4e86 \n\t}\n\treturn true;\n}\nbool check(int x,int y)//\u5224\u65ad\u4e24\u4e2a\u52a0\u8d77\u6765\u662f\u5426\u8d85\u51fa\u8303\u56f4 \n{\n\tint i,k[31];memset(k,0,sizeof(k));\n\tfor(i=1;i<=st[x].len;i++)\n\t{\n\t\tk[st[x].s[i]-'a'+1]++;\n\t\tif(k[st[x].s[i]-'a'+1]>flag[st[x].s[i]-'a'+1]) return false;\n\t}\n\tfor(i=1;i<=st[y].len;i++)\n\t{\n\t\tk[st[y].s[i]-'a'+1]++;\n\t\tif(k[st[y].s[i]-'a'+1]>flag[st[y].s[i]-'a'+1]) return false;\n\t}\n\treturn true;\n}\nint main()\n{\n\tint i,j;\n\tscanf(\"%s\",ss+1);\n\tfor(i=1;i<=strlen(ss+1);i++) flag[ss[i]-'a'+1]++;//\u8bb0\u5f55 \n\twhile(scanf(\"%s\",ss+1)!=EOF)\n\t{\n\t\tif(ss[1]=='.') break;//\u5982\u679c\u8f93\u5165\u5230\u53e5\u53f7\uff0c\u5c31\u63a8\u51fa \n\t\tif(pd()==true)//\u5982\u679c\u8fd9\u4e2a\u5355\u8bcd\u6ca1\u6709\u8d85\u51fa\u8303\u56f4 \n\t\t{\n\t\t\tn++;\n\t\t\tst[n].len=strlen(ss+1);\n\t\t\tfor(i=1;i<=st[n].len;i++)//\u628a\u8fd9\u4e2a\u5355\u8bcd\u8bb0\u5f55\u4e0b\u6765 \n\t\t\t{\n\t\t\t\tst[n].s[i]=ss[i];\n\t\t\t\tst[n].score=st[n].score+s[ss[i]-'a'+1];//\u5206\u503c \n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tif(st[i].score>maxx)//\u5148\u627e\u5355\u72ec\u4e00\u4e2a\u5355\u8bcd\uff0c\u5982\u679c\u8d85\u8fc7\u5206\u503c \n\t\t{\n\t\t\tlen=1;//\u91cd\u7f6e\u5e76\u4e14\u8bb0\u5f55 \n\t\t\tresult[1].x=i;\n\t\t\tmaxx=st[i].score;\n\t\t}\n\t\telse if(st[i].score==maxx)//\u5982\u679c\u7b49\u4e8e\u6700\u5927\u503c \n\t\t{\n\t\t\tlen++;//\u589e\u52a0\u4e00\u4e2a \n\t\t\tresult[len].x=i;\n\t\t}\n\t\tfor(j=i;j<=n;j++)//\u627e\u540e\u9762\u7684\uff08\u5305\u62ec\u81ea\u5df1\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5355\u8bcd\u53ef\u4ee5\u7528\u4e24\u6b21\uff09 \n\t\t{\n\t\t\tif(check(i,j)==true)//\u5982\u679c\u53ef\u4ee5 \n\t\t\t{\n\t\t\t\tif(st[i].score+st[j].score>maxx)//\u66f4\u65b0\u6700\u5927\u503c \n\t\t\t\t{\n\t\t\t\t\tlen=1;result[1].x=i;result[1].y=j;\n\t\t\t\t\tmaxx=st[i].score+st[j].score;\n\t\t\t\t}\n\t\t\t\telse if(st[i].score+st[j].score==maxx)\n\t\t\t\t{\n\t\t\t\t\tlen++;result[len].x=i;result[len].y=j;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",maxx);//\u76f4\u63a5\u8f93\u51fa\uff0c\u56e0\u4e3a\u5df2\u7ecf\u6309\u7167\u5b57\u5178\u5e8f\u6392\u597d\u4e86\uff0c\u6ca1\u6709\u5fc5\u8981\u518d\u6392\u4e00\u6b21 \n\tfor(i=1;i<=len;i++)//\u8f93\u51fa \n\t{\n\t\tfor(j=1;j<=st[result[i].x].len;j++) printf(\"%c\",st[result[i].x].s[j]);\n\t\tif(result[i].y>0)\n\t\t{\n\t\t\tprintf(\" \");\n\t\t\tfor(j=1;j<=st[result[i].y].len;j++) printf(\"%c\",st[result[i].y].s[j]);\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1526692851,
        "uid": 66181,
        "name": "Celebrate",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2753 \u3010[USACO4.3]\u5b57\u6bcd\u6e38\u620fLetter Game\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4e3b\u8981\u5c31\u662f\u4fe1\u606f\u70b9\u592a\u591a\uff0c\u5bfc\u81f4\u8fde\u81ea\u5df1\u90fd\u5bb9\u6613\u641e\u6df7\u3002\n\n\u522b\u770b\u5b83\u7ed9\u7684\u5b57\u5178\u5f88\u5927\uff0c\u5230\u4e8640,000\u884c\uff0c\u4f46\u662f\u5176\u5b9e\u771f\u6b63\u80fd\u7528\u7684\u5f88\u5c11\uff08\u8fd9\u91cc\u4e0b\u9762\u7684\u5927\u4f6c\u90fd\u8be6\u7ec6\u89e3\u8bf4\u4e86\uff0c\u6211\u5c31\u4e0d\u8d58\u8ff0\u4e86\uff09~~\u7136\u540e\u5c31\u62ff\u4e00\u4e2a\u6570\u7ec4\u8bb0\u5f55\u4e00\u4e0b...~~\u4e0d\u5bf9\uff0c\u662f\u62ff\u4e00\u5806\u6570\u7ec4\u8bb0\u5f55\u4e00\u4e0b\u3002\u5177\u4f53\u7684\u6211\u5728\u4ee3\u7801\u91cc\u6709\u8bb2\u5230\u3002\n\n\u5176\u5b9e\u662f\u6709\u5f88\u5927\u7684\u5751\u70b9\u7684\u3002\u6bd4\u5982\u6211\u539f\u672c\u4ee5\u4e3a\u627e\u4e32\u662f\u8981\u627e\u5168\u90e8\u90fd\u5339\u914d\u7684\u5355\u8bcd\u6216\u8bcd\u7ec4\uff08\u4e5f\u5c31\u662f\u628a\u76ee\u6807\u5355\u8bcd\u7684\u6bcf\u4e00\u4e2a\u5b57\u6bcd\u90fd\u7528\u4e0a\uff09\uff0c\u4f46\u662f\u5176\u5b9e\u4e0d\u662f\u7684\uff0c\u53ea\u8981\u627e\u5230\u6700\u5927\u7684\u5c31\u884c\u4e86\u3002\u6240\u4ee5\u4e0d\u7528\u5f04\u5f88\u9ebb\u70e6\u7684\u5224\u65ad\u4e5f\u80fd\u627e\u5230\u89e3\u3002\n\n\u7136\u540e\u63a5\u4e0b\u6765\u5c31\u662f\u66b4\u529b\u5566\uff08~~\u5176\u5b9e\u5c31\u662f\u61d2~~\uff09\u54b3\u54b3\uff0c\u597d\u7684\uff0c\u8d34\u4e0a\u4ee3\u7801\uff1a\n```cpp\n/*\nID:zhangji78\nLANG:C++\nTASK:lgame\n*/\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nstruct node\n{\n\tint x,y;//ans\u5b58\u7b54\u6848\uff0c\u6709\u7684\u662f\u8bcd\uff0c\u6709\u7684\u662f\u8bcd\u7ec4\uff0c\u6240\u4ee5\u5b9a\u4e86\u7ed3\u6784\u4f53\uff08\u4e24\u4e2a\u53d8\u91cf\uff09\n}ans[2100];\nstruct node1\n{\n\tint sss,other[20],le;\n\tnode1()\n\t{\n\t//sss\u8868\u793a\u5b83\u662f\u8bcd\u8fd8\u662f\u8bcd\u7ec4\n\t//le\u8868\u793a\u548c\u5b83\u5339\u914d\u7684\u6709\u591a\u5c11\u4e2a\u5b57\u7b26\u4e32\n\t//other\u5b58\u7684\u662f\u548c\u5b83\u5339\u914d\u7684\u6240\u6709\u5b57\u7b26\u4e32\n\t\tsss=-1;le=0;//sss=-1(\u8fd8\u6ca1\u8bbf\u95ee\u5230)\uff0csss=1(\u672c\u8eab)\uff0csss=0(\u7ec4\u5408)\n\t\tmemset(other,0,sizeof(other));\n\t}\n}kk[2100];//kk\u7528\u6765\u6807\u8bb0\u7b2c\u4e00\u8f6e\u7b26\u5408\u8981\u6c42\u7684\u4e32\u513f\n//\u6ce8\u610f\uff1a\u548c\u67d0\u4e2a\u5355\u8bcd\u5339\u914d\u7684\u53ef\u80fd\u4e0d\u6b62\u4e00\u4e2a\u5355\u8bcd\nint maxx,lens[2100];\nint aa[27]={0,2,5,4,4,1,6,5,5,1,7,6,3,5,2,3,5,7,2,1,2,4,6,6,7,5,7};\n//\u5f3a\u52bf\u6253\u8868\uff08\u624b\u52a8\u6ed1\u7a3d\uff09\nint f[2100][27],len,n,a[2100];\nchar c[10],st[10],ss[2100][10];\nbool pd(int lena)//\u4e00\u4e2a\u5c0f\u5224\u65ad\u3002s\u7528\u6765\u8bb0\u5f55\u5f53\u524dst\u6570\u7ec4\u4e2d\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u4e2a\u6570\n{\n\tint s[27];memset(s,0,sizeof(s));\n\tfor(int i=1;i<=lena;i++)\n\t{\n\t\ts[st[i]-'a'+1]++;\n\t\tif(s[st[i]-'a'+1]>f[0][st[i]-'a'+1])return false;\n\t}//\u5c06s\u6570\u7ec4\u548cf[0]\u6bd4\u8f83\n    //\u56e0\u4e3af[0]\u5b58\u7684\u662f\u76ee\u6807\u4e32\u513f\u4e2d\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u4e2a\u6570\uff08\u4e0b\u9762\u6709\u8bb2\u5230\uff09\n\treturn true;\n}\nbool pp(int x,int y)\n{\n\tfor(int i=1;i<=26;i++)\n\t{//\u53e6\u4e00\u4e2a\u5c0f\u5224\u65ad\u3002\u56e0\u4e3a\u5373\u4f7f\u4e0d\u8981\u6c42\u4f4d\u6570\uff0c\u4f46\u662f\u8fd8\u662f\u8981\u6709\u4e2a\u9650\u5236\u7684\n\t\tif(f[x][i]+f[y][i]>f[0][i])return false;\n\t}\n\treturn true;\n}\nint main()\n{\n\t//freopen(\"lgame.in\",\"r\",stdin);\n\t//freopen(\"lgame.out\",\"w\",stdout);\n\tscanf(\"%s\",c+1);len=strlen(c+1);//c\u662f\u76ee\u6807\u4e32\u513f\n\tfor(int i=1;i<=len;i++)f[0][c[i]-'a'+1]++;\n    //f[0]\u5b58\u76ee\u6807\u4e32\u513f\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u4e2a\u6570\n\t//freopen(\"lgame.dict\",\"r\",stdin);\n\twhile(scanf(\"%s\",st+1)!=EOF)\n\t{\n\t\tif(st[1]=='.')break;\n\t\tint lena=strlen(st+1);\n\t\tif(pd(lena)==true)//\u53ea\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u624d\u80fd\u50a8\u5b58\uff0c\u5927\u526a\u679d\uff08\u624b\u52a8\u6ed1\u7a3d\uff09\n\t\t{\n\t\t\tn++;lens[n]=lena;\n\t\t\tfor(int i=1;i<=lena;i++)\n\t\t\t{\n\t\t\t\tf[n][st[i]-'a'+1]++;\n\t\t\t\tss[n][i]=st[i];\n\t\t\t\ta[n]+=aa[st[i]-'a'+1];\n\t\t\t}\n            //lens[i]\u8868\u793a\u7b2ci\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5355\u8bcd\u7684\u957f\u5ea6\n            //f[i]\u8868\u793a\u7b2ci\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5355\u8bcd\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u4e2a\u6570\n            //ss[i](char\u578b\uff0c\u6211\u4e0d\u592a\u4e60\u60ef\u7528string)\u5b58\u7b2ci\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5355\u8bcd\n            //a[i]\u8868\u793a\u7b2ci\u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u5355\u8bcd\u7684\u5f97\u5206\n\t\t}\n\t}\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tmaxx=max(maxx,a[i]);kk[i].sss=1;//\u5982\u679c\u5149\u662f\u672c\u8eab\u5c31\u5df2\u7ecf\u5f88\u5927\u4e86\n\t\tfor(int j=i;j<=n;j++)\n\t\t{\n\t\t\tif(lens[i]+lens[j]<=len)//\u957f\u5ea6\u4e0d\u80fd\u8d85\u8fc7len\n\t\t\t{//\u53bb\u627e\u4e00\u8f6e\u7b26\u5408\u6761\u4ef6\u7684\u5339\u914d\u4e32\uff08\u5f53\u7136\u80fd\u5339\u914d\u4e0a\u5c31\u66f4\u597d\u5566\uff09\n\t\t\t\tif(pp(i,j)==true)\n\t\t\t\t{\n\t\t\t\t\tif(a[i]+a[j]>=maxx)\n\t\t\t\t\t{//\u8fd9\u91cc\u4e00\u5b9a\u662f>=maxx\uff0c\u4e5f\u662f\u4e00\u4e2a\u5751\u3002\u56e0\u4e3a=maxx\u7684\u4e5f\u8981\u8f93\u51fa\n\t\t\t\t\t\tmaxx=a[i]+a[j];\n\t\t\t\t\t\tkk[i].sss=0;kk[j].sss=0;\n\t\t\t\t\t\tkk[i].other[++kk[i].le]=j;\n                        //\u6ce8\u610f\u8fd9\u91cc\uff0c\u53ea\u7528\u628akk\u6807\u8bb0\u5c31\u884c\u4e86\n                        //\u4e0d\u7528\u6807\u8bb0kk[i].other\uff0c\u56e0\u4e3a\u540c\u4e00\u4e2a\u4e32\u53ea\u627e\u4e00\u6b21\u5c31\u884c\u4e86\n                        //\u5982\u679c\u628akk[i].other\u4e5f\u6807\u8bb0\u4e86\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u540c\u4e00\u8bcd\u7ec4\u8f93\u51fa\u4e24\u6b21\u7684\u5c34\u5c2c\u60c5\u51b5\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tint lena=0;\n\tfor(int i=1;i<=n;i++)\n\t{//ans\u53bb\u5bfb\u627e\u5e76\u8bb0\u5f55\uff08\u8fd9\u91cc\u5f88\u5bb9\u6613\u7406\u89e3\uff0c\u5c31\u4e0d\u591a\u8d58\u8ff0\u4e86\uff09\n\t\tif(kk[i].sss==1)\n\t\t{\n\t\t\tif(a[i]==maxx)ans[++lena].x=i;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor(int j=1;j<=kk[i].le;j++)\n\t\t\t{\n\t\t\t\tif(a[i]+a[kk[i].other[j]]==maxx)\n\t\t\t\t{\n\t\t\t\t\tans[++lena].x=i;\n\t\t\t\t\tans[lena].y=kk[i].other[j];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\\n\",maxx);\n\tfor(int i=1;i<=lena;i++)\n\t{//\u8f93\u51fa\n\t\tfor(int j=1;j<=lens[ans[i].x];j++)printf(\"%c\",ss[ans[i].x][j]);\n\t\tif(ans[i].y>0)\n\t\t{\n\t\t\tprintf(\" \");\n\t\t\tfor(int j=1;j<=lens[ans[i].y];j++)printf(\"%c\",ss[ans[i].y][j]);\n\t\t}\n\t\tprintf(\"\\n\");\n\t}\n    //\u6709\u4e00\u4e2a\u5c0f\u95ee\u9898\uff1a\u5176\u4ed6dalao\u90fd\u662f\u8981\u6392\u5e8f\u7684\uff0c\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u4ee3\u7801\u6ca1\u6392\u5462\uff1f\n    //emmm...\u56e0\u4e3a\u8fd9\u662f\u5c0f\u849f\u84bb\u7684\u4ee3\u7801\u554a...\n    //\u597d\u5427\u5176\u5b9e\u662f\u56e0\u4e3a\u8f93\u5165\u7684\u65f6\u5019\u5c31\u662f\u6309\u5b57\u5178\u5e8f\u8f93\u5165\u7684\n    //for\u7684\u65f6\u5019\u4e5f\u662f\u6309\u7167\u5b57\u5178\u5e8f\u4ece\u5c0f\u5230\u5927for\u7684\n    //\u5728\u6bcf\u6b21\u8bb0\u5f55\u7684\u65f6\u5019\uff0c\u90fd\u5df2\u7ecf\u662f\u9ed8\u8ba4\u6309\u7167\u5b57\u5178\u5e8f\u4fdd\u5b58\u4e86\uff0c\u4e0d\u4f1a\u51fa\u73b0\u4e71\u5e8f\n    //\u6240\u4ee5\u5c31\u4e0d\u9700\u8981\u6309\u7167\u5b57\u5178\u5e8f\u6392\u5e8f\u5566~\n    //\u8c22\u8c22\u4f60\u8fd9\u4e48\u5389\u5bb3\u8fd8\u8fc7\u6765\u770b\u4e00\u4e2a\u5c0f\u849f\u84bb\u7b80\u964b\u53c8\u66b4\u529b\u7684\u9898\u89e3\uff08\u624b\u52a8\u6ed1\u7a3d\uff09\n\treturn 0;\n}\n```",
        "postTime": 1524647780,
        "uid": 44157,
        "name": "zhangjianweivv",
        "ccfLevel": 0,
        "title": "[USACO4.3]Letter Game\u3010\u5b57\u6bcd\u6e38\u620f\u3011"
    },
    {
        "content": "##\u6b64\u9898\u975e\u5e38\u7684\u826f\u5fc3\uff0c\u901a\u8fc7\u5206\u6790\u6211\u4eec\u53d1\u73b0\uff1a\n\n1\u3001\u6bcf\u4e2a\u5355\u8bcd\u7684\u957f\u5ea6\u662f3~7\uff0c\u90a3\u4e48\u5c31\u7b97\u662f\u5355\u8bcd\u5bf9\u4e5f\u53ea\u80fd\u6709\u4e24\u4e2a\n\n2\u3001\u4e0d\u662f\u6240\u6709\u7684\u8bcd\u5178\u4e2d\u7684\u5355\u8bcd\u90fd\u6ee1\u8db3\u8981\u6c42\n\n\u4e8e\u662f\u6211\u4eec\u5148\u628a\u6240\u6709\u8bcd\u5178\u4e2d\u7684\u5408\u6cd5\u5355\u8bcd\u52a0\u5165\u5019\u9009\u5217\u8868\uff0c\u518d\u4e24\u4e24\u679a\u4e3e\u5355\u8bcd\u51d1\u6210\u5408\u6cd5\u7684\u8bcd\u5bf9\u5e76\u52a0\u5165\uff0c\u7ecf\u6392\u5e8f\uff0c\u9009\u51fa\u6240\u6709\u7684\u6ee1\u8db3\u6700\u5927\u503c\u7684\u5355\u8bcd\u53ca\u5355\u8bcd\u5bf9\n\n\n\n\n\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring> \n#include <algorithm>\n#include <map>\n#include <set>\nusing namespace std;\nstruct point\n{\n    string w;\n    int val;\n}word[40010];\nstring S,dic[40010];\nint chart[]={0,2,5,4,4,1,6,5,5,1,7,6,3,5,2,3,5,7,2,1,2,4,6,6,7,5,7};\nmap<string,int> list;\nset<string> pp;\nint cnt=0,nword,maxx,nalp[40010][30];\nbool judge1(string);\nbool judge2(int,int);\nint cal(string);\nbool cmp(const point &a,const point &b)\n{\n    if(a.val!=b.val)\n        return a.val>b.val;\n    else\n        return a.w<b.w;\n}\nint main()\n{\n    memset(nalp,0,sizeof(nalp));\n    cin>>S;\n    for(int i=0;i<S.size();i++)\n        nalp[0][S[i]-'a'+1]++;\n    while(1)\n    {\n        string s;\n        cin>>s;\n        if(s==\".\")\n            break;\n        if(judge1(s))//\u5224\u65ad\u662f\u5426\u591f\u51d1\n        {\n            dic[cnt]=s;\n            word[cnt].w=s;\n            word[cnt].val=cal(s);//\u8ba1\u7b97\u5355\u8bcd\u7684\u4ef7\u503c \n        }\n    }\n    nword=cnt;\n    for(int i=1;i<=cnt;i++)\n        for(int j=1;j<=cnt;j++)\n        {\n            string s1,s2;\n            s1=dic[i];\n            s2=dic[j];\n            if(judge2(i,j))\n            {\n                string ss;\n                if(s1<s2)\n                    ss=s1+\" \"+s2;\n                else\n                    ss=s2+\" \"+s1;\n                if(pp.count(ss)==0)\n                {\n                    pp.insert(ss);\n                    word[++nword].w=ss;\n                    word[nword].val=list[s1]+list[s2];                        \n                }\n            } \n        } \n    sort(word+1,word+1+nword,cmp);\n    maxx=word[1].val;\n    cout<<maxx<<endl;\n    int i=1;\n    while(word[i].val==maxx)\n    {\n        cout<<word[i].w<<endl;\n        i++;\n    }\n    return 0;    \n} \nbool judge1(string tt)\n{\n    int len=tt.size();\n    int nn[30]={0};\n    for(int i=0;i<len;i++)\n    {\n        nn[tt[i]-'a'+1]++;\n        if(nn[tt[i]-'a'+1]>nalp[0][tt[i]-'a'+1])    \n            return 0; \n    }\n    cnt++;\n    for(int i=1;i<=26;i++)\n        nalp[cnt][i]=nn[i];\n    return 1;\n}\nbool judge2(int t1,int t2)\n{\n    for(int i=1;i<=26;i++)\n        if(nalp[t1][i]+nalp[t2][i]>nalp[0][i])\n            return 0;\n    return 1;\n}\nint cal(string tmp)\n{\n    int len=tmp.size();\n    int sum=0;\n    for(int i=0;i<len;i++)\n        if(tmp[i]>='a' && tmp[i]<='z')\n            sum+=chart[tmp[i]-'a'+1];\n    list[tmp]=sum;\n    return list[tmp];\n}\n\n```",
        "postTime": 1501175583,
        "uid": 36294,
        "name": "feng_chengjie",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2753 \u3010[USACO4.3]\u5b57\u6bcd\u6e38\u620fLetter Game\u3011"
    },
    {
        "content": "//\u6ce8\u610f\u4e00\u4e0b\uff0c\u8fd9\u91cc\u6240\u9009\u7684\u6700\u5927\u5206\u503c\u4e0d\u4e00\u5b9a\u8981\u548c\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u5b8c\u5168\u5339\u914d\uff0c\u53ea\u9700\u5728\u5b57\u5178\u4e2d\u627e\u5230\u5355\u4e2a\u6216\u7ec4\u5408\u7684\u6700\u5927\u503c\u5373\u53ef\u3002\n\n\n//\u4e0b\u9762\u6211\u4eec\u6765\u8003\u8651\u7b97\u6cd5\u3002\u5bf9\u4e8e\u5355\u4e2a\u7684\u5b57\u7b26\u4e32\u5728\u8bfb\u5165\u65f6\u53ef\u4ee5\u76f4\u63a5\u5224\u65ad\u3002\u56e0\u4e3a\u6240\u6709\u5b57\u7b26\u4e32\u957f\u5ea6\u90fd\u662f3--7\u4e4b\u5185\u7684\uff0c\u6211\u4eec\u5f88\u5feb\u5c31\u4f1a\u53d1\u73b0\u2014\u2014\u5982\u679c\u7ec4\u5408\u7684\u8bdd\uff0c\u6700\u591a\u624d2\u4e2a\u3002\u7136\u800c40000^2\u7684\u6548\u7387\u4ecd\u7136\u4e0d\u53ef\u89c2\u3002\u4ed4\u7ec6\u770b\u7ffb\u8bd1\u4e2d\u5bf9\u8f93\u5165\u5b57\u7b26\u4e32\u7684\u63cf\u8ff0\u201c\u8fd9\u5c31\u662f\u6536\u96c6\u5230\u5b57\u6bcd(\u5c31\u662f\u53ef\u4ee5\u4f7f\u7528\u7684\u5b57\u6bcd)\u201d\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u628a\u5b57\u5178\u4e2d\u7684\u5b57\u7b26\u4e32\u5148\u8fdb\u884c\u4e00\u6b21\u5224\u65ad\u3002\u8bbe\u7ed9\u5b9a\u5b57\u7b26\u4e32\u4e3aS\uff0c\u5b57\u5178\u4e2d\u67d0\u5b57\u7b26\u4e32\u662fP\uff0c\u5982\u679cP\u4e2d\u542b\u6709S\u91cc\u4e0d\u542b\u6709\u7684\u5b57\u6bcd\uff0c\u5c31\u53ef\u4ee5\u76f4\u63a5\u8e22\u6389\u3002\u8fd9\u6837\u6548\u7387\u5c31\u975e\u5e38\u53ef\u89c2\u4e86\u3002\u6211\u4eec\u5728\u627e\u6700\u5927\u5206\u503c\u7684\u540c\u65f6\uff0c\u4e5f\u53ef\u4ee5\u987a\u5e26\u5730\u8bb0\u5f55\u7b54\u6848\u3002\n\n\nconst rank:array['a'..'z'] of longint=(2,5,4,4,1,6,5,5,1,7,6,3,5,2,3,5,7,2,1,2,4,6,6,7,5,7);\n\n\n```cpp\nvar\n  temp,map:array['a'..'z'] of longint;\n  ans:array[1..5001] of string;\n  cnt,max,i,len,j,l,n:longint;\n  p:array[1..40001] of string;\n  t,s:string;\nfunction check(o:string):longint;\nvar\n  i:longint;\nbegin\n  check:=0;l:=length(o);\n  for i:=1 to l do\n    begin\n      if (temp[o[i]]+1>map[o[i]]) then exit(0);\n      temp[o[i]]:=temp[o[i]]+1;\n      check:=check+rank[o[i]];\n    end;\nend;\nprocedure find_max;\nvar\n  t,j,i:longint;\nbegin\n  for i:=1 to n do\n    for j:=i to n do\n      begin\n        if length(p[i])+length(p[j])>len then continue;\n        fillchar(temp,sizeof(temp),0);\n        t:=check(p[i]+p[j]);\n        if t>max then begin max:=t;cnt:=0;end;\n        if t=max then begin cnt:=cnt+1;ans[cnt]:=p[i]+' '+p[j];end;\n      end;\nend;\nprocedure scanf;\nvar\n  t:longint;ss:string;\nbegin\n  readln(ss);\n  while ss<>'.' do\n    begin\n      fillchar(temp,sizeof(temp),0);\n      t:=check(ss);\n      if t>0 then\n        begin\n          inc(n);\n          p[n]:=ss;\n          if (t>max) then begin max:=t;cnt:=0;end;\n          if (t=max) then begin cnt:=cnt+1;ans[cnt]:=ss;end;\n        end;\n      readln(ss);\n    end;\nend;\nbegin\n  readln(s);\n  close(input);\n  len:=length(s);\n  for i:=1 to len do\n    inc(map[s[i]]);\n  assign(input,'lgame.dict');\n  reset(input);\n  max:=0;\n  scanf;find_max;\n  writeln(max);\n  for i:=1 to cnt-1 do\n    for j:=i+1 to cnt do\n      if (ans[i]>ans[j]) then begin t:=ans[i];ans[i]:=ans[j];ans[j]:=t;end;\n  for i:=1 to cnt do\n    writeln(ans[i]);\nend.\n```",
        "postTime": 1498617722,
        "uid": 15374,
        "name": "\u59da\u6587\u6d9b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2753 \u3010[USACO4.3]\u5b57\u6bcd\u6e38\u620fLetter Game\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u8981\u4ed4\u7ec6\u8bfb\uff0c\u7406\u89e3\u9898\u610f\u3002\u8d77\u521d\u6211\u7406\u89e3\u5f97\u4e0d\u5bf9\uff0c\u4ee5\u4e3a\u662f\u8f93\u51fa\u7684\u6bcf\u4e2a\u7ed3\u679c\u90fd\u5fc5\u987b\u662f\u8f93\u5165\u7684\u4e00\u4e2a\u6392\u5217\uff0c\u4e0d\u80fd\u591a\u4e5f\u4e0d\u80fd\u5c11\u3002\u8fd9\u79cd\u7406\u89e3\u4e0d\u6b63\u786e\u3002\u6c57\uff0c\u6211\u4e00\u76f4\u4ee5\u4e3a\u6837\u4f8b\u5c45\u7136\u662f\u9519\u7684\uff0c\u5176\u5b9e\u4f7f\u7528\u7684\u5b57\u5178\u4e0d\u4e00\u6837\u3002\n\n\n\u8fd9\u9053\u9898\u6b63\u786e\u7684\u7406\u89e3\u5e94\u8be5\u662f\uff0c\u5728\u7ed3\u679c\u7684\u5355\u8bcd\u6216\u8bcd\u7ec4\u6784\u6240\u6210\u7684\u5b57\u6bcd\u4e2d\uff0c\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u9891\u6570\u4e0d\u5927\u4e8e\u8f93\u5165\u7684\u5b57\u7b26\u4e32\u4e2d\u6bcf\u4e2a\u5b57\u6bcd\u7684\u9891\u6570\u3002\u4e5f\u5c31\u662f\u4f8b\u5982\u8f93\u5165\u662f aaa\uff0c\u5b57\u5178\u4e2d\u6709\u5355\u8bcd a,aa,aaa,aaaa\uff0c\u5176\u4e2da,aa,aaa\u90fd\u662f\u7b26\u5408\u6761\u4ef6\u7684\u89e3\uff0c\u4f46\u53ea\u6709aaa\u624d\u662f\u8981\u8f93\u51fa\u7684\u6700\u4f18\u89e3\u3002\n\n\n\u7406\u89e3\u9898\u610f\u4ee5\u540e\u7f16\u7a0b\u4e0d\u96be\uff0c\u76f4\u63a5\u679a\u4e3e\u6bcf\u79cd\u53ef\u884c\u89e3\uff0c\u5355\u8bcd\u53ef\u4ee5\u5728O(n)\u5185\u89e3\u51b3\uff0c\u8bcd\u7ec4\u8981O(N^2)\u3002\u4f46\u662f\u5bf9\u4e8e40000\u4e2a\u5355\u8bcd\u4f46\u662f\u592a\u591a\u4e86\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u5927\u591a\u6570\u5355\u8bcd\u90fd\u662f\u7528\u4e0d\u5230\u7684\uff0c\u800c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u8bfb\u5165\u5b57\u5178\u7684\u65f6\u5019\u76f4\u63a5\u53bb\u9664\u975e\u53ef\u884c\u89e3\u7684\u5355\u8bcd\uff0c\u5373\u8be5\u5355\u8bcd\u6709\u8f93\u5165\u5b57\u4e32\u4e2d\u672a\u51fa\u73b0\u7684\u5b57\u6bcd\uff0c\u6216\u8005\u5728\u8be5\u5355\u8bcd\u4e2d\u7684\u5b57\u6bcd\u4e2d\uff0c\u6709\u9891\u6570\u5927\u4e8e\u8f93\u5165\u5b57\u4e32\u6240\u542b\u8be5\u5b57\u6bcd\u9891\u6570\u7684\uff08\u4f8b\uff1a\u8f93\u5165\u5b57\u4e32\u4e3aaabb\uff0c\u8be5\u5355\u8bcd\u4e3aaaa\uff0c\u5176\u4e2da\u7684\u9891\u6570\u5927\u4e8e\u8f93\u5165\u5b57\u4e32\uff0c\u5fc5\u5b9a\u65e0\u6cd5\u6709\u8f93\u5165\u5b57\u4e32\u6784\u6210\uff09\u3002\n\n\n\u8fd9\u6837\u4f18\u5316\u53ef\u4ee5\u53bb\u6389\u7edd\u5927\u90e8\u5206\u7684\u5197\u4f59\uff0c\u4f7f\u5f97\u7a0b\u5e8f\u80fd\u591f\u5728\u5f88\u5feb\u7684\u65f6\u95f4\u5185\u7b97\u51fa\u7ed3\u679c\u3002\n\n\n\u6240\u540e\u522b\u5fd8\u4e86\u5bf9\u7ed3\u679c\u6392\u5e8f\uff0c\u53ef\u4ee5\u628a\u5355\u8bcd\u5f53\u4f5c\u4e00\u4e2a\u7b2c\u4e8c\u4e2a\u5355\u8bcd\u4e3a\u7a7a\u4e32\u7684\u8bcd\u7ec4\uff0c\u6309\u5b57\u5178\u987a\u5e8f\u6392\u5e8f\u5373\u53ef\u3002\n\n/\\*\nID: chenzhu3\n\nPROG: lgame\n\nLANG: C++\n\n\\*/\n\n\n\n\n\n\n\n\n\n\n\n\n```cpp\n#include <iostream>\n#include <fstream>\nusing namespace std;\nifstream fi(\"lgame.in\");\nifstream fd(\"lgame.dict\");\nofstream fo(\"lgame.out\");\ntypedef struct\n{\n    char c[7];\n    int len;\n    int score;\n}str;\ntypedef struct\n{\n    char c1[7],c2[7];\n    int len1,len2;\n}Tans;\nint uw['z'+1],used['z'+1];\nint v['z'+1];\nstr S[40001];\nTans ans[50];\nint N=1,L,acnt;\nint Ms=0;\nvoid init()\n{\n    int i;\n    char c;\n    bool k;\n    while (!fi.eof())\n    {\n        c=fi.get();\n        uw[c]++;\n    }\n    while (c!='.')\n    {\n        memset(used,0,sizeof(used));\n        L++;\n        c=fd.get();\n        if (c=='.')\n            break;\n        k=true;\n        while (c==10 || c==13)    c=fd.get();\n        S[N].len=0;\n        while (c!=10 && c!=13)\n        {\n            S[N].c[ S[N].len++ ]=c;\n            used[c]++;\n            if (!uw[c])\n                k=false;\n            c=fd.get();\n        }\n        S[N].c[ S[N].len ]=0;\n        for (i='a';i<='z';i++)\n            if (used[i]>uw[i])\n            {\n                k=false;\n                break;\n            }\n        if (k)\n            N++;\n    }\n    N--;\n    v['q']=v['j']=v['z']=v['x']=7;\n    v['w']=v['f']=v['k']=v['v']=6;\n    v['y']=v['p']=v['g']=v['h']=v['b']=v['m']=5;\n    v['u']=v['d']=v['c']=4;\n    v['o']=v['l']=3;\n    v['r']=v['t']=v['a']=v['n']=2;\n    v['e']=v['i']=v['s']=1;\n}\nvoid findans()\n{\n    int i,k,p;\n    for (i=1;i<=N;i++)\n    {\n        for (k=0;k<=S[i].len-1;k++)\n            S[i].score+=v[ S[i].c[k] ];\n        if (S[i].score>Ms)\n        {\n            Ms=S[i].score;\n            acnt=1;\n            for (p=0;p<=S[i].len-1;p++)\n                ans[acnt].c1[p]=S[i].c[p];\n            ans[acnt].len1=S[i].len;\n            ans[acnt].c1[ ans[acnt].len1 ]=0;\n        }\n        else if (S[i].score==Ms)\n        {\n            acnt++;\n            for (p=0;p<=S[i].len-1;p++)\n                ans[acnt].c1[p]=S[i].c[p];\n            ans[acnt].len1=S[i].len;\n            ans[acnt].c1[ ans[acnt].len1 ]=0;\n        }\n    }\n}\nvoid findpair()\n{\n    memset(used,0,sizeof(used));\n    int i,j,p;\n    bool K;\n    int T;\n    for (i=1;i<=N-1;i++)\n    {\n        for (j=i+1;j<=N;j++)\n        {\n            T=S[i].score+S[j].score;\n            for (p=0;p<=S[i].len-1;p++)\n                used[S[i].c[p]]++;\n            for (p=0;p<=S[j].len-1;p++)\n                used[S[j].c[p]]++;\n            K=true;\n            for (p='a';p<='z';p++)\n                if (used[p]>uw[p])\n                {\n                    K=false;\n                    break;\n                }\n            memset(used,0,sizeof(used));\n            if (!K) continue;\n            if (T>Ms)\n            {\n                Ms=T;\n                acnt=1;\n                for (p=0;p<=S[i].len-1;p++)\n                    ans[acnt].c1[p]=S[i].c[p];\n                ans[acnt].len1=S[i].len;\n                ans[acnt].c1[ ans[acnt].len1 ]=0;\n                for (p=0;p<=S[j].len-1;p++)\n                    ans[acnt].c2[p]=S[j].c[p];\n                ans[acnt].len2=S[j].len;\n                ans[acnt].c2[ ans[acnt].len2 ]=0;\n            }\n            else if (T==Ms)\n            {\n                acnt++;\n                for (p=0;p<=S[i].len-1;p++)\n                    ans[acnt].c1[p]=S[i].c[p];\n                ans[acnt].len1=S[i].len;\n                ans[acnt].c1[ ans[acnt].len1 ]=0;\n                for (p=0;p<=S[j].len-1;p++)\n                    ans[acnt].c2[p]=S[j].c[p];\n                ans[acnt].len2=S[j].len;\n                ans[acnt].c2[ ans[acnt].len2 ]=0;\n            }\n        }\n    }\n}\nvoid print()\n{\n    fo << Ms << endl;\n    int i,j;\n    for (i=1;i<=acnt;i++)\n    {\n        for (j=0;j<=ans[i].len1-1;j++)\n            fo << ans[i].c1[j];\n        if (ans[i].len2)\n        {\n            fo << ' ';\n            for (j=0;j<=ans[i].len2-1;j++)\n                fo << ans[i].c2[j];\n        }\n        fo <<endl;\n    }\n}\ninline int cmp(const void *a,const void *b)\n{\n    int k;\n    Tans *A=(Tans *)a,*B=(Tans *)b;\n    k=strcmp(A->c1,B->c1);\n    if (k!=0) return k;\n    k=strcmp(A->c2,B->c2);\n    return k;\n}\nvoid sortans()\n{\n    qsort(ans+1,acnt,sizeof(Tans),cmp);\n    print();\n}\nint main()\n{\n    init();\n    findans();\n    findpair();\n    sortans();\n    fi.close();\n    fd.close();\n    fo.close();\n    return 0;\n}\n```",
        "postTime": 1474384885,
        "uid": 22733,
        "name": "eternal",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2753 \u3010[USACO4.3]\u5b57\u6bcd\u6e38\u620fLetter Game\u3011"
    },
    {
        "content": "\u8bcd\u5178\u6587\u4ef6\u6700\u591a\u6709 $40000$ \u4e2a\u5355\u8bcd\uff0c\u76f4\u63a5\u679a\u4e3e\u6240\u6709\u60c5\u51b5\u4f1a\u6709 $40000^2$ \u79cd\u60c5\u51b5\uff0c\u4f1a\u8d85\u65f6\u3002\n\n\u4f46\u662f\u6536\u96c6\u5230\u5b57\u6bcd(\u5c31\u662f\u53ef\u4ee5\u4f7f\u7528\u7684\u5b57\u6bcd)\u4e00\u5171\u6709 $7$ \u4e2a\uff0c\u90a3\u4e48\u80fd\u6784\u6210\u7684\u5355\u8bcd\u4e5f\u5c31\u53ea\u6709 $7\\ !$ \u4e5f\u5c31\u662f $5040$ \u4e2a\u5355\u8bcd\uff0c\u6240\u4ee5\u8f93\u5165\u7684\u5355\u8bcd\u7edd\u5927\u591a\u6570\u90fd\u662f\u6ca1\u6709\u7528\u7684\u3002\n\n\u6240\u4ee5\u6211\u4eec\u5728\u8f93\u5165\u5355\u8bcd\u7684\u65f6\u5019\uff0c\u5224\u65ad\u4e00\u4e0b\u662f\u4e0d\u662f\u7b26\u5408\u6761\u4ef6\u7684\uff0c\u7b26\u5408\u6761\u4ef6\u7684\u8bdd\u5c31\u5b58\u4e0b\u6765\u3002\u7136\u540e $n^2$ \u679a\u4e3e\u4e00\u4e0b\u62fc\u7684\u4e24\u4e2a\u5355\u8bcd\u662f\u4ec0\u4e48\uff0c\u5224\u65ad\u4e00\u4e0b\u80fd\u4e0d\u80fd\u88ab\u62fc\u51fa\u6765\u3002\n\n\u5c31\u662f\u5224\u65ad\u4e00\u4e0b\u4e24\u4e2a\u5355\u8bcd\u6240\u7528\u7684\u5b57\u6bcd\u591f\u4e0d\u591f\u7528\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$ \n\n---\n\u4ee3\u7801\n```\n#include <iostream>\n#include <cstring>\n#include <algorithm>\n\nusing namespace std;\n\nconst int N = 5040;\n\nint n;\nint cnt[N];   // \u6536\u96c6\u5230\u7684\u5b57\u6bcd\u6bcf\u4e2a\u5b57\u6bcd\u51fa\u73b0\u7684\u6b21\u6570\nint cnt2[N];    // \u5907\u4efd\uff0c\u4e3a\u4e86\u6062\u590d\u5355\u8bcd\nchar str[N][8];\nint v[N];\n// \u6253\u8868\nchar wk[] = \"qwertyuiopasdfghjklzxcvbnm\";\nint vk[] = {7, 6, 1, 2, 2, 5, 4, 1, 3, 5, 2, 1, 4, 6, 5, 5, 7, 6, 3, 7, 7, 4, 6, 5, 2, 5};\n\nbool check(char a[], char b[])\n{\n    bool flag = true;\n    memcpy(cnt2, cnt, sizeof cnt);\n    for (int i = 0; a[i]; i ++ )\n        if ( -- cnt[a[i] - 'a'] < 0) flag = false;\n    for (int i = 0; b[i]; i ++ )\n        if ( -- cnt[b[i] - 'a'] < 0) flag = false;\n    memcpy(cnt, cnt2, sizeof cnt);\n    return flag;\n}\n\nint Calculate_Score(char s[])\n{\n    int res = 0;\n    for (int i = 0; s[i]; i ++ )\n        res += v[s[i]];\n    return res;\n}\n\nint main()\n{\n    for (int i = 0; i < 26; i ++ ) v[wk[i]] = vk[i];    // \u521d\u59cb\u5316\u6bcf\u4e00\u4e2a\u5b57\u6bcd\u6709\u4e00\u4e2a\u6570\u503c\u4e0e\u4e4b\u5bf9\u5e94\n    \n    char Words[10];\n    cin >> Words;     //  \u6536\u96c6\u5230\u7684\u5b57\u6bcd (\u5c31\u662f\u53ef\u4ee5\u4f7f\u7528\u7684\u5b57\u6bcd)\n    \n    for (int i = 0; Words[i]; i ++ ) cnt[Words[i] - 'a'] ++ ;\n    \n    memcpy(cnt2, cnt, sizeof cnt);\n    while (cin >> str[n], str[n][0] != '.') \n    {\n        bool flag = true;\n        for (int i = 0; str[n][i]; i ++ )   // \u679a\u4e3e\u6bcf\u4e2a\u5b57\u6bcd\u591f\u4e0d\u591f\u7528\n            if ( -- cnt[str[n][i] - 'a'] < 0) flag = false;\n        memcpy(cnt, cnt2, sizeof cnt);\n        if (flag) n ++ ;    // \u53ef\u7528\u5355\u8bcd + 1\n    }\n    \n    int res = 0;        // \u6700\u9ad8\u5f97\u5206\n    for (int i = 0; i < n; i ++ )\n    {\n        int score = Calculate_Score(str[i]);\n        res = max(res, score);\n        for (int j = i + 1; j < n; j ++ )\n            if (check(str[i], str[j]))\n                res = max(res, score + Calculate_Score(str[j]));\n    }\n    cout << res << endl;\n    \n    for (int i = 0; i < n; i ++ )\n    {\n        int score = Calculate_Score(str[i]);\n        if (score == res)       // \u5982\u679c\u4e00\u4e2a\u5355\u8bcd\u6ee1\u8db3\u6700\u5927\u503c\u7684\u8bdd\uff0c\u8f93\u51fa\u90a3\u4e2a\u5355\u8bcd\n        {\n            puts(str[i]);\n            continue;\n        }\n        for (int j = i + 1; j < n; j ++ )\n            if (check(str[i], str[j]) && res == score + Calculate_Score(str[j]))  // \u5f53\u4e24\u4e2a\u8bcd\u80fd\u591f\u5f62\u6210 \u4e00\u4e2a\u7ec4\u5408\n                cout << str[i] << ' ' << str[j] << endl; \n    }\n\n    return 0;\n}\n```",
        "postTime": 1651466738,
        "uid": 545805,
        "name": "yjw_",
        "ccfLevel": 0,
        "title": "\u5b57\u6bcd\u6e38\u620f \u9898\u89e3"
    },
    {
        "content": "\u9898\u89e3\u91cc\u7684\u4ee3\u7801\u90fd\u597d\u957f...\u4e8e\u662f\u60f3\u8d21\u732e\u4e00\u4e0b\u81ea\u5df1\u7684\u5199\u6cd5\u4e86\u3002\n\n\u8fd9\u9053\u9898\u5c31\u662f\u4e00\u9053\u6a21\u62df\u9898\uff0c\u4e3b\u8981\u7684\u96be\u5ea6\u5728\u4e8e\u9605\u8bfb\u7406\u89e3\u3002\u5c31\u662f\u8981\u5728\u5b57\u5178\u4e2d\u6311\u51fa\u82e5\u5e72\u4e2a\u5355\u8bcd\uff0c\u5176\u5b57\u6bcd\u5206\u7c7b\u540e\u7684\u6570\u91cf\u4e0d\u8d85\u8fc7\u6587\u672c\u4e32\u4e2d\u5b57\u6bcd\u7684\u6570\u91cf\uff0c\u8f93\u51fa\u5176\u4ef7\u503c\u6700\u5927\u503c\u4ee5\u53ca\u65b9\u6848\u5373\u53ef\n\n\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\uff0c\u89e3\u91ca\u4ee3\u7801\u91cc\u6709\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int N = 40010;\n\nint cnt, len, jsq, ans;\nint val[N], can[N], tran[30], buc[N][30], tbuc[30];\n\nchar text[10], dict[N][10];\n\nvoid init() {\n\ttran[0] = 2, tran[1] = 5, tran[2] = 4, tran[3] = 4, tran[4] = 1;\n\ttran[5] = 6, tran[6] = 5, tran[7] = 5, tran[8] = 1, tran[9] = 7;\n\ttran[10] = 6, tran[11] = 3, tran[12] = 5, tran[13] = 2, tran[14] = 3;\n\ttran[15] = 5, tran[16] = 7, tran[17] = 2, tran[18] = 1, tran[19] = 2;\n\ttran[20] = 4, tran[21] = 6, tran[22] = 6, tran[23] = 7, tran[24] = 5;\n\ttran[25] = 7;\n} //\u5b57\u7b26\u7684\u4ef7\u503c\u66b4\u529b\u8d4b\u503c\n\ninline int check(int x, int y) {\n\tfor (int i = 0; i < 26; ++i)\n\t\tif (buc[x][i] + buc[y][i] > tbuc[i])\treturn 0;\n\treturn 1;\t\n} //\u7528\u6765\u5224\u65ad\u4e24\u4e2a\u5b57\u7b26\u4e32\u4e2d\u7684\u5b57\u7b26\u6570\u662f\u5426\u8d85\u8fc7\u4e86\u6587\u672c\u4e32\n\nvoid subtask_1() {\n\t\n\t// single word\n\tfor (int i = 1; i <= cnt; ++i) \n\t\tif (check(i, 0))\tans = max(ans, val[i]), can[++jsq] = i;\t\n\t// paired words\n\tfor (int i = 1; i <= jsq; ++i)\n\t\tfor (int j = i; j <= jsq; ++j)\n\t\t\tif (check(can[i], can[j]))\tans = max(ans, val[can[i]] + val[can[j]]);\n\t\n} //\u66b4\u529b\u6c42\u51fa\u6700\u5927\u4ef7\u503c\u3002\u5c06\u53ef\u884c\u5355\u8bcd\u5b58\u81f3can\u6570\u7ec4\u4e2d\u964d\u4f4e\u590d\u6742\u5ea6\n\nvoid subtask_2() {\n\tfor (int i = 1; i <= jsq; ++i) {\n\t\tif (val[can[i]] == ans)\tprintf(\"%s\\n\", dict[can[i]] + 1);\n\t\tfor (int j = i; j <= jsq; ++j)\n\t\t\tif (val[can[i]] + val[can[j]] == ans && check(can[i], can[j]))\n\t\t\t\tprintf(\"%s %s\\n\", dict[can[i]] + 1, dict[can[j]] + 1);\n\t}\n\t\t\n} //\u6309\u7167\u5b57\u5178\u5e8f\u8f93\u51fa\u65b9\u6848\n\nint main() {\n\t\n\tinit();\n\t\n\tscanf(\"%s\", text + 1);\n\twhile (scanf(\"%s\", dict[++cnt] + 1)) {\n\t\tif (dict[cnt][1] == '.')\t{\n\t\t\t--cnt;\t\n\t\t\tbreak;\n\t\t}\n\t} //\u8f93\u5165\n\t\n\tfor (int i = 1; i <= cnt; ++i) {\n\t\tlen = strlen(dict[i] + 1);\n\t\tfor (int j = 1; j <= len; ++j)\t\n\t\t\tbuc[i][dict[i][j] - 'a']++, val[i] += tran[dict[i][j] - 'a'];\n\t} //\u5f00\u4e24\u4e2a\u6876\uff0c\u4e00\u4e2a\u662f\u6587\u672c\u4e32\u7684\uff0c\u4e00\u4e2a\u662f\u5b57\u5178\u4e2d\u5355\u8bcd\u7684\u3002val\u6570\u7ec4\u662f\u5355\u8bcd\u7684\u4ef7\u503c\n\t\n\tlen = strlen(text + 1);\n\tfor (int i = 1; i <= len; ++i)\ttbuc[text[i] - 'a']++;\n\t\n\tsubtask_1();\n\tprintf(\"%d\\n\", ans);\n\tsubtask_2();\n\t\n\treturn 0;\n}\n\n/*\nprmgroa\nprofile\nprogram\nprom\nrag\nram\nrom\n.\n*/\n```\n",
        "postTime": 1555837674,
        "uid": 110299,
        "name": "\u7965\u745e\u5fa1\u514d",
        "ccfLevel": 0,
        "title": "[\u9898\u89e3]\u5b57\u6bcd\u6e38\u620fLetter Game"
    }
]