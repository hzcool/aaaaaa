[
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8629)\n\n[\u53ef\u80fd\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](http://sunnyli.xn--9traa.eu.org/solution-p8629)\n\n\u770b\u5230\u51e0\u4e2a\u5927\u4f6c\u7684\u9898\u89e3\uff0c\u6df1\u611f\u6570\u5b66\u4e0d\u884c\u3002\u672c\u849f\u84bb\u5c31\u6765\u53d1\u4e00\u4e2a\u5c0f\u5b66\u751f\u90fd\u80fd\u770b\u61c2\u7684\u627e\u89c4\u5f8b\u9898\u89e3\u3002\n\n## \u601d\u8def\n\n\u6211\u4eec\u5047\u8bbe\u5f00\u59cb\u65f6\u6709 $t$ \u4e2a\u673a\u5668\u4eba\u3002\u6211\u4eec\u8bb0 $f(x)$ \u4e3a $x$ \u5e74\u540e\u7684\u673a\u5668\u4eba\u4e2a\u6570\uff0c\u7136\u540e\u6211\u4eec\u5f00\u59cb\u5c1d\u8bd5\u524d\u51e0\u9879\uff1a\n\n$$\n\\begin{aligned}\nf(1) &= t+(2t-1)      &= 3t-1 \\\\\nf(2) &= 3t-1+(2(2t-1)-1) &= 7t-4 \\\\\nf(3) &= 7t-4+(2(4t-3)-1) &= 15t-11 \\\\\nf(4) &= 15t-11+(2(8t-7)-1) &= 31t-26 \\\\\nf(5) &= 31t-26+(2(16t-15)-1) &= 63t-57 \\\\\n\\cdots\n\\end{aligned}\n$$\n\n\u6211\u4eec\u5148\u770b\u7ed3\u679c\u542b $t$ \u7684\u4e00\u6b21\u9879\uff1a\n\n$3t\\quad7t\\quad15t\\quad31t\\quad63t\\cdots$\n\n\u53d6\u4ed6\u4eec\u7cfb\u6570\u7684\u5dee\u53ef\u4ee5\u53d1\u73b0\uff0c\u5dee\u7684\u6570\u5217\u4e3a\uff1a\n\n$4\\quad8\\quad16\\quad32\\cdots$\n\n\u53c8\u56e0\u4e3a $3=1+2$\uff0c\u6211\u4eec\u8bb0 $A(x)$ \u4e3a\u4e00\u6b21\u9879\u7cfb\u6570\uff0c$x$ \u4e3a\u8fc7\u53bb\u7684\u65f6\u95f4\uff0c\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5173\u7cfb\uff1a\n\n$$A(x)=1+2+4+\\cdots+2^x=2^{x+1}-1$$\n\n\u63a5\u4e0b\u6765\u770b\u5e38\u6570\u9879\uff1a\n\n$1\\quad4\\quad11\\quad26\\quad57\\cdots$\n\n\u53d6\u5dee\uff1a\n\n$3\\quad7\\quad15\\quad31\\cdots$\n\n\u6709\u6ca1\u6709\u89c9\u5f97\u5f88\u773c\u719f\uff0c\u8fd9\u5c31\u662f\u4e00\u6b21\u9879\u7cfb\u6570\u7684\u89c4\u5f8b\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8bb0 $B(x)$ \u4e3a\u5e38\u6570\u9879\uff0c$x$ \u4e3a\u6240\u8fc7\u7684\u65f6\u95f4\uff0c\u53ef\u4ee5\u5f97\u5230\u4ee5\u4e0b\u5173\u7cfb\uff1a\n\n$$B(x)=\\sum^{x}_{i=1}A(i-1)$$\n\n\u5f53\u7136 $B(0)$ \u662f\u7279\u4f8b\uff0c $B(0)=0$\n\n\u73b0\u5728\u6211\u4eec\u6765\u8ba1\u7b97\u4e00\u4e0b $B(x)$ \u7684\u901a\u9879\u516c\u5f0f\uff1a\n\n$$\n\\begin{aligned}\nB(x) &= \\sum^{x}_{i=1}A(i-1)\\\\\n&= A(0)+A(1)+\\cdots+A(x-1)\\\\\n&= (2^1-1)+(2^2-1)+\\cdots+(2^{x}-1)\\\\\n&= (2^{x+1}-2)-x\\\\\n\\end{aligned}\n$$\n\n\u6240\u4ee5\u57fa\u672c\u4e0a\u5c31\u5927\u529f\u544a\u6210\u4e86\uff01\n\n\u6240\u4ee5 $n$ \u5e74\u540e\u7684\u673a\u5668\u603b\u6570\u4e3a\uff1a\n\n$$\n\\begin{aligned}\ns &= A(n)t+B(n)\\\\\n&= (2^{n+1}-1)t-[(2^n-2)-n]\\\\\n&= 2^{n+1}t-t+n-2^{n+1}+2\\\\\n&= (2^{n+1}-1)(t-1)+t+1\\\\\n\\end{aligned}$$\n\n\u628a\u5b83\u5316\u7b80\u8868\u793a\u4e3a $t$ \u7684\u51fd\u6570\u5f62\u5f0f\uff0c\u6613\u5f97\n\n$$t=\\frac{s-n-1}{2^{n+1}-1}+1$$\n\n\u6700\u540e\u770b\u5230\u6837\u4f8b\u4e8c\u7684\u90a3\u4e00\u5927\u4e32\u6570\u5b57 $2218388550399401452619230609499$\uff0c\u6211\u4eec\u80af\u5b9a\u8981\u7528\u9ad8\u7cbe\u5ea6\u3002\u4f5c\u4e3a\u4e00\u4e2a\u849f\u84bb\uff0c\u9ad8\u7cbe\u5ea6\u80af\u5b9a\u7528 Python \u5566\uff01\n\n## AC \u4ee3\u7801\n\n```python\n#Python\u4ee3\u7801\nfrom math import pow\nn,s = input().split(\" \")\nn,s = int(n),int(s)\nprint(str(int((s-n-1)/(int(pow(2,n+1))-1)+1)))\n```\n\n[AC \u8bb0\u5f55](https://www.luogu.com.cn/record/108632180)\n\n\u770b\u5728\u4f5c\u8005\u5199\u8fd9\u4e48\u591a\u7684\u4efd\u4e0a\uff0c\u70b9\u4e2a\u8d5e\u518d\u8d70\u5457 qwq\u3002",
        "postTime": 1682122725,
        "uid": 790285,
        "name": "SunnyLi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P8629 [\u84dd\u6865\u676f 2015 \u56fd C] \u673a\u5668\u4eba\u7e41\u6b96 \u9898\u89e3"
    },
    {
        "content": "\u8bbe\u6700\u521d\u6709 $x$ \u4e2a\u673a\u5668\u4eba\uff0c\u5219\u7b2c $1$ \u5e74\u4f1a\u589e\u52a0 $2x - 1$ \u4e2a\u673a\u5668\u4eba\uff0c\u7b2c $2$ \u5e74\u4f1a\u589e\u52a0 $2(2x - 1) - 1 = 4x - 3$ \u4e2a\u673a\u5668\u4eba\uff0c\u7b2c $3$ \u5e74\u4f1a\u589e\u52a0 $2(4x - 3) - 1 = 8x - 7$ \u4e2a\u673a\u5668\u4eba\uff0c\u7b2c $n$ \u5e74\u4f1a\u589e\u52a0 $2^n x - (2^n - 1)$ \u4e2a\u673a\u5668\u4eba\u3002\u6545\u5728 $n$ \u5e74\u672b\u5c06\u6709\u673a\u5668\u4eba\u7684\u6570\u76ee\u4e3a\uff1a   \n$$\n\\begin{aligned}\ns = &\\sum\\limits_{i=0}^{n} 2^i x - (2^i - 1) \\\\\n= & n + 1 + (\\sum\\limits_{i=0}^{n} 2^i)(x-1) \\\\\n= & n + 1 + (2^{n+1} - 1)(x-1)\n\\end{aligned}\n$$\n\n\n\u6240\u4ee5 $x = \\dfrac{s - n - 1}{2^{n+1} - 1} + 1$\u3002\n\n\n\u6ce8\u610f\u4f7f\u7528\u9ad8\u7cbe\u5ea6\u3002  \n```cpp\nint main() {\n    dR(int, n);\n    dR(std::string, _s);\n    BigInteger s = _s;\n    writeln(to_string(1 + (s - n - 1) / (power(BigInteger(2), n + 1) - 1)));\n    return 0;\n}\n```",
        "postTime": 1681917693,
        "uid": 84282,
        "name": "andyli",
        "ccfLevel": 7,
        "title": "P8629 [\u84dd\u6865\u676f 2015 \u56fd C] \u673a\u5668\u4eba\u7e41\u6b96 \u9898\u89e3"
    },
    {
        "content": "\u6211\u4eec\u53ef\u4ee5\u5148\u6839\u636e\u9898\u76ee\u5f97\u5230\u516c\u5f0f\uff1a\n\n$$sum=a_{1}(2^{n+1}-1)$$\n\n$sum$ \u4e3a\u673a\u5668\u4eba\u603b\u6570\uff0c$a_{1}$ \u4e3a\u6700\u521d\u6570\u91cf\uff0c$n$ \u4e3a\u5e74\u6570\u3002\n\n\u7136\u540e\u5e26\u5165\u516c\u5f0f\uff0c\u4f46\u662f\u6211\u4eec\u8fd9\u4e2a\u516c\u5f0f\u8981\u7b49\u5f0f\u8f6c\u6362\u6210\uff1a\n\n$$\\frac{sum}{2^{n+1}-1}=a_{1}$$\n\n\u9ad8\u7cbe\u5ea6\u5efa\u8bae Python\u3002\n\n```python\nn, sum = map(int, input().split())\na1 = sum // (2 ** (n + 1) - 1)#\u6574\u9664\uff0c\u673a\u5668\u5206\u4e0d\u5f00\u5440\nprint(a1+1)\n```\n",
        "postTime": 1683935341,
        "uid": 529017,
        "name": "Smg18",
        "ccfLevel": 0,
        "title": "P8629"
    },
    {
        "content": "## \u601d\u8def\n\u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u9898\u76ee\u63cf\u8ff0\u5f97\u5230\u516c\u5f0f\uff1a$s=a_1(2^{n+1}-1)$\uff0c\u5176\u4e2d $s$ \u4e3a\u6700\u7ec8\u673a\u5668\u4eba\u603b\u6570\uff0c$a_1$ \u4e3a\u6700\u521d\u673a\u5668\u4eba\u6570\u91cf\uff0c$n$ \u4e3a\u5e74\u6570\u3002\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6839\u636e\u8f93\u5165\u7684 $s$ \u548c $n$ \u6c42\u51fa $a_1$ \u5373\u53ef\u3002\u5177\u4f53\u6c42\u89e3\u8fc7\u7a0b\u5982\u4e0b\u3002$$ \\begin{aligned} s &= a_1(2^{n+1}-1) \\ \\Leftrightarrow \\frac{s}{2^{n+1}-1} &= a_1 \\ \\end{aligned} $$ \u6240\u4ee5\uff0c\u6211\u4eec\u53ea\u9700\u8981\u8ba1\u7b97 $\\frac{s}{2^{n+1}-1}$ \u5373\u53ef\u5f97\u5230\u6700\u521d\u673a\u5668\u4eba\u6570\u91cf $a_1$\u3002\n## \u4ee3\u7801\n```python\nn, s = map(int, input().split())\na1 = s // (2 ** (n + 1) - 1)\nprint(a1+1)\n\n```\n",
        "postTime": 1683796825,
        "uid": 649872,
        "name": "liupei",
        "ccfLevel": 0,
        "title": "P8629"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8629)\n\n\u7b80\u5355\u63a8\u5bfc\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u5148\u7528 $n=4$ \u8fd9\u4e2a\u4f8b\u5b50\u5217\u51fa\u4e00\u4e2a\u5f0f\u5b50\uff1a\n\n$$x+2x-1+2(2x-1)-1+2(2(2x-1)-1)-1+2(2(2(2x-1)-1)-1)-1=s$$\n\n\u4e00\u5806 $2$\uff0c\u597d\u70e6\uff0c\u6240\u4ee5\u62c6\u5f00\u3002\n\n$$x+2x-1+4x-2-1+8x-4-2-1+16x-8-4-2-1$$\n\n\u5408\u5e76\u4e00\u90e8\u5206\u540c\u7c7b\u9879\u3002\n\n$$x+(2x-1)+(4x-3)+(8x-7)+(16x-15)$$\n\n\u628a\u6bcf\u4e2a\u62ec\u53f7\u5f53\u4f5c\u4e00\u9879\uff0c\u663e\u7136\u7ecf\u8fc7 $n$ \u5e74\u5c31\u662f\u524d $n+1$ \u9879\u3002\u5148\u4ee3\u5165\u6837\u4f8b\u770b\u770b\uff1a\n\n$$x+2x-1+4x-3=7x-4=31$$\n\n\u8fd9\u73a9\u610f\u5c31\u662f\u4e2a\u4e00\u5143\u4e00\u6b21\u65b9\u7a0b\u3002\n\n\u73b0\u5728\u7684\u95ee\u9898\u662f\uff0c\u5bf9\u4e8e\u6b64\u9898 $ax-b=c$ \u7684\u5f62\u5f0f\uff0c\u5982\u4f55\u6c42 $a,b$\u3002\n\n\u8fd8\u8bb0\u5f97\u7b2c\u4e8c\u4e2a\u5f0f\u5b50\u4e2d\u7684\u4e00\u6b21\u9879\u662f\u600e\u4e48\u6765\u7684\u5417\uff1f\u5b83\u4eec\u662f\u7531\u7b2c\u4e00\u4e2a\u5f0f\u5b50\u4f7f\u7528\u4e58\u6cd5\u5206\u914d\u5f8b\u8f6c\u5316\u800c\u6765\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\u6211\u4eec\u628a\u6bcf\u4e00\u5e74\u6240\u589e\u52a0\u7684\u673a\u5668\u4eba\u6570\u201c\u4ece\u91cc\u5230\u5916\u201d\u8fdb\u884c\u62c6\u5206\u3002\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5bf9\u4e8e $2(2(2x-1)-1)-1$\uff0c\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a\n\n$$2(2(2x-1)-1)-1=2(4x-2-1)-1=8x-4-2-1$$\n\n\u6ce8\u610f\u5230\u5728\u4e58\u6cd5\u5206\u914d\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e00\u6b21\u9879\u7cfb\u6570\u88ab\u4e58\u4e0a\u4e86\u5f88\u591a $2$\u3002\u7531\u4e8e\u6bcf\u8fc7\u5e74\u90fd\u4f1a\u4e58\u4e0a\u4e00\u4e2a $2$\uff08\u8fd9\u91cc\u5148\u4e0d\u8ba8\u8bba\u5e38\u6570\u9879\uff09\uff0c\u6240\u4ee5\u5bf9\u4e8e\u524d $n$ \u5e74\uff0c\u4e00\u6b21\u9879\u7cfb\u6570\u548c\u4e3a\uff1a\n\n$$a=2^0+2^1+\\dots+2^{n-1}+2^{n}=2^{n+1}-1$$\n\n\u5e38\u6570\u9879\u540c\u7406\uff0c\u6bcf\u4e00\u6b21\u4e58\u6cd5\u5206\u914d\u90fd\u4f1a\u4e58\u4e0a\u4e00\u4e2a $2$\u3002\u53e6\u5916\uff0c\u6bcf\u4e00\u6b21\u62c6\u5f00\u62ec\u53f7\uff0c\u5c31\u4f1a\u51cf\u53bb $1$\u3002\u6b64\u65f6\u518d\u770b\u4e0a\u9762\u7684\u5177\u4f53\u6b65\u9aa4\uff0c\u6211\u4eec\u53d1\u73b0\uff0c\u5916\u9762\u5957\u4e86\u591a\u5c11\u5c42\u62ec\u53f7\uff0c\u8be5\u5e38\u6570\u9879\u5c31\u4f1a\u4e58\u4e0a\uff08\u88ab\u5206\u914d\uff09\u591a\u5c11\u4e2a $2$\u3002\u56e0\u4e3a\u6bcf\u4e00\u6b21\u51cf $1$ \u90fd\u643a\u5e26\u7740\u4e00\u4e2a\u4e58 $2$\u3002\u53ef\u4ee5\u53d1\u73b0\uff0c\u7531\u4e8e\u6bcf\u4e00\u5e74\u589e\u52a0\u7684\u673a\u5668\u4eba\u4e2a\u6570\u90fd\u662f\u4e0a\u4e00\u5e74\u7684\u673a\u5668\u4eba\u4e2a\u6570\u4e58 $2$ \u51cf $1$\uff0c\u6240\u4ee5\u6bcf\u4e00\u5e74\u90fd\u4f1a\u591a\u51fa\u4e00\u4e2a\u62ec\u53f7\uff08\u53c2\u8003\u7b2c\u4e00\u4e2a\u5f0f\u5b50\uff09\uff0c\u5e76\u5728\u62ec\u53f7\u5916\u591a\u51fa\u4e00\u4e2a $-1$\u3002\u663e\u7136\uff0c\u5bf9\u4e8e\u7b2c $n$ \u5e74\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u5e38\u6570\u9879\u5217\u51fa\u5982\u4e0b\u7b49\u5f0f\uff1a\n\n$$b_0=2^{n-1}+2^{n-2}\\dots+2^1+2^0$$\n\n\u90a3\u4e48\u5bf9\u4e8e\u524d $n$ \u5e74\u7684\u5e38\u6570\u9879\u603b\u548c\u5373\u4e3a\uff1a\n\n$$b_1=0+(2^0)+(2^1+2^0)+\\dots+(2^{n-2}+2^{n-3}\\dots+2^1+2^0)+(2^{n-1}+2^{n-2}\\dots+2^1+2^0)$$\n\n\u6839\u636e $2$ \u6b21\u5e42\u7684\u6027\u8d28\uff08$2^0+2^1+\\dots+2^{n-2}+2^{n-1}=2^n-1$\uff09\u53ef\u4ee5\u5316\u4e3a\uff1a\n\n$$b_1=2^1-1+2^2-1+\\dots+2^{n-1}-1+2^n-1$$\n\n\u5316\u7b80\u5f97\uff1a\n\n$$b_1=2^1+2^2+\\dots+2^{n-1}+2^n-n$$\n\n\u524d\u9762\u4e00\u5806 $2$ \u7684\u6b21\u5e42\uff0c\u5c31\u5dee\u4e00\u4e2a $2^0$\u3002\u90a3\u4e48\u540e\u9762\u52a0\u4e0a\u4e00\u4e2a $2^0-1$\uff0c\u4fdd\u8bc1\u7b49\u5f0f\u4e0d\u53d8\uff0c\u8fd8\u80fd\u8fdb\u4e00\u6b65\u5316\u7b80\uff1a\n\n$$b_1=2^{n+1}-n-2$$\n\n\u89e3\u91ca\u4e00\u4e0b\uff0c\u7531\u4e8e\u52a0\u4e0a $2^0$ \u6ee1\u8db3\u4e86\u4e0a\u9762\u4e8c\u6b21\u5e42\u7684\u6027\u8d28\uff0c\u6240\u4ee5\u90a3\u4e00\u957f\u4e32\u7684\u6570\u53ef\u4ee5\u5316\u4e3a $2^{n+1}-1$\uff0c\u4fdd\u8bc1\u7b49\u5f0f\u4e0d\u53d8\u8fd8\u8981\u51cf\u53bb $1$\uff08$2^0$\uff09\uff0c\u6700\u540e\u628a\u603b\u5171 $n$ \u4e2a $-1$ \u5408\u5e76\u53d8\u6210 $-n$\uff0c\u5c31\u53d8\u6210\u4e00\u4e2a\u975e\u5e38\u6e05\u723d\u7684\u5f0f\u5b50\u4e86\u3002\n\n\u73b0\u5728\u5f97\u5230\u4e86\u65b9\u7a0b\u7684\u6240\u6709\u7cfb\u6570\uff0c\u76f4\u63a5\u6c42\u89e3\u3002\u7b54\u6848\u663e\u7136\u4e3a $\\frac{s+(2^{n+1}-n-2)}{2^{n+1}-1}$\u3002\n\n\u6ce8\u610f\u8981\u5199\u9ad8\u7cbe\u5ea6\u3002",
        "postTime": 1682343690,
        "uid": 736801,
        "name": "ACRUSHj",
        "ccfLevel": 0,
        "title": "P8629 [\u84dd\u6865\u676f 2015 \u56fd C] \u673a\u5668\u4eba\u7e41\u6b96"
    },
    {
        "content": "# P8629 [\u84dd\u6865\u676f 2015] \u673a\u5668\u4eba\u7e41\u6b96 \u9898\u89e3\n\u849f\u84bb\u53c8\u6765\u5199\u9898\u89e3\u4e86\uff01~~\uff08\u849f\u84bb\u4e09\u7bc7\u9898\u89e3\u90fd\u662f\u9ec4\u9898\uff1f\uff09~~\n\n\u9996\u5148\uff0c [\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P8629)\n\n## \u5206\u6790\n\u521d\u770b\u6b64\u9898\uff0c\u5f88\u660e\u663e\u662f\u4e00\u4e2a\u6570\u5b66\u95ee\u9898\u3002\n\n\u6709\u51e0\u7bc7\u627e\u89c4\u5f8b\u505a\u51fa\u6765\u7684\uff0c\u4e0d\u7981\u89c9\u5f97\u4e0d\u4e25\u8c28\uff0c\u672c\u849f\u84bb\u5c31\u8bd5\u8bd5\u6570\u5b66\u63a8\u5bfc\u3002\n\n\u8bbe\u6700\u5f00\u59cb\u6709 $x$ \u4e2a\u673a\u5668\u4eba\uff0c\u8bb0\u7b2c $k$ \u5e74\u603b\u673a\u5668\u4eba\u6570\u76ee\u4e3a $S_k$\u3002\n\n\u6839\u636e\u9898\u5e72\uff0c\u6211\u4eec\u80fd\u591f\u5199\u51fa $\\{S_k\\}$ \u7684\u9012\u63a8\u5f0f\n\n$$S_k = \\begin{cases}\n   x & \\text{if } k = 0, \\\\\n   S_{k - 1} + 2(S_{k - 1} - S_{k - 2}) - 1 & \\text{if } k \u2265 1.\n\\end{cases}$$\n\n\u4e3a\u4e86\u6c42\u51fa\u901a\u9879\u5f0f\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u6784\u9020 $\\{\\Delta_k\\}$\uff0c\u4f7f $\\Delta_k = S_k - S_{k - 1}$\u3002\n\n\u63a5\u7740\uff0c\u53ef\u4ee5\u5199\u51fa $\\{\\Delta_k\\}$ \u7684\u9012\u63a8\u5f0f\n\n$$\\Delta_k = \\begin{cases}\n   x & \\text{if } k = 0, \\\\\n   2\\Delta_{k - 1} - 1 & \\text{if } k \u2265 1.\n\\end{cases}$$\n\n\u7531\u4e0a\u5f0f\u5f97 \n\n$$\\Delta_{k + 1} = 2\\Delta_k - 1$$\n$$\\Delta_k = 2\\Delta_{k - 1} - 1$$\n$$\\Delta_{k + 1} - \\Delta_k = 2(\\Delta_k - \\Delta_{k - 1})$$\n\n\u56e0\u6b64\uff0c\u6570\u5217 $\\{\\Delta_{k + 1} - \\Delta_k\\}$ \u4e3a\u4ee5 $x - 1$ \u4e3a\u9996\u9879\uff0c\u516c\u6bd4\u4e3a $2$ \u7684\u7b49\u6bd4\u6570\u5217\u3002\n\n\u6240\u4ee5\n\n$$\\Delta_{k + 1} - \\Delta_k = 2 ^ k(x - 1)$$\n$$2\\Delta_k - 1 - \\Delta_k = 2 ^ k(x - 1)$$\n$$\\Delta_k = 2 ^ k(x - 1) + 1$$\n\n\u90a3\u4e48\n\n$$S_k = S_{k - 1} + 2 ^ k(x - 1) + 1$$\n$$S_k = \\overset{k}{\\underset{i = 0}{\\sum}} [2 ^ i(x - 1) + 1]$$\n$$S_k = (x - 1)\\overset{k}{\\underset{i = 0}{\\sum}} (2 ^ i) + k + 1$$\n$$S_k = (2 ^ {k + 1} - 1)(x - 1) + k + 1$$\n\n\u4e8e\u662f\n\n$$s = (2 ^ {n + 1} - 1)(x - 1) + n + 1$$\n\n\u6574\u7406\u5f97\n\n$$x = \\frac{s - n - 1}{2 ^ {n + 1} - 1} + 1$$\n\n\u8f93\u51fa\u8fd9\u4e2a\u6570\uff0c\u76f4\u63a5 AC\u3002\n\n\u8bb0\u5f97\u9ad8\u7cbe\u5ea6\uff0c\u6bd5\u7adf\u6837\u4f8b\u8f93\u5165\u6709\u4e2a $2218388550399401452619230609499$\uff0c\u8fd9\u4e48\u5927\u7684\u6570\u5b57\uff0c\u4e0d\u7528\u9ad8\u7cbe\u5ea6\uff0c~~\u76f4\u63a5\u53bb\u4e16~~\u3002\uff08P.S. \u7528 python \u7684\u4e0d\u8981\u8138\uff09\u3002\n\n## AC \u4ee3\u7801\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nstruct Wint:vector<int>//\u4f7f\u7528 std \u5bb9\u5668 vector \u4f5c\u57fa\u7c7b\uff0c\u518d\u4e5f\u4e0d\u7528\u62c5\u5fc3 RE\n{\n    Wint(int n = 0)\n    {\n        push_back(n);\n        check();\n    }\n    Wint& check()\n    {\n        while(!empty() && !back())\n        {\n\t\t\tpop_back();\n\t\t}\n        if(empty())\n        {\n\t\t\treturn *this;\n\t\t}\n        for(int i = 1; i < size(); ++i)\n        {\n            (*this)[i] += (*this)[i - 1] / 10;\n            (*this)[i - 1] %= 10;\n        }\n        while(back() >= 10)\n        {\n            push_back(back() / 10);\n            (*this)[size() - 2] %= 10;\n        }\n        return *this;\n    }//\u8fdb\u4f4d\u51fd\u6570\uff0c\u76f4\u63a5\u5185\u7f6e\n}n, s;\nistream& operator >> (istream &is, Wint &n)\n{\n    string s;\n    is >> s;\n    n.clear();\n    for(int i = s.size() - 1; i >= 0; --i)\n\t{\n\t\tn.push_back(s[i] - '0');\n\t}\n    return is;\n}\nostream& operator << (ostream &os, const Wint &n)\n{\n    if(n.empty())\n\t{\n\t\tos << 0;\n\t}\n    for(int i = n.size() - 1; i >= 0; --i)\n\t{\n\t\tos << n[i];\n\t}\n    return os;\n}//\u914d\u5957cin\u8f93\u5165\u8f93\u51fa\nbool operator != (const Wint &a, const Wint &b)\n{\n    if(a.size() != b.size())\n\t{\n\t\treturn true;\n\t}\n    for(int i = a.size() - 1; i >= 0; --i)\n    {\n        if(a[i] != b[i])\n\t\t{\n\t\t\treturn true;\n\t\t}\n\t}\n    return false;\n}\nbool operator == (const Wint &a, const Wint &b)\n{\n    return !(a != b);\n}\nbool operator < (const Wint &a, const Wint &b)\n{\n    if(a.size() != b.size())\n\t{\n\t\treturn a.size() < b.size();\n\t}\n    for(int i = a.size() - 1; i >= 0; --i)\n    {\n        if(a[i] != b[i])\n\t\t{\n\t\t\treturn a[i] < b[i];\n\t\t}\n\t}\n    return false;\n}\nbool operator > (const Wint &a, const Wint &b)\n{\n    return b < a;\n}\nbool operator <= (const Wint &a, const Wint &b)\n{\n    return !(a > b);\n}\nbool operator >= (const Wint &a, const Wint &b)\n{\n    return !(a < b);\n}\nWint& operator += (Wint &a, const Wint &b)\n{\n    if(a.size() < b.size())\n    {\n\t\ta.resize(b.size());\n\t}\n    for(int i = 0; i != b.size(); ++i)\n    {\n\t\ta[i] += b[i];\n\t}\n    return a.check();\n}\nWint operator + (Wint a, const Wint &b)\n{\n    return a += b;\n}\nWint& operator -= (Wint &a, Wint b)\n{\n    if(a < b)\n\t{\n\t\tswap(a, b);\n\t}\n    for(int i = 0; i != b.size(); a[i] -= b[i], ++i)\n    {\n        if(a[i] < b[i])\n        {\n            int j = i + 1;\n            while(!a[j])\n            {\n\t\t\t\t++j;\n\t\t\t}\n            while(j > i)\n            {\n                --a[j];\n                a[--j] += 10;\n            }\n        }\n    }\n    return a.check();\n}\nWint operator - (Wint a, const Wint &b)\n{\n    return a -= b;\n}\nWint operator * (const Wint &a, const Wint &b)\n{\n    Wint n;\n    n.assign(a.size() + b.size() - 1, 0);\n    for(int i = 0; i != a.size(); ++i)\n    {\n        for(int j = 0; j != b.size(); ++j)\n        {\n            n[i + j] += a[i] * b[j];\n        }\n    }\n    return n.check();\n}\nWint& operator *= (Wint &a, const Wint &b)\n{\n    return a = a * b;\n}\nWint divmod(Wint &a, const Wint &b)\n{\n    Wint ans;\n    for(int t = a.size() - b.size(); a >= b; --t)\n    {\n        Wint d;\n        d.assign(t + 1, 0);\n        d.back() = 1;\n        Wint c = b * d;\n        while(a >= c)\n        {\n            a -= c;\n            ans += d;\n        }\n    }\n    return ans;\n}\nWint operator / (Wint a, const Wint &b)\n{\n    return divmod(a, b);\n}\nWint& operator /= (Wint &a, const Wint &b)\n{\n    return a = a / b;\n}\nWint& operator %= (Wint &a, const Wint &b)\n{\n    divmod(a, b);\n    return a;\n}\nWint operator % (Wint a, const Wint &b)\n{\n    return a %= b;\n}//\u4e0a\u9762\u6709\u4e00\u4e9b\u53ef\u4ee5\u4e0d\u7528\u7684\uff0c\u4f46\u6211\u61d2\uff0c\u76f4\u63a5\u590d\u5236\u81ea\u5df1\u5199\u7684\u6a21\u677f\nWint pow(const Wint &n, const Wint &k)\n{\n    if(k.empty())\n    {\n\t\treturn 1;\n\t}\n    if(k == 2)\n    {\n\t\treturn n * n;\n\t}\n    if(k.front() % 2)\n    {\n\t\treturn n * pow(n, k - 1);\n\t}\n    return pow(pow(n, k / 2), 2);\n}//\u5feb\u901f\u5e42\nint main()\n{\n\tcin >> n >> s;\n\tcout << (s - n - 1) / (pow(2, n + 1) - 1) + 1;\n\treturn 0;\n}\n```\n[AC \u8bb0\u5f55](https://www.luogu.com.cn/record/list?pid=P8629&user=793427)\n\n[\u8d85\u7ea7\u6a21\u677f](https://www.luogu.com.cn/paste/1cf7sp8b)",
        "postTime": 1682159150,
        "uid": 793427,
        "name": "Yejiacheng",
        "ccfLevel": 0,
        "title": "P8629 [\u84dd\u6865\u676f 2015] \u673a\u5668\u4eba\u7e41\u6b96 \u9898\u89e3"
    },
    {
        "content": "## \u7b80\u8981\u9898\u610f\n\n\u6bcf\u4e2a\u673a\u5668\u4eba\u6bcf\u5e74\u53ef\u4ee5\u8fdb\u884c\u4e00\u6b21\u590d\u5236\uff0c\u7136\u540e\u5931\u53bb\u590d\u5236\u80fd\u529b\u3002\u6bcf\u5e74\u90fd\u6709\u4e00\u4e2a\u673a\u5668\u4eba\u88ab\u53d1\u5f80\u592a\u7a7a\u3002\u73b0\u5728\u7ed9\u51fa\u7b2c $n$ \u5e74\u540e\u673a\u5668\u4eba\u603b\u6570\u4e3a $s$ \u73b0\u5728\u8ba9\u4f60\u6c42\u51fa\u7b2c\u4e00\u5929\u6709\u51e0\u4e2a\u673a\u5668\u4eba\u3002\n\n## \u601d\u8def\n\n\u4e8c\u5206\u8ba8\u8bba\u7b2c\u4e00\u5929\u6709\u51e0\u4e2a\u673a\u5668\u4eba\uff08\u8bbe\u4e3a $mid$\uff09\uff0c\u7136\u540e\u8ba1\u7b97\u7b2c\u4e00\u5929\u6709 $mid$ \u4e2a\u673a\u5668\u4eba\u65f6\uff0c\u7b2c $n$ \u5e74\u7684\u673a\u5668\u4eba\u4e2a\u6570\uff0c\u8ba1\u7b97\u65b9\u6cd5\u5982\u4e0b\uff1a\n\n$$a_n = 2 \\times a_{n-1} - 1, (a_1 = mid)$$\n\n\u7ecf\u8fc7[\u4e0d\u52a8\u70b9\u6cd5](https://baike.baidu.com/item/%E4%B8%8D%E5%8A%A8%E7%82%B9%E6%B3%95/938944?fr=aladdin)\u6570\u5217\u8ba1\u7b97\u53ef\u5f97\uff1a\n\n$$a_n = mid \\times 2^{n-1} - 2^{n-1} + 1$$\n\n\u5219\u5728\u7b2c $n$ \u5e74\u673a\u5668\u4eba\u6570\u603b\u548c\u4e3a\uff1a\n\n$$S_n = \\sum_{i=1}^{n}mid\\times 2^{i-1} - 2^{i-1} + 1$$\n\n$$S_n = (mid - 1) \\times \\sum_{i=1}^{n}2^{i-1} + n$$\n\n$$S_n = (mid - 1) \\times (2^{n+1} - 1) + n$$\n\n\u4e8c\u5206\u5224\u65ad\u5373\u53ef\uff0c\u6ce8\u610f\u4f7f\u7528[\u9ad8\u7cbe\u5ea6](https://www.luogu.com.cn/paste/587vee21)\u3002\n\n## \u4ee3\u7801\n\n\n```cpp\nBignum calc(Bignum mid)\n{\n\tBignum f=qpow(Two, n+1)-One;\n\tBignum ret=f*mid-f;\n\tret.add(n);\n\treturn ret;\n}\n\nint main()\n{\n    ios::sync_with_stdio(false);\n    \n    cin >> n;last.read();\n    \n    Bignum l, r;//\u7b2c\u4e00\u5929\u53ef\u80fd\u673a\u5668\u4eba\u6570 \n    l.set(\"1\");//\u521d\u59cb\u5316 \n    r.set(\"100\");//\u521d\u59cb\u5316\n    \n    One.set(\"1\");\n    Two.set(\"2\");\n    while(l < r)\n    {\n    \tBignum mid=(l+r)/2;//\u7b2c\u4e00\u5929\u673a\u5668\u4eba\u6570\u4e3amid\n    \tBignum t=calc(mid);//\u8ba1\u7b97\u5f53\u7b2c\u4e00\u5929\u673a\u5668\u4eba\u6570\u4e3amid\u65f6\u6700\u540e\u4e00\u5929\u673a\u5668\u4eba\u6570\n\t\tif(t < last) l=mid+One;//\u5982\u679c\u6700\u540e\u4e00\u5929\u673a\u5668\u4eba\u6570\u5c0f\u4e8e\u9898\u76ee\u6240\u7ed9\uff0c\u5f80\u53f3\u641c \n\t\telse\tr=mid;\n\t}\n\tl.print();\n    return 0;\n}\n```",
        "postTime": 1681999187,
        "uid": 778011,
        "name": "DreamLand_zcb",
        "ccfLevel": 4,
        "title": "P8629 [\u84dd\u6865\u676f 2015 \u56fd C] \u673a\u5668\u4eba\u7e41\u6b96 \u9898\u89e3"
    }
]