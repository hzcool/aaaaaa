[
    {
        "content": "\u76ee\u524d\u6765\u8bf4\u5e94\u8be5\u662f\u6700\u77ed\uff0842\u884c\uff09\u4e5f\u662f\u6700\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u522b\u8ddf\u6211\u8bf4\u538b\u884c\n\n\u65b9\u6cd5\u662f\u4f7f\u7528STL\u91cc\u7684next_permutation\u679a\u4e3e\u6240\u6709\u7684\u5168\u6392\u5217\uff0c\u800c\u6bcf\u4e00\u79cd\u6392\u5217\u5206\u4e94\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n1.((a?b)?c)?d\n\n2.(a?(b?c))?d\n\n3.a?((b?c)?d)\n\n4.(a?b)?(c?d)\n\n5.a?(b?(c?d))\n\u4f46\u5b9e\u9645\u4e0a\u53ea\u89811\uff0c4\u4e24\u79cd\u72b6\u6001\u5c31\u53ef\u4ee5\u5224\u65ad\u4e86\n\n```cpp\n\n#include <bits/stdc++.h>\nusing namespace std;\n\nint a[5];\nchar opt[5]= {' ','+','-','*','/'};\n\nint F(int x,int k, int y)                                 \n{\n  if(k==1)\n    return x+y;\n  if(k==2)\n    return max(x,y)-min(x,y);\n  if(k==3)\n    return x*y;\n  return (y==0 || x<y || x%y!=0) ? -999999 : x/y;\n}\n\nvoid Out(int a,int b,int c,int d,int e,int f,int k1,int k2,int k3)\n{\n  printf(\"%d%c%d=%d\\n\",max(a,b),opt[k1],min(a,b),F(max(a,b),k1,min(a,b)));\n  printf(\"%d%c%d=%d\\n\",max(c,d),opt[k2],min(c,d),F(max(c,d),k2,min(c,d)));\n  printf(\"%d%c%d=%d\\n\",max(e,f),opt[k3],min(e,f),F(max(e,f),k3,min(e,f)));\n  exit(0);                                                  //\u76f4\u63a5\u9000\u51fa\u7a0b\u5e8f\n}\n\nint main()\n{\n  scanf(\"%d%d%d%d\", &a[1],&a[2],&a[3],&a[4]);\n  sort(a+1,a+5);                                            //\u4fdd\u8bc1\u904d\u5386\u6240\u6709\u60c5\u51b5\n  do\n  {\n    for (int i = 1; i <= 4; i++)                            //\u66b4\u529b\u679a\u4e3e3\u4e2a\u8fd0\u7b97\u7b26\n      for (int j = 1; j <= 4; j++)\n        for (int k = 1; k <= 4; k++)\n          if (F(F(F(a[1],i,a[2]),j,a[3]),k,a[4])==24)       //((a?b)?c)?d\n            Out(a[1],a[2],F(a[1],i,a[2]),a[3],F(F(a[1],i,a[2]),j,a[3]),a[4],i,j,k);\n          else if (F(F(a[1],i,a[2]),k,F(a[3],j,a[4])) == 24)//(a?b)?(c?d)\n            Out(a[1],a[2],a[3],a[4],F(a[1],i,a[2]),F(a[3],j,a[4]),i,j,k);\n  }  while (next_permutation(a + 1, a + 5));\n  puts(\"No answer!\");\n  return 0;\n}\n```\nDFS\u7a0b\u5e8f\u4e5f\u53ef\u4ee5\uff0c\u5c31\u4e0d\u8d34\u4e86\n",
        "postTime": 1575306800,
        "uid": 34573,
        "name": "razx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "[$\\color{blue}\\texttt{Link:\u849f\u84bb\u7684Blog}$](https://blog.csdn.net/SSL_ZYC/article/details/88750950)\n\n\u770b\u5230\u5f88\u591a\u4eba\u7684\u4ee3\u7801\u90fd\u88ab$hack$\u4e86\u3002\u8fd9\u91cc\u7ed9\u51fa\u4e00\u79cd$100\\%$\u4e0d\u4f1a\u88ab$hack$\u7684\u65b9\u6cd5\u3002\n\n~~\u81f3\u5c11\u73b0\u5728\u6240\u6709\u770b\u5230\u7684hack\u6570\u636e\u90fd\u53ef\u4ee5\u8fc7~~\n\n\u5927\u4f53\u7684\u6d41\u7a0b\u662f\u8fd9\u6837\u7684\uff1a\n\n 1. \u5728\u6240\u6709\u53ef\u9009\u6570\u5b57\u4e2d\u9009\u62e9\u800c\u5df2\u4e24\u4e2a\n \n 2. \u679a\u4e3e\u5728\u8fd9\u4e24\u4e2a\u6570\u5b57\u4e2d\u9009\u62e9\u4ec0\u4e48\u8fd0\u7b97\u7b26\n \n 3. \u6c42\u51fa\u7ed3\u679c\u5e76\u8bb0\u5f55\n \n 4. \u628a\u8fd9\u4e24\u4e2a\u6570\u5b57\u5220\u9664\uff0c\u628a\u7ed3\u679c\u6254\u5230\u53ef\u4ee5\u9009\u62e9\u7684\u6570\u5b57\u4e2d\n \n 5. \u56de\u52301\n \n\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u679a\u4e3e\u4e86\u6240\u6709\u7684\u9009\u62e9\u60c5\u51b5\uff0c\u4e0d\u4f1a\u6f0f\u6389\u4efb\u4f55\u4e00\u4e2a\u89e3\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(\\Pi^{4}_{i=2}(C^{2}_{i}\\times 4))$\u3002\u53cd\u6b63\u975e\u5e38\u5c0f\u5c31\u662f\u4e86\u3002\n\n\u4ee3\u7801\u4e11\u7684\u4e00\u6279$qwq$\n\n\u6c42$hack$\n\n```cpp\n#include <cstdio>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\n\nint a[5],ans[4][4];\nbool ok;\n\nvoid print()  //\u8f93\u51fa\n{\n    for (int i=1;i<=3;i++)\n    {\n    \tif (ans[i][1]<ans[i][3])\n\t\t\tswap(ans[i][1],ans[i][3]);  //\u6ce8\u610f\u9898\u76ee\u4e2d\u8bf4\u4e24\u4e2a\u6570\u5fc5\u987b\u5148\u8f93\u51fa\u5927\u7684\u518d\u8f93\u51fa\u5c0f\u7684\n        printf(\"%d\",ans[i][1]);  //\u8f93\u51fa\u7b2c\u4e00\u4e2a\u6570\u5b57\n        if (ans[i][2]==1) printf(\"+\");\n        if (ans[i][2]==2) printf(\"-\");\n        if (ans[i][2]==3) printf(\"*\");\n        if (ans[i][2]==4) printf(\"/\");  //\u8f93\u51fa\u8fd0\u7b97\u7b26\u53f7\n        printf(\"%d\",ans[i][3]);\n        if (ans[i][2]==1) printf(\"=%d\\n\",ans[i][1]+ans[i][3]);\n        if (ans[i][2]==2) printf(\"=%d\\n\",ans[i][1]-ans[i][3]);\n        if (ans[i][2]==3) printf(\"=%d\\n\",ans[i][1]*ans[i][3]);\n        if (ans[i][2]==4) printf(\"=%d\\n\",ans[i][1]/ans[i][3]);  //\u8f93\u51fa\u7ed3\u679c\n    }\n}\n\nbool check()  //\u5224\u65ad\u662f\u5426\u7ec4\u6210\u4e8624\n{\n    for (int i=1;i<=4;i++)\n        if (a[i]==24) return 1;\n    return 0;\n}\n\nvoid dfs(int k)\n{\n    if (k==4)  //\u641c\u7d22\u5b8c\u6bd5\n    {\n        if (check())\n        {\n            print();\n            ok=1;\n        }\n        return;\n    }\n    int x,y;\n    for (int i=1;i<=4;i++)\n        for (int j=1;j<=4;j++)  //\u679a\u4e3e\u4e24\u4e2a\u6570\u5b57\n            if (i!=j&&a[i]>0&&a[j]>0)\n            {\n                ans[k][1]=a[i];  //\u52a0\n                ans[k][2]=1;\n                ans[k][3]=a[j];\n                x=a[i],y=a[j];\n                a[i]=x+y;\n                a[j]=-1;\n                dfs(k+1);\n                a[i]=x;\n                a[j]=y;\n                if (ok) return;\n                \n                ans[k][1]=a[i];  //\u51cf\n                ans[k][2]=2;\n                ans[k][3]=a[j];\n                x=a[i],y=a[j];\n                a[i]=x-y;\n                a[j]=-1;\n                dfs(k+1);\n                a[i]=x;\n                a[j]=y;\n                if (ok) return;\n                \n                ans[k][1]=a[i];  //\u4e58\n                ans[k][2]=3;\n                ans[k][3]=a[j];\n                x=a[i],y=a[j];\n                a[i]=x*y;\n                a[j]=-1;\n                dfs(k+1);\n                a[i]=x;\n                a[j]=y;\n                if (ok) return;\n                \n                if (a[j]>0&&a[i]%a[j]==0)  //\u9664\uff0c\u6ce8\u610f\u8981\u5224\u65ad\u80fd\u5426\u6574\u9664\n                {\n                    ans[k][1]=a[i];\n                    ans[k][2]=4;\n                    ans[k][3]=a[j];\n                    x=a[i],y=a[j];\n                    a[i]=x/y;\n                    a[j]=-1;\n                    dfs(k+1);\n                    a[i]=x;\n                    a[j]=y;\n                    if (ok) return;\n                }\n            }\n}\n\nint main()\n{\n    scanf(\"%d%d%d%d\",&a[1],&a[2],&a[3],&a[4]);\n    dfs(1);\n    if (!ok) cout<<\"No answer!\";\n    return 0;\n}\n\n```\n",
        "postTime": 1566217518,
        "uid": 53962,
        "name": "stoorz",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u770b\u5230\u524d\u9762\u9898\u89e3\u53ea\u7ed9\u4e86\u6807\u7a0b\u5374\u6ca1\u6709\u7ed9\u51fa\u6613\u9519\u7684\u5730\u65b9\uff0c\u6211\u51b3\u5b9a\u5199\u7bc7\u9898\u89e3\u6765\u8865\u5145\u4e00\u4e0b\uff0c\u987a\u4fbf\u7ed9\u51e0\u7ec4\u81ea\u521b\u6570\u636e\u6765\u5e2e\u5927\u5bb6\u68c0\u9a8c\u7a0b\u5e8f\u3002\n\n\u6b64\u9898\u4e0d\u9700\u8981\u4f18\u5316\uff0c\u76f4\u63a5\u66b4\u641c\u3002\n\n\u6211\u7684\u601d\u8def\u662f\u4ece\u5269\u4e0b\u7684\u6570\u4e2d\u4e0d\u65ad\u679a\u4e3e2\u4e2a\u6570\uff0c\u4e00\u4e00\u5c1d\u8bd5\u52a0\u51cf\u4e58\u9664\u56db\u5219\u8fd0\u7b97\u3002\u9898\u76ee\u8981\u6c42\u4ece\u8f83\u5927\u6570\u5f00\u59cb\u8f93\u51fa\uff0c\u6211\u5c31\u8981\u6c42\u8fd0\u7b97\u65f6\u524d\u4e00\u4e2a\u91cf\u5927\u4e8e\u7b49\u4e8e\uff08\u4e00\u5b9a\u8981\u52a0\u201c\u7b49\u4e8e\u201d\uff01\u5426\u521960\u5206\uff01\uff09\u540e\u4e00\u4e2a\u91cf\u3002\u7136\u540e\u5c06\u7ed3\u679c\u5b58\u5728\u8f83\u5927\u91cf\u4e2d\uff0c\u5e76\u8bbe\u8f83\u5c0f\u91cf\u4e3a\u5df2\u8bbf\u95ee\u3002\u8df3\u8fc7\u5df2\u8bbf\u95ee\u7684\u6570\uff0c\u4e0d\u65ad\u4ece\u7b2c\u4e00\u4e2a\u6570\u641c\u5230\u7b2c\u56db\u4e2a\u6570\u641e\u8fd0\u7b97\uff0c\u987a\u4fbf\u5c06\u8fd0\u7b97\u7b26\u53f7\u548c\u8fd0\u7b97\u7684\u4e24\u4e2a\u91cf\u5b58\u8d77\u6765\u3002\u5f53\u53ea\u5269\u6700\u540e\u4e00\u4e2a\u672a\u8bbf\u95ee\u6570\u65f6\uff0c\u82e5\u5176\u4e3a24\uff0c\u8f93\u51fa\u5373\u53ef\u3002\n\n\u601d\u8def\u5f88\u7b80\u5355\uff0c\u4f46\u5f88\u591a\u5c0f\u7ec6\u8282\uff0c\u503c\u5f97\u6ce8\u610f\u3002\n\n\u6613\u9519\u70b9\uff1a\n\n1\u3001\u5f534\u4e2a\u6570\u4e2d\u51fa\u73b0\u4e24\u4e2a\u53ca\u4ee5\u4e0a\u76f8\u540c\u6570\u65f6\uff0c\u6ce8\u610f\u4e24\u6570\u76f8\u540c\u4e5f\u53ef\u4ee5\u8fdb\u884c\u8fd0\u7b97\uff0c**\u4f46\u5fc5\u987b\u4fdd\u8bc1\u8fd0\u7b97\u7684\u4e24\u4e2a\u91cf\u4e0b\u6807\u4e0d\u540c**\u3002\uff08get60\u5206\uff09\n\n\u8f93\u5165\uff1a2 2 2 4   \u8f93\u51fa\uff1a2+2=4  4+2=6  6\\*4=24\n\n2\u3001\u8fd0\u7b97\u4e2d\u5fc5\u987b\u4fdd\u8bc1\u53ea\u6709\u6574\u9664\uff08\u65e0\u4f59\u6570\uff09\u3002\n\n3\u3001\u5f97\u51fa\u768424\u53ef\u4ee5\u57284\u4e2a\u6570\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a\uff08\u8981\u628a\u56db\u4e2a\u6570\u5168\u641c\u4e00\u904d\uff09\n\n4\u3001\u8fd0\u7b97\u4e2d\u4e0d\u80fd\u51fa\u73b00\u548c\u8d1f\u6570\uff08\u7279\u5224\u89e3\u51b3\uff09\u3002\n\n5\u3001\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e24\u4e2a\u6570\u53cd\u590d\u8fd0\u7b97\uff08\u5373\u6700\u540e\u7ed3\u679c\u88ab\u8bbe\u4e3a\u5df2\u8bbf\u95ee\uff09\uff0c\u6b64\u65f6\u7279\u5224\u6700\u540e\u7ed3\u679c\u672a\u8bbf\u95ee\u5373\u53ef\uff08get70\u5206\uff09\u3002\n\n6\u3001\u5fc5\u987b\u4fdd\u8bc124\u662f\u6700\u540e\u4e00\u6b65\u7b97\u51fa\u6765\u7684\uff08\u5728\u8fd0\u7b97\u51fa\u7ed3\u679c\u65f6\u5224\u65ad\uff0c\u82e5\u4e3a24\u5219return\uff0cget100\u5206\uff09\u3002\n\n\u8f93\u5165\uff1a1 2 4 6  \u8f93\u51fa:2-1=1  4\\*1=4  6\\*1=24\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<cmath>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint a[4]={},vis[4]={},fh[4]={},a1[4]={},a2[4]={},f=0;//a\u7528\u6765\u5b584\u4e2a\u6570\uff0cvis\u7528\u6765\u5b58\u8be5\u6570\u662f\u5426\u8bbf\u95ee\u8fc7\uff08\u53c2\u4e0e\u8fd0\u7b97\u8fc7\uff09\uff0cfh\u5b58\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\u7684\u7b26\u53f7\uff0ca1\u5b58\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\u7684\u8f83\u5927\u91cf\uff0ca2\u5b58\u8f83\u5c0f\u91cf\uff08\u8fd0\u7b97\u7ed3\u679c\u53ef\u4ee5\u4e0d\u5b58\uff09\nvoid check()//\u5224\u65ad+\u8f93\u51fa\u8fc7\u7a0b\n{\n  for(int i=0;i<4;i++)\n    if(a[i]==24) {f=1;break;}\n  if(f==1)\n  {\n    for(int i=0;i<3;i++)\n    {\n      cout<<a1[i];\n      if(fh[i]==1) cout<<\"+\"<<a2[i]<<\"=\"<<a1[i]+a2[i]<<endl;\n      if(fh[i]==2) cout<<\"-\"<<a2[i]<<\"=\"<<a1[i]-a2[i]<<endl;\n      if(fh[i]==3) cout<<\"*\"<<a2[i]<<\"=\"<<a1[i]*a2[i]<<endl;\n      if(fh[i]==4) cout<<\"/\"<<a2[i]<<\"=\"<<a1[i]/a2[i]<<endl;\n    }\n    exit(0);\n  }\n}\nvoid dfs(int t)//t\u6307\u73b0\u5728\u8fd8\u5269\u51e0\u4e2a\u6570\n{\n  if(t==1) {check();return;}\n  if(t>1)\n    for(int i=0;i<4;i++)\n      if(a[i]==24) return;\n  for(int i=0;i<4;i++)\n    for(int j=0;j<4;j++)\n      if(vis[j]==0&&a[i]>=a[j]&&i!=j)//\u4e24\u6570\u76f8\u540c\u5fc5\u987b\u4fdd\u8bc1\u4e24\u6570\u4e0b\u6807\u4e0d\u540c\n      {\n        a1[4-t]=a[i];\n        a2[4-t]=a[j];//\u50a8\u5b58\u8fd0\u7b97\u8fc7\u7a0b\uff08\u4e0b\u4e0b\u884c\u4e5f\u662f\uff09\n    a[i]=a[i]+a[j];\n        vis[j]=1;\n        fh[4-t]=1;\n        if(a[i]>0&&vis[i]==0) dfs(t-1);\n        vis[j]=0;\n        a[i]-=a[j];//\u56de\u6eaf\uff08\u52a0\uff09\n        a1[4-t]=a[i];\n        a2[4-t]=a[j];\n        a[i]=a[i]-a[j];\n        vis[j]=1;\n        fh[4-t]=2;\n        if(a[i]>0&&vis[i]==0) dfs(t-1);\n        vis[j]=0;\n        a[i]+=a[j];//\u51cf\n        a1[4-t]=a[i];\n        a2[4-t]=a[j];\n        a[i]=a[i]*a[j];\n        vis[j]=1;\n        fh[4-t]=3;\n        if(a[i]>0&&vis[i]==0) dfs(t-1);\n        vis[j]=0;\n        a[i]/=a[j];//\u4e58\n        if(a[i]%a[j]==0)\n        {\n          a1[4-t]=a[i];\n          a2[4-t]=a[j];\n          a[i]=a[i]/a[j];\n          vis[j]=1;\n          fh[4-t]=4;\n          if(a[i]>0&&vis[i]==0) dfs(t-1);\n          vis[j]=0;\n          a[i]*=a[j];//\u9664\n        }\n      }\n}\nint main()\n{\n  int i,j,k;\n  for(i=0;i<4;i++)\n    cin>>a[i];\n  dfs(4);\n  if(f==0) cout<<\"No answer!\"<<endl;\n  return 0;\n}\nps\uff1a\u6253\u5b8c\u9898\u89e3\u65f6\u6211\u7a81\u7136\u53d1\u73b0\u6211\u7684AC\u7a0b\u5e8f\u8f93\u51651 1 1 24\u65f6\u4f1a\u8f93No answer\uff01\uff0c\u4f46\u9898\u76ee\u9650\u5b9a\u4e864\u4e2a\u6570\u662f\u57289\u4ee5\u5185\u7684\u81ea\u7136\u6570\uff0c\u4e8e\u662f\u6211\u5c31\u6ca1\u7ba1\u4e86\u3002\n```",
        "postTime": 1500107331,
        "uid": 21534,
        "name": "ysner",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "## \u89e3\u9898\u601d\u8def\n- \u8fd9\u662f\u4e00\u9053\u5341\u5206\u73c2\u6015\u7684\u6a21\u62df\u9898\uff0c\u5bb9\u6613\u8c03\u5230\u5fc3\u6001\u7206\u70b8\uff0c\u53d1\u73b0\u5176\u4ed6\u4eba\u90fd\u662f\u7528\u641c\u7d22\u5199\u7684\u3002\u5b9e\u9645\u4e0a\u672c\u9898\u73c2\u4ee5\u4e0d\u7528\u641c\u7d22\uff0c\u53ea\u9700\u8981\u7528$STL$\u4e2d\u7684**next_permutation**\u51fd\u6570\u4ee5\u53ca$for$\u5faa\u73af\u66b4\u529b\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u60c5\u51b5\uff0c\u627e\u5230\u7b54\u6848\u3002\n\n- \u5173\u4e8e$STL$\u4e2d\u7684**next_permutation**\u51fd\u6570\uff0c\u6c42\u7684\u662f\u5f53\u524d\u5e8f\u5217\u7684\u4e0b\u4e00\u4e2a\u5168\u6392\u5217\uff0c\u4e14\u5177\u6709\u53bb\u91cd\u529f\u80fd\uff0c\u5982\u679c\u5df2\u7ecf\u662f\u6700\u540e\u4e00\u4e2a\u5168\u6392\u5217\uff0c\u5c31\u4f1a\u8fd4\u56de$false$\uff0c\u4e00\u822c\u4e0e$while$\u5faa\u73af\u548c$do-while$\u5faa\u73af\u4e00\u8d77\u4f7f\u7528\u3002\n\n- \u8003\u8651\u6dfb\u52a0\u62ec\u53f7\u7684\u60c5\u51b5\uff0c\u5047\u8bbe**?**\u4e3a\u8fd0\u7b97\u7b26\uff0c\u4e00\u5171\u53ea\u6709$5$\u79cd\uff1a\n\n> 1.((a?b)?c)?d\n\n> 2.(a?(b?c))?d\n\n> 3.a?((b?c)?d)\n\n> 4.(a?b)?(c?d)\n\n> 5.a?(b?(c?d))\n\n\n- \u5f53\u7136\u672c\u9898\u4e5f\u6709\u597d\u51e0\u4e2a\u5751\u70b9~~\uff08\u8c03\u4e86\u6211\u597d\u4e45\uff09~~\n\n> 1.\u8fd0\u7b97\u8fc7\u7a0b\u4e2d\u4e0d\u80fd\u51fa\u73b0$0$\u548c\u5c0f\u6570\n\n> 2.\u5982\u679c\u4e24\u4e2a\u64cd\u4f5c\u6570\u6709\u5927\u5c0f\u7684\u8bdd\u5219\u5148\u8f93\u51fa\u5927\u7684\u3002\n\n> 3.\u4e0d\u80fd\u6574\u9664\u6216\u8005\u9664\u6570\u4e3a$0$\n\n### ~~\u4e0d\u670d\u6765X~~\n\n\n------------\n\n## \u793a\u4f8b\u4ee3\u7801\n\n```cpp\n/*\nLanguage:C++\nAuthor:xuxing\n*/\n#include <bits/stdc++.h>\nusing namespace std;\n\nint a[5];\n\nint calc(int n, int x, int y) {//\u8ba1\u7b97\u51fd\u6570\uff0c\u6ce8\u610f\u7279\u5224\u51fa\u73b00\u7684\u60c5\u51b5\uff0c\u5982\u679c\u51fa\u73b0\uff0c\u8fd4\u56de\u4e00\u4e2a\u6781\u5c0f\u503c\u5373\u53ef\n\tswitch (n) {\n\t\tcase 1 : { return x + y == 0 ? -10000 : x + y; }\n\t\tcase 2 : { return x - y == 0 ? -10000 : x - y; }\n\t\tcase 3 : { return x * y == 0 ? -10000 : x * y; }\n\t\tcase 4 : { return (y == 0 || x < y || x % y != 0) ? -10000 : x / y; }\n\t}\n}\n\nchar output(int n) {//\u8f93\u51fa\u8fd0\u7b97\u7b26\n\tswitch (n) {\n\t\tcase 1 : { return '+'; }\n\t\tcase 2 : { return '-'; }\n\t\tcase 3 : { return '*'; }\n\t\tcase 4 : { return '/'; }\n\t}\n}\n\nint main() {\n\tfor (int i = 1; i <= 4; i++) scanf(\"%d\", &a[i]);\n\tsort(a + 1, a + 5);//\u4f7f\u7528\u5168\u6392\u5217\u51fd\u6570\u524d\u5148\u6392\u5e8f\uff0c\u4fdd\u8bc1\u904d\u5386\u6240\u6709\u60c5\u51b5\n\tdo {\n\t\tfor (int i = 1; i <= 4; i++) {\n\t\t\tfor (int j = 1; j <= 4; j++) {\n\t\t\t\tfor (int k = 1; k <= 4; k++) {//\u66b4\u529b\u679a\u4e3e3\u4e2a\u8fd0\u7b97\u7b26\n\t\t\t\t\tif (calc(i, calc(j, calc(k, a[1], a[2]), a[3]), a[4]) == 24) {\n\t\t\t\t\t\tif (a[1] < a[2] || calc(k, a[1], a[2]) < a[3] || calc(j, calc(k, a[1], a[2]), a[3]) < a[4])//\u4fdd\u8bc1\u64cd\u4f5c\u6570\u7684\u5927\u5c0f\u987a\u5e8f\uff0c\u4e0b\u540c\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[1], output(k), a[2], calc(k, a[1], a[2]));\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", calc(k, a[1], a[2]), output(j), a[3], calc(j, calc(k, a[1], a[2]), a[3]));\n\t\t\t\t\t\tprintf(\"%d%c%d=24\\n\", calc(j, calc(k, a[1], a[2]), a[3]), output(i), a[4]);\n\t\t\t\t\t\treturn 0;//\u7a0b\u5e8f\u76f4\u63a5\u7ed3\u675f\uff0c\u4e0b\u540c\n\t\t\t\t\t\t//((a?b)?c)?d\n\t\t\t\t\t}\n\t\t\t\t\tif (calc(i, calc(j, a[1], calc(k, a[2], a[3])), a[4]) == 24) {\n\t\t\t\t\t\tif (a[2] < a[3] || a[1] < calc(k, a[2], a[3]) || calc(j, a[1], calc(k, a[2], a[3])) < a[4])\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[2], output(k), a[3], calc(k, a[2], a[3]));\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[1], output(j), calc(k, a[2], a[3]), calc(j, a[1], calc(k, a[2], a[3])));\n\t\t\t\t\t\tprintf(\"%d%c%d=24\\n\", calc(j, a[1], calc(k, a[2], a[3])), output(i), a[4]);\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t//(a?(b?c))?d\n\t\t\t\t\t}\n\t\t\t\t\tif (calc(i, a[1], calc(j, calc(k, a[2], a[3]), a[4])) == 24) {\n\t\t\t\t\t\tif (a[2] < a[3] || calc(k, a[2], a[3]) < a[4] || a[1] < calc(j, calc(k, a[2], a[3]), a[4]))\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[2], output(k), a[3], calc(k, a[2], a[3]));\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", calc(k, a[2], a[3]), output(j), a[4], calc(j, calc(k, a[2], a[3]), a[4]));\n\t\t\t\t\t\tprintf(\"%d%c%d=24\\n\", a[1], output(i), calc(j, calc(k, a[2], a[3]), a[4]));\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t//a?((b?c)?d)\n\t\t\t\t\t}\n\t\t\t\t\tif (calc(i, calc(j, a[1], a[2]), calc(k, a[3], a[4])) == 24) {\n\t\t\t\t\t\tif (a[1] < a[2] || a[3] < a[4] || calc(j, a[1], a[2]) < calc(k, a[3], a[4]))\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[1], output(j), a[2], calc(j, a[1], a[2]));\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[3], output(k), a[4], calc(k, a[3], a[4]));\n\t\t\t\t\t\tprintf(\"%d%c%d=24\\n\", calc(j, a[1], a[2]), output(i), calc(k, a[3], a[4]));\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t//(a?b)?(c?d)\n\t\t\t\t\t}\n\t\t\t\t\tif (calc(i, a[1], calc(j, a[2], calc(k, a[3], a[4]))) == 24) {\n\t\t\t\t\t\tif (a[3] < a[4] || a[2] < calc(k, a[3], a[4]) || a[1] < calc(j, a[2], calc(k, a[3], a[4])))\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[3], output(k), a[4], calc(k, a[3], a[4]));\n\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", a[2], output(j), calc(k, a[3], a[4]), calc(j, a[2], calc(k, a[3], a[4])));\n\t\t\t\t\t\tprintf(\"%d%c%d=24\\n\", a[1], output(i), calc(j, a[2], calc(k, a[3], a[4])));\n\t\t\t\t\t\treturn 0;\n\t\t\t\t\t\t//a?(b?(c?d))\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} while (next_permutation(a + 1, a + 5));//\u6c42\u6240\u6709\u5168\u6392\u5217\n\tputs(\"No answer!\");//\u4e0d\u8981\u5fd8\u8bb0\u65e0\u89e3\u7684\u60c5\u51b5\n\treturn 0;\n}\n```",
        "postTime": 1546949252,
        "uid": 32139,
        "name": "Heartlessly",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u672c\u9898\u5f3a\u70c8\u5f15\u8d77\u6211\u8eab\u4f53\u4e0d\u9002\u3002\u6240\u4ee5\u8fd9\u91cc\u63d0\u4f9b\u4e00\u79cd\u6b63\u786e\u4f46\u5f88\u66b4\u529b\u7684\u601d\u8def\u3002\n\n\u641c\u7d22\u7684\u4f7f\u7528\u4f20\u9012\u4e00\u4e2a$vector$\uff0c\u8868\u793a\u73b0\u5728\u6709\u54ea\u4e9b\u6570\u3002\u8fd9\u6837\u5c31\u9632\u6b62\u88ab\u4e00\u4e9b\u5982$(a-c)*(b+d)$\u7684\u7b54\u6848\u5361\u6389\u3002\u6bcf\u6b21\u641c\u7d22\u968f\u4fbf\u9009\u4e24\u4e2a\u6570\u8fdb\u884c\u56db\u79cd\u8fd0\u7b97\u3002\n\n\u641c\u7d22\u7684\u6838\u5fc3\u4ee3\u7801\u5927\u6982\u662f\u8fd9\u6837\uff1a\uff08\u4ee5\u52a0\u6cd5\u4e3a\u4f8b\uff09\n\n```cpp\nvector<int> nxt; \nfor(int i = 0; i < v.size(); i ++) { //\u679a\u4e3e\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570\n\tfor(int j = 0; j < v.size(); j ++) { //\u679a\u4e3e\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\n\t\tif(i == j) continue ;\n\t\tint a = v[i], b = v[j];\n\t\tnxt.clear(); //\u6e05\u7a7avector\n\t\tnxt.push_back(a + b); //\u52a0\u6cd5\u7684\u7ed3\u679c\n\t\tfor(int k = 0; k < v.size(); k ++) //\u628a\u5269\u4e0b\u7684\u7ee7\u7eed\u653e\u8fdb\u53bb\n\t\t\tif(k != i && k != j) nxt.push_back(v[k]);\n\t\tif(dfs(k + 1, nxt)) { //\u627e\u5230\u89e3\n\t\t\tsprintf(ans[pt ++], \"%d%c%d=%d\\n\", max(a, b), '+', min(a, b), a + b);\n\t\t\treturn true ;\n\t\t}\n\t}\n}\n```\n\n\u4ee3\u7801\u5b9e\u73b0\u4e0a\u6709\u4e24\u4e2a\u6280\u5de7\uff0c\u80fd\u591f\u7cbe\u7b80\u4ee3\u7801\u3002\n\n\u7b2c\u4e00\u4e2a\u662f$sprintf$\uff0c\u6253\u5370\u5230\u5b57\u7b26\u4e32\uff0c\u56e0\u4e3a\u672c\u9898\u4f7f\u7528\u641c\u7d22\u9700\u8981\u9006\u5e8f\u8f93\u51fa\u3002\n\n\u7b2c\u4e8c\u4e2a\u662f\u5b8f\u5b9a\u4e49\u3002\u8003\u8651\u5230\u56db\u5219\u8fd0\u7b97\u90fd\u5dee\u4e0d\u591a\uff0c\u5b8f\u5b9a\u4e49\u4e00\u4e0b$Q\\omega Q$\u3002\uff08\u8fd9\u4e2a\u597d\u50cf\u8fd8\u6ca1\u4eba\u7528\u5462\uff09\n\n```cpp\n#include <vector>\n#include <cstdio>\nusing namespace std;\n\n#define work(opt) nxt.clear();\\\n\t\t\tnxt.push_back(a opt b);\\\n\t\t\tfor(int k = 0; k < v.size(); k ++)\\\n\t\t\t\tif(k != i && k != j) nxt.push_back(v[k]);\\\n\t\t\tif(dfs(k + 1, nxt)) {\\\n\t\t\t\tsprintf(ans[pt ++], \"%d\"#opt\"%d=%d\\n\", max(a, b), min(a, b), a opt b);\\\n\t\t\t\treturn true ;\\\n\t\t\t}\n//work\u662f\u5c1d\u8bd5\u4e00\u79cd\u64cd\u4f5c \nint a[4], pt;\nchar ans[5][101];\n\nbool dfs(int k, const vector<int> & v) {\n\tif(k == 3) return v.size() == 1 && v[0] == 24; //\u6210\u529f \n\tif(v.size() <= 1) return false ;               //\u5982\u679c\u7ecf\u8fc71~2\u6b65\u5c31\u5f97\u523024\u5219\u5931\u8d25 \n\tvector<int> nxt;                               //\u4e0b\u4e00\u4e2a\u72b6\u6001 \n\tfor(int i = 0; i < v.size(); i ++) {           //\u679a\u4e3e\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570 \n\t\tfor(int j = 0; j < v.size(); j ++) {      //\u679a\u4e3e\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570 \n\t\t\tif(i == j) continue ;\n\t\t\tint a = v[i], b = v[j];\n\t\t\twork(+); //\u5c1d\u8bd5 +-*/\n\t\t\tif(a > b) {work(-)}\n\t\t\twork(*);\n\t\t\tif(a % b == 0) {work(/)}\n\t\t}\n\t}\n\treturn false ;\n}\n\nint main() {\n\tscanf(\"%d%d%d%d\", &a[0], &a[1], &a[2], &a[3]);\n\tvector<int> s;\n\tfor(int i = 0; i < 4; i ++)\n\t\ts.push_back(a[i]);\n\tif(!dfs(0, s)) puts(\"No answer!\");\n\telse for(int i = pt - 1; ~ i; i --)\n\t\t\tprintf(ans[i]);\n\treturn 0;\n}\n```\n43\u884c\u3002\u3002\u5feb\u4e50\u3002\u3002\n\n\uff08500\u884c\u7684\u90a3\u4f4d\u795e\u7287\u7ed9\u8dea\u4e86Orz\uff09",
        "postTime": 1538381639,
        "uid": 20375,
        "name": "hongzy",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u8fd9\u9898\u7684\u57fa\u672c\u601d\u8def\u5f88\u7b80\u5355\uff0c\u66b4\u529b\u3002\n\n\u5bf9\u4e8e\u56db\u4e2a\u6570\uff0c\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u5f0f\u5b50\uff0c\u7136\u540e\u770b\u7ed3\u679c\u662f\u4e0d\u662f24\u3002\n\n\u4f46\u662f\u5f0f\u5b50\u600e\u4e48\u4e0d\u91cd\u4e0d\u6f0f\u5730\u679a\u4e3e\u5462\uff1f\n\n\u6709\u4e00\u4e2a\u795e\u5947\u7684\u4e1c\u897f\u53eb\u540e\u7f00\u8868\u8fbe\u5f0f\uff08\u53c8\u79f0\u9006\u6ce2\u5170\u8868\u8fbe\u5f0f\uff09\n\n\u5f15\u7528\u4e00\u4e0b\u767e\u79d1\u4e0a\u7684\u5b9a\u4e49\uff1a\n\n\u540e\u7f00\u8868\u8fbe\u5f0f\uff0c\u6307\u7684\u662f\u4e0d\u5305\u542b\u62ec\u53f7\uff0c\u8fd0\u7b97\u7b26\u653e\u5728\u4e24\u4e2a\u8fd0\u7b97\u5bf9\u8c61\u7684\u540e\u9762\uff0c\u6240\u6709\u7684\u8ba1\u7b97\u6309\u8fd0\u7b97\u7b26\u51fa\u73b0\u7684\u987a\u5e8f\uff0c\u4e25\u683c\u4ece\u5de6\u5411\u53f3\u8fdb\u884c\uff08\u4e0d\u518d\u8003\u8651\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u89c4\u5219\uff09\u3002\n\n\u8b6c\u5982\uff0c\u5bf9\u4e8e\u6837\u4f8b\uff0c\u4e00\u79cd\u53ef\u884c\u7684\u89e3\u662f(2+1)*7+3\uff0c\u8f6c\u6362\u6210\u540e\u7f00\u8868\u8fbe\u5f0f\u5c31\u662f\n\n2 1 + 7 * 3 +\n\n\u540e\u7f00\u8868\u8fbe\u5f0f\u7684\u8ba1\u7b97\u7684\u8bdd\u662f\u7528\u4e00\u4e2a\u6808\uff0c\u9047\u5230\u6570\u5b57\u5c31push\uff0c\u9047\u5230\u8fd0\u7b97\u7b26\u5c31pop\u6808\u9876\u524d\u4e24\u4e2a\u6570\u8fdb\u884c\u8fd0\u7b97\u5e76\u5c06\u7ed3\u679c\u5165\u6808\n\n\u7b972 1 + 7 * 3 +\uff0c\u51482,1\u5165\u6808\uff0c\u9047\u5230\u52a0\u53f7\uff0c\u5f392,1\uff0c\u51653\uff08\u53732+1\u7684\u7ed3\u679c\uff09\uff0c\u7136\u540e\u51657\uff0c\u9047\u5230\u4e58\u53f7\uff0c\u5f393,7,\u516521\uff08\u53733\u00d77\uff09\u7684\u7ed3\u679c\uff0c\u7136\u540e\u51653\uff0c\u9047\u5230\u52a0\u53f7\uff0c\u5f393,21\uff0c\u6700\u540e\u516524\uff083+21\u7684\u7ed3\u679c\uff09\uff0c\u626b\u5230\u6700\u540e\u6808\u91cc\u53ea\u5269\u4e00\u4e2a\u5143\u7d20\uff0c\u5c31\u662f\u7ed3\u679c\u3002\n\n\u4f7f\u7528\u540e\u7f00\u8868\u8fbe\u5f0f\u7684\u597d\u5904\u662f\u8fd0\u7b97\u65b9\u4fbf\uff0c\u5f00\u4e2a\u6808\u626b\u4e00\u904d\u5c31\u51fa\u7b54\u6848\uff0c\u5982\u679c\u662f\u5904\u7406\u6211\u4eec\u5e73\u5e38\u7684\u90a3\u79cd\u7684\u5f0f\u5b50\uff08\u4e2d\u7f00\u8868\u8fbe\u5f0f\uff09\uff0c\u8fd8\u8981\u8003\u8651\u62ec\u53f7\u4f18\u5148\u7ea7\uff0c\u800c\u4e14\u7528\u540e\u7f00\u8868\u8fbe\u5f0f\u679a\u4e3e\u8d77\u6765\u4e5f\u65b9\u4fbf\u3002\n\n\u6709\u56db\u4e2a\u64cd\u4f5c\u6570\uff0c\u5047\u8bbe\u662fa,b,c,d\uff0c\u5047\u8bbe\u5728\u540e\u7f00\u8868\u8fbe\u5f0f\u4e2d\u987a\u5e8f\u5df2\u77e5\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u57284\u4e2a\u6570\u4e2d\u95f4\u548c\u56db\u4e2a\u6570\u7684\u540e\u9762\u63d2\u5165\u7b26\u53f7\u6784\u6210\u540e\u7f00\u8868\u8fbe\u5f0f\n\na b _ c _ _ d _ _ _\n\n\u4e0a\u9762\u753b\u4e0b\u5212\u7ebf\u7684\u5730\u65b9\u53ef\u80fd\u6709+-*/\uff0c\u4e5f\u53ef\u80fd\u6ca1\u6709\u8fd0\u7b97\u7b26\u3002\n\n6\u4e2a\u4f4d\u7f6e\uff0c\u6bcf\u4e2a\u4f4d\u7f6e\u67095\u79cd\u72b6\u6001(\u4e0d\u586b\u8fd0\u7b97\u7b26\u6216\u586b+-*/)\uff0c\u6211\u4eec\u53ea\u8981\u679a\u4e3e\u6240\u6709\u53ef\u80fd\u7684\u7b26\u53f7\u586b\u5199\u65b9\u5f0f\u7136\u540e\u518d\u7b97\u51fa\u8868\u8fbe\u5f0f\u7ed3\u679c\u7136\u540e\u5224\u65ad\u662f\u4e0d\u662f24\u5c31\u4e07\u4e8b\u5927\u5409\u4e86\u3002\n\n\u6211\u4eec\u53ef\u4ee5\u4f7f\u75286\u4f4d\u4e94\u8fdb\u5236\u6570\u8868\u793a\u53ef\u80fd\u7684\u7b26\u53f7\u586b\u5199\u65b9\u5f0f\uff0c\u4e94\u8fdb\u5236\u4e0b\u7b2ci\u4f4d\u8868\u793a\u4ece\u5de6\u5230\u53f3\u7b2ci\u4f4d\u53ef\u4ee5\u586b\u7b26\u53f7\u7684\u5730\u65b9\u586b\u7684\u5185\u5bb9\uff0c0\u5bf9\u5e94\u4e0d\u586b\uff0c1\u5bf9\u5e94+\uff0c2\u5bf9-\uff0c3\u5bf9*\uff0c4\u5bf9/\u3002\n\n\u6bd4\u5982\uff0c5\u8fdb\u5236\u4e0b120300\u5c31\u8868\u793a\n\na b + c - (\u7a7a) d * (\u7a7a) (\u7a7a)\n\n\u6211\u4eec\u53ef\u4ee5\u4ece5\u8fdb\u5236\u4e0b000000\u679a\u4e3e\u52305\u8fdb\u4e0b444444\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u641e\u51fa\u6765\u7684\u540e\u7f00\u8868\u8fbe\u5f0f\uff0c\u5f9724\u5c31\u51fa\u89e3\uff0c\u6ca1\u670924\u5c31\u91cd\u65b0\u6392\u52174\u4e2a\u64cd\u4f5c\u6570\uff0c\u5982\u679c\u6240\u6709\u53ef\u80fd\u65b9\u6848\u90fd\u4e0d\u884c\uff0c\u5c31\u662f\u65e0\u89e3\u3002\n\n\u4e00\u4e9b\uff08\u7ec6\u8282\uff1f\uff09\uff1a\n\n\u4e00\u3001\u91cd\u65b0\u6392\u5217\u64cd\u4f5c\u6570\uff1a\n\nc++ STL\u4e2d\u6709\u4e00\u4e2a\u51fd\u6570\u53ebnext_permutation\uff0c\u5728algorithm\u5305\u4e2d\u3002\uff0c\u4f7f\u7528\u5b83\u53ef\u4ee5\u83b7\u5f97\u4e0b\u4e00\u4e2a\u6392\u5217\u3002\n\n\u8fd4\u56de\u503cbool\uff0c\u53c2\u6570\uff1a(\u6570\u7ec4\u8d77\u59cb\u5730\u5740\uff0c\u6570\u7ec4\u7ec8\u6b62\u5730\u5740\u7684\u4e0b\u4e00\u4e2a)\n\n\u4e0b\u4e00\u4e2a\u6392\u5217\u6307\uff1a\n\n\u5bf9\u4e8e\u5e8f\u5217X\uff0c\u5f53\u4e14\u4ec5\u5f53\u5e8f\u5217Y\u6ee1\u8db3\uff1a\n\nY\u7684\u5b57\u5178\u5e8f\u6bd4X\u5927\uff0c\u4e14\u4e0d\u5b58\u5728\u5b57\u5178\u5e8f\u6bd4X\u5927\u800c\u6bd4Y\u5c0f\u7684\u5e8f\u5217\n\n\u91cd\u6392\u540e\u7684\u7ed3\u679c\u4f1a\u5b58\u5728\u4f60\u7ed9\u5b83\uff08\u6307\u51fd\u6570\uff09\u7684\u6570\u7ec4\u4e2d\u3002\n\n\u6700\u597d\u5148\u628a\u8f93\u5165\u5347\u5e8f\u6392\u4e00\u4e0b\u3002\n\n\u4e8c\u3001\u8f93\u51fa\u89e3\uff0c\u53ea\u8981\u518d\u7b97\u4e00\u904d\u540e\u7f00\u8868\u8fbe\u5f0f\u8fb9\u7b97\u8fb9\u8f93\u51fa\u5c31\u597d\u4e86\u3002\n\n\u4e09\u3001\u64cd\u4f5c\u6570\u4e00\u5b9a\u5148\u8f93\u51fa\u5927\u7684\u540e\u8f93\u51fa\u5c0f\u7684\n\n\u56db\u3001\u4e2d\u95f4\u8fc7\u7a0b\u4e0d\u80fd\u51fa\u73b0\u8d1f\u6570\u62160\u6216\u5c0f\u6570\n\n\u4e94\u3001\u53ef\u80fd\u8fd8\u6709\u4e00\u4e9b\u95ee\u9898\u6ca1\u63d0\u5230\uff0c\u6709\u7591\u95ee\u770b\u4ee3\u7801\n\n\u6700\u540eac\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<stack>\n#include<algorithm>\nint max(int a,int b){return a>b?a:b;}\nint min(int a,int b){return a<b?a:b;}\nint nums[5],oper[8],fl,pos[]={0,1,1,2,1,2,2,1,2,2,2};\nint calc(int sets)\n{\n\tint opcnt=0;\n\t//\u63d0\u53d6\u7b26\u53f7 \u2193 \n\tfor(int i=6;i>=1;i--)\n\t{\n\t\toper[i]=sets%5;\n\t\tsets/=5;\n\t\topcnt+=(oper[i]>0);\n\t}\n\tif(opcnt!=3)return -1;//4\u4e2a\u64cd\u4f5c\u6570\u53ea\u80fd\u67093\u4e2a\u8fd0\u7b97\u7b26 \n\t//-----\u8ba1\u7b97\u6784\u9020\u51fa\u7684\u540e\u7f00\u8868\u8fbe\u5f0f------\u2193 \n\tstd::stack<int>s;\n\tfor(int i=1,j=1,k=1;i<=10;i++)\n\t{\n\t\tif(pos[i]==1)s.push(nums[j++]);//\u5982\u679c\u5f53\u524d\u4f4d\u7f6e\u662f\u6570\u5b57\uff0c\u5165\u6808\n\t\telse\n\t\t{\n\t\t\tif(oper[k]!=0)//\u5982\u679c\u5f53\u524d\u4f4d\u7f6e\u6709\u7b26\u53f7\uff0c\u8fd0\u7b97\uff0c\u6ca1\u7b26\u53f7\u5c31\u8df3\u8fc7 \n\t\t\t{\n\t\t\t\tint a,b;\n\t\t\t\tif(!s.empty())a=s.top();//\u9632\u6b62\u7c7b\u4f3cab+c-/d\u7684\u60c5\u51b5\u51fa\u73b0 \n\t\t\t\telse return -1;\n\t\t\t\ts.pop();\n\t\t\t\tif(!s.empty())b=s.top();\n\t\t\t\telse return -1;\n\t\t\t\ts.pop();\n\t\t\t\tswitch(oper[k])\n\t\t\t\t{\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ts.push(a+b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tif(a-b<=0)return -1;//\u4e0d\u80fd\u6709\u975e\u6b63\u6570 \n\t\t\t\t\t\ts.push(a-b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\ts.push(a*b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tif(b==0||a%b!=0)return -1;//\u4e0d\u80fd\u96640\uff0c\u4e0d\u80fd\u6709\u5c0f\u6570 \n\t\t\t\t\t\ts.push(a/b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t}return s.size()==1?s.top():-1;\n}\nint work()\n{\n\tfor(int i=1;i<=4;i++)scanf(\"%d\",nums+i);\n\tstd::sort(nums+1,nums+5);\n\trecnt:\n\tfor(int i=0;i<15625;i++)//\u679a\u4e3e\u8fd0\u7b97\u7b26\u586b\u5199\u60c5\u51b5   \u30106\u4f4d5\u8fdb\u5236\u6570\u6700\u591a\u8868\u793a15624\u3011 \n\tif(fl=(calc(i)==24))break;//calc\uff1a\u8ba1\u7b97\u6784\u9020\u51fa\u7684\u540e\u7f00\u8868\u8fbe\u5f0f\u7ed3\u679c \n\tif(!fl)\n\t{\n\t\tif(!std::next_permutation(nums+1,nums+5))return printf(\"No answer!\\n\")&0;\n\t\telse goto recnt;\n\t}\n\t//-----\u8f93\u51fa\u7b54\u6848\u2193 \n\tstd::stack<int>s;\n\tfor(int i=1,j=1,k=1;i<=10;i++)\n\t{\n\t\tif(pos[i]==1)s.push(nums[j++]);\n\t\telse\n\t\t{\n\t\t\tif(oper[k]!=0)\n\t\t\t{\n\t\t\t\tint a=s.top();\n\t\t\t\ts.pop();\n\t\t\t\tint b=s.top();\n\t\t\t\ts.pop();\n\t\t\t\tswitch(oper[k])\n\t\t\t\t{\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\ts.push(a+b);\n\t\t\t\t\t\tprintf(\"%d+%d=%d\\n\",max(a,b),min(a,b),a+b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\ts.push(a-b);\n\t\t\t\t\t\tprintf(\"%d-%d=%d\\n\",a,b,a-b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\ts.push(a*b);\n\t\t\t\t\t\tprintf(\"%d*%d=%d\\n\",max(a,b),min(a,b),a*b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\ts.push(a/b);\n\t\t\t\t\t\tprintf(\"%d/%d=%d\\n\",a,b,a/b);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tk++;\n\t\t}\n\t}\n\treturn 0;\n}\nint main()\n{\n\treturn work();\n}\n```",
        "postTime": 1539086000,
        "uid": 53998,
        "name": "ejfbdn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u6b64\u9898\u65e0\u8111\u7206\u641c\u53ef\u505a\u3002\u56e0\u4e3a\uff1a\n\n\u5168\u6392\u5217\uff1a$4!$\n\n\u6bcf\u6b21\u5168\u6392\u5217\u679a\u4e3e\u8fd0\u7b97\u7b26\uff1a$4^3$\n\n\u5982\u679c\u7528\u6211\u7684\u5224\u65ad\u4e24\u4e24\u5148\u7b97\u518d\u76f8\u8fd0\u7b97\u7684\u65b9\u6cd5\uff0c\u8fd8\u8981\u52a0\u4e0a$4^3$\n\n\u6240\u4ee5\u6700\u7ec8\u590d\u6742\u5ea6\u662f\uff1a\n$$4!*(2*4^3)=3097$$\n\n\u53cd\u6b63\u518d\u600e\u4e48\u6298\u817e\u4e5f\u4e0d\u4f1aTLE\u3002\n\n---\n\n\u9996\u5148\u7b2c\u4e00\u6b65\uff1a\u5ffd\u7565\u8fd0\u7b97\u987a\u5e8f\uff0c\u987a\u5e8f\u8ba1\u7b97\u914d\u5408\u5168\u6392\u5217\u3002\n\n\u7136\u540e\uff0c\u4f60\u5c31\u53ef\u4ee5\u518d\u4e24\u4e24\u6570\u4e4b\u95f4\u679a\u4e3e\u8fd0\u7b97\u7b26\uff0c\u8fd9\u91cc\u6709\u4e00\u4e2a\u5947\u6280\u6deb\u5de7\uff1a\n```cpp\ninline int plus(int x,int y){return x+y;}\ninline int minus(int x,int y){return x>y?x-y:-1;}\ninline int times(int x,int y){return x*y;}\ninline int divi(int x,int y){return y!=0&&x%y==0&&x>y?x/y:-1;}\nint (*oper[10])(int,int)={NULL,plus,minus,times,divi};\nchar oper_[10]={'\\0','+','-','*','/'};\n```\n\u8fd9\u6837\u5c31\u53ef\u4ee5\u7b80\u5355\u7684\n```cpp\nfor(int i=1;i<=4;i++)int result=oper[k](x,y)\n```\n\u4e86\u3002\u81ea\u8ba4\u4e3a\u662f\u7b80\u5355\u5f88\u591a\u7684\u3002\n\n\u7136\u540e\u4f60\u5c31\u53ef\u4ee5\u9a6c\u4e0a\u641e\u51fa\u4e00\u4e2a60\u884c\u7684\u7a0b\u5e8f\u6765\uff1a\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<cstdlib>\n\nint x[10],vis[10],r[10];\n\ninline int plus(int x,int y){return x+y;}\ninline int minus(int x,int y){return x>y?x-y:-1;}\ninline int times(int x,int y){return x*y;}\ninline int divi(int x,int y){return y!=0&&x%y==0&&x>y?x/y:-1;}\nint (*oper[10])(int,int)={NULL,plus,minus,times,divi};\nchar oper_[10]={'\\0','+','-','*','/'};\n\nint op[10],left[10],right[10],re[10];\ninline void print(){\n\tfor(register int i=1;i<=3;i++){\n\t\tif(left[i]<right[i])std::swap(left[i],right[i]);\n\t\tstd::printf(\"%d%c%d=%d\\n\",left[i],oper_[op[i]],right[i],re[i]);\n\t}\n}\ninline void calc(int i,int result){\n\tif(i==4)\n\t  if(result==24){\n\t  \tprint();\n\t\texit(0);\n\t  }else return;\n\tfor(register int j=1;j<=4;j++){\n\t\tint x=oper[j](result,r[i+1]);\n\t\tif(x>0){\n\t\t\top[i]=j;\n\t\t\tleft[i]=result;\n\t\t\tright[i]=r[i+1];\n\t\t\tre[i]=x;\n\t\t\tcalc(i+1,x);\n\t\t}\n\t}\n}\n\nvoid DFs(int i){\n\tif(i==5){\n\t\tcalc(1,r[1]);\n\t\treturn;\n\t}\n\tfor(register int j=1;j<=4;j++)\n\t  if(!vis[j]){\n\t    r[i]=x[j];\n\t    vis[j]=true;\n\t    DFs(i+1);\n\t    vis[j]=false;\n\t  }\n}\nint main(){\n\tfor(register int i=1;i<=4;i++)std::cin>>x[i];\n\tDFs(1);\n\tstd::puts(\"No answer!\");\n\treturn 0;\n} \n```\n\u7136\u540e\u60b2\u60e8\u7684WA\u4e00\u4e2a\u70b9\u3002\u8fd9\u91cc\u5c55\u793a\u4e00\u4e0b\uff0c**\u6bd4\u5982\u8bf4**\u4f60\u662f\n\n> 1 1 3 5\n\n\u5c31\u4f1a\u8f93\u51faNo answer!\n\n\u7136\u800c\u6b63\u89e3\u662f\uff1a\n\n```cpp\n3+1=4\n5+1=6\n6*4=24\n```\n### \u6807\u6ce8\u4e00\u4e0b\uff0c\u8fd9\u7edd\u5bf9\u4e0d\u662f\u771f\u5b9e\u6570\u636e\n\n\u8fd9\u662f\u4ec0\u4e48\u539f\u56e0\u5462\uff1f\u5f88\u660e\u663e\uff0c\u4f60\u7684\u8fd0\u7b97\u53ea\u652f\u6301:\n\n```cpp\n      result\n     op\n    re 5 \n   op\n  re 3\n op\n1 1\n```\n\u7684\u4e00\u68f5\u4e25\u91cd\u5de6\u504f\u8868\u8fbe\u5f0f\u6811\uff0c\u800c\u4e0d\u652f\u6301\uff1a\n```cpp\n   result\n   op\n  re re\n op   op\n1 3   1 5\n```\n\u7684\u5f62\u6001\u3002\n\n### \u5982\u4f55\u89e3\u51b3\uff1f\n\n\u6211\u7528\u7684\u65b9\u6cd5\uff0c\u56e0\u4e3a\u8ba1\u7b97\u51fd\u6570\u662f\u9012\u5f52\u6267\u884c\u7684\uff0c\u76f8\u5bf9\u4e0d\u7075\u6d3b\u4fee\u6539\uff0c\u53c8\u9274\u4e8e\u6570\u636e\u5982\u6b64\u4e4b\u5c0f\uff0c\u6211\u7528\u4e86\u66b4\u529b\u7684\u65b9\u6cd5\u89e3\u51b3\u3002\n```\ncalc(1,0);//\u6bcf\u6b21\u751f\u6210\u5168\u6392\u5217\u540e\u8ba1\u7b97\u7ed3\u679c\uff0c\u9012\u5f52\nfor(register int i=1;i<=4;i++)\n\tfor(register int j=1;j<=4;j++){\n\t\t int x=oper[i](r[1],r[2]),y=oper[j](r[3],r[4]);\n\t\t if(x<=0||y<=0)continue;\n\t\t left[1]=r[1],right[1]=r[2],re[1]=x,op[1]=i;\n\t\t left[2]=r[3],right[2]=r[4],re[2]=y,op[2]=j;\n\t\t for(register int k=1;k<=4;k++)\n\t\t  \tif(oper[k](x,y)==24){\n\t\t  \t left[3]=x,right[3]=y,re[3]=oper[k](x,y),op[3]=k;\n\t\t  \t print();\n\t\t  \t exit(0);\n\t\t\t }\n\t\t }//\u4e27\u5fc3\u75c5\u72c2\u4e86\uff0c\u7279\u5224\u4e24\u8f86\u7b97\u51fa\uff0c\u518d\u76f8\u8fd0\u7b97\u7684\u65b9\u6cd5 \n\n```\n\u7136\u540e\u5c31\u8fc7\u4e86...\n\n\u4ee3\u780171\u884c\uff0c\u7b97\u662f\u6bd4\u8f83\u77ed\u7684\u4e86\u5427\u3002\u8fd9\u4e2a\u89e3\u6cd5\u5e76\u4e0d\u4f18\u7f8e\uff0c\u4f46\u662f\u4e2a\u4eba\u89c9\u5f97\u7528\u51fd\u6570\u6307\u9488\u6570\u7ec4\u7684\u65b9\u6cd5\u8fdb\u884c\u56db\u5219\u8fd0\u7b97\u662f\u503c\u5f97\u501f\u9274\u7684\u65b9\u6cd5\u3002\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<cstdlib>\n\nint x[10],vis[10],r[10];\n\ninline int plus(int x,int y){return x+y;}\ninline int minus(int x,int y){return x>y?x-y:-1;}\ninline int times(int x,int y){return x*y;}\ninline int divi(int x,int y){return y!=0&&x%y==0&&x>y?x/y:-1;}\nint (*oper[10])(int,int)={NULL,plus,minus,times,divi};\nchar oper_[10]={'\\0','+','-','*','/'};\n\nint op[10],left[10],right[10],re[10];\ninline void print(){\n\tfor(register int i=1;i<=3;i++){\n\t\tif(left[i]<right[i])std::swap(left[i],right[i]);\n\t\tstd::printf(\"%d%c%d=%d\\n\",left[i],oper_[op[i]],right[i],re[i]);\n\t}\n}\ninline void calc(int i,int result){\n\tif(i==4)\n\t  if(result==24){\n\t  \tprint();\n\t\texit(0);\n\t  }else return;\n\tfor(register int j=1;j<=4;j++){\n\t\tint x=oper[j](result,r[i+1]);\n\t\tif(x>0){\n\t\t\top[i]=j;\n\t\t\tleft[i]=result;\n\t\t\tright[i]=r[i+1];\n\t\t\tre[i]=x;\n\t\t\tcalc(i+1,x);\n\t\t}\n\t}\n}\n\nvoid DFs(int i){\n\tif(i==5){\n\t\tcalc(1,r[1]);\n\t\tfor(register int i=1;i<=4;i++)\n\t\t  for(register int j=1;j<=4;j++){\n\t\t  \tint x=oper[i](r[1],r[2]),y=oper[j](r[3],r[4]);\n\t\t  \tif(x<=0||y<=0)continue;\n\t\t  \tleft[1]=r[1],right[1]=r[2],re[1]=x,op[1]=i;\n\t\t  \tleft[2]=r[3],right[2]=r[4],re[2]=y,op[2]=j;\n\t\t  \tfor(register int k=1;k<=4;k++)\n\t\t  \t  if(oper[k](x,y)==24){\n\t\t  \t  \tleft[3]=x,right[3]=y,re[3]=oper[k](x,y),op[3]=k;\n\t\t  \t  \tprint();\n\t\t  \t  \texit(0);\n\t\t\t  }\n\t\t  }//\u4e27\u5fc3\u75c5\u72c2\u4e86\uff0c\u7279\u5224\u4e24\u8f86\u7b97\u51fa\uff0c\u518d\u76f8\u8fd0\u7b97\u7684\u65b9\u6cd5 \n\t\treturn;\n\t}\n\tfor(register int j=1;j<=4;j++)\n\t  if(!vis[j]){\n\t    r[i]=x[j];\n\t    vis[j]=true;\n\t    DFs(i+1);\n\t    vis[j]=false;\n\t  }\n}\nint main(){\n\tfor(register int i=1;i<=4;i++)std::cin>>x[i];\n\tDFs(1);\n\tstd::puts(\"No answer!\");\n\treturn 0;\n} \n```\n\u6b64\u9898\u8fd8\u6709\u4e00\u4e2a\u5751\uff1a\u4f60\u60f3\u5224\u51cf\u6cd5\uff0c\u9664\u6cd5\u7684\u5c0f\u6570\uff0c\u8d1f\u6570\u548c0\uff0c\u4f46\u662f\u4e0d\u81ea\u89c9\u7684\u5c31\u5199\u51fareturn x%y==0?x/y:-1;\u6765\uff0c\u8fd9\u65f6\u5982\u679cy\u672c\u8eab\u5c31\u662f0\uff0c\u5c31\u76f4\u63a5RE\u4e86...\u56e0\u4e3a&&,||\u662f\u77ed\u8def\u7684\uff08\u5373,&&\u78b0\u5230\u9519\u7684\u540e\u9762\u5c31\u4e0d\u77e5\u884c,||\u78b0\u5230\u5bf9\u7684\u540e\u9762\u5c31\u4e0d\u6267\u884c\uff09\uff0c\u53ef\u4ee5\u5728\u524d\u9762\u518d\u5224\u4e00\u4e0by!=0\u5c31\u53ef\u4ee5\u4e86",
        "postTime": 1572769997,
        "uid": 219595,
        "name": "Vocalise",
        "ccfLevel": 9,
        "title": "\u7ecf\u5178\u7206\u641c--\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "## \u6765\u81ea\u4e00\u4e2a\u61d2\u849f\u84bb\u7684\u9898\u89e3\u2026\u2026\n### \u770b\u5230\u5404\u4f4d\u5de8\u4f6c\u90fd\u5199\u5f97\u90a3\u4e48\u957f\uff0c\u5176\u5b9e\u8fdc\u4e0d\u6bd4\u8fd9\u6837\u3002\n### \u9996\u5148\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u5047\u8bbe\u8fd0\u884c\u987a\u5e8f\u5fc5\u7136\u662f\u4ece\u5de6\u5230\u53f3\uff0c\u56e0\u6b64\u6211\u4eec\u4fbf\u9700\u8981\u4e00\u4e2a\u4ece\u5de6\u5230\u53f3\u7684\u5168\u6392\u5217\uff0c\u7136\u540e\u518d\u8fdb\u884c\u5224\u65ad\uff0c\u5168\u6392\u5217\u5927\u5bb6\u90fd\u77e5\u9053\u600e\u4e48\u5199\uff0c\u6ca1\u9519\uff0c\u5c31\u662fdfs\uff01\n```cpp\nvoid dfs(int dep){\n\tif(flag2) return ;\n\tif(dep==5){\n\t\tfor(int i=1;i<=4;i++) //\u679a\u4e3e\u4e09\u4e2a\u8fd0\u7b97\u7b26\n\t\tfor(int j=1;j<=4;j++)\n\t\tfor(int k=1;k<=4;k++){\n\t\t\tflag=1;\n\t\t\tif(f(k,f(j,(f(i,a[1],a[2])),a[3]),a[4])==24&&flag){output(1,i,j,k);flag2=1;return ;}\n\t\t}\n\t}\n\tfor(int i=1;i<=4;i++)\n\t\tif(!v[i]){\n\t\t\tv[i]=1;\n\t\t\ta[dep]=c[i];\n\t\t\tdfs(dep+1);\n\t\t\tv[i]=0;\n\t\t}\n}\n```\n### \u6211\u4eec\u7528f\u51fd\u6570\u6765\u8fdb\u884c\u8ba1\u7b97\uff0c\u7528flag\u6765\u5224\u65ad\u4e0d\u5408\u9002\u7684\u60c5\u51b5\u3002\n### \u518d\u52a0\u4e0a\u4e00\u4e2a\u5224\u65ad\u548c\u8f93\u51fa\uff0c\u8c8c\u4f3c\u6b64\u9898\u5c31\u5df2\u7ecf\u89e3\u51b3\u4e86\uff0c\u4f46\u662f\u5374\u6ca1\u6709\u8fc7\uff0c\u4ec0\u4e48\u539f\u56e0\uff1f\u6765\u770b\u4e00\u5219\u6837\u4f8b\uff1a\n### 6 7 8 9\n### \u7b54\u6848\u5e94\u8be5\u662f\uff1a\n### 8*6=48\n### 9-7=2\n### 48/2=24\n### \u6211\u4eec\u53d1\u73b0\u57288*6=48\u540e\uff0c\u6ca1\u6709\u7acb\u5373\u518d\u752848\uff0c\u800c\u662f\u5148\u7b979-7=2\u3002\u6240\u4ee5\u8fd8\u6709\u4e00\u79cd\u60c5\u51b5\uff0c\u90a3\u5c31\u662f\u5148\u7b97\u524d\u4e24\u8005\uff0c\u518d\u7b97\u540e\u4e24\u8005\uff0c\u5b83\u4eec\u4e4b\u95f4\u518d\u8fdb\u884c\u8fd0\u7b97\u3002\u8fd9\u6837\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\u3002\n### \u6700\u540e\u732e\u4e0a\u6700\u77ed\u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint a[5],c[5],v[5];\nbool flag,flag2;\nint f(int t,int x,int y){\n\tif((t==4&&(!y||x%y!=0||x<y))||(t==2&&x<y)) return -999;\n\tif(t==1) return x+y;\n\tif(t==2) return x-y;\n\tif(t==3) return x*y;\n\tif(t==4) return x/y;\n}\nchar pd(int x){\n\tif(x==1) return '+';\n\tif(x==2) return '-';\n\tif(x==3) return '*';\n\tif(x==4) return '/';\n}\nvoid output(int p,int i,int j,int k){\n\tif(p==1){\n\t\tprintf(\"%d%c%d=%d\\n\",max(a[1],a[2]),pd(i),min(a[1],a[2]),f(i,a[1],a[2]));\n\t\tprintf(\"%d%c%d=%d\\n\",max(f(i,a[1],a[2]),a[3]),pd(j),min(f(i,a[1],a[2]),a[3]),f(j,f(i,a[1],a[2]),a[3]));\n\t\tprintf(\"%d%c%d=%d\\n\",max(f(j,f(i,a[1],a[2]),a[3]),a[4]),pd(k),min(f(j,f(i,a[1],a[2]),a[3]),a[4]),f(k,f(j,f(i,a[1],a[2]),a[3]),a[4]));\n\t}\n\telse{\n\t\tprintf(\"%d%c%d=%d\\n\",max(a[1],a[2]),pd(i),min(a[1],a[2]),f(i,a[1],a[2]));\n\t\tprintf(\"%d%c%d=%d\\n\",max(a[3],a[4]),pd(k),min(a[3],a[4]),f(k,a[3],a[4]));\n\t\tprintf(\"%d%c%d=%d\\n\",max(f(i,a[1],a[2]),f(k,a[3],a[4])),pd(j),min(f(i,a[1],a[2]),f(k,a[3],a[4])),f(j,f(i,a[1],a[2]),f(k,a[3],a[4])));\n\t}\n}\nvoid dfs(int dep){\n\tif(flag2) return ;\n\tif(dep==5){\n\t\tfor(int i=1;i<=4;i++)\n\t\tfor(int j=1;j<=4;j++)\n\t\tfor(int k=1;k<=4;k++){\n\t\t\tflag=1;\n\t\t\tif(f(k,f(j,(f(i,a[1],a[2])),a[3]),a[4])==24&&flag){output(1,i,j,k);flag2=1;return ;}\n\t\t\tif(f(j,f(i,a[1],a[2]),f(k,a[3],a[4]))==24&&flag){output(2,i,j,k);flag2=1;return ;}\n\t\t}\n\t}\n\tfor(int i=1;i<=4;i++)\n\t\tif(!v[i]){\n\t\t\tv[i]=1;\n\t\t\ta[dep]=c[i];\n\t\t\tdfs(dep+1);\n\t\t\tv[i]=0;\n\t\t}\n}\nint main(){\n\tfor(int i=1;i<=4;i++) scanf(\"%d\",&a[i]);\n\tfor(int i=1;i<=4;i++) c[i]=a[i];\n\tdfs(1);\n\tif(!flag2) printf(\"No answer!\");\n\treturn 0;\n}\n```\n### THE END.",
        "postTime": 1567659012,
        "uid": 151791,
        "name": "ykuouzf",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "**[P1236]\u7b9724\u70b9**  \n~~\u5927\u5927\u7684\u6c34\u9898~~  \n\u4e00\u4e2aDFS\u89e3\u51b3\u3002  \n\u6709\u5927\u4f6c500\u884c\u66b4\u641c+\u5224\u65ad\uff0c\u4e5f\u662f\u98de\u5feb\u3002  \n\u4e0d\u8fc7\u8fd9\u6837...\u771f\u7684\u597d\u5417\uff1f  \n\u672c\u849f\u84bb\u592a\u61d2\uff0c\u624b\u5199112\u884c\u8fc7\u6c34\u9898\u3002  \n\u5176\u5b9e\u6548\u7387\u4e5f\u9ad8\u597d\u591a\u3002  \n\u4e3b\u4f53\u601d\u8def\uff1a  \n1.\u6bcf\u6b21\u5728x\u6570\u7ec4\u4e2d\u627e\u51fa\u4e24\u4e2a\u914d\u5bf9\uff0c\u7ecf\u8fc7\u56db\u5219\u8fd0\u7b97\uff0c\u66f4\u65b0\u3002  \n2.\u627e\u5230\u4e86\u4e00\u7ec4\u7b26\u5408\u9898\u610f\u4f46\u8ba1\u7b97\u503c\u4e0d\u4e00\u5b9a\u4e3a24\u7684\u503c\uff0c\u5224\u65ad\u662f\u5426\u4e3a24  \n3.\u8f93\u51fa\u627e\u5230\u7684\u53ef\u884c\u89e3\u3002  \nPS:\u6b64\u89e3\u6cd5\u5f53\u6700\u5927\u503c<=50\u65f6\u4ecd\u53ef\u884c\uff0c\u4e14\u5feb\u5982\u95ea\u7535\uff0c\u4e0d\u9700\u8981\u52a0O\uff082\uff09\u4f18\u5316\u3002  \n\u91cd\u96be\u70b9\uff08\u6211\u7684\u601d\u8def\uff09\uff1a  \n1.\u6ce8\u610f\u627e24\u65f6\u4ecex-1~x-4  \n2.\u6570\u503c\u90fd\u662f\u6b63\u6574\u6570  \n3.\u4e0d\u53ef\u4ee5\u9664\u4ee5\u96f6  \n4.\u5c0f\u6570\u4e0d\u53ef\u4ee5\u9664\u4ee5\u5927\u6570  \n5.\u5927\u6570\u5728\u524d\u5c0f\u6570\u5728\u540e  \nstd:  \n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a,b,c,d;\nint x[5];\nint s[5][5];\nbool flag=0;\nvoid print(int x)//\u8f93\u51fa\u7b54\u6848\n{\n\tcout << s[x][2];\n\tif(s[x][1]==0) cout << \"+\";\n\tif(s[x][1]==1) cout << \"-\";\n\tif(s[x][1]==2) cout << \"-\";\n\tif(s[x][1]==3) cout << \"*\";\n\tif(s[x][1]==4) cout << \"/\";\n\tcout << s[x][3];\n\tcout << \"=\";\n\tif(s[x][1]==0) cout << s[x][2]+s[x][3];\n\tif(s[x][1]==1) cout << s[x][2]-s[x][3];\n\tif(s[x][1]==2) cout << s[x][2]-s[x][3];\n\tif(s[x][1]==3) cout << s[x][2]*s[x][3];\n\tif(s[x][1]==4) cout << s[x][2]/s[x][3];\n\tcout << endl;\n}\nvoid dfs(int step)\n{\n\tif(flag==1) return;\n\tif(step==3)//\u627e\u5230\u7b26\u5408\u9898\u610f\u4f46\u4e0d\u4e00\u5b9a\u53ef\u884c\u7684\u89e3\n\t{\n\t\tint sum,cnt=0;\n\t\tfor(int i=1;i<=4;i++)//\u627e24\n\t\t{\n\t\t\tif(x[i]!=0)\n\t\t\t{\n\t\t\t\tsum=x[i];\n\t\t\t\tcnt++;\n\t\t\t}\n\t\t}\n\t\tif(sum==24&&cnt==1)\n\t\t{\n        //\u8f93\u51fa\n\t\t\tprint(1);\n\t\t\tprint(2);\n\t\t\tprint(3);\n\t\t\tflag=1;\n\t\t}\n\t\treturn;\n\t}\n\tint t[5];\n\tfor(int i=1;i<=4;i++) t[i]=x[i];\n\tfor(int i=1;i<=4;i++)\n\t{\n\t\tfor(int j=1;j<=4;j++)\n\t\t{\n\t\t\tif(i==j) continue;//\u4e0d\u80fd\u4e00\u6837\n\t\t\tif(x[i]==0||x[j]==0) continue;//\u4e0d\u80fd\u4e3a0\n\t\t\tint xx=x[i],yy=x[j];\n\t\t\t//\u52a0\u6cd5\n\t\t\tx[i]=xx,x[j]=yy;\n\t\t\ts[step+1][1]=0,s[step+1][2]=max(x[i],x[j]),s[step+1][3]=min(x[i],x[j]);\n\t\t\tx[i]=x[i]+x[j],x[j]=0;\n\t\t\tdfs(step+1);\n\t\t\t\n\t\t\tif(xx>yy)//\u51cf\u6cd51\uff08\u4fdd\u8bc1\u5927\u503c\u5728\u524d\uff09\n\t\t\t{\n\t\t\t\tx[i]=xx,x[j]=yy;\n\t\t\t\ts[step+1][1]=1,s[step+1][2]=x[i],s[step+1][3]=x[j];\n\t\t\t\tx[i]=x[i]-x[j],x[j]=0;\n\t\t\t\tdfs(step+1);\n\t\t\t}\n\t\n\t\t\tif(yy>xx)//\u51cf\u6cd52\n\t\t\t{\n\t\t\t\tx[i]=xx,x[j]=yy;\n\t\t\t\ts[step+1][1]=2,s[step+1][2]=x[j],s[step+1][3]=x[i];\n\t\t\t\tx[i]=x[j]-x[i],x[j]=0;\n\t\t\t\tdfs(step+1);\n\t\t\t}\t\t\t\t\n\t\t\t//\u4e58\u6cd5\n\t\t\tx[i]=xx,x[j]=yy;\n\t\t\ts[step+1][1]=3,s[step+1][2]=max(x[i],x[j]),s[step+1][3]=min(x[i],x[j]);\n\t\t\tx[i]=x[i]*x[j],x[j]=0;\n\t\t\tdfs(step+1);\n\t\t\t\n\t\t\tif(xx%yy==0&&yy!=0)\n\t\t\t{\n\t\t\t\tx[i]=xx,x[j]=yy;\n\t\t\t\ts[step+1][1]=4,s[step+1][2]=x[i],s[step+1][3]=x[j];\n\t\t\t\tx[i]=x[i]/x[j],x[j]=0;\n\t\t\t\tdfs(step+1);\n\t\t\t}\n\t\t\t\n\t\t\tif(yy%xx==0&&xx!=0)//\u5982\u679c\u9664\u4ee5\u64cd\u4f5c\u5408\u6cd5\n\t\t\t{\n\t\t\t\tx[i]=xx,x[j]=yy;\n\t\t\t\ts[step+1][1]=4,s[step+1][2]=x[j],s[step+1][3]=x[i];\n\t\t\t\tx[i]=x[j]/x[i],x[j]=0;\n\t\t\t\tdfs(step+1);\n\t\t\t}\n\t\t\t\n\t\t\tfor(int i=1;i<=4;i++)\n\t\t\t\tx[i]=t[i];//\u6539\u56de\u539f\u6570\u7ec4\n\t\t}\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d%d%d\",&a,&b,&c,&d);//\u8f93\u5165\n\tx[1]=a,x[2]=b,x[3]=c,x[4]=d;\n\tsort(x+1,x+5);//\u6392\u4e2a\u5e8f\n\tdfs(0);//\u627e\u7b54\u6848\n\tif(flag==0) cout << \"No answer!\" << endl;//\u8f93\u51fa\u65e0\u89e3\n\treturn 0; \n} \n```\n--------------\n\u8fd9\u9898\u7684\u4f18\u5316\uff08~~\u867d\u7136\u6211\u4eec\u7684\u7b97\u6cd5\u5df2\u7ecf\u5f88\u4f18\u79c0\u4e86~~\uff09  \n1.\u6539\u56de\u539f\u6570\u7ec4\u7528O(1)(\u6ca1\u4f18\u5316\u591a\u5c11)  \n2.\u679a\u4e3e\u5339\u914d\u4e24\u503c\u7528O(k(k-1))(k\u4e3a\u5f53\u524d\u5269\u4f59\u4f4d\u6570)  \n3.\u4f18\u5316\u8f93\u51fa\uff08\u5feb\u8bfb\u5feb\u5199\uff09  \n4.\u7528BFS(\u627e\u5230\u89e3\u5c31break)  \n5.\u627e24\uff08\u9884\u5148\u7b97\u597d\uff09\uff08\u6ca1\u4f18\u5316\u591a\u5c11\uff09  \n6.(\u5047\u8bbe\u5df2\u7528bfs)\u53cc\u5411bfs/\u8fed\u4ee3\u52a0\u6df1dfs(\u63a8\u8350\u540e\u4e00\u79cd)  \n7.A\u203b(\u4f18\u5316\uff09  \n8.O(2)\u4f18\u5316\u5566\uff01  \n\uff089\uff09\u6700\u5f3a\u4f18\u5316\uff1a\u6253\u8868\u8fc7\u6837\u4f8b\uff0c\u66b4\u529b\u51fa\u5947\u8ff9\uff0c\u6253\u8868O(1)!",
        "postTime": 1532785392,
        "uid": 61757,
        "name": "Seanq",
        "ccfLevel": 0,
        "title": "\u3010P1236\u3011\u7b9724\u70b9"
    },
    {
        "content": "\u6ca1\u4ec0\u4e48\u7b97\u6cd5\uff0c\u76f4\u63a5\u7206\u641c\u5373\u53ef\uff0c\u526a\u679d\u90fd\u4e0d\u5fc5\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cmath>\n#include<cstdlib>\nusing namespace std;\nint p1[4],p2[4],p3[4];//p1\u5b58\u524d\u6570\uff0cp2\u5b58\u540e\u6570\uff0cp3\u5b58\u64cd\u4f5c\u7b26\nint ys(int a,int b,int c)//\u8fd0\u7b97a,b\n{\n    switch(c)\n    {\n        case 1:{\n            return a+b;\n            break;\n        }\n        case 2:{\n            return abs(a-b);\n            break;\n        }\n        case 3:{\n            return a*b;\n            break;\n        }\n        case 4:{\n            if(!(a && b)) return -1;//\u522b\u88ab0\u9664\n            if(max(a,b)%min(a,b)) return -1;\n            else return max(a,b)/min(a,b);\n            break;\n        }\n    }\n}\nchar fh(int c)//\u53d6\u64cd\u4f5c\u7b26\n{\n    if(c==1) return '+';\n    if(c==2) return '-';\n    if(c==3) return '*';\n    if(c==4) return '/';\n}\nvoid check(int a[],const int l)\n{\n    if(l==2)//\u53ea\u5269\u4e24\u4e2a\u6570\u76f4\u63a5\u8fd0\u7b97\n    {\n        bool d=false;\n        for(int i=1;i<=4;i++)\n        if(ys(a[0],a[1],i)==24) \n        {\n            p1[2]=max(a[0],a[1]);//\u4e00\u5b9a\u8981\u4fdd\u8bc1\u524d\u6570\u5c0f\u4e8e\u540e\u6570\n            p2[2]=min(a[0],a[1]);\n            p3[2]=i;\n            d=true;\n        }\n        if(!d) return;\n        for(int i=0;i<3;i++)\n        printf(\"%d%c%d=%d\\n\",p1[i],fh(p3[i]),p2[i],ys(p1[i],p2[i],p3[i]));\n        exit(0);\n    }\n    int b[4]={0};\n    for(int i=0;i<l;i++)//\u679a\u4e3e\u524d\u6570\n    for(int j=0;j<l;j++)//\u679a\u4e3e\u540e\u6570\n    if(i!=j)\n    {\n        for(int k=1;k<=4;k++)//\u679a\u4e3e\u64cd\u4f5c\u7b26\n        {\n            int y=ys(a[i],a[j],k);\n            if(y==-1) continue;\n            p1[4-l]=max(a[i],a[j]);//\u540c\u4e0a\uff0c\u8981\u6c42\u524d\u6570\u5927\u4e8e\u540e\u6570\n            p2[4-l]=min(a[i],a[j]);\n            p3[4-l]=k;\n            b[0]=y;\n            int p=1;\n            for(int q=0;q<l;q++)\n            if(q!=i && q!=j)\n            b[p++]=a[q];//\u5c06\u6ca1\u64cd\u4f5c\u7684\u6570\u52a0\u4e0a\n            check(b,l-1);\n        }\n    }\n}\nint main()\n{\n    int a[4];\n    cin>>a[0]>>a[1]>>a[2]>>a[3];\n    check(a,4);\n    printf(\"No answer!\");\n    return 0;\n}\n\u8fd9\u9053\u9898\u6ca1\u5565\u7b97\u6cd5\uff0c\u5982\u679c\u4e00\u5b9a\u8981\u8bf4\u7684\u8bdd\u5e94\u8be5\u662f\u5206\u6cbb\u3002\n```",
        "postTime": 1508398428,
        "uid": 52902,
        "name": "Flying2018",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u4ece\u6240\u6709\u724c\u4e2d\u4efb\u9009\u4e24\u5f20\uff0c\u5408\u5e76\uff0c\u9012\u5f52\uff0c\u76f4\u5230\u53ea\u5269\u4e00\u5f20\u724c\uff0c\u5224\u65ad\u662f\u5426\u4e3a24\u5373\u53ef\u3002\n\nprint\u65f6\u8f83\u4e3a\u7e41\u7410\uff0c\u4e0d\u8fc7\u53ea\u9700\u591a\u5f00\u51e0\u4e2a\u6570\u7ec4\u3002\n\n\u9644c++\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\nusing namespace std;\nint a[5][11],ans[11][3],ky[11];\nbool flg;\nchar op(int k)\n{\n    if(k==1)\n        return '+';\n    if(k==2)\n        return '-';\n    if(k==3)\n        return '*';\n    if(k==4)\n        return '/';\n}\nvoid print(int dep)\n{\n    if(dep==1)\n        return ;\n    printf(\"%d%c%d=%d\\n\",ans[dep][1],op(ky[dep]),ans[dep][2],a[dep-1][1]);\n    print(dep-1);\n}\nint calc(int x,int y,int k)\n{\n    if(k==1)\n        return x+y;\n    if(k==2)\n        return x-y;\n    if(k==3)\n        return x*y;\n    if(k==4)\n        return x/y;\n}\nvoid dfs(int dep)//\u73b0\u6709\u724c\u6570 \n{\n    if(flg)\n        return ;\n    if(dep==1)\n    {\n        if(a[1][1]==24)\n        {\n            flg=1;\n            print(4);\n        }\n        return ;\n    }\n    for(int i=1;i<=dep;i++)//\u4efb\u9009\u4e24\u5f20\u724c \n        for(int j=1;j<=dep;j++)\n            if(i!=j)\n            {\n                ans[dep][1]=max(a[dep][i],a[dep][j]),ans[dep][2]=min(a[dep][i],a[dep][j]);\n                for(int k=1;k<=4;k++)//\u679a\u4e3e\u6240\u586b\u7b26\u53f7 \n                {\n                    if((k==2&&a[dep][i]<=a[dep][j])||(k==4&&a[dep][j]!=0&&a[dep][i]%a[dep][j]!=0))\n                        continue;\n                    int tp=1;\n                    a[dep-1][tp]=calc(a[dep][i],a[dep][j],k);\n                    for(int g=1;g<=dep;g++)\n                        if(g!=i&&g!=j)\n                            a[dep-1][++tp]=a[dep][g];\n                    ky[dep]=k;\n                    dfs(dep-1);\n                }\n            }\n}\nint main()\n{\n    for(int i=1;i<=4;i++)\n        scanf(\"%d\",&a[4][i]);\n    dfs(4);\n    if(!flg)\n        printf(\"No answer!\\n\");\n    return 0;\n}\n```",
        "postTime": 1473666182,
        "uid": 12070,
        "name": "Lynx",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "```delphi\n\ntype arr=array [1..4] of longint;\nvar i,result,n,len:longint;\nd:arr;\nr:array [1..3,1..4] of longint;\n\nprocedure print;\nvar i,j:longint;\nbegin\nfor i:=1 to 3 do\nbegin\nfor j:=1 to 3 do\nif j<>2 then write(r[i,j])//r\u6570\u7ec4\u50a8\u5b58\u5f0f\u5b50\nelse case r[i,j] of\n1:write('+');\n2:write('-');\n3:write('*');\n4:write('/')\nend;\nwriteln('=',r[i,4]);\nend;\nend;\n\nprocedure try(k:longint;d:arr);//\u904d\u5386\u6240\u6709\u7684\u53ef\u80fd\u6027\nvar a,b,i,j,l,t:longint;\ne:arr;\nbegin\nif k=1 then if d[1]=24 then begin print;halt end else\nelse\nbegin\nfor i:=1 to k-1 do\nfor j:=i+1 to k do\nbegin\na:=d[i]; b:=d[j];\nif a<b then begin t:=a;a:=b;b:=t end;\nt:=0;\nfor l:=1 to k do if (l<>i) and (l<>j) then begin t:=t+1;e[t]:=d[l] end;\nr[5-k,1]:=a;\nr[5-k,3]:=b;\nr[5-k,4]:=-1;\nfor l:=1 to 4 do\nbegin\ncase l of\n1:r[5-k,4]:=a+b;\n2:r[5-k,4]:=a-b;\n3:r[5-k,4]:=a*b;\n4:if b<>0 then if a mod b=0 then r[5-k,4]:=a div b\nend;\nr[5-k,2]:=l;\nif r[5-k,4]<>-1 then\nbegin\ne[t+1]:=r[5-k,4];\ntry(k-1,e)\nend;\nend;\nend;\nend;\nend;\n\nbegin\nfor i:=1 to 4 do read(d[i]);\ntry(4,d);\nwriteln('No answer!');//\u904d\u5386\u5b8c\u6bd5\uff0c\u65e0\u89e3\nend.\n\n```",
        "postTime": 1424076911,
        "uid": 5680,
        "name": "\u4e0a\u8fdb\u7684z\u541b",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "### \u641c\u7d22\u601d\u8def\u4e00\u5b9a\u8981\u6e05\u6670 ~~(\u4e0d\u7136\u4e4b\u540e\u90fd\u4e0d\u77e5\u9053\u81ea\u5df1\u600e\u4e48\u9519\u7684)~~\n\n## \u6ce8\u610f\u70b9:\n\n#### 1.\u6570\u5b57\u4e0d\u4e00\u5b9a\u8981\u76f8\u90bb,\u968f\u4fbf\u90a3\u4e24\u4e2a\u5c31\u53ef\u4ee5\u8fdb\u884c\u8fd0\u7b97\u4e86(\u987a\u5e8f\u4e5f\u4e0d\u8981\u7ba1)\n\n#### 2.2-3\u662f\u4e0d\u53ef\u4ee5\u7684\n\n\u6240\u4ee5\u8fd9\u4e00\u9898\u5c31\u4e00\u5f00\u59cb\u5148\u786e\u5b9a\u6700\u5148\u8fd0\u7b97\u7684\u4e24\u4e2a\u6570,\u7136\u540e\u5c06\u5f97\u51fa\u6765\u7684\u6570\u518d\u548c\u5269\u4e0b\u7684\u6570\u8fdb\u884c\u8fd0\u7b97,\u56e0\u4e3a$a-b!=b-a$,\u6240\u4ee5\u5269\u4e0b\u7684\u6570\u4e0e\u5f97\u51fa\u6765\u7684\u6570\u4e5f\u8981\u53cd\u8fc7\u6765\u8fdb\u884c\u8ba1\u7b97,\u5168\u90e8\u8fd0\u7b97\u53ea\u8981\u679a\u4e3e\u8fd0\u7b97\u7b26\u4e0e\u53c2\u4e0e\u8fd0\u7b97\u7684\u6570\u5c31\u53ef\u4ee5\u4e86,\u671f\u95f4\u8fd8\u8981\u8bb0\u5f55\u8ba1\u7b97\u7684\u6b65\u9aa4\n\n\u6709\u7684\u540c\u5b66\u53ef\u80fd\u4f1a\u53d1\u73b0,\u4e3a\u4ec0\u4e48\u4e00\u5b9a\u7528\u5f97\u51fa\u6765\u7684\u6570\u518d\u548c\u5269\u4e0b\u7684\u6570\u8fdb\u884c\u8fd0\u7b97,\u800c\u4e0d\u7528\u53e6\u4e24\u4e2a\u6570\u8fdb\u884c\u8fd0\u7b97\u5462,\u56e0\u4e3a\u7528\u8fd9\u79cd\u65b9\u6cd5\u548c\u7528\u5176\u4ed6\u65b9\u6cd5\u7684\u6b65\u9aa4\u53ef\u80fd\u4e0d\u4e00\u6837,\u4f46\u6700\u540e\u7684\u7ed3\u679c~~\u5e94\u8be5~~\u90fd\u662f\u4e00\u6837\u7684 ~~(\u8fd9\u79cd\u505a\u6cd5\u8c8c\u4f3c\u5c31\u662f\u697c\u4e0a\u67d0\u4e00\u4f4ddalao\u505a\u6cd5\u7684\u7b80\u5355\u7248)~~\n\n\u4e3e\u4e2a\u6817\u5b50\u5427\n\n$2~7 ~8 ~5$\n\n$2*5=10$ \n\n\u7136\u540e\u5c0610\u548c\u5176\u4ed6\u6570\u8fdb\u884c\u8fd0\u7b97\n\n$10-7=3$\n\n\u7136\u540e\u518d\u5c063\u4e0e\u5176\u4ed6\u6570\u8fdb\u884c\u8fd0\u7b97\n\n$3*8=24$,\u7ed3\u675f\n\n\u8f93\u51fa\n\n$2*5=10$ \n\n$10-7=3$\n\n$3*8=24$\n\n\u5177\u4f53\u7684\u6b65\u9aa4\u5c31\u5728\u4ee3\u7801\u91cc\u8bb2\u5427\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint a[500],f[500][500];//a\u5b58\u50a8\u8f93\u5165\u7684\u6570\u5b57,f\u5b58\u50a8\u6b65\u9aa4,\u8fd9\u91cc500\u90fd\u662f\u968f\u4fbf\u5f00\u7684(\u4e0d\u8981\u5b66\u6211\u5077\u61d2)\nbool b[500];//\u6570\u5b57\u662f\u5426\u7528\u8fc7\nchar c[500]={'@','+','-','*','/'};/\u8f93\u51fa\u7684\u65f6\u5019\u7528\nint jsq(int k,int k1,int k2)//k\u4e3a\u8fd0\u7b97\u7b26,1,2,3,4\u5bf9\u5e94\u52a0\u51cf\u4e58\u9664,k1\u524d,k2\u540e\n{\n\tif(k==1) return k1+k2;//\u8fd9\u4e2a\u6ca1\u6709\u98ce\u9669\u76f4\u63a5\u8fd4\u56de\n\tif(k==2)\n\t{\n\t\tif(k1>=k2) return k1-k2;//\u4e00\u5b9a\u8981k1\u5927\u4e8e\u7b49\u4e8ek2\n\t\telse return -888;//\u5426\u5219,\u62a5\u9519\n\t}\n\tif(k==3) return k1*k2;\n\tif(k==4)\n\t{\n\t\tif(k2!=0&&k1%k2==0) return k1/k2;//\u4e00\u5b9a\u8981\u6574\u9664,\u8fd8\u6709k2!=0\u8981\u653e\u5728\u524d\u9762\n\t\telse return -888;//\u5426\u5219,\u62a5\u9519\n\t}\n}\nvoid print()//\u8f93\u51fa\u6b65\u9aa4\n{\n\tfor(int p=1;p<=3;p++)\n\t{\n\t\tcout<<max(f[p][1],f[p][3])/*\u8f93\u51fa\u8f83\u5927\u503c*/<<c[f[p][2]]/*\u8f93\u51fa\u8fd0\u7b97\u7b26*/<<min(f[p][1],f[p][3])/*\u8f93\u51fa\u8f83\u5c0f*/<<'='<<f[p][4]<<endl;\n\t}\n\texit(0);//\u76f4\u63a5\u9000\u51fa\u6574\u4e2a\u7a0b\u5e8f\n}\nvoid dfs(int k,int num)//k\u4e3a\u7b2ck-1\u6b21\u8ba1\u7b97\u7ed3\u675f(\u53ea\u8981\u8ba1\u7b973\u6b21),num\u4e3a\u5f97\u51fa\u7684\u6570\n{\n\tif(k==4)//\u641c\u5b8c\u4e86\n\t{\n\t\tif(num==24) print();//\u5982\u679c\u6700\u540e\u5f97\u51fa\u7684\u6570\u4e3a24,\u8f93\u51fa\n\t\treturn;//\u7ed3\u675f\n\t}\n\tfor(int i=1;i<=4;i++)//\u679a\u4e3e\u6570\u5b57\n\t{\n\t\tif(b[i]==0)//\u6ca1\u7528\u8fc7\n\t\tfor(int l=1;l<=4;l++)//\u679a\u4e3e\u8fd0\u7b97\u7b26\n\t\t{\n\t\t\tint n=jsq(l,num,a[i]);//\u8ba1\u7b97\n\t\t\tif(n!=-888)//\u5982\u679c\u6ca1\u6709\u62a5\u9519(\u5c31\u662f\u8fd4\u56de-888)\n\t\t\t{\n\t\t\t\tb[i]=1;//\u8bb0\u5f55\u4e3a\u7528\u8fc7\n\t\t\t\tf[k][1]=num;//\u8bb0\u5f55\u6b65\u9aa4\n\t\t\t\tf[k][2]=l;\n\t\t\t\tf[k][3]=a[i];\n\t\t\t\tf[k][4]=n;\n\t\t\t\tdfs(k+1,n);//\u4e0b\u4e00\u6b21\u8ba1\u7b97,\u66f4\u65b0\u5f97\u51fa\u7684\u6570\u4e3an\n\t\t\t\tb[i]=0;//\u56de\u6eaf\n\t\t\t}\n\t\t\tn=jsq(l,a[i],num);//\u53cd\u8fc7\u6765\n\t\t\tif(n!=-888)//\u4e0b\u9762\u90fd\u662f\u548c\u524d\u9762\u4e00\u6837\u7684\n\t\t\t{\n\t\t\t\tb[i]=1;\n\t\t\t\tf[k][1]=num;\n\t\t\t\tf[k][2]=l;\n\t\t\t\tf[k][3]=a[i];\n\t\t\t\tf[k][4]=n;\n\t\t\t\tdfs(k+1,n);\n\t\t\t\tb[i]=0;\n\t\t\t}\n\t\t}\n\t}\n}\nint main()\n{\n\tcin>>a[1]>>a[2]>>a[3]>>a[4];//\u8f93\u5165\n\tfor(int i=1;i<=4;i++)//\u4e00\u5f00\u59cb\u5c06\u4e24\u4e2a\u6570\u5148\u8fd0\u7b97,\u8fd9\u91cc\u662f\u679a\u4e3e\u7b2c\u4e00\u4e2a\u6570\n\t{\n\t\tfor(int j=1;j<=4;j++)//\u679a\u4e3e\u7b2c\u4e8c\u4e2a\u6570\n\t\t{\n\t\t\tif(i==j) continue;//\u4e0d\u80fd\u662f\u540c\u4e00\u4e2a\u6570,continue\u5c31\u662f\u8df3\u8fc7\u540e\u9762\u5185\u5bb9\u7684\u4f5c\u7528\n\t\t\tfor(int l=1;l<=4;l++)//\u679a\u4e3e\u8fd0\u7b97\u7b26\n\t\t\t{\n\t\t\t\tint n=jsq(l,a[i],a[j]);//\u8ba1\u7b97\n\t\t\t\tif(n!=-888)//\u5982\u679c\u6ca1\u62a5\u9519\n\t\t\t\t{\n\t\t\t\t\tf[1][1]=a[i];//\u8bb0\u5f55\u6b65\u9aa4\n\t\t\t\t\tf[1][2]=l;\n\t\t\t\t\tf[1][3]=a[j];\n\t\t\t\t\tf[1][4]=n;\n\t\t\t\t\tb[i]=1;//\u8bb0\u5f55\u4e3a\u7528\u8fc7\n\t\t\t\t\tb[j]=1;\n\t\t\t\t\tdfs(2,n);//n\u4e3a\u5f97\u51fa\u7684\u6570\n\t\t\t\t\tb[i]=0;//\u56de\u6eaf\n\t\t\t\t\tb[j]=0;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tcout<<\"No answer!\";//\u524d\u9762\u90fd\u6ca1\u6709\u5f97\u51fa\u8fc7,\u8f93\u51fa\u4e0d\u53ef\u4ee5\n\treturn 0;\n}\n```\n",
        "postTime": 1567439369,
        "uid": 199270,
        "name": "Y_B_Y",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u4e3a\u4ec0\u4e48\u90a3\u4e48\u591a\u4eba\u5199\u4e86\u90a3\u4e48\u591a\u884c\uff1f \u771f\u7684\u4e0d\u7528\u6808\u554a\u3002\u3002\u3002\n\n```cpp\n  #include <iostream>\n  #include <cstdlib>\n  #include <cstdio>\n  using namespace std;\n  long long num[5],output[4][4]\uff0cidx;\t//num\u662f\u521d\u59cb\u6570\u5b57 output\u662f\u8f93\u51fa \n  char sig[4],don[4]={'+','-','*','/'};\t//sig\u662f\u7528\u7684\u8fd0\u7b97\u7b26 don\u662f\u56db\u5219\u8fd0\u7b97\n  bool check(float a,int b)\t//\u9664\u6cd5\u5224\u65ad\n  {\n      return (a/b==int(a/b));\n  }\t//\u5176\u5b9e\u5c31\u662freturn a%b==0\uff0c\u6ca1\u529e\u6cd5\u8111\u5b50\u5c11\u6839\u5f26\n  int count(int a,int b,int s)\t//a\u548cb\u662f\u8fd0\u7b97\u6570\n  {\n      if(s==0) return a+b;\n      if(s==1) return a-b;\n      if(s==2) return a*b;\n      return a/b;\n  }\n  void dfs(int t)\t//\u795e\u5947\u7684dfs\n  {\n      if(t==4)\t//\u7528\u5b8c\u4e09\u6b21\u8ba1\u7b97\n      {\n          int f1=0,f2=0;\t//\u8ba1\u6570\n          for(int i=1;i<=4;i++)\n          {\n              if(num[i]==1000000) f1++;\t//\u7528\u8fc7\u7684\u6570\u8d4b\u4e3a1000000\n              if(num[i]==24) f2++;\t//\u5176\u4e2d\u6709\u4e00\u4e2a24\n          }\n          if(f1==3&&f2==1)\t//\u53ea\u5269\u4e00\u4e2a24\n          {\n              if(output[1][3]>0&&output[2][3]>0&&output[3][3]>0)\t//\u6bcf\u6b21\u8fd0\u7b97\u7684\u7ed3\u679c\u90fd\u4e0d\u80fd\u4e3a\u8d1f\u6570\uff0c\u5207\u8bb0\uff08\u6211\u7b2c\u4e00\u6b21#5 10WA\u88ab\u5751\uff09\n              {\n                  idx++;\n                  for(int i=1;i<=3;i++)\n                  {\n                      int minv=min(output[i][1],output[i][2]),maxv=max(output[i][1],output[i][2]); \t//\u5927\u6570\u5728\u524d \u5c0f\u6570\u5728\u540e\n                      cout<<maxv<<sig[i]<<minv<<\"=\"<<output[i][3]<<endl;\n                  }\n                  exit(0);\t//\u6ca1\u529e\u6cd5\u6211\u5c31\u8fd9\u4e48\u61d2\n              }\n          }\n          return; \n      }\n      for(int i=1;i<=4;i++)\n      {\n          if(num[i]!=1000000)\t//\u975e\u88ab\u7528\u8fc7\u7684\u6570\n          {\n              for(int j=1;j<=4;j++)\n              {\n                  if(i!=j&&num[j]!=1000000)\t//\u975e\u91cd\u6570 & \u975e\u88ab\u7528\u8fc7\u7684\u6570\n                  {\n                      for(int s=0;s<4;s++)\n                      {\n                          if(s==3&&!check(num[i],num[j])) break;\t//\u7528\u9664\u6cd5\u8fd0\u7b97\u5e76\u4e0d\u80fd\u6574\u9664\n                          int a=num[i],b=num[j],cnt=count(num[i],num[j],s);\n                          num[i]=cnt;\t//\u66f4\u65b0\u6570\u5b57\n                          num[j]=1000000;\t//\u66f4\u65b0\u6570\u5b57\n                          output[t][1]=a;\t//\u653e\u5230\u8f93\u51fa\u91cc\n                          output[t][2]=b;\t//\u653e\u5230\u8f93\u51fa\u91cc\n                          output[t][3]=cnt;\t//\u653e\u5230\u8f93\u51fa\u91cc\n                          sig[t]=don[s];\t//\u653e\u5230\u8f93\u51fa\u91cc\n                          dfs(t+1);\t//\u641c\u7d22\n                          num[i]=a;\t//\u56de\u6eaf\n                          num[j]=b;\t//\u56de\u6eaf\n                      }\n                  }\n              }\n          }\n      }\n  }\t//\u61f5\u903c\u7684\u591a\u91cd\u5927\u62ec\u53f7\n  int main()\n  {\n      //\u6211\u662fcin/out\u515a\n      for(int i=1;i<=4;i++) cin>>num[i];\n      dfs(1);\n      if(!idx) cout<<\"No answer!\";\n      return 0;\n  }\n```\n\u5b9e\u5728\u4e0d\u9700\u8981400\u884c+\u3002",
        "postTime": 1541328935,
        "uid": 144044,
        "name": "XMK_\u840c\u65b0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "### \u8bf4\u53e5\u5b9e\u8bdd\uff0c\u8fd9\u4e00\u9898\u5e76\u4e0d\u96be\uff08^_^\uff09\u3002\n\n\u4f46\u662f\u6709\u4e00\u4e9b\u5730\u65b9\u5bb9\u6613\u88ab\u5ffd\u7565\u3002\u5c31\u662f\u5224\u65ad\u662f\u5426\u6b63\u9664\u7684\u65f6\u5019\u5fc5\u987b\u5148\u5224\u65ad\u88ab\u9664\u6570\u662f\u5426\u4e3a\u96f6\uff0c\u4e0d\u7136\u81ea\u5df1\u7684Dep-cpp\u90fd\u4f1a\u7206\u70b8\u3002\n\n\u6211\u770b\u5230\u8bb8\u591a\u7684\u9898\u89e3\u90fd\u662f\u7528\u624b\u52a8\u679a\u4e3e\uff08\u7b80\u79f0\u6253\u8868\uff09\u7684\u65b9\u5f0f\uff0c\u90a3\u4e48\u6211\u5c31\u6765\u8bb2\u4e00\u4e0b\u5982\u4f55\u7528\u540e\u7f00\u8868\u8fbe\u5f0f\u6765\u505a\u8fd9\u4e00\u9898\u3002\n\n**\u8fd9\u91cc\u53ea\u8bb2\u540e\u7f00\u8868\u8fbe\u5f0f\u5982\u4f55\u6c42\u503c\uff0c\u4e0d\u8bb2\u5982\u4f55\u4ece\u4e2d\u7f00\u8f6c\u540e\u7f00\u3002**\n\n\u6c42\u503c\u5e76\u4e0d\u600e\u4e48\u96be\uff0c\u7b80\u5355\u6765\u8bb2\u5c31\u53ea\u6709\u4e24\u70b9\uff1a\n\n\uff081\uff09\u5c31\u662f\u5f53\u9047\u5230\u4e00\u4e2a\u6570\uff0c\u5219\u5165\u6808\u3002\n\n\uff082\uff09\u9047\u5230\u7b26\u53f7\uff0c\u4ece\u6808\u91cc\u9762\u53d6\u4e24\u4e2a\u6570\u8fdb\u884c\u8fd0\u7b97\u540e\uff0c\u518d\u628a\u7ed3\u679c\u5165\u6808\u3002\n\n\u6700\u7ec8\uff0c\u6808\u9876\u5c31\u662f\u7ed3\u679c\uff08\u6ce8\u610f\uff1a\u540e\u7f00\u8868\u8fbe\u5f0f\u6ca1\u6709\u62ec\u53f7\uff09\u3002\u6240\u4ee5\u8fd0\u7b97\u56db\u4e2a\u6570\u53ea\u9700\u8981\u4e09\u4e2a\u7b26\u53f7\uff08\u8fde\u5c0f\u5b66\u751f\u90fd\u4f1a\u8bc1\u660e\u90a3\u4e48\u5c31\u4e0d\u7528\u6211\u6765\u8bf4\u4e86\u5427\u3002\n\n```cpp\n\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5c31\u62ff\u6837\u4f8b\u6765\u8bf4\u5427\u53ef\u4ee5\u77e5\u9053\u4e0b\u9762\u4e24\u4e2a\u540e\u7f00\u8868\u8fbe\u5f0f\u3002\n1 2 3 7 * + + \u6216\u8005 1 2 + 3 7 * + \u90fd\u53ef\u4ee5\u5f97\u523024\u8fd9\u4e2a\u7b54\u6848\u3002\n```\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528\u8fd9\u4e00\u6bb5\u641c\u7d22\u4ee3\u7801\u5b9e\u73b0\u3002\n\n```cpp\n/*\n\u5934\u6587\u4ef6\n\u5b9a\u4e49\u5168\u5c40\u53d8\u91cf\nbool \u641c\u7d22\u51fd\u6570\uff08\u6df1\u5ea6\uff09{\n\t\u5982\u679c\uff08\u6df1\u5ea6==8[\u56e0\u4e3a\u53ea\u67097\u4e2a\u7b26\u53f7\uff0c\u5305\u62ec\u6570\u5b57]\uff09{\n    \t\u5982\u679c\uff08\u5982\u679c\u6808\u9876==24\uff09{\n        \t\u8f93\u51fa;\n            \u8fd4\u56de\u771f;\n\t\t}\n        \u8fd4\u56de\u5047;\n\t}\n    \u679a\u4e3e\n\t\t\u5224\u65ad{\n\t\t\t\u2026\u2026;\n        \t\u641c\u7d22\uff08\u6df1\u5ea6+1);\n            \u2026\u2026;\n\t\t}\n}\nint \u4e3b\u51fd\u6570\uff08\uff09{\n\t\u8f93\u5165;\n    \u641c\u7d22\uff081\uff09;\n}\n*/\n```\n\n\u90a3\u4e48\u5982\u4f55\u679a\u4e3e\uff0c\u6211\u4eec\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e2a\u5168\u5c40\u7684\u6808\uff0c\u8bb0\u5f55\u641c\u7d22\u4e4b\u540e\u7684\u540e\u7f00\u8868\u8fbe\u5f0f\u7684\u7ed3\u679c\uff0c\u90a3\u4e48\u5982\u679c\u6211\u4eec\u8981\u6dfb\u52a0\u7b26\u53f7\uff0c\u80af\u5b9a\u5fc5\u987b\u8981\u6709\u4e24\u4e2a\u6570\u6765\u8fd0\u7b97\uff0c\u4e5f\u5c31\u662f\u6808\u4e2d\u7684\u5143\u7d20\u5fc5\u987b\u5927\u4e8e\u7b49\u4e8e2\u4e2a\uff0c\u5426\u5219\u8fd9\u662f\u4e00\u4e2a\u9519\u8bef\u7684\u540e\u7f00\u8868\u8fbe\u5f0f\u3002\n\n\u8f93\u51fa\u5c31\u662f\u6309\u7167\u8fd0\u7b97\u987a\u5e8f\uff0c\u7528\u6808\u6a21\u62df\uff0c\u975e\u5e38\u7b80\u5355\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar s[]=\"+-*/\";\nstack<int> sta,ans;\nint que[9],c[5],Use[5];\n/*\nque\uff1a\u8bb0\u5f55\u6bcf\u4e00\u6b21\u9009\u53d6\u7684\u7f16\u53f7\uff08\u5f80\u4e0b\u770b\u5c31\u77e5\u9053\u4e86\uff09\u3002\nc\uff1a\u56db\u4e2a\u6570\u5b57\u3002\nUse\uff1a\u5224\u65ad\u4e00\u4e2a\u6570\u5b57\u662f\u5426\u88ab\u7528\u8fc7\n*/\ninline bool Find_ans(int top){\n\tif(top==8){\n\t\tif(sta.top()==24){\n       \t\t/*\n            \u8f93\u51fa\u5c31\u662f\u6a21\u62df\u8fd0\u7b97\u3002\n            \u5207\u8bb0\u4e24\u6570\u8fd0\u7b97\uff0c\u5927\u7684\u5728\u524d\uff0c\u5c0f\u7684\u5728\u540e\u3002\n            \u5207\u8bb0\u4e0d\u80fd\u7528\u539f\u6765\u7684dfs\u7528\u7684sta\u8fd9\u4e00\u4e2a\u6808\uff0c\u9700\u8981\u591a\u5f00\u4e00\u4e2a\u6808ans\u3002\n            */\n\t\t\tfor(int i=1,c1=0,c2=0;i<=7;i++){\n\t\t\t\tif(que[i]<=4)\n\t\t\t\t\tans.push(c[que[i]]);\n\t\t\t\telse {\n\t\t\t\t\tc1=ans.top(); ans.pop();\n\t\t\t\t\tc2=ans.top(); ans.pop();\n\t\t\t\t\tif(i&1 && c1<=c2)\n\t\t\t\t\t\tswap(c1,c2);\n\t\t\t\t\tprintf(\"%d%c%d=\",c1,s[que[i]-5],c2);\n\t\t\t\t\tif(que[i]==5) ans.push(c1+c2),printf(\"%d\\n\",c1+c2);\n\t\t\t\t\tif(que[i]==6) ans.push(c1-c2),printf(\"%d\\n\",c1-c2);\n\t\t\t\t\tif(que[i]==7) ans.push(c1*c2),printf(\"%d\\n\",c1*c2); \n\t\t\t\t\tif(que[i]==8) ans.push(c1/c2),printf(\"%d\\n\",c1/c2);\t\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\tfor(int i=1,c1=0,c2=0;i<=8;i++)\n\t\tif((i<=4 && !Use[i]) || (i>=5 && sta.size()>=2)){\n        /*\n        1~4\uff1a\u9009\u4e2d\u7b2c\u51e0\u4e2a\u6570\u5b57\u3002\n        5~8\uff1a\u8fd0\u7b97\u7b26\n           5 -> '+'\n           6 -> '-'\n           7 -> '*'\n           8 -> '/'\n        */\n\t\t\tif(i<=4){\n\t\t\t\tsta.push(c[i]);\n\t\t\t\tUse[i]=true;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tc1=sta.top(); sta.pop();\n\t\t\t\tc2=sta.top(); sta.pop();\n\t\t\t\tif((!c2 || (c2 && c1%c2!=0)) && i==8){\n                /*\n                \u5207\u8bb0\uff0c\u6574\u9664\u548c\u662f\u5426\u4e3a\u96f6\u8981\u5206\u5f00\u5224\u65ad\u3002\n                \u5982\u679c\u4e0d\u6ee1\u8db3\u7684\u8bdd\uff0c\u4ee3\u8868\u4e0d\u80fd\u8fd0\u7b97\uff0c\u6240\u4ee5\u8981\u628a\u4ece\u6808\u91cc\u9762\u62ff\u51fa\u6765\u7684\u4e24\u4e2a\u6570\u653e\u56de\u53bb\u3002\n                \u5207\u8bb0\u5148\u653e\u540e\u62ff\u51fa\u6765\u7684\uff0c\u518d\u653e\u5148\u62ff\u51fa\u6765\u7684\u3002\n                */\n\t\t\t\t\tsta.push(c2);\n\t\t\t\t\tsta.push(c1);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tif(i==5) sta.push(c1+c2);\n\t\t\t\tif(i==6) sta.push(c1-c2);\n\t\t\t\tif(i==7) sta.push(c1*c2);\n\t\t\t\tif(i==8) sta.push(c1/c2);\n                //\u628a\u8fd0\u7b97\u7684\u7ed3\u679c\u653e\u5165\u6808\u4e2d\u3002\n                \n\t\t\t}\n\t\t\tque[top]=i;\n            //\u8bb0\u5f55\u8fd9\u4e00\u6b21\u9009\u4e86\u4ec0\u4e48\u7f16\u53f7\u3002\n\t\t\tif(Find_ans(top+1))\n\t\t\t\treturn true;\n            //\u5982\u679c\u6709\u7b54\u6848\u4e86\u5c31\u6ca1\u6709\u5fc5\u8981\u7ee7\u7eed\u641c\u7d22\u4e86\u3002\n            /*==========\u4e00\u4e0b\u4e3a\u56deshuo\u8fc7\u7a0b==========*/\n\t\t\tque[top]=0;\n\t\t\tsta.pop();\n\t\t\tif(i>=5){\n\t\t\t\tsta.push(c2);\n\t\t\t\tsta.push(c1);\n\t\t\t}\n\t\t\telse Use[i]=false;\n            /*====================================*/\n\t\t}\n\treturn false;\n}\nint main(){\n\tfor(int i=1;i<=4;i++)\n\t\tscanf(\"%d\",&c[i]);\n\tif(!Find_ans(1))\n\t\tprintf(\"No answer!\\n\");\n    //\u5207\u8bb0\u522b\u628aNo answer!\u7ed9\u6253\u9519\u4e86\uff01\n\treturn 0;\n}\n```\n### \u5982\u679c\u770b\u4e0d\u61c2\u7684\u8bdd\u53ef\u4ee5\u79c1\u4fe1\u6211\u54df\u3002",
        "postTime": 1540711738,
        "uid": 53734,
        "name": "\u547c\u98ce\u5524\u96e8abc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u6765\u4e2a\u6700\u66b4\u529b\u76847\u91cd\u5faa\u73af\n\ni j k l\u5206\u522b\u679a\u4e3e\u56db\u4e2a\u6570\u5b57\uff0cm,n,o\u679a\u4e3e\u4e09\u4e2a\u8fd0\u7b97\u7b26\u3002\u66b4\u529b\u679a\u4e3e\u3002\n\u6ce8\u610f\u4fdd\u8bc1i,j,k,l\u4e0d\u91cd\u590d\n\n\u6bd4\u8f83\u5751\u7239\u7684\u7b49\u5f0f\u5de6\u8fb9\u5f3a\u5236\u8f93\u51fa\u8f83\u5927\u7684\u6570\u5b57\uff01\u59823x8=24\u662f\u9519\u7684\uff0c\u53ea\u80fd\u8f93\u51fa8x3=24.\n\n\u6ce8\u610f\uff01\u8fd9\u8fd8\u610f\u5473\u7740a-b>0\u3002\n\n\u4f8b\u5982\u8f93\u5165 9 1 5 2\uff0c\u6709\u8fd9\u6837\u4e00\u4e2a\u89e3\uff081-9\uff09x\uff082-5\uff09\uff0c\u8f93\u51fa\n\n1-9=-8\n\n2-5=-3\n\n-3*-8=24\n\n\u8fd9\u4e2a\u89e3\u8fdd\u53cd\u4e86\u7b49\u5f0f\u5de6\u8fb9\u5148\u8f93\u51fa\u8f83\u5927\u6570\u5b57\u7684\u89c4\u5219\uff01\n\u4f60\u53ea\u80fd\u8f93\u51fa\uff089-1\uff09x\uff085-2\uff09\u8fd9\u6837\u7684\u89e3\n\n\n\u5bf9\u9664\u6cd5\uff0c\u9700\u5224\u65ad\u5206\u6bcd\u662f\u5426\u4e3a0\uff0c\u7ed3\u679c\u662f\u5426\u4e3a\u6574\u6570\u3002\n\n\u4e00\u65e6\u627e\u5230\u7b2c\u4e00\u4e2a\u53ef\u884c\u7684\u89e3\u9a6c\u4e0a\u8f93\u51fa\u7b54\u6848\uff0c\u7ed3\u675f\u53ef\u556a\u76847\u91cd\u5faa\u73af\u3002\n\n\u6700\u540e\uff0c\u6ce8\u610f\u5230\u6709\u4e24\u79cd\u8fd0\u7b97\u987a\u5e8f\uff1a\n\n\u5bf9 1 2 3 4 \u670924=(((1x2)x3)x4)\n\n\u5bf9 1 3 5 7 \u670924=\uff083-1\uff09*(7+5)\n\n\u5206\u522b\u5224\u65ad\u8fd9\u4e24\u79cd\u8fd0\u7b97\u987a\u5e8f\u7684\u7ed3\u679c\u662f\u5426\u662f24\u5373\u53ef\u3002\n\n\u6700\u540e\uff0c\u867d\u7136\u9898\u76ee\u9650\u5b9a\u4e86\u6570\u636e\u8303\u56f4\u662f[1,9]\uff0c\u4f46\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u89e3\u6cd5\u9002\u7528\u4e8e\u4efb\u4f55int\u6570\u636e\u8303\u56f4\n\n```c\n#include<stdio.h>\n\nint num[4];// num\uff1a\u5b58\u50a84\u4e2a\u8f93\u5165\u7684\u6570\u5b57\n_Bool win = 0;\n\nvoid search(void);//\u679a\u4e3e4\u4e2a\u6570\u5b57\uff0c3\u4e2a\u8fd0\u7b97\u7b26\nint jjcc(int a, int b, int c);//\u8f93\u5165\u6570\u5b57a\uff0c\u8fd0\u7b97\u7b26b\uff0c\u6570\u5b57c\uff0c\u8fd4\u56de\u7ed3\u679c\nchar whatitis(int a);//\u8fd4\u56de\u6570\u5b57\u4ee3\u8868\u7684\u8fd0\u7b97\u7b26\u53f7\n\nint main(void)\n{\n\tfor (size_t i = 0; i < 4; i++)\n\t\tscanf(\"%d\", &num[i]);\n\n\tsearch();\n\tif (win != 1) printf(\"No answer!\");\n\n\treturn 0;\n}\n\nint jjcc(int a, int b, int c)\n{\n\tint ans;\n\tswitch (b)\n\t{\n\tcase 0:\n\t\tans = a + c;\n\t\tbreak;\n\tcase 1:\n\t\tans = a - c;\n\t\tbreak;\n\tcase 2:\n\t\tans = a * c;\n\t\tbreak;\n\tcase 3:\n\t\tif ((c != 0) && (a % c == 0))\n\t\t\tans = a / c;\n\t\telse goto imp;\n\t\tbreak;\n\t}\n\treturn ans;\nimp:return 331777;//24^4+1,impossible num\n}\n\nchar whatitis(int a)\n{\n\tchar ans;\n\tswitch (a)\n\t{\n\tcase 0:\n\t\tans = '+';\n\t\tbreak;\n\tcase 1:\n\t\tans = '-';\n\t\tbreak;\n\tcase 2:\n\t\tans = '*';\n\t\tbreak;\n\tcase 3:\n\t\tans = '/';\n\t\tbreak;\n\t}\n\treturn ans;\n}\n\nvoid search(void)\n{\n\tint ans, ans_1, ans_a_2, ans_b_2;\n\n\tfor (size_t i = 0; i < 4; i++)  //num_1\n\t{\n\t\tfor (size_t j = 0; j < 4; j++) //num_2\n\t\t{\n\t\t\tif (j == i) continue;\n\t\t\tfor (size_t k = 0; k < 4; k++) //num_3\n\t\t\t{\n\t\t\t\tif (k == i || k == j) continue;\n\t\t\t\tfor (size_t l = 0; l < 4; l++) //num_4\n\t\t\t\t{\n\t\t\t\t\tif (l == i || l == j || l == k) continue;\n\t\t\t\t\tfor (size_t m = 0; m < 4; m++) //cal_1\n\t\t\t\t\t{\n\t\t\t\t\t\tans_1 = jjcc(num[i], m, num[j]);\n\t\t\t\t\t\tif (ans_1 < 0) continue;\n\t\t\t\t\t\tfor (size_t n = 0; n < 4; n++)//cal_3\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tans_a_2 = jjcc(num[k], n, num[l]);\n\t\t\t\t\t\t\tfor (size_t o = 0; o < 4; o++)//cal_2\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tans_b_2 = jjcc(ans_1, o, num[k]);\n\t\t\t\t\t\t\t\tans = jjcc(ans_1, o, ans_a_2);\n\t\t\t\t\t\t\t\t//\u7b2c\u4e00\u79cd\u8fd0\u7b97\u987a\u5e8f\n\t\t\t\t\t\t\t\tif (ans == 24 && ans_a_2 >= 0)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\twin = 1;\n\t\t\t\t\t\t\t\t\t//\u5224\u65ad\u90a3\u4e2a\u5927\uff0c\u6539\u53d8\u8f93\u51fa\u987a\u5e8f\n\t\t\t\t\t\t\t\t\tif (num[i] <= num[j])\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[j], whatitis(m), num[i], ans_1);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[i], whatitis(m), num[j], ans_1);\n\t\t\t\t\t\t\t\t\tif (num[k] <= num[l])\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[l], whatitis(n), num[k], ans_a_2);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[k], whatitis(n), num[l], ans_a_2);\n\t\t\t\t\t\t\t\t\tif (ans_1 <= ans_a_2)\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", ans_a_2, whatitis(o), ans_1, ans);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", ans_1, whatitis(o), ans_a_2, ans);\n\t\t\t\t\t\t\t\t\tgoto End;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tans = jjcc(ans_b_2, n, num[l]);\n\t\t\t\t\t\t\t\t//\u7b2c\u4e8c\u79cd\u8fd0\u7b97\u987a\u5e8f\n\t\t\t\t\t\t\t\tif (ans == 24 && ans_b_2 >= 0)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\twin = 1;\n\t\t\t\t\t\t\t\t\t//\u5224\u65ad\u90a3\u4e2a\u5927\uff0c\u6539\u53d8\u8f93\u51fa\u987a\u5e8f\n\t\t\t\t\t\t\t\t\tif (num[i] <= num[j])\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[j], whatitis(m), num[i], ans_1);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[i], whatitis(m), num[j], ans_1);\n\t\t\t\t\t\t\t\t\tif (ans_1 <= num[k])\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[k], whatitis(o), ans_1, ans_b_2);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", ans_1, whatitis(o), num[k], ans_b_2);\n\t\t\t\t\t\t\t\t\tif (ans_b_2 <= num[l])\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", num[l], whatitis(n), ans_b_2, ans);\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tprintf(\"%d%c%d=%d\\n\", ans_b_2, whatitis(n), num[l], ans);\n\t\t\t\t\t\t\t\t\tgoto End;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\nEnd:return;\n}\n```",
        "postTime": 1539119465,
        "uid": 128307,
        "name": "saipubw",
        "ccfLevel": 0,
        "title": "\u66b4\u529b7\u91cd\u5faa\u73af"
    },
    {
        "content": "emmmm\u5751\u70b9\u5927\u4f6c\u4eec\u90fd\u8bb2\u8fc7\u4e86\n\n\u521a\u5f00\u59cb\u5f88naive\u7684\u679a\u4e3e4\u4e2a\u6570\uff0c\n\n\u518d\u679a\u4e3e3\u4e2a\u95f4\u9694\u4e2d\u7684\u8fd0\u7b97\u7b26\uff0c\n\n\u7ecf\u5927\u4f6c\u63d0\u9192\uff0c\u8fd9\u6837\u5e76\u4e0d\u80fd\u5b8c\u5168\u679a\u4e3e\u6240\u6709\u60c5\u51b5\u3002\n\n\u4e0d\u60f3\u5199\u6df1\u641c\uff0c\u4e8e\u662f\u849f\u84bb\u5c31\u5f00\u59cb\u5168\u6392\u5217\u540e\u7f00\u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u624b\u5199\u6808\u6a21\u62df\u4e00\u901a\u5c31\u597d\u4e86\n\n\u4ee5\u4e0b\u662f\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cstdlib>\n#include<algorithm>\nusing namespace std;\nint num[10],stack[10];\nchar fh[15];\nbool flag;\nvoid print();\nvoid js(){\n    memset(stack,0,sizeof(stack));\n    int top=0;\n    for(int o=1;o<=7;o++){\n        if(num[o]>=1&&num[o]<=9){\n            top++;\n            stack[top]=num[o];\n        }\n        if(num[o]>=11&&num[o]<=14){\n            if(top<2)\n                return;\n            else{\n                if(num[o]==11){\n                    stack[top-1]+=stack[top];         top--;\n                }\n                if(num[o]==12){\n                    stack[top-1]-=stack[top];         top--;\n                    if(stack[top]<0)\n                        return;\n                }\n                if(num[o]==13){\n                    stack[top-1]*=stack[top];         top--;\n                }\n                if(num[o]==14){\n                    if(stack[top]==0) \n                        return; \n                    if(stack[top-1]%stack[top]==0){\n                        stack[top-1]/=stack[top];     top--;\n                    }\n                        \n                    else return;\n                }\n            }\n        }\n    }\n    if(stack[top]==24){\n        print();\n        flag=1;\n        return;\n    }\n}\nvoid print(){\n    memset(stack,0,sizeof(stack));\n    int top=0;\n    for(int o=1;o<=7;o++){\n        if(num[o]>=1&&num[o]<=9){\n            top++;\n            stack[top]=num[o];\n        }\n        if(num[o]>=11&&num[o]<=14){\n            if(num[o]==11){\n                printf(\"%d%c%d=%d\\n\",max(stack[top-1],stack[top]),fh[num[o]],min(stack[top-1],stack[top]),stack[top-1]+stack[top]);         \n                stack[top-1]+=stack[top];\n                top--;\n            }\n            if(num[o]==12){\n                printf(\"%d%c%d=%d\\n\",max(stack[top-1],stack[top]),fh[num[o]],min(stack[top-1],stack[top]),stack[top-1]-stack[top]);\n                stack[top-1]-=stack[top];\n                top--;\n            }\n            if(num[o]==13){\n                printf(\"%d%c%d=%d\\n\",max(stack[top-1],stack[top]),fh[num[o]],min(stack[top-1],stack[top]),stack[top-1]*stack[top]);\n                stack[top-1]*=stack[top];         \n                top--;\n            }\n            if(num[o]==14){\n                printf(\"%d%c%d=%d\\n\",max(stack[top-1],stack[top]),fh[num[o]],min(stack[top-1],stack[top]),stack[top-1]/stack[top]);\n                stack[top-1]/=stack[top];     \n                top--;\n                \n            }\n        }\n    }\n}\nint main(){   \n    for(int i=1;i<=4;i++)\n    \tscanf(\"%d\",&num[i]);\n    fh[11]='+';fh[12]='-';fh[13]='*';fh[14]='/';\n    for(int i=11;i<=14;i++)\n        for(int j=11;j<=14;j++)\n            for(int k=11;k<=14;k++){\t\n                num[5]=i;   num[6]=j;   num[7]=k;\n                sort(num+1,num+1+7);\n    \t\t\tdo{\n                   js();\n                   if(flag==1)\n                        return 0;\n                }while(next_permutation(num+1,num+7+1)); \n            }\n    printf(\"No answer!\");\n    return 0;\n}\n    \n```",
        "postTime": 1537154825,
        "uid": 61703,
        "name": "AISakura",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "### \u611f\u89c9\u524d\u9762\u7684\u5927\u4f6c\u7684\u66b4\u529b\u591a\u5c11\u6709\u70b9\u5c0f\u95ee\u9898\uff0c\u6211\u51b3\u5b9a\u6765\u732e\u4e11\u4e86\u3002\u771f\u7684\u4e0d\u662f\u201c\u9ad8\u6027\u80fd\u201d\uff0c\u5927\u5bb6\u76f4\u63a5\u66b4\u529b\u5427\uff01\n\u76f4\u63a5\u4e0a\u4ee3\u7801\u5427\uff08\u6284\u88ad\u53ef\u803b\uff09\uff0c\u5927\u5bb6\u8010\u7740\u6027\u5b50\u8bfb\u6ce8\u91ca\u5427\u3002\u771f\u7684\u4e8b\u9ad8\u4e09\u6691\u5047\u65e0\u804a\u524d\u6765A\u66b4\u529b\u9898\u554a\u3002\n\n```cpp\n#include<iostream>//\u56e0\u4e3a\u6839\u672c\u5c31\u4e0d\u7528\u8003\u8651\u901f\u5ea6\uff0c\u6240\u4ee5\u7528iostream\u8bfb\u5199 \n#include<string>\nusing namespace std;\n\nint num[4];\nstring s[3];//\u5b58\u8f93\u51fa\u7684 \n\ninline int _min(const int& _x,const int& _y){return _x<_y?_x:_y;}\ninline int _max(const int& _x,const int& _y){return _x>_y?_x:_y;}\n\nstring istr(int x)//int to string , 0<=x<=24 \n{\n\tstring m;\n\tm=char(x%10+'0');\n    if(x>=10) m=char(x/10+'0')+m;\n    return m;\n}\n\nstring work(const int& x,const int& y,char ch){return istr(_max(x,y))+ch+istr(_min(x,y))+'=';}\n\nbool dfs(int n) //\u8868\u793a\u7528n\u4e2a\u6570\u64cd\u4f5c24\u70b9 \n{\n    if(n==1) return num[0]==24;\n    else\n    {\n        int x,y; \n\t\tfor(int i=0;i<n;i++) for(int j=i+1;j<n;j++)\n        {\n            x=num[i],y=num[j],num[j]=num[n-1];//\u53d6num[i]\u548cnum[j]\u8fdb\u884c\u8fd0\u7b97\uff0c\u5e76\u5c06num[n-1]\u8c03\u6574\u5230\u524dn-1\u4e2a\u6570\u91cc\u9762\u65b9\u4fbfdfs \n            num[i]=x+y; if(dfs(n-1))\n            {\n                s[4-n]=work(x,y,'+')+istr(x+y);\n                return true;\n            }\n            if(x>=y)//\u597d\u50cf\u4e0d\u5141\u8bb8\u51fa\u73b0\u8d1f\u6570\uff0c\u4e4b\u524dx-y\u548cy-x\u90fd\u6709\u7684\u65f6\u5019\u6709\u4e24\u4e2a\u70b9WA \n            {\n\t            num[i]=x-y; if(dfs(n-1))\n\t            {\n\t                s[4-n]=istr(x)+'-'+istr(y)+'='+istr(x-y);\n\t                return true;\n\t            }\n\t\t\t}\n            else\n            {\n            \tnum[i]=y-x; if(dfs(n-1))\n\t            {\n\t                s[4-n]=istr(y)+'-'+istr(x)+'='+istr(y-x);\n\t                return true;\n\t            }\n\t\t\t}\n            num[i]=x*y; if(dfs(n-1))\n            {\n                s[4-n]=work(x,y,'*')+istr(x*y);\n                return true;\n            }\n            if(y&&!(x%y))\n\t\t\t{\n\t\t\t\tnum[i]=x/y; if(dfs(n-1))\n\t\t\t\t{\n\t\t\t\t\ts[4-n]=istr(x)+'/'+istr(y)+'='+istr(x/y);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n            if(x&&!(y%x))\n\t\t\t{\n\t\t\t\tnum[i]=y/x; if(dfs(n-1))\n\t\t\t\t{\n\t\t\t\t\ts[4-n]=istr(y)+'/'+istr(x)+'='+istr(y/x);\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n            num[i]=x,num[j]=y;\n        }\n        return false;\n    }\n}\n\nint main()\n{\n    cin>>num[0]>>num[1]>>num[2]>>num[3];\n    if(dfs(4)) for(int i=0;i<3;i++) cout<<s[i]<<endl;\n    else cout<<\"No answer!\"<<endl;\n    return 0;\n}\n\n```\n",
        "postTime": 1530838750,
        "uid": 25015,
        "name": "dorence",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u76ee\u7684\u672c\u8d28\u5c31\u662f\u4efb\u610f\u627e\u51fa\u4e24\u4e2a\u6570\u5b57\u5c06\u5b83\u4eec\u52a0\u51cf\u4e58\u9664\n\n\u7136\u540e\u518d\u4efb\u610f\u627e\u51fa\u4e24\u4e2a\u6570\u5b57\u5c06\u5b83\u4eec\u52a0\u51cf\u4e58\u9664\n\n\u77e5\u9053\u6700\u540e\u53ea\u5269\u4e0b\u4e24\u4e2a\u6570\uff0c\u5224\u65ad\u52a0\u51cf\u4e58\u9664\u540e\u662f\u5426\u80fd\u4e3a24.\n\n\u6240\u4ee5\u60f3\u8d77\u4e86\u9012\u5f52\u7684\u65b9\u6cd5\u3002\n\n\u5199\u4e86\u4e00\u4e2a\u7ed3\u6784\u975e\u5e38\u6e05\u6670\u7684\u4ee3\u7801\u3002\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<string>\n#include<cmath>\n#include<algorithm>\n#include<iostream>\nusing namespace std;\nstruct note\n{\n    char s[10000];\n} book[10];\nint check(int a,int b,int c,int d,int n)\n{\n    int i,j,x[6];\n    if(n>=3)///\u53ea\u5269\u4e0b\u4e24\u4e2a\u6570\u7684\u60c5\u51b5\n    {\n        if((d+c)==24)\n        {\n            sprintf(book[n].s,\"%d+%d=24\",d,c);\n            return 1;\n        }\n        if((d-c)==24)\n        {\n            sprintf(book[n].s,\"%d-%d=24\",d,c);\n            return 1;\n        }\n        if((d*c)==24)\n        {\n            sprintf(book[n].s,\"%d*%d=24\",d,c);\n            return 1;\n        }\n        if(c!=0)\n            if((d%c)==0 && (d/c)==24)\n            {\n                sprintf(book[n].s,\"%d/%d=24\",d,c);\n                return 1;\n            }\n        return 0;\n    }\n    for(i=n; i<=3; i++)///\u5982\u679c\u8fd8\u5269\u4e24\u4e2a\u4ee5\u4e0a\u5219\u5f00\u59cb\u968f\u673a\u9009\u62e9\u4e24\u4e2a\u6570\u5b57\n        for(j=i+1; j<=4; j++)\n        {\n            x[1]=a,x[2]=b,x[3]=c,x[4]=d;///\u8fd9\u91cc\u7528\u6392\u5e8f\u7684\u65b9\u6cd5\u7b80\u5316\u4e86\u7a0b\u5e8f\n            x[j]=x[j]+x[i];\n            x[i]=0;\n            sort(x+1,x+5);\n            if(check(x[1],x[2],x[3],x[4],n+1)==1)\n            {\n                x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n                sprintf(book[n].s,\"%d+%d=%d\",x[j],x[i],x[j]+x[i]);///\u4e07\u80fd\u7684sprintf\u548csscanf\n                return 1;\n            }\n            ///---------------------------------------------------------\n            x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n            x[j]=x[j]-x[i];\n            x[i]=0;\n            sort(x+1,x+5);\n            if(check(x[1],x[2],x[3],x[4],n+1)==1)\n            {\n                x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n                sprintf(book[n].s,\"%d-%d=%d\",x[j],x[i],x[j]-x[i]);\n                return 1;\n            }\n            ///---------------------------------------------------------\n            x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n            x[j]=x[j]*x[i];\n            x[i]=0;\n            sort(x+1,x+5);\n            if(check(x[1],x[2],x[3],x[4],n+1)==1)\n            {\n                x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n                sprintf(book[n].s,\"%d*%d=%d\",x[j],x[i],x[j]*x[i]);\n                return 1;\n            }\n            ///---------------------------------------------------------\n            x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n            if(x[i]!=0)///\u8bb0\u4f4fmod 0\u548c\u96640\u7a0b\u5e8f\u4f1a\u7206\u70b8\u3002\n                if(x[j]%x[i]==0)\n                {\n                    x[j]=x[j]/x[i];\n                    x[i]=0;\n                    sort(x+1,x+5);\n                    if(check(x[1],x[2],x[3],x[4],n+1)==1)\n                    {\n                        x[1]=a,x[2]=b,x[3]=c,x[4]=d;\n                        sprintf(book[n].s,\"%d/%d=%d\",x[j],x[i],x[j]/x[i]);\n                        return 1;\n                    }\n                }\n        }\n    return 0;\n}\nint main()\n{\n    int a,b,c,d;\n    cin>>a>>b>>c>>d; ///\u8f93\u5165\n    if(check(a,b,c,d,1)==1)\n    {\n        cout<<book[1].s<<endl;  ///\u56e0\u4e3a\u9012\u5f52\u53ea\u80fd\u9006\u5e8f\u8f93\u51fa\uff0c\u9700\u8981\u7528\u5b57\u7b26\u4e32\u5b58\u4e00\u4e0b\u3002\n        cout<<book[2].s<<endl;\n        cout<<book[3].s<<endl;\n    }\n    else cout<<\"No answer!\"<<endl;\n    return 0;\n}\n\n```",
        "postTime": 1523452195,
        "uid": 13092,
        "name": "windyuan",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u66b4\u641c\uff0c\u6bcf\u6b21\u679a\u4e3e\u4f7f\u7528\u5269\u4e0b\u724c\u4e2d\u7684\u67d0\u4e24\u5f20\uff0c\u679a\u4e3e\u4f7f\u7528\u7684\u8fd0\u7b97\uff08\u6ce8\u610f\u5224\u65ad\u662f\u5426\u80fd\u6574\u9664\uff0c\u7ed3\u679c\u662f\u5426\u4e3a\u6b63\u6570\uff09\uff0c\u82e5\u641c\u5230\u6b63\u597d\u4f7f\u75284\u5f20\u724c\uff08\u8fdb\u884c\u4e86\u4e09\u6b21\u8fd0\u7b97\uff09\u5f97\u523024\u70b9\uff0c\u8f93\u51fa\u7b54\u6848\u5373\u53ef\u3002\n\ndfs\u51fd\u6570\u91cc\u7684dep\u5176\u5b9e\u6ca1\u6709\u5fc5\u8981\uff0c\u5224tl>3\u65f6\u8fd4\u56de\u5373\u53ef\n\n\n\n[code]\n/\\*by SilverN\\*/\n\n         \n```cpp\n#include<algorithm>\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<cmath>\n#include<queue>\nusing namespace std;\nstruct clc{\n    int a,b;\n    char c;\n    int res;\n}ans[60000];\nint a[5];\nint hd=1,tl=1;\nint vis[5];\nbool dfs(int cnt,int dep){\n    if(dep>3)return 0;\n    int i,j,k;\n    for(i=1;i<=cnt;i++)\n        if(vis[i])continue;\n        else\n     for(j=1;j<=cnt;j++){\n         if(i==j)continue;\n         if(vis[j])continue;\n         //+\n             int tmp1=a[i],tmp2=a[j];\n             a[i]=a[i]+a[j];a[j]=0;vis[j]=1;\n             ans[tl++]=(clc){tmp1,tmp2,'+',a[i]};\n             if((a[i]==24 && tl==4) || dfs(4,dep+1))return 1;\n             tl--;vis[j]=0;\n             a[i]=tmp1;a[j]=tmp2;\n         //-\n             a[i]=a[i]-a[j];a[j]=0;vis[j]=1;\n             ans[tl++]=(clc){tmp1,tmp2,'-',a[i]};\n             if(a[i]>0)//\u8fd0\u7b97\u7ed3\u679c\u5fc5\u987b\u662f\u6b63\u6574\u6570 \n                 if((a[i]==24 && tl==4) || dfs(4,dep+1))return 1;\n             tl--;vis[j]=0;\n             a[i]=tmp1;a[j]=tmp2;\n         //*\n             a[i]=a[i]*a[j];a[j]=0;vis[j]=1;\n             ans[tl++]=(clc){tmp1,tmp2,'*',a[i]};\n             if((a[i]==24 && tl==4) || dfs(4,dep+1))return 1;\n             tl--;vis[j]=0;\n             a[i]=tmp1;a[j]=tmp2;\n         // /\n             if(!a[j])continue;\n             if(a[i]%a[j]!=0)continue;\n             a[i]=a[i]/a[j];a[j]=0;vis[j]=1;\n             ans[tl++]=(clc){tmp1,tmp2,'/',a[i]};\n             if((a[i]==24 && tl==4) || dfs(4,dep+1))return 1;\n             tl--;vis[j]=0;\n             a[i]=tmp1;a[j]=tmp2;\n     }\n    return 0;\n}\nint main(){\n    int i,j;\n    for(i=1;i<=4;i++) scanf(\"%d\",&a[i]);\n    if(dfs(4,1)){\n        for(i=1;i<tl;i++){\n            if(ans[i].c=='*' || ans[i].c=='+')\n                if(ans[i].a<ans[i].b)swap(ans[i].a,ans[i].b);\n            printf(\"%d%c%d=%d\\n\",ans[i].a,ans[i].c,ans[i].b,ans[i].res);\n        }\n    }\n    else printf(\"No answer!\\n\");\n    return 0;\n}\n[/code]\n```",
        "postTime": 1473691190,
        "uid": 10826,
        "name": "Silver_N",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    },
    {
        "content": "\u5c11\u6709\u7684\u4e00\u6b21\u8fc7\uff0c\u5c31\u8fd9\u6837\u4efb\u6027\u7684\u6253\u4e86\u4e00\u6bb5\u8001\u957f\u7684\u4ee3\u7801\u5c31\u8fc7\u4e86\uff0c\u66b4\u529b\u679a\u4e3e\u64cd\u4f5c\u6570\u548c\u8fd0\u7b97\u7b26\uff1b\n\n\n\u7528\u4e09\u4e2a\u6570\u7ec4\uff0c\u4e00\u4e2a\u5b58\u6570\u7684\u4f7f\u7528\u60c5\u51b5\uff0c\u4e00\u4e2a\u5b58\u6570\uff0c\u4e00\u4e2a\u5b58\u8f93\u51fa\uff1b\u5177\u4f53\u81ea\u5df1\u770b\u5427\n\n\n```cpp\n#include<cstdio>\n#include<iostream>\n#include<cstring>\n#include<cstdlib>\nusing namespace std;\nint num[30];\nint sum[30];\nint l=4;\nint top=0;\nbool ok=false;\nbool use[30];\ninline bool pd()//\u5224\u65ad\u6570\u7684\u8bd5\u7528\u60c5\u51b5\uff0c\u7ed9\u51fa\u7684\u6570\u5fc5\u987b\u90fd\u7528\u8fc7 \n{\n    for(int i=1;i<=4;i++)\n    {\n        if(!use[i]) return 0;\n    }\n    return 1;\n}\ninline int pd1(int a,int b,int c)//\u5224\u65ad\u8fd9\u4e2a\u7ed3\u679c\u548b\u6765\u7684 \n{\n    if (a+b==c) return 1;\n    if(a-b==c&&a>b) return 2;\n    if(a*b==c) return 3;\n    if(a%b==0&&a/b==c) return 4;\n}\nvoid out()//\u8f93\u51fa \n{\n    int flag=0;int tot=3;\n    while(tot)\n    {\n        tot--;\n        int a=num[++flag],b=num[++flag],c=num[++flag];\n        if(a<b) swap(a,b);\n        switch(pd1(a,b,c))\n        {\n            case 1:\n                cout<<a<<\"+\"<<b<<\"=\"<<c<<endl;\n                break;\n            case 2:\n                cout<<a<<\"-\"<<b<<\"=\"<<c<<endl;\n                break;\n            case 3:\n                cout<<a<<\"*\"<<b<<\"=\"<<c<<endl;\n                break;\n            case 4:\n                cout<<a<<\"/\"<<b<<\"=\"<<c<<endl;\n                break;\n        }\n    }\n}\nvoid dfs(int t)\n{\n    if(t==4) return ;\n    for(int i=1;i<=l;i++)\n    {\n        if(use[i]) continue;\n        use[i]=true;\n        num[++top]=sum[i];\n        for(int j=i+1;j<=l;j++)//\u9009\u64cd\u4f5c\u6570 \n        {\n            if(use[j]) continue;\n            use[j]=true;int a,b;\n            num[++top]=sum[j];\n            int y; \n```\n/***************\u9009\u7b97\u7b26***************/\n```cpp\n            //1.\u52a0\u6cd5 \n            y=sum[i]+sum[j];\n            num[++top]=y;sum[++l]=y;\n            if(t==3&&pd()&&y==24){\n                ok=true;out();exit(0);\n            }\n            dfs(t+1);\n            l--;top--;\n            //2.\u51cf\u6cd5\n            a=sum[i];b=sum[j];\n            if(a!=b)\n            {\n                if(a<b)    swap(a,b);\n                y=a-b;num[++top]=y;sum[++l]=y;\n                if(t==3&&pd()&&y==24)\n                {ok=true;out();exit(0);}\n                dfs(t+1);\n                l--;top--;\n            }\n            //3.\u4e58\u6cd5\n            y=sum[i]*sum[j];num[++top]=y;sum[++l]=y;\n            if(t==3&&pd()&&y==24)\n                {ok=true;out();exit(0);}\n            dfs(t+1);\n            l--;top--;\n            //4.\u9664\u6cd5\n            a=sum[i];b=sum[j];\n            if(a<b) swap(a,b);\n            if(a%b==0)\n            {\n                y=a/b;num[++top]=y;sum[++l]=y;\n                if(t==3&&pd()&&y==24)\n                {ok=true;out();exit(0);}\n                dfs(t+1);\n                l--;top--;\n            }\n            use[j]=false;\n            top--;\n        }\n        top--;\n        use[i]=false;\n    }\n}\nint main()\n{\n    for(int i=1;i<=4;i++)\n    {cin>>sum[i];}\n    dfs(1);\n    if(!ok) {\n        cout<<\"No answer!\"<<endl;\n        return 0;\n    }\n}\n```",
        "postTime": 1500297799,
        "uid": 47803,
        "name": "NeosKnight",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1236 \u3010\u7b9724\u70b9\u3011"
    }
]