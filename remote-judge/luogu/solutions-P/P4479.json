[
    {
        "content": "\u5bf9\u4e8e\u4e24\u4e2a\u70b9\uff0c\u5206\u522b\u8bb0\u4e3a$i,j$\uff0c\u82e5i\u4e0ej\u6240\u5728\u76f4\u7ebf\u659c\u7387\u5927\u4e8e$k$\uff0c\u90a3\u4e48\u5c31\u4f1a\u6709\u5982\u4e0b\u5f0f\u5b50$$\\frac{y_{j}-y_{i}}{x_{j}-x_{i}}>k$$\n\u4e0d\u59a8\u8bbe$x_{j}>x_{i}$\n$$y_{j}-y_{i}>k(x_{j}-x_{i})$$\n$$y_{j}-kx_{j}>y_{i}-kx_{i}$$\n\u4ee4$t_{i}=y_{i}-kx_{i}$\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u659c\u7387$k$\uff0c\u53ea\u9700\u7edf\u8ba1\u6ee1\u8db3$x_{j}>x_{i}$\u4e14$t_{j}>t_{i}$\u7684$i,j$\u5bf9\u6570\u5c31\u53ef\u4ee5\u6c42\u5f97\u6709\u591a\u5c11\u6761\u76f4\u7ebf\u659c\u7387\u5927\u4e8ek\u3002\u53d1\u73b0\u7edf\u8ba1\u70b9\u5bf9\u6570\u7684\u95ee\u9898\u5b9e\u9645\u4e0a\u5c31\u662f\u4e00\u4e2a\u4e8c\u7ef4\u504f\u5e8f\uff0c\u79bb\u6563\u5316+\u626b\u63cf\u7ebf+\u6811\u72b6\u6570\u7ec4\u5373\u53ef\u7ef4\u62a4\u3002\u6240\u4ee5\u6700\u540e\u4e8c\u5206\u6240\u6c42\u7684\u659c\u7387$k$\uff0c\u5229\u7528\u4e0a\u8ff0\u65b9\u6cd5check\u5373\u53efac\u3002\n```cpp\n#include<algorithm>\n#include<cstdio>\n#include<cmath>\n#include<cstring>\nusing namespace std;\ntypedef long long ll;\nconst int maxn = 100005;\nint n;\nll k;\nstruct Point\n{\n    ll x, y, idx, t;\n    bool operator < (const Point& b) const\n    {\n        return t == b.t? x < b.x : t < b.t;\n    }\n}p[maxn];\nint px[maxn];\nll read()\n{\n    ll ans = 0, f = 1;\n    char c = getchar();\n    while(c < '0' || c > '9')\n    {\n        if(c == '-')\n            f = -1;\n        c = getchar();\n    }\n    while(c >= '0' && c <= '9')\n    {\n        ans = ans * 10 + c - '0';\n        c = getchar();\n    }\n    return ans * f;\n}\nnamespace BIT\n{\n    ll a[maxn];\n    void clear()\n    {\n        memset(a, 0, sizeof(a));\n    }\n    int lowbit(int x)\n    {\n        return x & -x;\n    }\n    void update(int x)\n    {\n        while(x <= n)\n        {\n            a[x]++;\n            x += lowbit(x);\n        }\n    }\n    ll query(int x)\n    {\n        ll ans = 0;\n        while(x)\n        {\n            ans += a[x];\n            x -= lowbit(x);\n        }\n        return ans;\n    }\n}\nbool check(int mid)\n{\n    for(int i = 1; i <= n; i++)\n        p[i].t = p[i].y - 1ll * mid * p[i].x;\n    sort(p + 1, p + n + 1);\n    BIT::clear();\n    ll rnk = 0;\n    for(int i = 1; i <= n; i++)\n    {\n        rnk += BIT::query(p[i].idx - 1);\n        BIT::update(p[i].idx);\n    }\n    return rnk >= k;\n}\nint main()\n{\n    n = read(), k = read();\n    for(int i = 1; i <= n; i++)\n        px[i] = p[i].x = read(), p[i].y = read();\n    sort(px + 1, px + n + 1);\n    int tot = unique(px + 1, px + n + 1) - px - 1;\n    for(int i = 1; i <= n; i++)\n        p[i].idx = lower_bound(px + 1, px + tot + 1, p[i].x) - px;\n    int l = -2e8, r = 2e8, ans;\n    while(l <= r)\n    {\n        int mid = (l + r) >> 1;\n        if(check(mid))\n        {\n            ans = mid;\n            l = mid + 1;\n        }\n        else\n            r = mid - 1;\n    }\n    printf(\"%d\\n\", ans);\n    return 0;\n}\n```",
        "postTime": 1540033833,
        "uid": 28703,
        "name": "misaka0111",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4479 \u3010[BJWC2018]\u7b2ck\u5927\u659c\u7387\u3011"
    },
    {
        "content": "## \u9898\u89e3\uff1a\n\n2020.12.2\u8d5b\u524d\u6700\u540e\u4e00\u6b21\u6a21\u62df\u8d5bT3\u66b4\u529b\u573a\u3002\n\n$O(n^2)$\u66b4\u529b\u7684\u5206\u6570\u5e94\u8be5\u662f\u4eba\u5747\u5206\u5427\u3002\n\n\u7136\u540e\u5f00\u59cb\u60f3\u4f18\u5316\u3002\n\n\u6b63\u89e3\u5e94\u8be5\u662f$O(n\\log n)$\u7684\u505a\u6cd5\uff0c\u6240\u4ee5\u8003\u8651\u548c2\u6709\u5173\u7684\u7b97\u6cd5\uff0c\u4e8c\u5206\u3002\n\n\u4e8c\u5206\u4ec0\u4e48\u4e1c\u897f\u6bd4\u8f83\u597d\u5462\uff1f\u76f4\u63a5\u4e8c\u5206\u7b54\u6848\u5427\u3002\u5bf9\u4e8e\u7b2cK\u5927\uff0c\u4e8c\u5206\u7b54\u6848\uff0c\u5982\u679c\u6bd4\u5b83\u5927\u7684\u591a\u4e8eK\u4e2a\uff0c\u53f3\u79fb\u533a\u95f4\uff0c\u5426\u5219\u5de6\u79fb\u3002\n\n\u96be\u70b9\u5728\u4e8e\u5982\u4f55\u5feb\u901f\u5224\u65ad\u6709\u591a\u5c11\u6bd4\u5b83\u5927\u7684\u76f4\u7ebf\u3002\u5982\u679c\u76f4\u63a5$O(n^2)$\u679a\u4e3e\uff0c\u90a3\u4e8c\u5206\u5e72\u4ec0\u4e48\u3002\u6240\u4ee5\uff0c\u601d\u8003\u5bf9\u5224\u65ad\u7684\u8fc7\u7a0b\u8fdb\u884c\u4f18\u5316\uff0c\u4e5f\u5c31\u662f\u63a8\u4e00\u63a8\u6027\u8d28\u3001\u5f0f\u5b50\u6765\u7740\u3002\n\n\u5bf9\u4e8e\u4e24\u4e2a\u70b9\u8fde\u7ebf\u6240\u6784\u6210\u7684\u659c\u7387\uff0c\u5047\u8bbe\u4e24\u4e2a\u70b9\u4e3a$i,j$\uff0c\u5f53\u524d\u4e8c\u5206\u5230\u7684\u659c\u7387\u4e3a$S$\uff0c\u5982\u679c\u8fd9\u4e2a\u659c\u7387\u5927\u4e8e\u5b83\uff0c\u90a3\u4e48\u4f1a\u6709\uff1a\n$$\n\\frac{y_i-y_j}{x_i-x_j}\\ge S\n$$\n\u4e58\u8fc7\u53bb\u518d\u79fb\u9879\uff0c\u4f1a\u6709\uff1a\n$$\ny_i-Sx_i\\ge y_j-Sx_j\n$$\n\u829c\u6e56\uff0c\u957f\u5f97\u5c31\u4e00\u6837\u4e86\u5440\u3002\n\n\u6240\u4ee5\u73b0\u5728\u5bf9\u4e8e\u6bcf\u4e2a\u70b9$i$\uff0c\u6211\u4eec\u90fd\u53ef\u4ee5\u5904\u7406\u51fa\u4e00\u4e2a$y_i-Sx_i$\uff0c\u4ee4\u5176\u4e3a$t_i$\uff0c\u7136\u540e\u5c31\u53d8\u6210\u4e86\u4e00\u4e2a\u4e8c\u7ef4\u504f\u5e8f\u95ee\u9898\uff1a\u5bf9\u4e8e$S$\uff0c\u6709\u591a\u5c11\u70b9\u5bf9\u6ee1\u8db3$x_i<x_j$\u4e14$t_i<t_j$\uff0c\u4e5f\u5c31\u662f\u6c42\u201c\u987a\u5e8f\u5bf9\u201d\u3002\n\n\u539f\u7406\u548c\u6c42\u9006\u5e8f\u5bf9\u662f\u4e00\u6837\u7684\uff0c\u6211\u8fd9\u91cc\u7528\u7684\u662f\u5f52\u5e76\u6392\u5e8f\uff0c\u5bf9\u4e8e\u5f52\u5e76\u6392\u5e8f\u6c42\u9006\u5e8f\u5bf9\uff0c\u8bf7\u770b\uff1a[\u5f52\u5e76\u6392\u5e8f\u6c42\u9006\u5e8f\u5bf9](https://www.cnblogs.com/fusiwei/p/11656294.html)\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#define int long long\nusing namespace std;\nconst int maxn=1e5+5;\nconst int INF=2e8;\nint n,k,ans,tmp;\nstruct node\n{\n\tint x,y;\n}p[maxn];\nint a[maxn],t[maxn];\nbool cmp(node a,node b)\n{\n\tif(a.x==b.x)\n\t\treturn a.y>b.y;\n\treturn a.x<b.x;\n}\nvoid merge_sort(int l,int r)\n{\n\tint mid=(l+r)>>1;\n\tif(l==r)\n\t\treturn;\n\tmerge_sort(l,mid);\n\tmerge_sort(mid+1,r);\n\tint i=l,j=mid+1,k=l;\n\twhile(i<=mid&&j<=r)\n\t{\n\t\tif(a[i]<=a[j])\n\t\t{\n\t\t\ttmp+=(r-j+1);\n\t\t\tt[k++]=a[i++];\n\t\t}\n\t\telse\n\t\t\tt[k++]=a[j++];\n\t}\n\twhile(i<=mid)\n\t\tt[k++]=a[i++];\n\twhile(j<=r)\n\t\tt[k++]=a[j++];\n\tfor(int p=l;p<=r;p++)\n\t\ta[p]=t[p];\n}\nbool check(int x)\n{\n\tfor(int i=1;i<=n;i++)\t\n\t\ta[i]=p[i].y-x*p[i].x;\n\ttmp=0;\n\tmerge_sort(1,n);\n\treturn tmp>=k;\n}\nsigned main()\n{\n\tscanf(\"%lld%lld\",&n,&k);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lld%lld\",&p[i].x,&p[i].y);\n\tsort(p+1,p+n+1,cmp);\n\tint l=-INF,r=INF;\n\twhile(l<=r)\n\t{\n\t\tint mid=(l+r)>>1;\n\t\tif(check(mid))\n\t\t{\n\t\t\tans=mid;\n\t\t\tl=mid+1;\n\t\t}\n\t\telse\n\t\t\tr=mid-1;\n\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\n",
        "postTime": 1606907794,
        "uid": 175131,
        "name": "\u5085\u601d\u7ef4666",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4479 \u3010[BJWC2018]\u7b2ck\u5927\u659c\u7387\u3011"
    },
    {
        "content": "##### \u4e3a\u4ec0\u4e48\u6ca1\u6709\u5f52\u5e76\u7684\u9898\u89e3\uff0c\u96be\u9053\u5f52\u5e76\u4e0d\u9999\u5417\uff08~~\u9003~~\n\n\u8fd9\u9898\u5bb9\u6613\u60f3\u5230\u4e8c\u5206\u7b54\u6848\uff0c\u6bd5\u7adf\u76f4\u63a5\u8ba1\u7b97\u611f\u89c9\u6ca1\u6709\u4ec0\u4e48\u597d\u65b9\u6cd5\uff0c\u5bf9\u4e00\u4e2a\u4e8c\u5206\u7684\u659c\u7387KY\uff0c\u6211\u4eec\u8981\u5224\u5b9a\u5b83\u662f\u5426\u5408\u7406\uff0c\u5c31\u8981\u627e\u5230\u6709\u591a\u5c11\u5bf9\u76f4\u7ebf\u659c\u7387\u8981\u5927\u4e8eKY\uff0c\u8bb0\u6709A\u5bf9\u76f4\u7ebf\u659c\u7387\u5927\u4e8eKY\uff0c\u82e5\u662fA<k\uff0c\u8bf4\u660e\u7b2ck\u5927\u7684\u76f4\u7ebf\u659c\u7387\u5e94\u8be5\u8981\u5c0f\u4e8e\u4e8c\u5206\u503c\uff0c\u5426\u5219\u5c31\u8981\u5927\u4e8e\u6216\u7b49\u4e8e\u4e8c\u5206\u503c\uff0c\n\n\u95ee\u9898\u662f\u5982\u4f55\u627e\u5230\u6709\u591a\u5c11\u76f4\u7ebf\u659c\u7387\u8981\u5927\u4e8eKY\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/4wk69kwu.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u5373\u6211\u4eec\u8981\u627e\u5230\u6709\u591a\u5c11\u70b9\u6ee1\u8db3x1<x2&&y1-k * x1<y2-k * x2\n\u8fd9\u5c31\u662f\u4e2a\u4e8c\u4f4d\u504f\u5e8f\u95ee\u9898\u5566\uff0c\u7528\u5f52\u5e76\u6392\u5e8f\u6c42\u987a\u5e8f\u5bf9\u6210\u529f\u5361\u5230\u6700\u4f18\u89e3qwq\n```cpp\n#include<bits/stdc++.h>\n#define LL long long\n#define RE register \nusing namespace std;\nconst int N=100005;\n\nstruct node{\n\tint x,y;\n}p[N];\nbool cmp(node a,node b){//\u6392\u5e8f\n\treturn a.x^b.x?a.x<b.x:a.y>b.y;\n}\nLL n,k;\n\nLL t[N];\nLL ans,b[N];//\u5907\u7528\u6570\u7ec4\nvoid calc(int l,int r){\n\tif(l==r)return;\n\tint mid=l+r>>1;\n\tcalc(l,mid);\n\tcalc(mid+1,r);\n\tint i=l,j=mid+1,bk=l;\n\twhile(i<=mid&&j<=r){//\u6a21\u4eff\u6c42\u9006\u5e8f\u5bf9\u7684\u505a\u6cd5\n\t\tb[bk++]=t[i]<=t[j]?ans+=r-j+1,t[i++]:t[j++];\n\t}\n\twhile(i<=mid)b[bk++]=t[i++];\n\twhile(j<=r)b[bk++]=t[j++];\n\tfor(RE int i=l;i<=r;i++)t[i]=b[i];\n}\n\nbool check(int mid){//\u5224\u5b9a\n\tfor(RE int i=1;i<=n;i++)t[i]=p[i].y-(LL)mid*p[i].x;\n\tans=0;\n\tcalc(1,n);\n\treturn ans>=k;\n}\nint main(){\n\tcin>>n>>k;\n\tfor(int i=1;i<=n;i++){\n\t\tscanf(\"%d%d\",&p[i].x,&p[i].y);\n\t}\n\tsort(p+1,p+1+n,cmp);//\u8bfb\u5165\n\t\n\tint L=-2e8,R=2e8;\n\twhile(L<R){//\u4e8c\u5206\n\t\tint mid=L+R+1>>1;\n\t\tif(check(mid))L=mid;\n\t\telse R=mid-1;\n\t}\n\tcout<<L;\n\treturn 0;\n}\n```\n\u4f46\u662f\u8fd9\u9898\u6709\u4e2a\u5751\u70b9\u5c31\u662fx1==x2\u65f6\u4e0d\u80fd\u8ba1\u5165\u7b54\u6848\uff0c\u6240\u4ee5\u8981\u4ee5y\u4e3a\u7b2c\u4e8c\u4f18\u5148\u7ea7\u6309\u5927\u5230\u5c0f\u6392\u5e8f\u4fdd\u8bc1\u4e0d\u8ba1\u5165\u7b54\u6848",
        "postTime": 1573457066,
        "uid": 148092,
        "name": "Dark_lightrq",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4479 \u3010[BJWC2018]\u7b2ck\u5927\u659c\u7387\u3011"
    }
]