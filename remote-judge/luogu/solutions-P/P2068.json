[
    {
        "content": "1.\u8fd9\u9898\u5c31\u662f\u4e2a\u88f8\u7684\u6811\u72b6\u6570\u7ec4\n\n2.\u5229\u7528lowbit\u53d62\u8fdb\u52361\u7684\u64cd\u4f5c\u53ef\u4ee5\u5c06\u67e5\u8be2\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u5c06\u4e3alog(n)\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8fc7\u4e86\n\n3.\u4e0e\u6a21\u677f\u90a3\u9898\u4e0d\u540c\uff0c\u8fd9\u9898\u6570\u636e\u6c34\uff0c\u4e0d\u5361cin\uff0c\u6240\u4ee5\u53ef\u4ee5\u968f\u610f\u8fc7\n\n4.add\u51fd\u6570\u662f\u6dfb\u52a0\u503c\uff0cask\u51fd\u6570\u662f\u7b97\u603b\u7684\u503c\uff0c\u6240\u4ee5ask(z)-ask(y-1)\u5c31\u76f8\u5f53\u4e8e\u7b97y~z\u7684\u603b\u503c\n\n5.\u5bf9\u4e8elowbit\u6709\u7591\u95ee\u7684\u540c\u5b66\u53ef\u4ee5\u53bb\u767e\u5ea6\u767e\u79d1\uff0c\u6211\u89c9\u5f97\u5b83\u8bb2\u5f97\u633a\u597d\u61c2\u7684\n\n\u4e0b\u9762\u662f\u4ee3\u7801\uff08\u53ef\u80cc\u8bf5\u4f5c\u4e3a\u6a21\u677f\uff09\n\n```cpp\n#include<iostream>\nusing namespace std;\nconst int MAXN=100000+2;\nint a[MAXN];\nint n,w;\nint lowbit(int x){\n    return x&(-x);\n}\nvoid add(int p,int x){\n    while(p<=n){\n        a[p]+=x;\n        p+=lowbit(p);\n    }\n}\nint ask(int p){\n    int ans=0;\n    while(p>0){\n        ans+=a[p];\n        p-=lowbit(p);\n    }\n    return ans;\n}\nint main(){\n    cin>>n>>w;\n    for(int i=1;i<=w;i++){\n        char q;\n        int y,z;\n        cin>>q>>y>>z;\n        if(q=='x') add(y,z);\n        else cout<<ask(z)-ask(y-1)<<endl;\n    }\n    return 0;\n}\n```",
        "postTime": 1507118935,
        "uid": 28270,
        "name": "wwq123",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "# \u6811\u72b6\u6570\u7ec4\n\u6811\u72b6\u6570\u7ec4\u4e0e\u539f\u6570\u7ec4\u7684\u5173\u7cfb\u662f\uff1a\n\n\u5148\u8bbec\u4e3a\u6811\u72b6\u6570\u7ec4\uff0ca\u4e3a\u539f\u6570\u7ec4\uff0c\u5219\n\t\n    c[i]\u4e3a for(int j=i;j>=i-lowbit(i)+1;j--)c[i]+=a[i];\n\u90a3\u4e48lowbit\u662f\u4ec0\u4e48\u5462\uff1f\n\nlowbit\u51fd\u6570\u662f\u8ba1\u7b97i\u53d8\u4e3a2\u8fdb\u5236\u4ee5\u540e\u4ece\u53f3\u5f80\u5de6\u6570\u7b2c\u4e00\u4e2a1\u548c\u53f3\u8fb9\u6240\u6709\u76840\u7684\u5408\u503c\u3002\u5982\uff1a\n\ni=36;\u5219(i)2=10010,lowbit(i)=(10)2=2\n\n//(i)2\u8868\u793ai\u7684\u4e8c\u8fdb\u5236\n\n\u53ef\u662flowbit\u600e\u6837\u7528\u4ee3\u7801\u5b9e\u73b0\u5462\uff1f\n\n\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u53ea\u8981\u7528i\u6309\u4e3a\u4e0e-i\u5c31\u597d\u4e86\uff08i&(-i)\uff09\n\n\u4e0a\u4ee3\u7801\uff08\u6ce8\u91ca\u4f1a\u8be6\u7ec6\u8bb2\u89e3\u600e\u6837\u64cd\u4f5c\uff09\n\n\n```c\n#include <bits/stdc++.h>\nusing namespace std;\nint n,a[100001],c[100001],m;\nint lowbit(int i){\n    return i&(-i);\n}\nint getSum(int x){//\u6c42\u548c\n\tint sum=0;\n\tfor(int i=x;i>0;i-=lowbit(i))//\u6811\u72b6\u6570\u7ec4\u7684\u524d\u7f00\u548c\n\t\tsum+=c[i];\n\treturn sum;\n}\nvoid modify(int x,int delta){//\u6539\u53d8\u6570\u636e\n\tfor(int i=x;i<=n;i+=lowbit(i))//\u56e0\u4e3a\u524d\u7f00\u548c\u662f\u4e00\u4e2a\u4e00\u4e2a\u63a8\u7684\uff0c\u6240\u4ee5\u4e00\u4e2a\u513f\u5b50\u8282\u70b9\u6539\u53d8\u4e86\uff0c\u6240\u6709\u7236\u4eb2\u8282\u70b9\u4e5f\u8981\u6539\u53d8\t\t\t\n\t\tc[i]+=delta;\n}\nint main(){\n\tcin>>n;\n\tcin>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tint a,b;\n\t\tstring s;\n\t\tcin>>s>>a>>b;\n\t\tif(s==\"y\"){\n\t\t\tcout<<getSum(b)-getSum(a-1)<<endl;//\u7528b\u7684\u524d\u7f00\u548c\u51cfa\u7684\u524d\u7f00\u548c\u5f97\u5230a~b\u7684\u524d\u7f00\u548c\n\t\t}\n\t\telse {\n\t\t\tmodify(a,b);\n\t\t}\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1556550144,
        "uid": 168385,
        "name": "gwx123456",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u8fd9\u662f\u4e00\u9053\u5355\u70b9\u4fee\u6539\uff0c\u533a\u95f4\u67e5\u8be2\u7684\u7ebf\u6bb5\u6811\u3002\n\n\u9700\u8981\u5b9e\u73b0\u7684\u64cd\u4f5c\u6709\u4e09\u4e2a\uff1a\u5efa\u6811\uff0c\u66f4\u65b0\u4e0e\u67e5\u8be2\u3002\n\n\u9996\u5148\uff0c\u7ebf\u6bb5\u6811\u7528\u7ed3\u6784\u4f53\u7ef4\u62a4\uff0c\u5982\u4e0b\uff1a\n\n```cpp\nstruct node {\n\tint l, r;\n\tint val;\n} tree[maxn * 4];\n```\n\n\u5176\u4e2dl, r\u8868\u793a\u8282\u70b9\u6240\u8868\u793a\u533a\u95f4\u5de6\u53f3\u7aef\u70b9\uff0c\u800cval\u5219\u662f\u533a\u95f4\u548c\u3002\n\nBuild\u51fd\u6570\u5982\u4e0b\uff1a\n\n```cpp\nvoid Build(int l, int r, int pos) {\n\ttree[pos].l = l;\n\ttree[pos].r = r;\n\ttree[pos].val = 0;\n\tif(l == r) return ;\n\tint mid = (l + r) / 2;\n\tBuild(l, mid, pos * 2);\n\tBuild(mid + 1, r, pos * 2 + 1);\n}\n```\n\n\u8fd9\u4e2a\u51fd\u6570\u5c31\u662f\u521d\u59cb\u5316\u6574\u68f5\u7ebf\u6bb5\u6811\uff0c\u6ca1\u6709\u4ec0\u4e48\u7279\u522b\u9700\u8981\u89e3\u91ca\u7684\u3002\n\nUpdate\u51fd\u6570\u5982\u4e0b\uff1a\n\n```cpp\nvoid Update(int x, int val, int pos) {\n\tif(tree[pos].r == tree[pos].l) {\n        tree[pos].val += val;\n        return ;\n    }\n    \n    int mid = (tree[pos].l + tree[pos].r) / 2;\n    if(x <= mid) Update(x, val, pos * 2);\n    else Update(x, val, pos * 2 + 1);\n    tree[pos].val = tree[pos * 2].val + tree[pos * 2 + 1].val;\n}\n```\n\nx\u8868\u793a\u9700\u8981\u4fee\u6539\u7684\u8282\u70b9\uff0cval\u8868\u793a\u9700\u8981\u589e\u52a0\u7684\u503c\uff0cpos\u8868\u793a\u5f53\u524d\u8282\u70b9\u3002\n\n\u5982\u679c\u8d70\u5230\u4e86\u53f6\u8282\u70b9\u4e0a\uff0c\u76f4\u63a5\u4fee\u6539\uff0c\u7136\u540e\u7ed3\u675f\u3002\n\n\u5426\u5219\uff0c\u5224\u65adx\u5728\u5f53\u524d\u8282\u70b9\u7684\u54ea\u4e00\u4e2a\u513f\u5b50\u4e0a\uff0c\u5411\u4e0b\u3002\n\n\u6700\u540e\u66f4\u65b0\u5f53\u524d\u8282\u70b9\u7684\u503c\u3002\n\nQuery\u51fd\u6570\u5982\u4e0b\uff1a\n\n```cpp\nint Query(int l, int r, int pos) {\n\tif(tree[pos].l >= l && tree[pos].r <= r) {\n        return tree[pos].val;\n    }\n    int mid = (tree[pos].l + tree[pos].r) / 2;\n    int ans = 0;\n    if(l <= mid) ans += Query(l, r, pos * 2);\n    if(mid < r) ans += Query(l, r, pos * 2 + 1);\n    return ans;\n}\n```\n\n\u5982\u679c\u5f53\u524d\u8282\u70b9\u7684\u6574\u4e2a\u533a\u95f4\u90fd\u5df2\u7ecf\u88ab\u5305\u542b\u5728\u6240\u6c42\u7684\u533a\u95f4\u5185\u4e86\uff0c\u90a3\u4e48\u4e0d\u7528\u518d\u8fdb\u884c\u5212\u5206\uff0c\u8fd4\u56de\u533a\u95f4\u503c\u5373\u53ef\u3002\n\n\u5426\u5219\u5206\u4e09\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n    1. \u82e5\u6240\u6c42\u533a\u95f4\u53ea\u4e0e\u5de6\u513f\u5b50\u6709\u4ea4\u96c6\uff0c\u79fb\u5230\u5de6\u513f\u5b50\u3002\n    \n    2. \u82e5\u53ea\u4e0e\u53f3\u513f\u5b50\u6709\u4ea4\u96c6\uff0c\u79fb\u5230\u53f3\u513f\u5b50\u3002\n    \n    3. \u82e5\u88ab\u5f53\u524d\u8282\u70b9\u8986\u76d6\uff0c\u5de6\u513f\u5b50\u53f3\u513f\u5b50\u90fd\u7b97\u3002\n    \n    \n\u4ee5\u4e0a\u5c31\u662f\u601d\u8def\u53ca\u5173\u952e\u4ee3\u7801\u3002\n\n\u987a\u4fbf\u63a8\u8350\u4e24\u9053\u7ecf\u5178\u7684\u5355\u70b9\u4fee\u6539\u9898\u76ee\uff08\u53cd\u6b63\u6211\u662f\u505a\u4e86\u7684\uff09\uff1a\n\n    1. HDU1166 \u654c\u5175\u5e03\u9635\n    \n    2. HDU1754 I hate it\n    \n    \uff08\u6ce8\uff1a\u7b2c\u4e8c\u9053\u9898\u662f\u6c42\u533a\u95f4\u6700\u503c\uff0c\u548c\u6a21\u677f\u7a0d\u6709\u4e0d\u540c\u3002\uff09",
        "postTime": 1524394157,
        "uid": 38859,
        "name": "Nero_Claudius",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u521a\u521a\u5b66\u4e86\u7ebf\u6bb5\u6811\uff0c\u627e\u70b9\u6a21\u677f\u9898\u7ec3\u7ec3\u624b\uff01\n\u8fd9\u9898\u8981\u6211\u4eec\u505a\u7684\u5c31\u662f\u5355\u70b9\u4fee\u6539\uff0c\u533a\u95f4\u67e5\u8be2\n\u4e00\u60f3\u5230\u5355\u70b9\u4fee\u6539\uff0c\u533a\u95f4\u67e5\u8be2\uff0c\u6811\u72b6\u6570\u7ec4\u7edd\u5bf9\u662f\u4e3b\u89d2\uff01\n\u53ef\u662f\u6211\u8981\u7ec3\u4e60\u7ebf\u6bb5\u6811\uff01\u56e0\u4e3a\u7ebf\u6bb5\u6811\u7684\u5e94\u7528\u8303\u56f4\u6bd4\u6811\u72b6\u6570\u7ec4\u8981\u5e7f\uff0c\u6240\u4ee5\u4e0d\u80fd\u4f1a\u4e86\u6811\u72b6\u6570\u7ec4\u5c31\u4e0d\u5b66\u5176\u4ed6\u7684\u7b97\u6cd5\n\n\u7ebf\u6bb5\u6811\u7684\u610f\u4e49\u4e0a\u9762\u7684\u5404\u4f4d\u5927\u4f6c\u5df2\u7ecf\u89e3\u91ca\u5f97\u5f88\u6e05\u695a\u4e86\uff0c\u6211\u7684\u89e3\u91ca\u90fd\u5728\u4ee3\u7801\u91cc\uff0c\u6211\u6bd4\u8f83\u559c\u6b22\u5728\u4ee3\u7801\u91cc\u8bf4\u660e\u8fd9\u4e00\u6b65\u8981\u505a\u4ec0\u4e48\uff0c\u8fd9\u4e00\u6b65\u7684\u610f\u4e49\n\n\u4e00\u904d\u5c31AC\uff0c\u7ebf\u6bb5\u6811\u597d\u611f\u5ea6++\uff01\n\n### AC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=1e5*4;\nint n,m;\nlong long tree[N*4];\nvoid change_point(int k,int l,int r,int x,int v) //\u5355\u70b9\u4fee\u6539 \n//k:\u5f53\u524d\u7ed3\u70b9  l,r:\u5f53\u524d\u533a\u95f4  x:\u539f\u5e8f\u5217\u7684\u4f4d\u7f6e v:\u9700\u8981\u4fee\u6539\u7684\u503c \n{\n\tif (r<x||l>x) return; //\u5f53\u524d\u533a\u95f4\u4e0e\u539f\u5e8f\u5217\u7684\u4f4d\u7f6e\u5b8c\u5168\u65e0\u4ea4\u96c6\n\tif (l==x&&r==x) //\u5f53\u524d\u7ed3\u70b9\u4e3a\u5bf9\u5e94\u7684\u53f6\u5b50\u7ed3\u70b9\n\t{\n\t    tree[k]+=v;\n\t\treturn;\t\n\t} \n\tint mid=(l+r)/2;\n\tchange_point(k*2,l,mid,x,v);\n\tchange_point(k*2+1,mid+1,r,x,v); //\u4fee\u6539\u53f3\u5b50\u533a\u95f4\n\ttree[k]=tree[k*2]+tree[k*2+1];//\u66f4\u65b0\u76f8\u5173\u7684\u503c \n}\nlong long search(int k,int l,int r,int x,int y)\n//k:\u5f53\u524d\u7ed3\u70b9  l,r:\u5f53\u524d\u533a\u95f4  x,y:\u67e5\u8be2\u533a\u95f4 \n{\n\tif (y<l||x>r) return 0;//\u5f53\u524d\u533a\u95f4\u4e0e\u539f\u5e8f\u5217\u7684\u4f4d\u7f6e\u5b8c\u5168\u65e0\u4ea4\u96c6,\u8fd4\u56de\u4e00\u4e2a\u4e0d\u5f71\u54cd\u7b54\u6848\u7684\u503c \n\tif (l>=x&&r<=y) return tree[k]; //\u8be2\u95ee\u533a\u95f4\u5728\u5f53\u524d\u533a\u95f4\uff0c\u8fd4\u56de\u7ef4\u62a4\u597d\u7684\u503c\n\tint mid=(l+r)/2;\n\treturn search(k*2,l,mid,x,y)+search(k*2+1,mid+1,r,x,y); \n}\nint main()\n{\n\tscanf(\"%d %d\",&n,&m);\n\tfor (int i=1;i<=m;i++)\n\t{\n\t\tchar c; int x,y;\n\t\tcin>>c>>x>>y;\n\t\tif (c=='x') change_point(1,1,n,x,y);//\u5355\u70b9\u4fee\u6539 \n\t\tif (c=='y') printf(\"%lld\\n\",search(1,1,n,x,y));//\u533a\u95f4\u67e5\u8be2 \n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1565703171,
        "uid": 78568,
        "name": "\u8521\u4fca\u9ee0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "### \u6211\u8fd8\u662f\u559c\u6b22\u7528\u5206\u5757!\n\n~~\u867d\u7136\u6211\u7b2c\u4e00\u6b21\u662f\u4ea4\u7684\u6811\u72b6\u6570\u7ec4~~\n\n\u6bd4\u8f83\u60ca\u5947\u7684\u662f,\u9898\u89e3\u91cc\u6709\u5199\u7ebf\u6bb5\u6811\u7684,\u6709\u5199\u6811\u72b6\u6570\u7ec4\u7684,\u5c31\u8fde**\u6a21\u62df**\u7684\u90fd\u6709!!!\n\n\u6240\u4ee5,\u6211\u5c31\u6765\u53d1\u4e00\u4e2a\u5206\u5757\u7684\u9898\u89e3\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#define maxn 200000\nusing namespace std ;\nint n , N , a[maxn] , s[maxn] ;\nint pos[maxn] ,tag[maxn],m;\nvoid update(int x , int y , int k) {//\u533a\u95f4\u52a0\u6cd5(\u4e0d\u662f\u5355\u70b9\u4e48?\u90fd\u4e00\u6837\u4e86)\n\tfor(int i = x ; i <= min(pos[x]*N,y) ; i ++) {\n\t\ta[i] += k ;\n\t\ts[pos[x]] += k ; \n\t}\n\tif(pos[x]!=pos[y]) {\n\t\tfor(int i = (pos[y]-1)*N+1;i<=y;i++) {\n\t\t\ta[i] += k ;\n\t\t\ts[pos[y]] += k ; \n\t\t}\n\t}\n\tfor(int i = pos[x]+1;i<=pos[y]-1;i ++) tag[i] += k ;\n}\nint query(int x , int y) {//\u533a\u95f4\u6c42\u548c\n\tlong long ans = 0 ;\n\tfor(int i = x ; i <= min (pos[x]*N,y) ; i ++) {\n\t\tans += a[i] + tag[pos[x]] ;\n\t}\n\tif(pos[x] != pos[y]) {\n\t\tfor(int i = (pos[y]-1)*N+1;i<=y;i ++) {\n\t\t\tans += a[i] + tag[pos[y]] ;\n\t\t}\n\t}\n\tfor(int i = pos[x]+1;i<=pos[y]-1;i++) ans += s[i] + tag[i]*N ;\n\treturn ans ;\n}\nint main() {\n\tcin >> n >> m ;\n\tN = sqrt(n) ;\n\tfor(int i = 1 ; i <= n ; i ++) {\n\t\tpos[i] = (i-1)/N + 1 ;\n\t}\n\tfor(int i = 1 ; i <= m ; i ++) {\n\t\tchar opt ;int x , y , z ;\n\t\tcin >> opt ;\n\t\tif(opt == 'x') {\n\t\t\tcin >> x >> z ;\n\t\t\tupdate(x,x,z) ;//\u533a\u95f4(\u5355\u70b9)\u52a0\n\t\t}else {\n\t\t\tcin >> x >>y ;\n\t\t\tcout << query(x,y) << endl;//\u533a\u95f4\u6c42\u548c\n\t\t} \n\t}\n\treturn 0 ;\n}\n```\n\n\u5206\u5757\u771f\u795e\u5947!!\n\n\u5b8c\u7ed3\u6563\u82b1!!!",
        "postTime": 1539481169,
        "uid": 54752,
        "name": "L_Y_T",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\n\u6811\u72b6\u6570\u7ec4\u662f\u4e00\u79cd\u7528\u6765\u7ef4\u62a4\u533a\u95f4\u64cd\u4f5c\u7684\u6570\u636e\u7ed3\u6784\n\n\n\n\n\u5982\u56fe\uff0c\u4e00\u4e2a\u7ef4\u62a4\u548c\u7684\u4e00\u4e2a\u6811\u72b6\u6570\u7ec4\u3002\n\n\u56e0\u4e3a\u76f4\u63a5\u770b\u5341\u8fdb\u5236\u770b\u4e0d\u51fa\u4ec0\u4e48\u5957\u8def\uff0c\u597d\u5fc3\u7684\u6211\u8f6c\u6362\u6210\u4e86\u4e8c\u8fdb\u5236\u3002\n\n\u4f60\u53ef\u4ee5\u6e05\u6670\u7684\u53d1\u73b0\u5f88\u591a\u6027\u8d28\uff0c\u4e0b\u9762\u6211\u6765\u634b\u4e00\u634b\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/9t3bv5s8.png)\n- \u8bbe\u6811\u72b6\u6570\u7ec4\u4e3a$C_i$\uff0c\u6b63\u5e38\u6570\u7ec4\u4e3a$A_i$\u3002\n- \u9996\u5148\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u51fd\u6570 $\\operatorname {lowbit}  k $ \u8868\u793a\u4e8c\u8fdb\u5236\u4e2d\u6700\u53f3\u8fb9\u201c1\u201d\u7684\u4f4d\u7f6e\uff08\u4f60\u53ef\u80fd\u89c9\u5f97\u5947\u602a\u4f46\u8fd9\u4e2a\u51fd\u6570\u5f88\u6709\u7528\u3002\n- \u5355\u70b9\u4fee\u6539\uff1a\n\t\u968f\u4fbf\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982\u5c06$A_{0001} + 5$\uff0c\u770b\u56fe\u6211\u4eec\u8981\u5c06$C_{0001} + 5,C_{0010} + 5,C_{0100} + 5,C_{1000} + 5$\uff0c\u5f88\u5bb9\u6613\u770b\u51fa\u89c4\u5f8b\uff1a\n    \n    \u6bcf\u4e2a\u589e\u52a0\u7684\u4e0b\u6807\u90fd\u662f\u539f\u6709\u7684\u4e0b\u6807 i \u52a0\u4e0a \n            $ \\operatorname {lowbit}i $ \n   \n   \u6709\u4eba\u53ef\u80fd\u8981\u95ee\u4e86\u4e0d\u5c31\u662f1\u7684\u4f4d\u7f6e\u5f80\u53f3\u79fb\u52a8\u4e861\u4f4d\u5417\uff1f\u4f60\u626f\u51fa\u4e2a lowbit \u6709\u5565\u7528\uff1f\n   \n   \u4e0d\u6025\uff0c\u6362\u4e2a\u4f8b\u5b50\uff0c\u6bd4\u5982\u628a$A_{0011} + 5$\uff0c\u5c31\u8981\u628a $C_{0100}+5,C_{1000} + 5$\u3002\n   \n   \u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\n   \n   $\\operatorname {lowbit}0011 = 1 $  \uff0c $0011 + \\operatorname {lowbit}0011  = 0100$\u3002\n   \n   $\\operatorname {lowbit}0100 = 3 $  , $  0100 + \\operatorname {lowbit}0100  = 1000$  \u3002\n   \n   \u770b\u5427\uff0c\u5168\u90e8\u543b\u5408\u4e86\u3002\n   ![](https://cdn.luogu.com.cn/upload/image_hosting/9t3bv5s8.png)\n   \n   \uff08\u4e3a\u4e86\u4e0d\u8ba9\u4f60\u4eec\u7ffb\u9875\u770b\uff0c\u6211\u7ed9\u4f60\u4eec\u518d\u52a0\u4e00\u6b21\n   \uff09\n- \u533a\u95f4\u67e5\u8be2 \uff1a\n\t\u6811\u72b6\u6570\u7ec4\u6765\u6c42 1 \u5230 N \u7684\u533a\u95f4\u548c\u6bd4\u8f83\u65b9\u4fbf\uff0c\u4f46\u6211\u4eec\u5982\u4f55\u6c42 K \u5230 N \u7684\u533a\u95f4\u548c\u5462\uff1f \u53ea\u9700\u8981\u8ba9 1 \u5230 N \u7684\u548c \u51cf\u53bb 1\u5230 K-1 \u7684\u548c\u3002\uff08\u524d\u7f00\u548c\u601d\u60f3\uff09 \n\n\t\u4e5f\u6765\u4e2a\u4f8b\u5b50\uff0c\u6c42$\\sum\\limits_{i = 1}^{n=7}A_i$,\u4f60\u4eec\u53ef\u80fd\u77e5\u9053\u4e86\uff0c\u80af\u5b9a\u53c8\u548c $\\operatorname {lowbit} $ \u6709\u5173,\u5b83 \u7b49\u4e8e $C_{0111} + C_{0111- \\operatorname{lowbit}0111}(0110) +  C_{0110- \\operatorname{lowbit}0110}(0100) $,\u518d\u51cf\u7684\u8bdd\u5c31\u4e3a0\u4e86\uff0c\u6240\u4ee5\u5c31OK\u4e86\u3002\n\n- \u5355\u70b9\u67e5\u8be2 \uff0c\u8ddf\u4e0a\u9762\u5dee\u4e0d\u591a\uff0c\u5c31\u662f\u7528$C_{i}$\u7684\u503c\u51cf\u53bb$ C_{i - \\operatorname {lowbit}i} $ \u518d\u51cf\u53bb $C_{(i - \\operatorname {lowbit}i) - \\operatorname {lowbit}(i - \\operatorname {lowbit}i)} \\cdots$\u3002\n\nP.S. \u8ddf\u4e0a\u9762\u5dee\u4e0d\u591a\uff0c\u5c31\u4e0d\u4ed4\u7ec6\u8bf4\u4e86\u3002\n\nP.S. $ \\operatorname {lowbit} i $\u7684\u5b9e\u73b0\u662f $i&\uff08-i\uff09$,\u7528\u4e86\u8ba1\u7b97\u673a\u5185\u90e8\u8865\u7801\u7684\u6027\u8d28 \n\n~~\u53d7\u4e86k\u603b\u7684\u5f71\u54cd~~\uff0c\u9898\u89e3\u4e0d\u53d1\u4ee3\u7801\uff0c\u53ea\u8981\u80fd\u5e2e\u52a9\u522b\u4eba\uff0c\u5c31\u662f\u4e00\u7bc7\u5408\u683c\u7684\u9898\u89e3\uff01",
        "postTime": 1584006304,
        "uid": 226148,
        "name": "Suuon_Kanderu",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6709\u6811\u72b6\u6570\u7ec4\u7684\u5730\u65b9\uff0c\u5c31\u5c11\u4e0d\u4e86\u7ebf\u6bb5\u6811\u3002\u6709\u7ebf\u6bb5\u6811\u7684\u5730\u65b9\uff0c\u5c31\u5c11\u4e0d\u4e86\u5206\u5757\u3002~~\u6211\u81ea\u5df1\u7f16\u7684~~\n\n**\u5206\u5757\u662f\u4e00\u79cd\u5f88\u5bb9\u6613\u7406\u89e3\u6570\u636e\u7ed3\u6784\uff0c\u4ed6\u53ef\u4ee5\u7ef4\u62a4\u5f88\u591a\u7684\u4e1c\u897f**~~\u5f53\u7136\u6211\u90fd\u4e0d\u4f1a~~\uff0c\u672c\u9898\u89e3\u65e8\u5728\u8ba9\u53ea\u80fd\u5f97\u66b4\u529b\u5206\u7684\u540c\u5b66AC\u672c\u9898\uff01\u5b66\u4f1a\u5206\u5757\u7684\u601d\u60f3\u4ee5\u53ca\u65b9\u6cd5\uff0c\u4f1a\u6bd4\u8f83\u8be6\u7ec6\u3002\n\n- \u5206\u5757\u7684\u601d\u60f3\n\n\t\u6240\u8c13\u5206\u5757\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u628a\u4e00\u7ec4\u6570\u636e\u5206\u4e3a\u82e5\u5e72\u5757\uff0c\u4ece\u800c\u63d0\u9ad8\u6548\u7387\u3002\n    \n    \u4e3e\u4e2a\u4f8b\u5b50\uff1a\u6765\u770b\u4e00\u7ec4\u6570\u636e1,5,6,4,5\u3002\n    \u6211\u4eec\u628a\u4ed6\u5206\u6210$\\sqrt{n}$\u4e2a\u5757\uff08\u4e0d\u540c\u7684\u60c5\u51b5\u5757\u7684\u6570\u91cf\u4e0d\u540c\uff0c\u5c31\u662f\u8fd9\u6837\n \n| \u7f16\u53f7 | \u6570\u503c | \u7b2c\u51e0\u5757 |\n| ----------- | ----------- | ----------- |\n| 1 | 1 | 1 |\n| 2 | 5 | 1 |\n| 3 | 6 | 2 |\n| 4 | 4 | 2 |\n| 5 | 5 | 3 |\n\n\u5982\u679c\u6211\u4eec\u8981\u8ba9\u7f16\u53f7\u4e00\u5230\u4e94\u52a01\uff0c\u53ef\u4ee5\u8fd9\u6837\u505a\uff1a\n\t\n    1. \u628a\u7b2c\u4e00\u5757\uff081\uff09\u7684\u503c \u66b4\u529b \u52a01\n    2. \u628a\u4e2d\u95f4\u5757\uff082\uff09\u7684\u6bcf\u4e2a\u5757\u7684\u6807\u8bb0+1\n    \uff08\u5982\u4f55\u6253\u6807\u8bb0\uff1f\u53ea\u8981\u518d\u5f00\u4e00\u4e2a\u6570\u7ec4\uff0c\u8bb0\u5f55\u6bcf\u4e00\u5757\u7684\u7edf\u4e00\u52a0\u7684\u503c\u5373\u53ef\uff0c\u76f8\u4fe1\u5b66\u8fc7\u7ebf\u6bb5\u6811\u7684\u540c\u5b66\u4e00\u5b9a\u5f88\u719f\u6089\uff09\n    3. \u628a\u6700\u540e\u4e00\u5757\uff083\uff09\u7684\u6570\u503c \u66b4\u529b \u52a01\n\n\u7136\u540e\u5c31\u662f\u8fd9\u6837\n\n\n\n\n|\u7f16\u53f7 | \u6570\u503c | \u7b2c\u51e0\u5757 |\n| ----------- | ----------- | ----------- | ----------- |\n| 1 | 2\uff081+1\uff09 |1  | \n| 2 | 6 \uff085+1\uff09| 1 | \n| 3 | 6 | 2 |  |\n| 4 | 4 | 2 |  |\n| 5 | 6 \uff085+1\uff09|3  |\n\n|\u7b2c\u51e0\u5757  | \u6807\u8bb0 |\n| ----------- | ----------- |\n| 1 | 0 |\n| 2 | 1\uff080+1\uff09 |\n| 3 | 0 |\n\n\n\u533a\u95f4\u67e5\u8be2\u540c\u7406\uff0c\u53ea\u662f\u66b4\u529b\u52a0\u7684\u65f6\u5019\u8981\u52a0\u4e0a\u6253\u7684\u6807\u8bb0\u3002\n\n\u5355\u70b9\u67e5\u8be2\u5c31\u662f\u628a\u6807\u8bb0\u548c\u6570\u503c\u52a0\u8d77\u6765\u5c31OK\u3002\n\n- \u5177\u4f53\u5b9e\u73b0\n\t\n    \u5b9e\u73b0\u65f6\u6211\u4eec\u8981\u8003\u8651\u4e00\u4e9b\u7ec6\u8282\u3002\n    \n    1. \u5982\u679c\u8981\u64cd\u4f5c\u7684\u4e24\u4e2a\u7aef\u70b9\u5728\u4e00\u4e2a\u5757\u5185\uff0c\u76f4\u63a5\u66b4\u529b\u76f8\u52a0\u3002\n    \u8fd8\u662f\u5f88\u597d\u7406\u89e3\u7684\n- \u4ee3\u7801\uff08\u4e0d\u662f\u672c\u9898\uff09\n```cpp\n#include<stdio.h>\n#include<iostream>\n#include<algorithm>\n#include<cmath>\n#include<string.h>\nusing namespace std;\nconst int N=10000000+100;\nstruct fk{//\u5206\u5757\u5927\u6cd5 \n\tint num,rank;//\u6570\u503c\uff0c\u7b2c\u51e0\u5757 \n}a[N];\nint tag[N];//\u6807\u8bb0\n#define rank(x) a[x].rank\n#define tag(x) tag[x]\n#define num(i) a[i].num\nint n,bs,zo;//\u5171\u6709\u51e0\u4e2a\u6570\uff0c\u5757\u7684\u5927\u5c0f ,\u603b\u5171\u6709\u51e0\u4e2a\u5757 \nint qsum(int l){\n\treturn a[l].num + tag(rank(l));//\u5355\u70b9\u67e5\u8be2\n}\nvoid change2(int l,int r,int add){\n    for (int i=l; i<=min(rank(l)*bs,r); i++)num(i)+=add;//\u8fd9\u4e2a\u662f\u524d\u9762\u7684\u5757\uff0c\u8fd9\u91cc\u540e\u9762\u89e3\u91ca\n    if (rank(l)!=rank(r))\n        for (int i=(rank(r)-1)*bs+1; i<=r; i++)num(i)+=add;//\u8fd9\u4e2a\u662f\u540e\u9762\u7684\u5757\uff0c\u8fd9\u91cc\u540e\u9762\u89e3\u91ca\n    for (int i=rank(l)+1; i<=rank(r)-1; i++)\n        tag(i)+=add;//\u8fd9\u4e2a\u662f\u6574\u5757\u5904\u7406\n}\nvoid pr(){\n\tprintf(\"\\tid\\tnum\\trank\\n\");\n\tfor(int i=1;i<=n;i++)printf(\"\\t%d:\\t%d\\t%d\\n\",i,num(i),rank(i));\n\tprintf(\"\\n\\tid\\ttag\\n\");\n\tfor(int i=1;i<=zo;i++)printf(\"\\t%d:\\t%d\\t\\n\",i,tag(i));\t\n}\nsigned main(){\n\tcin>>n;bs=sqrt(n);\n\tif(n/bs*bs==n)zo=n/bs; else zo=n/bs+1\n    //\u4f1a\u4e0d\u4f1a\u6709\u4e0d\u5b8c\u6574\u7684\u5757;\n\tint k;cin>>k;\t\t\n\tfor(int i=1;i<=n;i++){\n\t\ta[i].num = 0;\n\t\ta[i].rank=(i-1)/bs+1;\t\t\n\t} \n\tint l,r;\n\twhile(k--){            \n\t\tint op; scanf(\"%d\",&op);\n\t\tif(op==0){\n\t\t    scanf(\"%d%d\",&l,&r);\n            change2(l,r,1);\n\t\t}\n\t\tif(op==1) {\n\t\t\tscanf(\"%d\",&l);\n            printf(\"%d\\n\",qsum(l));\n\t\t}\t\n\t} \n\treturn 0;\n}\n```\n\uff08\u5927\u4f6c\u81ea\u884c\u8df3\u8fc7\u6b64\u533a\u57df\uff09\n\t\u89e3\u91ca\u4e00\u4e0b\u5904\u7406\u524d\u9762\u7684\u5757\u548c\u540e\u9762\u7684\u5757\u7684\u4ee3\u7801\n     min(rank(l)*bs,r)\n     \n       \t\t\t\t\n                    \n                    \nrank\uff08l\uff09 $\\times$ bs\u5c31\u662f\u7b2c I \u4e2a\u5757 \u4e58\u4e0a \u5757\u7684\u5927\u5c0f\uff0c\u5f88\u5bb9\u6613\u660e\u767d\uff0c\u5c31\u662f\u5757\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002\n\t\u7528\u524d\u9762\u7684\u6570\u5217\uff0c\u6bd4\u5982\n    \n  rank(1) $\\times$ 2 = 1 $\\times$2 = 2 \n  \n  \u679c\u7136\u662f\u7b2c\u4e00\u4e2a\u5757\u7684\u6700\u540e\u4e00\u4e2a\u5143\u7d20\u3002\n    min()\u91cc\u9762\u6709\u4e2a r \u662f\u8003\u8651\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9\u53ef\u80fd\u5728\u4e00\u4e2a\u5757\u91cc\uff0c\u5982\u679c\u662f\uff0c\u90a3\u4e48\u5c31\u76f4\u63a5\u66b4\u529b\u5168\u52a0\u5b8c\uff0c\u540e\u9762\u7684\u64cd\u4f5c\u5176\u5b9e\u90fd\u6ca1\u6267\u884c\u3002\n    \n (rank(r)-1)*bs+1\u540c\u7406\uff0c\u5c31\u662f\u5757\u7684\u7b2c\u4e00\u4e2a\u5143\u7d20\u3002\n \n \u7b80\u5355\u7c97\u66b4\n \n\n\n",
        "postTime": 1584005908,
        "uid": 226148,
        "name": "Suuon_Kanderu",
        "ccfLevel": 5,
        "title": "\u6811\u72b6\u6570\u7ec4\u8be6\u89e3"
    },
    {
        "content": "~~\u628a\u5728a\u7684\u4f4d\u7f6e\u4e0a\u52a0\u4e0ab\u770b\u6210\u53d8\u6210b\u80fd\u8fc74\u7ec4?\u9ed1\u4eba\u95ee\u53f7??~~\n\n[\u5ba3\u4f20Blog](http://dedsecr.top/)\n\n\u770b\u697c\u4e0b\u6ca1\u4eba\u7528zkw~~\u91cd\u53e3\u5473~~\u7ebf\u6bb5\u6811\uff0c\u7279\u5730\u6765\u4e00\u53d1zkw\u7ebf\u6bb5\u6811\n\n***\n\u88f8\u7684\u7ebf\u6bb5\u6811\uff0c\u5177\u4f53\u770b\u4ee3\u7801\u6ce8\u91ca\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n#include<string>\n#include<algorithm>\n#include<cmath>\nusing namespace std;\nint n,m,M,tree[100001<<2];\nvoid build(){for(M=1;M<=n+1;M<<=1);}//\u867d\u7136\u4e0d\u7528\u5efa\u6811\uff0c\u4f46\u6c42\u51faM\u8fd8\u662f\u5fc5\u8981\u7684\nvoid change(int pos,int x)\n{\n    tree[pos+=M]+=x;//\u4fee\u6539\u53f6\u5b50\u8282\u70b9\n    for(pos>>=1;pos;pos>>=1)tree[pos]=tree[pos<<1]+tree[pos<<1|1];//\u4ece\u53f6\u5b50\u8282\u70b9\u5411\u4e0a\u8fd4\u56de\n}\nint query(int l,int r)\n{\n    int ans=0;\n    for(l+=M-1,r+=M+1;l^r^1;l>>=1,r>>=1)//(l^r^1)==1\u65f6\u8868\u793al\u548cr\u4e0d\u4e3a\u5144\u5f1f\n    {\n        if(~l&1)ans+=tree[l^1];//\u82e5l\u4e3a\u5de6\u513f\u5b50\n        if(r&1)ans+=tree[r^1];//\u82e5r\u4e3a\u53f3\u513f\u5b50\n    }\n    return ans;\n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    build();\n    for(int i=1;i<=m;++i)\n    {\n        int x,y;char odd;\n        cin>>odd;\n        scanf(\"%d%d\",&x,&y);\n        if(odd=='x')change(x,y);\n        else printf(\"%d\\n\",query(x,y));\n    }\n    return 0;\n}\n```\n\u5173\u4e8ezkw\u7ebf\u6bb5\u6811\u7684\u5177\u4f53\u8bb2\u89e3\u8bf7\u70b9[\u8fd9\u91cc](https://zhuanlan.zhihu.com/p/29876526)\n",
        "postTime": 1508316132,
        "uid": 35590,
        "name": "Dedsec",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6765\u4e00\u53d1\u52a8\u6001\u5f00\u70b9\u7ebf\u6bb5\u6811\n\n```cpp\n/**\n\u7ebf\u6bb5\u6811\u52a8\u6001\n*/\n#include <iostream>\n#include <iomanip>\n#include <cstdio>\n#include <cstdlib>\n\n#include <cstring>\n#include <cmath>\n#include <cctype>\n#include <string>\n\n#include <algorithm>\n#include <queue>\n#include <stack>\n\nusing namespace std;\nstruct node\n{\n    int lc,rc;\n    int sum;\n}T[100000<<2];\nint Tcnt=1;\nint N;\nint W;\nint root=1;//\u6839\n// code\nvoid createNode(int & id)\n{\n    id=++Tcnt;\n}\nvoid add(int &id,int L,int R,int numId,int numAdd)\n{\n    if(!id) createNode(id);//\u52a8\u6001\u5f00\u70b9\n    T[id].sum+=numAdd;//\u533a\u95f4\u548c\u66f4\u65b0\n    int mid=(L+R)>>1;\n    if(L==R&&R==numId)\n        return;\n    if(numId<=mid)\n        add(T[id].lc,L,mid,numId,numAdd);\n    else\n        add(T[id].rc,mid+1,R,numId,numAdd);\n}\nint query(int id,int L,int R,int B,int E)// [L,R]\u5f53\u524d\u8282\u70b9\u8303\u56f4.[B,E]\u533a\u95f4\u67e5\u8be2\u8303\u56f4\n{\n    if(!id) return 0;\n    int mid=(L+R)>>1;\n    if(L==B&&R==E)\n        return T[id].sum;\n    if(E<=mid)\n        return query(T[id].lc,L,mid,B,E);\n    else if(B>mid)\n        return query(T[id].rc,mid+1,R,B,E);\n    else return query(T[id].lc,L,mid,B,mid)+query(T[id].rc,mid+1,R,mid+1,E);\n}\nint main()\n{\n    scanf(\"%d%d\",&N,&W);\n    char f;\n    int a,b;\n    for(int i=1;i<=W;++i)\n    {\n        cin>>f>>a>>b;\n        if(f=='x')\n            add(root,1,N,a,b);//\u56e0\u4e3a\u662f\u5f15\u7528\u6240\u4ee5\u8981\u7528\u53f3\u503c\n        else\n            printf(\"%d\\n\",query(1,1,N,a,b));\n    }\n    return 0;\n}\n```",
        "postTime": 1501336649,
        "uid": 20565,
        "name": "wzj423",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "## \u6ce8\u610f\uff1a\u672c\u9898\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u6c34\u8fc7\n\n\u7528f[i]\u8868\u793a\u4ece1\u5230i\u7684\u548c\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ufc2g2hm.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u524d\u7f00\u548c\u5f62\u5f0f\u5982\u4e0b\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xz20rhwo.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u663e\u800c\u6613\u89c1\uff0ci\u5230j\u7684\u548c\u4e3af[j]-f[i-1] (j<=i)\n\n\u77e5\u9053\u4e86\u8fd9\u4e9b\uff0c\u7f16\u7a0b\u5c31\u53d8\u5f97\u5f88\u5bb9\u6613\u4e86\n\n\u4e0a\u4ee3\u7801\uff01\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main()\n{\n\tios::sync_with_stdio(false);//\u8bfb\u5165\u4f18\u5316\n\tint n;\n\tcin>>n;\n\tint f[n+5];//\u524d\u7f00\u548c\u6570\u7ec4\n\tmemset(f,0,sizeof(f));//\u521d\u59cb\u5316\n\tint m;\n\tcin>>m;\n\tfor(register int i=1;i<=m;i++)\n\t{\n\t\tchar a;\n\t\tint b,c;\n\t\tcin>>a>>b>>c;\n\t\tif(a=='y')cout<<f[c]-f[b-1]<<endl;//\u8f93\u51fab\u5230c\u7684\u548c\n\t\telse if(a=='x')\n\t\t{\n\t\t\tfor(register int j=b;j<=n;j++)//\u5904\u7406\u6570\u503c\u53d8\u5316\n\t\t\t\tf[j]+=c;\n\t\t} \n\t}\n\treturn 0;//\u6109\u5feb\u7684\u7ed3\u675f\\(^o^ )/\n}\n\n```\n",
        "postTime": 1573788942,
        "uid": 126871,
        "name": "yzh_Error404",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "~~\u90fd\u8bf4\u662f\u88f8\u7684\u6811\u72b6\u6570\u7ec4~~\n\n\u6211\u5c31\u662f\u7528\u524d\u7f00\u548c\u3002\n\n\u6570\u636e\u592a\u6c34!\n\n\u8bfb\u5165\u5b57\u7b26\u5982\u679c\u662f$x$\u5c31\u66f4\u65b0\u524d\u7f00\u548c\n\n\u5426\u5219\u8f93\u51fa\uff08\u90fd\u662f\u524d\u7f00\u548c\u5e38\u89c4\u64cd\u4f5c\u5566\uff09\n\n```\n#include <bits/stdc++.h>\nusing namespace std;\nint n,m;\nint s[100001];//\u524d\u7f00\u548c\n\nint main(void){\n\tcin>>n>>m;\n\tfor(int i=1;i<=m;i++){\n\t\tchar c;\n\t\tint a,b;\n\t\tcin>>c>>a>>b;\n\t\tif(c=='x'){\n\t\t\tfor(int j=a;j<=n;j++)\n\t\t\t\ts[j]+=b;\n\t\t}\n\t\telse\n\t\t\tcout<<s[b]-s[a-1]<<endl;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1571833647,
        "uid": 114504,
        "name": "\u68a6\u91cc\u8c03\u97f3",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": " ```\n \u6765\u4e00\u53d1\u7ebf\u6bb5\u6811\u9898\u89e3\n \u8fd9\u83ab\u975e\u5c31\u662f\u5355\u70b9\u4fee\u6539\u533a\u95f4\u67e5\u8be2\u7684\u7ebf\u6bb5\u6811\uff0c\n \u522b\u5fd8\u8bb0\u6570\u7ec4\u8981\u5f00\u5927\uff08\u81f3\u5c11\u5f004\u500d\u7a7a\u95f4\uff09\n \u56e0\u4e3a\u4e00\u5f00\u59cb\u6570\u7ec4\u90fd\u662f\u96f6\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5bf9build\u51fd\u6570\u505a\u4e00\u4e9b\u4fee\u6539\uff1a\n ```cpp\n inline void build(int k,int ll,int rr)\n{\n    tree[k].l=ll,tree[k].r=rr;\n    if(tree[k].l==tree[k].r)\n        return;//\u8fd9\u91cc\u7684\u8bfb\u5165\u53ef\u4ee5\u53bb\u6389\n    int m=(ll+rr)/2;\n    build(k*2,ll,m);\n    build(k*2+1,m+1,rr);\n    //\u6700\u540e\u5c31\u4e0d\u9700\u8981\u52a0\u4e86\n}\n\u7136\u540e\u5c31\u662f\u5355\u70b9\u4fee\u6539\uff1a\n```cpp\ninline void change_point(int k)\n{\n    if(tree[k].l==tree[k].r)\n    {\n        tree[k].w+=y;//\u5bf9\u7b2ca\u4f4d\u52a0b\u7684\u64cd\u4f5c\n        return;\n    }\n    if(tree[k].f) down(k);//\u6807\u8bb0\u4e0b\u4f20\n    int m=(tree[k].l+tree[k].r)/2;//\u7c7b\u4f3c\u4e8c\u5206\u7684\u67e5\u627e\n    if(x<=m) change_point(k*2);//\u4e8c\u5206\u67e5\u627e\n    else change_point(k*2+1);\n    tree[k].w=tree[k*2].w+tree[k*2+1].w; //\u6700\u540e\u7d2f\u52a0\u5230k\n}\n\u533a\u95f4\u67e5\u8be2\uff1a\n```cpp\ninline void ask_interval(int k)\n{\n    if(tree[k].l>=a&&tree[k].r<=b) \n    {\n        ans+=tree[k].w;//\u7d2f\u52a0\n        return;\n    }\n    if(tree[k].f) down(k);//\u6807\u8bb0\u4e0b\u4f20\n    int m=(tree[k].l+tree[k].r)/2;//\u8fd9\u91cc\u540c\u4e0a\n    if(a<=m) ask_interval(k*2);\n    if(b>m) ask_interval(k*2+1);\n}\nAC\u4ee3\u7801\u653e\u4e0a\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,p,a,b,m,x,y;\nlong long ans;\nstruct node\n{\n    int l,r;\n    long long f,w;\n}tree[2000005];\ninline void build(int k,int ll,int rr)\n{\n    tree[k].l=ll,tree[k].r=rr;\n    if(tree[k].l==tree[k].r)\n        return;\n    int m=(ll+rr)/2;\n    build(k*2,ll,m);\n    build(k*2+1,m+1,rr);\n}\ninline void down(int k)\n{\n    tree[k*2].f+=tree[k].f;\n    tree[k*2+1].f+=tree[k].f;\n    tree[k*2].w+=tree[k].f*(tree[k*2].r-tree[k*2].l+1);\n    tree[k*2+1].w+=tree[k].f*(tree[k*2+1].r-tree[k*2+1].l+1);\n    tree[k].f=0;\n}\ninline void ask_interval(int k)\n{\n    if(tree[k].l>=a&&tree[k].r<=b) \n    {\n        ans+=tree[k].w;\n        return;\n    }\n    if(tree[k].f) down(k);\n    int m=(tree[k].l+tree[k].r)/2;\n    if(a<=m) ask_interval(k*2);\n    if(b>m) ask_interval(k*2+1);\n}\ninline void change_point(int k)\n{\n    if(tree[k].l==tree[k].r)\n    {\n        tree[k].w+=y;\n        return;\n    }\n    if(tree[k].f) down(k);\n    int m=(tree[k].l+tree[k].r)/2;\n    if(x<=m) change_point(k*2);\n    else change_point(k*2+1);\n    tree[k].w=tree[k*2].w+tree[k*2+1].w; \n}\nint main()\n{\n    scanf(\"%d%d\",&n,&m);\n    build(1,1,n);\n    char ps[2];\n    for(int i=1;i<=m;i++)\n    {\n        scanf(\"%s\",ps);\n        ans=0;\n        if(ps[0]=='y')\n        {\n            scanf(\"%d%d\",&a,&b);\n            ask_interval(1);\n            printf(\"%lld\\n\",ans);\n        }\n        else\n        {\n             scanf(\"%d%d\",&x,&y);\n             change_point(1);\n        }\n    }\n    return 0;\n}\n\n```\n```\n```\n```\n ```",
        "postTime": 1534473993,
        "uid": 9262,
        "name": "taoyc",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6765\u4e00\u6ce2\u6811\u72b6\u6570\u7ec4\n\n\u5176\u5b9e\u5f88\u7b80\u5355\u5566\uff0c\u4ee3\u7801\u4e5f\u6bd4\u7ebf\u6bb5\u6811\u597d\u7801\n\n\u4e24\u4e2a\u64cd\u4f5c\uff1a\n\n1\u3001x\uff0c\u90a3\u5c31\u628a\u6240\u6709\u7ba1\u8f96\u8303\u56f4\u6709\u8f93\u5165\u7684\u6570\u7684\u70b9\u52a0\n\n2\u3001y\uff0c\u6c42\u548c\n\n\u4e0a\u7a0b\u5e8f\n\n\n\n\n\n\n\n\n\n\n```cpp\nvar\n    c:array[0..1000000] of longint;\n    n,m,x,y,i:longint;\n    ch,ch1:char;\nfunction lowbit(x:longint):longint;\nbegin\n    exit(x and -x);\nend;\nprocedure change(x,y:longint);\nbegin\n    while x<=n do\n        begin\n            inc(c[x],y);\n            inc(x,lowbit(x));\n        end;\nend;\nfunction getsum(x:longint):longint;\nbegin\n    getsum:=0;\n    while x>0 do\n        begin\n            inc(getsum,c[x]);\n            dec(x,lowbit(x));\n        end;\nend;\nbegin\n    readln(n);\n    readln(m);    \n    for i:=1 to m do\n        begin\n            read(ch,ch1);\n            if ch='x' then\n                begin\n                    readln(x,y);\n                    change(x,y);\n                end else\n                begin\n                    readln(x,y);\n                    writeln(getsum(y)-getsum(x-1)); //\u524d\u7f00\u548c\n                end;\n        end;\nend.\n\n```",
        "postTime": 1506941338,
        "uid": 51719,
        "name": "ModestCoder_",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u88f8\u7684\u6811\u72b6\u6570\u7ec4\n\n```cpp\n\n#include<set>  \n#include<map>  \n#include<list>  \n#include<queue>  \n#include<stack>  \n#include<string>  \n#include<math.h>  \n#include<time.h>  \n#include<vector>  \n#include<bitset>  \n#include<memory>  \n#include<utility>  \n#include<stdio.h>  \n#include<sstream>  \n#include<iostream>  \n#include<stdlib.h>  \n#include<string.h>  \n#include<algorithm>  \n#define LL unsigned long long   \nusing namespace std; \nint a[100000],c[100000];\n    int n,i,m;\nint lowbit(int x)//\u6c422^k \uff08k\u4e3a\u4e8c\u8fdb\u5236\u6700\u540e\u7684\u96f6\u7684\u4e2a\u6570\uff09  \n{\n    return x&(-x);\n}\nlong long sum(long long x)//\u6c42\u548c\n{\n    long long ssum=0;\n    do \n    {\n        ssum+=c[x];\n        x-=lowbit(x);\n    }while (x>0);\n    return ssum;\n}\nint ch(int xxx,int data)//\u63d2\u5165\n{\n    do{\n        c[xxx]+=data;\n        xxx+=lowbit(xxx);\n    }while(xxx<=m);\n}\nint main()    \n{    \n    cin>>m;\n    cin>>n;\n    for (i=1;i<=n;i++)\n    {\n        char c;\n        int x,y;\n        cin>>c;\n        cin>>x>>y;\n        if (c=='x') ch(x,y);\n        if (c=='y') printf(\"%d\\n\",sum(y)-sum(x-1));\n    }\n    return 0;\n}  \n\n```",
        "postTime": 1454053109,
        "uid": 2674,
        "name": "\u300cQQ\u7ea2\u5305\u300d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "~~\u5c31\u662f\u4e00\u4e2a\u5f88\u88f8\u7684\u6811\u72b6\u6570\u7ec4\u9898~~\n### \u5199\u5728\u524d\u9762\uff1a\n\n\u539f\u7801\uff0c\u53cd\u7801\uff0c\u8865\u7801\uff1a\n\n\u6b63\u6570\uff1a\u539f==\u53cd==\u8865\n\n\u8d1f\u6570\uff1a\n\n\u539f\u7801\u7565\uff1b\n\n\u53cd\u7801\uff1a\u7b2c\u4e00\u4f4d\uff08\u7b26\u53f7\u4f4d\uff09\u4e0d\u53d8\uff0c\u5176\u4ed6\u4f4d\u53d6\u53cd\uff1b\n\n\u8865\u7801\uff1a\u53cd\u7801+1\uff1b\n\n\u6817\u5b50\uff1a-10\n\n\u539f\u7801\uff1a10001010\uff1b\n\n\u53cd\u7801\uff1a11110101\uff1b\n\n\u8865\u7801\uff1a11110110\uff1b\n\n\n------------\n\n------------\n\n\n### \u6811\u72b6\u6570\u7ec4\uff1a\nccs\uff1a\u6811\u72b6\u6570\u7ec4\uff0c\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u6a61\u6811\u4e00\u6837\u7684\u6570\u7ec4..\n\n\n![](https://cdn.luogu.com.cn/upload/pic/73033.png)\n\n\u770b\u8fd9\u5f20\u56fe\u5c31\u4e00\u76ee\u4e86\u7136\u4e86\u3002\n\n**\u4e24\u4e2a\u6570\u7ec4\uff1a**\n\na[i]\u50a8\u5b58\u539f\u5e8f\u5217\uff1b\nc[i]\u6811\u72b6\u6570\u7ec4\uff1b\n\nc[1]\u5b58\u7b2c\u4e00\u4e2a\u6570\uff08\u5982\u56fe\uff09\uff0c\nc[2]\u5b58\u524d\u4e24\u4e2a\u6570\u7684\u548c\uff0c\nc[3]\u5b58\u7b2c\u4e09\u4e2a\u6570\uff0c\nc[4]\u5b58\u524d\u56db\u4e2a\u6570\u7684\u548c...\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n\n\n\u6811\u72b6\u6570\u7ec4\u50a8\u5b58\u65b9\u5f0f\u72ec\u7279\uff0c\u5176\u4e2d\u50a8\u5b58\u7684\u548c\u7684\u4e2a\u6570\u4e3a\u5176lowbit\u503c\u3002\n\n**\u4e3e\u4e2a\u6817\u5b50**\uff1a\n\nc[1]\u4e2d\u5b58\u4e861\u4e2a\u6570\uff0clowbit\uff081\uff09=1\uff1b\n\nc[2]\u4e2d\u5b58\u4e862\u4e2a\u6570\uff0clowbit\uff082\uff09=2\uff1b\n\nc[4]\u4e2d\u5b58\u4e864\u4e2a\u6570\uff0clowbit\uff084\uff09=4\uff1b\n\n\u800clowbit\u600e\u4e48\u7b97\u5462\uff1f~~\uff08\u5148\u9003\uff09~~\n\n### \u6811\u72b6\u6570\u7ec4\u4e3b\u8981\u5305\u62ec\u4e09\u4e2a\u51fd\u6570\n\n**first. \u6c42lowbit\u503c**\n```cpp\nint lowbit(int x)\n{\n\treturn x&(-x);\n}\n```\n\n**second.\u7ed9\u7b2cx\u4e2a\u6570\u52a0k**\n\n```cpp\nvoid update(int x,int k)\n{\n\n\twhile(x<=n)\n\t{\n \t\tc[x]+=k;\n\t\tx+=lowbit(x);\n\t}\n}\n```\n\n**third.\u67e5\u8be2\u533a\u95f4\u548c**\n\n```cpp\nint getsum(int x)\n{\n\tint sum=0;\n\twhile(x>0)\n\t{\n\t\tsum+=c[x];\n\t\tx-=lowbit(x);\n\t}\n\treturn sum;\n}\n```\n\n\n~~\uff08\u624b\u52a8\u6a21\u62df\u4e00\u4e0b\u5c31\u77e5\u9053\u4e86\uff09~~\n\n#### \u9898\u76ee\n**\u9898\u76ee\u63cf\u8ff0**\n\n\u5982\u9898\uff0c\u5df2\u77e5\u4e00\u4e2a\u6570\u5217\uff0c\u4f60\u9700\u8981\u8fdb\u884c\u4e0b\u9762\u4e24\u79cd\u64cd\u4f5c\uff1a\n\n1.\u5c06\u67d0\u4e00\u4e2a\u6570\u52a0\u4e0ax\n\n2.\u6c42\u51fa\u67d0\u533a\u95f4\u6bcf\u4e00\u4e2a\u6570\u7684\u548c\n\n**\u8f93\u5165\u683c\u5f0f**\n\n\u7b2c\u4e00\u884c\u5305\u542b\u4e24\u4e2a\u6574\u6570N\u3001M\uff0c\u5206\u522b\u8868\u793a\u8be5\u6570\u5217\u6570\u5b57\u7684\u4e2a\u6570\u548c\u64cd\u4f5c\u7684\u603b\u4e2a\u6570\u3002\n\n\u7b2c\u4e8c\u884c\u5305\u542bN\u4e2a\u7528\u7a7a\u683c\u5206\u9694\u7684\u6574\u6570\uff0c\u5176\u4e2d\u7b2ci\u4e2a\u6570\u5b57\u8868\u793a\u6570\u5217\u7b2ci\u9879\u7684\u521d\u59cb\u503c\u3002\n\n\u63a5\u4e0b\u6765M\u884c\u6bcf\u884c\u5305\u542b3\u4e2a\u6574\u6570\uff0c\u8868\u793a\u4e00\u4e2a\u64cd\u4f5c\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\n\n\u64cd\u4f5c1\uff1a \u683c\u5f0f\uff1a1 x k \u542b\u4e49\uff1a\u5c06\u7b2cx\u4e2a\u6570\u52a0\u4e0ak\n\n\u64cd\u4f5c2\uff1a \u683c\u5f0f\uff1a2 x y \u542b\u4e49\uff1a\u8f93\u51fa\u533a\u95f4[x,y]\u5185\u6bcf\u4e2a\u6570\u7684\u548c\n\n**\u8f93\u51fa\u683c\u5f0f**\n\n\u8f93\u51fa\u5305\u542b\u82e5\u5e72\u884c\u6574\u6570\uff0c\u5373\u4e3a\u6240\u6709\u64cd\u4f5c2\u7684\u7ed3\u679c\u3002\n\n\n\n\n\n```cpp\n#include<iostream>\nusing namespace std;\nint n,m;\nint c[510000];\nint lowbit(int x)\n{\n\treturn x&(-x);\n}\nvoid update(int x,int k)//\u5bf9\u7b2cx\u4e2a\u6570\u52a0k\n{\n\n\twhile(x<=n)\n\t{\n \t\tc[x]+=k;\n\t\tx+=lowbit(x);\n\t}\n}\nint getsum(int x)//\u6c42\u524dx\u9879\u7684\u548c\n{\n\tint sum=0;\n\twhile(x>0)\n\t{\n\t\tsum+=c[x];\n\t\tx-=lowbit(x);\n\t}\n\treturn sum;\n}\nint main()\n{\n\tint a;\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>a;\n\t\tupdate(i,a);//\u5efa\u7acb\u6811\u72b6\u6570\u7ec4\n\t}\n\t\t\n\tint x,k,z;\n\t\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>z>>x>>k;\n\t\tif(z==1)update(x,k);\n\t\tif(z==2)\n\t\t{\n\t\t\tint u=getsum(k);\n\t\t\tint v=getsum(x-1);\n\t\t\tcout<<u-v<<endl; \n\t\t}\n\t}\n}\n```\n\n\n\n**\u9898\u76ee\u63cf\u8ff0**\n\n\u5982\u9898\uff0c\u5df2\u77e5\u4e00\u4e2a\u6570\u5217\uff0c\u4f60\u9700\u8981\u8fdb\u884c\u4e0b\u9762\u4e24\u79cd\u64cd\u4f5c\uff1a\n\n1.\u5c06\u67d0\u533a\u95f4\u6bcf\u4e00\u4e2a\u6570\u6570\u52a0\u4e0ax\n\n2.\u6c42\u51fa\u67d0\u4e00\u4e2a\u6570\u7684\u503c\n\n**\u8f93\u5165\u683c\u5f0f**\n\n\u7b2c\u4e00\u884c\u5305\u542b\u4e24\u4e2a\u6574\u6570N\u3001M\uff0c\u5206\u522b\u8868\u793a\u8be5\u6570\u5217\u6570\u5b57\u7684\u4e2a\u6570\u548c\u64cd\u4f5c\u7684\u603b\u4e2a\u6570\u3002\n\n\u7b2c\u4e8c\u884c\u5305\u542bN\u4e2a\u7528\u7a7a\u683c\u5206\u9694\u7684\u6574\u6570\uff0c\u5176\u4e2d\u7b2ci\u4e2a\u6570\u5b57\u8868\u793a\u6570\u5217\u7b2ci\u9879\u7684\u521d\u59cb\u503c\u3002\n\n\u63a5\u4e0b\u6765M\u884c\u6bcf\u884c\u5305\u542b2\u62164\u4e2a\u6574\u6570\uff0c\u8868\u793a\u4e00\u4e2a\u64cd\u4f5c\uff0c\u5177\u4f53\u5982\u4e0b\uff1a\n\n\u64cd\u4f5c1\uff1a \u683c\u5f0f\uff1a1 x y k \u542b\u4e49\uff1a\u5c06\u533a\u95f4[x,y]\u5185\u6bcf\u4e2a\u6570\u52a0\u4e0ak\n\n\u64cd\u4f5c2\uff1a \u683c\u5f0f\uff1a2 x \u542b\u4e49\uff1a\u8f93\u51fa\u7b2cx\u4e2a\u6570\u7684\u503c\n\n**\u8f93\u51fa\u683c\u5f0f**\n\n\u8f93\u51fa\u5305\u542b\u82e5\u5e72\u884c\u6574\u6570\uff0c\u5373\u4e3a\u6240\u6709\u64cd\u4f5c2\u7684\u7ed3\u679c\u3002\n\n```cpp\n#include<iostream>\nusing namespace std;\nint n,m;\nint c[510000],c2[510000];\nint lowbit(int x)\n{\n\treturn x&(-x);\n}\nvoid update(int x,int k)\n{\n\n\twhile(x<=n)\n\t{\n \t\tc[x]+=k;\n\t\tx+=lowbit(x);\n\t}\n}\nint getsum(int x)\n{\n\tint sum=0;\n\twhile(x>0)\n\t{\n\t\tsum+=c[x];\n\t\tx-=lowbit(x);\n\t}\n\treturn sum;\n}\nint main()\n{\n\tint a,sum=0;\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>a;\n\t\tupdate(i,a);\n\t\tsum+=a;\n\t\tc2[i]=sum;//\u76f4\u63a5\u7528\u524d\u7f00\u548c\u5b58\u539f\u6811\u72b6\u6570\u7ec4\n\t}\n\tint x,y,z;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>a;\n\t\tif(a==1)\n\t\t{\n\t\t\tcin>>x>>y>>z;\n\t\t\tupdate(x,z);\n\t\t\tupdate(y+1,-z);\n\t\t}\n\t\tif(a==2)\n\t\t{\n\t\t\tcin>>x;\n\t\t\tcout<<getsum(x)-c2[x-1]<<endl;\n\t\t}\n\t}\n}\n```\n\n## \u6700\u540e\u8d34\u4e0a\u5b8c\u6574AC\u4ee3\u7801\n```cpp\n#include<iostream>\nusing namespace std;\nint n,m;\nint c[110000];\nchar a;\nint lowbit(int x)\n{\n\treturn x&(-x);\n}\nvoid update(int x,int k)\n{\n\twhile(x<=n)\n\t{\n\t\tc[x]+=k;\n\t\tx+=lowbit(x);\n\t}\n}\nint getsum(int x)\n{\n\tint sum=0;\n\twhile(x>0)\n\t{\n\t\tsum+=c[x];\n\t\tx-=lowbit(x);\n\t}\n\treturn sum;\n}\nint main()\n{\n\tcin>>n>>m;\n\tint x,y;\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tcin>>a>>x>>y;\n\t\tif(a=='x')\n\t\t\tupdate(x,y);\n\t\tif(a=='y')\n\t\t\tcout<<getsum(y)-getsum(x-1)<<endl;\n\t}\n}\n```\n",
        "postTime": 1570973137,
        "uid": 184363,
        "name": "S_Gloria",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u4f20\u8bf4\u4e2d\u7684\u6a21\u62df\u5927\u6cd5\u3002\u3002\u3002\n\n\u5176\u5b9e\u9898\u4e0a\u6709\u4e2a\u5730\u65b9\u6ca1\u8bf4\u6e05\u695a\uff0c\u5c31\u662f\u8fd9\u4e2a\u5e8f\u5217\u5176\u5b9e\u4e00\u5f00\u59cb\u90fd\u662f0\uff1b\u8fd9\u4e00\u70b9\u5e94\u8be5\u4ece\u6d4b\u8bd5\u6570\u636e\u4e0a\u770b\u5f97\u51fa\u6765\u3002\n\n\u672c\u8eab\u8fd9\u9053\u9898\u662f\u60f3\u8003\u4e00\u4e2a\u6811\u72b6\u6570\u7ec4\u6a21\u677f\uff0c\u4f46\u662f\u56e0\u4e3a\u6570\u636e\u8fc7\u6c34\uff0c\u6a21\u62df\u90fd\u80fdA\u6389\u3002\n\n\u4e0b\u9762\u4e0a\u4ee3\u7801\uff08\u6709\u6ce8\u91ca\uff0c\u672c\u849f\u84bb\u7684\u4ee3\u7801\u6709\u70b9\u4e11\uff0c\u522b\u4ecb\u610f\uff09\n\n```cpp\n#include<bits/stdc++.h>//\u4f20\u8bf4\u4e2d\u7684\u4e07\u80fd\u5e93 \n#define maxx 100001 \nusing namespace std;\ninline int read()//\u8bfb\u5165\u4f18\u5316\uff0c\u5176\u5b9e\u662f\u4e0d\u7528\u7684\uff0c\u5199\u7740\u73a9\u73a9 \n{\n    int X=0,w=1; \n    char ch=0;\n    while(ch<'0'||ch>'9') \n    {\n        if(ch=='-') \n            w=-1;\n        ch=getchar();\n    }\n    while(ch>='0' && ch<='9') \n        X=(X<<3)+(X<<1)+ch-'0',ch=getchar();\n    return X*w;\n}\nint t[maxx]={0},a[maxx],b[maxx];\nchar c[maxx];\nint main(){\n    int n,m;\n    n=read();m=read();\n    for(int i=1;i<=m;i++){\n        int ans=0;\n        cin>>c[i];\n        a[i]=read();b[i]=read();\n        if(c[i]=='x')//a[i]\u4f4d\u4e0a\u52a0\u4e0ab[i] \n            t[a[i]]+=b[i];\n        if(c[i]=='y'){\n            for(int j=a[i];j<=b[i];j++)//\u76f4\u63a5\u66b4\u529b\u7d2f\u52a0 \n                ans+=t[j];\n            cout<<ans<<endl;\n        }\n    } \n    return 0;\n}\n\n```",
        "postTime": 1509794664,
        "uid": 43501,
        "name": "\u4f55\u70b3\u5112",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6ca1\u5b66\u8fc7\u6216\u8005\u5e76\u4e0d\u4f1a\u62d3\u5c55\u6811\u72b6\u6570\u7ec4\u7684\u7ae5\u978b\u90fd\u6765\u56f4\u89c2\uff1a\uff1ahttp://blog.csdn.net/no1\\_terminator/article/details/51713474\n\n\n\u4e0a\u4ee3\u7801\u5427\uff0c\u53ef\u4ee5\u548c\u697c\u4e0b\u5927\u4f6c\u4eec\u6bd4\u8f83\u4e00\u4e0b\u957f\u77ed^\\_^:\n\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\nusing namespace std;\nint n,T;\nint sum[100010];\nvoid add(int x,int index){\n    for (;x<=n;x+=x&(-x))\n        sum[x]+=index;\n}\nint query(int x){\n    int t=0;\n    for (;x;x-=x&(-x))\n        t+=sum[x];\n    return t;\n}\nint main(){\n    scanf(\"%d%d\",&n,&T);\n    while (T--){\n        char opt;int x,y;\n        scanf(\"\\n%c%d%d\",&opt,&x,&y);\n        if (opt=='x'){\n            add(x,y);\n        }else{\n            printf(\"%d\\n\",query(y)-query(x-1));\n        }\n    }\n    return 0;\n}\n\n```",
        "postTime": 1502796217,
        "uid": 48966,
        "name": "707001933K",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u521a\u521a\u5b66\u5b8c\u7ebf\u6bb5\u6811 \u505a\u7ec3\u4e60\u7684\u540c\u65f6\u6765\u5199\u4e00\u7bc7\u9898\u89e3\u5427\n\n\u9996\u5148 \uff1a\u5efa\u6811\n\n\u5bf9\u4e8e\u7ebf\u6bb5\u6811\u7684\u7f16\u5199 \u7b2c\u4e00\u6b65\u7684\u91cd\u70b9\u5c31\u662f\u5efa\u6811 \u6b64\u540e\u6240\u6709\u8fdb\u884c\u7684\u66f4\u6539\u5747\u9700\u7b2c\u4e00\u6b65\u5efa\u6811\n\n\u987e\u540d\u601d\u4e49\uff1a \u5efa\u6811\u4ece\u5b57\u9762\u610f\u4e49\u4e0a\u6765\u8bb2\u5c31\u662f \u6570\u7ec4\u4ee5\u6811\u7684\u65b9\u5f0f\u5b58\u50a8\u4e0b\u6765\uff1b\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\n\n\u4ee4 $a[6] = {1,3,5,7,9,11};a[6]=1,3,5,7,9,11$;\n\n\u540c\u65f6\u518d\u5f00\u4e00\u4e2a\u6570\u7ec4 $tree[4 \u00b7 6] = 0\uff0ctree[4 \u00b7 6]=0$; \uff08\u8fd9\u91cc\u5bf9\u4e8e\u7ebf\u6bb5\u6811\u6765\u8bf4\u4e00\u822c\u9700\u8981\u5f00 $ 4 * n$ \u7684\u7a7a\u95f4 $n$ \u4e3a\u539f\u6570\u7ec4\u5927\u5c0f\uff09\n\n\u6838\u5fc3\u601d\u60f3\uff1a\u6bcf\u6b21\u8fdb\u884c\u5bf9\u6570\u7ec4\u4e8c\u5206 \u5206\u4e3a $L ,R$ \u4e24\u4e2a\u5206\u53c9 \u6bcf\u4e2a\u53f6\u5b50\u7684\u7236\u8282\u70b9\u4e3a\u5176\u5b50\u8282\u70b9\u7684\u548c\n\n\u63a5\u7740\u5355\u70b9\u4fee\u6539\u65f6 \u53ef\u76f4\u63a5\u67e5\u8be2\u904d\u5386\u5b50\u6811\u4fee\u6539 \u6bcf\u6b21\u67e5\u8be2\u65f6\u5c06lazy\u4e0b\u653e\u5373\u53ef\n\n\u6c42\u548c\u65f6\u5206\u5de6\u53f3\u5b50\u6811\u67e5\u627e\u6700\u540e\u7d2f\u52a0\u5373\u53ef\n\n\u7b80\u5355\u6613\u61c2\u7684\u9898\u89e3\uff0c\u4ee3\u7801\u5982\u4e0b\n```\n#include <bits/stdc++.h>\nusing namespace std;\n#define MAX_LEN 400005\n\nint arr[MAX_LEN];\nint size1;\nlong long add[MAX_LEN];\nlong long tree[MAX_LEN] = {0};\nint q, p, m;\nlong long k;\n\nvoid push_down(int node, int m)//lazy\u6807\u8bb0 \u540c\u65f6\u4e0b\u653e\u64cd\u4f5c\n{\n    if (add[node])\n    {\n        add[2 * node + 1] += add[node];\n        add[2 * node + 2] += add[node];\n        tree[2 * node + 1] += (m - (m >> 1)) * add[node];\n        tree[2 * node + 2] += (m >> 1) * add[node];\n        add[node] = 0;\n    }\n}\n\nvoid build_tree(int node, int start, int end)//\u5efa\u6811\n{\n    add[node] = 0;\n    if (start == end)\n        tree[node] = arr[start];\n    else\n    {\n        int mid = (start + end) / 2;\n        int left_node = 2 * node + 1;\n        int right_node = 2 * node + 2;\n        build_tree(left_node, start, mid);\n        build_tree(right_node, mid + 1, end);//\u5206\u522b\u904d\u5386\u5de6\u53f3\u5b50\u6811\n        tree[node] = tree[left_node] + tree[right_node];\n    }\n}\nvoid arr_tree(int node, int start, int end, int L, int K)\n{\n    if (start == end)\n    {\n        tree[node] += (end - start + 1) * K;\n        add[node] += K;//lazy\u6570\u7ec4\u8fdb\u884c\u6807\u8bb0\n        return;\n    }\n    push_down(node, end - start + 1);//\u4e0b\u653e\n    int mid = (start + end) / 2;\n    int left_node = 2 * node + 1;\n    int right_node = 2 * node + 2;\n    if (L <= mid)\n        arr_tree(left_node, start, mid, L, K);\n    if (L > mid)\n        arr_tree(right_node, mid + 1, end, L, K);\n    tree[node] = tree[left_node] + tree[right_node];//\u56e0\u4e3a\u4fee\u6539\u540e\u7684\u503c\u4f1a\u5f71\u54cd\u7ebf\u6bb5\u6811\u7684\u8981\u6c42 \u56e0\u6b64 \u9700\u8981\u91cd\u65b0\u66f4\u65b0\u5176\u5b50\u6811\u7684\u8282\u70b9\u503c\n}\n\nlong long query_tree(int node, int start, int end, int L, int R)\n{\n    if (R < start || L > end)\n        return 0;//\u5982\u679c\u672c\u8eab\u4e0d\u7b26\u5408\u533a\u95f4 \u76f4\u63a5\u8fd4\u56de0\n    else if (L <= start && end <= R)\n        return tree[node];\n    else if (start == end)\n        return tree[node];//\u904d\u5386\u5230\u6700\u6df1\u5b50\u8282\u70b9 \u5219\u8fd4\u56de\n    else\n    {\n        push_down(node, end - start + 1);//\u4e0b\u653e\u64cd\u4f5c\n        int mid = (start + end) / 2;\n        int left_node = 2 * node + 1;\n        int right_node = 2 * node + 2;\n        long long sum_left = query_tree(left_node, start, mid, L, R);\n        long long sum_right = query_tree(right_node, mid + 1, end, L, R);\n        return sum_left + sum_right;//\u7d2f\u52a0\u64cd\u4f5c\n    }\n}//\u6c42\u548c\u540c\u7406\n\nint main()\n{\n    cin >> size1 >> m;\n    for (int i = 0; i < size1; i++)\n    {\n        arr[i] = 0;\n    }\n    build_tree(0, 0, size1 - 1);\n    for (int i = 0; i < m; i++)\n    {\n        char z;\n        int x, y;\n        cin >> z;\n        if (z == 'x')\n        {\n            cin >> x >> k;\n            arr_tree(0, 0, size1 - 1, x - 1, k);\n        }\n        if (z == 'y')\n        {\n            cin >> x >> y;\n            long long sum = query_tree(0, 0, size1 - 1, x - 1, y - 1);\n            cout << sum << endl;\n        }\n    }\n    return 0;\n}",
        "postTime": 1583770838,
        "uid": 111016,
        "name": "S1gMa",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "//\u8fd9\u662f\u4e00\u9053\u7ecf\u5178\u7684\u6811\u72b6\u6570\u7ec4\u6a21\u677f\u9898\u9002\u5408\u6811\u72b6\u6570\u7ec4\u521d\u5b66\u8005\u7ec3\u4e60\n//\u82e5\u4ece\u672a\u63a5\u89e6\u8fc7\u6811\u72b6\u6570\u7ec4\uff0c\u5efa\u8bae\u5148\u4e86\u89e3\u524d\u7f00\u548c \ncode:\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define h 5782356\n#define p 2001\nusing namespace std;\nint lowbit(int x);\nvoid addup(int x,int y);//\u533a\u95f4\u589e\u52a0\u51fd\u6570 \nint tot(int x);//\u533a\u95f4\u6c42\u548c\u51fd\u6570 \nint f[h]; \nint tree[h];//\u6811\u72b6\u6570\u7ec4 \nint n,w;//n\u548cw\u8981\u5f00\u5168\u5c40\u53d8\u91cf\u65b9\u4fbf\u67e5\u8be2 \nvector <int>q;//\u6ca1\u7528\u5230\u7684vector \nchar a; \nint b,c;\nsigned main()\n{\n    cin>>n;\n    cin>>w;\n    //\u8f93\u5165n\u4e0ew \n    for(int i=1;i<=w;i++)\n    {\n    cin>>a>>b>>c;\n    if(a=='x')\n    addup(b,c);\n    //\u5982\u679ca\u662fx\uff0c\u5c31\u589e\u52a0 \n    else\n    if(a=='y')\n    cout<<tot(c)-tot(b-1)<<endl;\n    //\u5982\u679ca\u662fy\uff0c\u5c31\u8f93\u51fa\u533a\u95f4\u548c\uff0c\u6ce8\u610f\u6362\u884c\uff08\u6211\u5f00\u59cb\u5c31\u56e0\u6b64\u5168wa\uff09 \n    //tot(\u4e00\u5b9a\u662fb-1)\n}\n} \nint lowbit(int x)\n{\n\treturn x&(-x);\n}\n//\u8fd9\u91cc\u7528\u5230lowbit\n//\u6839\u636e\u201cand\u201d\u7684\u6027\u8d28 \n//x&(-x)\uff0c\u82e5x\u4e3a0\u5219\u7ed3\u679c\u4e3a0\uff1b\n//else \n//x\u4e3a\u5947\u6570\u65f6\uff0c\u7ed3\u679c\u4e3a1\uff1b\n//x\u4e3a\u5076\u6570\u65f6\uff0c\u7ed3\u679c\u4e3ax\u4e2d2\u7684\u6700\u5927\u6b21\u65b9\u7684\u56e0\u5b50\u3002\nvoid addup(int x,int y)\n{\n//\tint t=0;\n\tfor(int i=x;i<=n;i+=lowbit(i))\n\ttree[i]+=y;\t\n}\n//\u5728i\u4f4d\u7f6e\u52a0\u4e0ay\nint tot(int x)\n{\n\tint t=0;\n\tfor(int i=x;i;i-=lowbit(i))\n\tt+=tree[i];\n\treturn t;\n}\n//\u6839\u636e\u524d\u7f00\u548c\u6c42tree[from 1 to x]\u7684\u548c \n```cpp",
        "postTime": 1576847787,
        "uid": 244059,
        "name": "king_xbz",
        "ccfLevel": 0,
        "title": "\u7edf\u8ba1\u548c\uff1a\u4e00\u9053\u6807\u51c6\u7684\u6811\u72b6\u6570\u7ec4"
    },
    {
        "content": "\u535a\u5ba2\u8d85\u6f02\u4eae\u7684\uff1a\n### [\u6bd4\u8f83\u5927\u7684\u4f20\u9001\u95e8](http://littleseven.top/\u6d1b\u8c37-p2068-\u7edf\u8ba1\u548c/)\n\n## \u9898\u89e3\uff1a\n\n**\u6811\u72b6\u6570\u7ec4**\n\n~~\u8131\u5149\u5149~~\u7684\u6811\u72b6\u6570\u7ec4\uff0c\u771f\u7684\u51fa\u4e86\u533a\u95f4\u67e5\u8be2\u4e4b\u5916\uff0c\u6ca1\u6709\u5565\u554a\uff1f\uff1f\uff1f\n\n\u90a3\u4e48\u5982\u679c\u53ea\u4f1a\u5355\u70b9\u67e5\u627e\u548c\uff0c\u4e0d\u4f1a\u67e5\u627e\u533a\u95f4\u600e\u4e48\u529e\uff1f\uff1f\uff1f\n\n\u2014\u2014\u90a3\uff0c\u524d\u7f00\u548c\u4f1a\u561b\uff1f\uff1f\uff1f\n\n\u6ca1\u9519\u554a\uff0c\u6811\u72b6\u6570\u7ec4\u5b9e\u73b0\u7ef4\u62a4\u533a\u95f4\u548c\u5c31\u662f\u628a\u4e24\u4e2a\u5355\u70b9\u548c\u51cf\u4e00\u4e0b\uff0c\u50cf\u4e0d\u50cf\u7ef4\u62a4\u5b8c\u524d\u7f00\u548c\u518d\u6c42\u533a\u95f4\u548c?\n\n```cpp\nint ans = getsum(b) - getsum(a - 1);\n```\n\n\u5c31\u662f\u8fd9\u4e48\u4e2a\u4e1c\u897f$QwQ$\n\n\n\n## AC\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nconst int N = 1e5 + 1;\n\nint n, m, tree[N];\n\nvoid update(int x, int val)\n{\n\tfor (int i = x; i <= n; i += i & -i)\n\t\ttree[i] += val;\n}\nint getsum(int x)\n{\n\tint res = 0;\n\tfor (int i = x; i; i -= i & -i)\n\t\tres += tree[i];\n\treturn res;\n}\nint main()\n{\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= m; i ++ )\n\t{\n\t\tchar ch[10];\n\t\tint a, b;\n\n\t\tscanf(\"%s%d%d\", ch, &a, &b);\n\t\tif (ch[0] == 'x')\n\t\t{\n\t\t\tupdate(a, b);\n\t\t\tcontinue ;\n\t\t}\n\t\telse if (ch[0] == 'y')\n\t\t{\n\t\t\tint ans = getsum(b) - getsum(a - 1);\n\t\t\tprintf(\"%d\\n\", ans);\n\t\t\tcontinue ;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n",
        "postTime": 1567686895,
        "uid": 144702,
        "name": "littleseven",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u849f\u84bb\u4eca\u5929\u7ec8\u4e8e\u7ea2\u4e86\uff0c\u4e8e\u662f\u5199\u7bc7\u9898\u89e3\u5e86\u795d\u4e00\u4e0b\u3002\n\n\n------------\n\n\u7531\u4e8e\u849f\u84bb\u80fd\u529b\u4e0d\u8db3\uff0c\u53ea\u80fd\u5949\u4e0a\u6811\u72b6\u6570\u7ec4\u89e3\u6cd5\u3002\n\n\u6811\u72b6\u6570\u7ec4\u5c31\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784\u57fa\u4e8e\u7528\u9014\u662f\u7ef4\u62a4\u5e8f\u5217\u7684\u524d\u7f00\u548c\u3002\u5bf9\u4e8e\u533a\u95f4[1\uff0cx]\uff0c\u6811\u72b6\u6570\u7ec4\u5c06\u5176\u5206\u4e3alogx\u4e2a\u5b50\u533a\u95f4\uff0c\u4ece\u800c\u6ee1\u8db3\u5feb\u901f\u8be2\u95ee\u533a\u95f4\u548c\u3002\n\n\u4f8b\u5982\u6709\u8fd9\u6837\u4e00\u4e2a\u6570\u5217\uff1a\n\nA 1 3 6 2 9 12 8 3 5 6\n\n\u5bf9\u5176\u8fdb\u884c\u7ef4\u62a4\u540e\uff0c\u53d8\u6210\u8fd9\u6837\uff1a\n\n![404](https://cdn.luogu.com.cn/upload/pic/75801.png)\n\n\u800csum\u6570\u7ec4\u7684\u503c\u662f\u8fd9\u6837\u7d2f\u52a0\u7684\uff1a\n\n![404](https://cdn.luogu.com.cn/upload/pic/75802.png)\n\n\u8fd9\u6837\uff0c\u5728\u4fee\u6539\u65f6\uff0c\u6211\u4eec\u53ea\u9700\u8981\u628a\u6240\u6709\u4e0e\u5176\u76f8\u5173\u8054\u7684\u4f4d\u7f6e\u4fee\u6539\uff1b\u6c42\u548c\u65f6\u53ea\u9700\u8981\u628a\u6240\u6709\u4e0e\u5176\u76f8\u5173\u8054\u7684\u4f4d\u7f6e\u76f8\u52a0\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u90fd\u662flog n\u7ea7\u522b\u7684\u3002\n\n\u8981\u6c42\u6240\u6709\u76f8\u5173\u8054\u7684\u70b9\uff0c\u6211\u4eec\u53ea\u8981\u6c42(-x) and x\u7684\u503c\uff0c\u5177\u4f53\u6d89\u53ca\u5230\u4f4d\u8fd0\u7b97\u7684\u77e5\u8bc6\u3002\n\n------------\n\n\u4ee3\u7801\uff1a\n```pascal\nvar n,m,i,j,x,y:longint; \na,b,c:array[0..1000001] of longint; z1,z:char;\nfunction lowbit(x:longint):longint;\nbegin\nexit(x and (-x));             //\u6c42\u76f8\u5173\u8054\u7684\u70b9\nend;\n\nprocedure xg(x,y:longint);\nbegin\nwhile x<=n do\n  begin\n  c[x]:=c[x]+y;\n  x:=x+lowbit(x);      //\u4fee\u6539\u64cd\u4f5c\uff0c\u628a\u6240\u6709\u4e0e\u5176\u76f8\u5173\u8054\u7684\u4f4d\u7f6e\u4fee\u6539\n  end;\nend;\n\nfunction sum(x:longint):longint;\nbegin\nsum:=0;                   //\u6ce8\u610f\u8fd9\u91cc\u8981\u5148\u5f520\nwhile x>0 do\n  begin\n  sum:=sum+c[x];\n  x:=x-lowbit(x);     //\u6c42\u548c\u64cd\u4f5c\uff0c\u628a\u6240\u6709\u4e0e\u5176\u76f8\u5173\u8054\u7684\u4f4d\u7f6e\u76f8\u52a0\n  end;\nend;\n\n\nbegin\nreadln(n,m);\nfor i:=1 to m do\n  begin\n  readln(z,z1,x,y);\n  if z='x' then xg(x,y) else writeln(sum(y)-sum(x-1));\n           //\u5728\u8fdb\u884c\u6c42\u548c\u64cd\u4f5c\u65f6\uff0c\u4e0e\u524d\u7f00\u548c\u4e00\u6837\uff0c\u51cf\u7684\u90fd\u662fsum(x-1)\n  end;\nend.\n```\n\n",
        "postTime": 1567149709,
        "uid": 70917,
        "name": "\u76ae\u5361\u4e18\u6700\u840c",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u9898\u76ee\u94fe\u63a5\uff1ahttps://www.luogu.org/problemnew/show/P2068\n\n---\n\n## \u9898\u76ee\u5206\u6790  \n\u770b\u5230\u8fd9\u9898\u7684\u7b2c\u4e00\u773c\uff0c\u6211\u60f3\u5230\u7684\u5c31\u662f\uff1a\u524d\u7f00\u548c\u3002\n> \u7136\u540e\u63d0\u51fay (y<=10000)\u4e2a\u95ee\u9898\uff0c\u6c42**\u6bcf\u6bb5\u533a\u95f4\u7684\u548c**\u3002  \n\n\u5f88\u6709\u524d\u7f00\u548c\u7684\u5473\u9053\u5bf9\u4e0d\u5bf9\uff1f\u4e8e\u662f\u6211\u5c31\u8fd9\u4e48\u5199\u4e86\u3002\u6211\u4e5f\u4e0d\u77e5\u9053\u4f1a\u4e0d\u4f1a\u8d85\u65f6\uff0c\u5c31\u5f53\u5199\u7740\u73a9\u5427\u2026\u2026\n\n\u5199\u597d\u540e\u6d4b\u4e86\u4e00\u4e0b\u6837\u4f8b\uff0c\u5c31\u4ea4\u4e0a\u53bb\u4e86\u3002  \n\u7136\u540e\u5c31\u8fc7\u4e86\u3002\u8fc7\u4e86\u8bf6\uff01\uff01\uff01\u5185\u5fc3\u7684\u5174\u594b\u96be\u4ee5\u8a00\u8bf4\uff01\uff01\uff01  \n\n\u597d\u4e86\u8bdd\u4e0d\u591a\u8bf4\uff08~~\u4f60\u5df2\u7ecf\u8bf4\u4e86\u5f88\u591a\u4e86\u5582~~\uff09\uff0c\u5206\u6790\u5c31\u770b\u4ee3\u7801\u5427\u3002\u4e3b\u8981\u5c31\u662f**\u6a21\u62df**\u5566\u3002\n\n---\n\n## \u4ee3\u7801\u5b9e\u73b0\n```cpp\n#include<bits/stdc++.h>\nconst int N=100000+10;\nusing namespace std;\n\nint n,w,h[N];//h[]\u5c31\u662f\u524d\u7f00\u548c\u7684\u6570\u7ec4\n\nint main()\n{\n    int i,a,b;\n    char c;\n    cin>>n>>w;\n    while(w--)\n    {\n      cin>>c>>a>>b;\n      if(c=='x')//\u5982\u679c\u662f'x'\uff0c\u90a3\u4e48\u8fdb\u884c\u4fee\u6539\u64cd\u4f5c\uff0c\u66f4\u65b0h[]\n        for(i=a;i<=n;i++) h[i]+=b;\n      else cout<<h[b]-h[a-1]<<endl;//\u5982\u679c\u662f'y'\uff0c\u90a3\u4e48\u8fdb\u884c\u56de\u7b54\uff0c\u8f93\u51fa\u533a\u95f4\u7684\u548c\n    }\n    return 0;\n}\n```\n\n$AC$\u4e86\u4e4b\u540e\u53bb\u7ffb\u4e86\u9898\u89e3\uff0c\u53d1\u73b0\u9898\u89e3\u91cc\u90fd\u662f\u4ec0\u4e48\u201d\u5206\u5757\u201c\u3001\u201d\u7ebf\u6bb5\u6811\u201c\u4e4b\u7c7b\u672c\u849f\u84bb\u90fd\u4e0d\u77e5\u9053\u662f\u5565\u7684\u4e1c\u4e1c\uff0c\u771f\u7684\u5f88\u60ca\u5947\u81ea\u5df1\u5c31\u600e\u4e48\u7528\u524d\u7f00\u548c\u5c31\u8fc7\u4e86\u3002\u3002\u3002$\\text{QAQ}$  \n\uff08\u6211\u771f\u7684\u5f88\u84bb\u5566\uff09",
        "postTime": 1557117749,
        "uid": 108712,
        "name": "Cxs3",
        "ccfLevel": 0,
        "title": "P2068 \u7edf\u8ba1\u548c"
    },
    {
        "content": ">[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://www.cnblogs.com/qf-breeze/p/10474095.html)\n>\n\u8fd9\u9898\u5c31\u662f\u6811\u72b6\u6570\u7ec4\u554aorz\n\u771f\u7684\u4e00\u6a21\u4e00\u6837\n\n------------\n\n\u8fd9\u9898\u771f\u7684\u975e\u5e38\u6c34\u4e86\n\n------------\n\n\u5982\u679c\u4e0d\u4f1a \u53f3\u8f6c[\u6811\u72b6\u6570\u7ec42](https://www.luogu.org/problemnew/show/P3368)\n\n\n------------\n\n\u57fa\u672c\u4e0a\u662f\u4e00\u6a21\u4e00\u6837\u7684\n\n\n------------\n\u4ec0\u4e48\uff1f\u4f60\u8fd8\u4e0d\u4f1a\uff1f\u90a3\u6211\u65e0\u80fd\u4e3a\u529b\u4e86\u3002\n\u4e0a\u4ee3\u7801\u4e86\n```cpp\n#include <bits/stdc++.h>\n#define lowbit(x) x&-x\nusing namespace std ;\ntypedef long long LL;\ninline LL read(){ LL x=0; int f=1; char ch=getchar();\n\twhile(!isdigit(ch)) { if (ch=='-') f=-1; ch=getchar(); }\n\twhile(isdigit(ch)) x=(x<<1)+(x<<3)+(ch^48),ch=getchar(); return x*f;\n}\nint n,m;\nint tree[2000000+10];\ninline void add (int x, int k){\n\twhile (x<=n) tree[x]+=k,x+=lowbit(x);\n\treturn ;\n}\ninline LL sum ( int x ){\n\tLL ans = 0;\n\twhile (x) {\n\t\tans += tree [x] ;\n\t\tx -= lowbit(x);\n\t}\n\treturn ans ;\n}\nsigned main() {\n\tn=read() , m=read ();\n\tfor(register int i=1;i<=m;i++) {\n\t\tchar x;\n\t\tcin>>x;\n\t\tint y=read() , z=read();\n\t\tif (x == 'x') add(y , z);\n\t\tif (x == 'y') cout << sum (z) - sum (y - 1) <<endl ;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1551713221,
        "uid": 96580,
        "name": "SXNhdW5veWE",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6807\u51c6\u7684\u7b80\u5316\u7248\u7ebf\u6bb5\u6811\u6a21\u677f\u3002\n\n\u7531\u4e8e\u6ca1\u6709\u521d\u59cb\u503c\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u5efa\u6811\u3002\n\n\u4ecb\u7ecd\u4e09\u4e2a\u6838\u5fc3\u51fd\u6570\uff1a\n\n1. up(int p)\n\n\u7528\u4e8e\u66f4\u65b0p\u8282\u70b9\u7684\u503c\u3002\u56e0\u4e3a\u8fd9\u662f\u4e8c\u53c9\u6811\uff0cp\u8282\u70b9\u7684\u5b50\u8282\u70b9\u4e3a2p,2p+1.\n\ns[]\u7528\u4e8e\u5b58\u50a8tree.\n\n\u66f4\u65b0\u64cd\u4f5c\uff1as[p]=s[2p]+s[2p+1];\n\n2. update(int p, int l, int r, int x, int v)\n\n\u7528\u4e8e\u66f4\u65b0\u7b2cx\u4e2a\u6570\uff0c\u4f7f\u7b2cx\u4e2a\u6570+v\n\n\u56e0\u4e3a\u66f4\u65b0\u7b2cx\u4e2a\u6570\u540e\uff0c\u5b58\u50a8\u7b2cx\u4e2a\u6570\u503c\u8282\u70b9\u7684\u7236\u8282\u70b9\uff08\u4e0a\u53f8\uff09\u90fd\u4f1a\u53d7\u5230\u5f71\u54cd\uff0c\u4e8e\u662f\u4f20\u9012\u8282\u70b9p\uff0c\u8282\u70b9p\u7684\u503c\u4e3a\uff1as[p]=a[l]+a[l+1]+..+a[r];\n\nl,r\u662fp\u7684\u201c\u8303\u56f4\u201d\n\n\u82e5l=r\u8868\u793a\u5df2\u7ecf\u627e\u5230\u5b58\u50a8a[x]\u7684\u8282\u70b9\uff0c+v.\n\n\u7136\u540e\u518d\u4e8c\u5206\uff0c\u66f4\u65b0\u8282\u70b9\u3002\n\n3. query(int p, int l, int r, int x, int y);\n\np,l,r\u7684\u5b9a\u4e49\u89c12.\n\n\u8fd9\u4e2a\u51fd\u6570\u7528\u4e8e\u83b7\u5f97[x,y]\u533a\u95f4\u7684\u548c\u3002\n\n\u5206\u6790\u53ef\u77e5\uff1a\u5982\u679c[l,r]\u5305\u542b\u4e8e[x,y]\uff0c\u90a3\u4e48\u53ef\u4ee5\u76f4\u63a5\u5c06s[p]\u7684\u503c\u52a0\u5165\u6700\u540e\u7684\u7b54\u6848\u4e2d\u3002\n\n\uff08s[p]=a[l]+..+a[r], a[l]+...+a[r]+k=a[x]+...+a[y].\uff09\n\n\u6240\u4ee5\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u8fd4\u56de\u3002\n\n\nif (x<=l && y<=r) then return s[p];\n\n\u5982\u679c[l,r]\u4e0d\u662f[x,y]\u7684\u5b50\u96c6\uff0c\u90a3\u4e48\u53d6m=(l+r) div 2;\n\n\u5206\u4e24\u8fb9\u8ba8\u8bba\u3002\n\n\u5982\u679cx<=m,\u5219\u8ba8\u8bba\u5de6\u8fb9\uff1b\n\n\u5982\u679cm<y,\u8ba8\u8bba\u53f3\u8fb9\u3002\n\n\n\u6ce8\u610f\uff1a\n\n\u8fd9\u4e24\u79cd\u60c5\u51b5\u662f\u5e76\u5217\u7684\uff0c\u4e0d\u5b58\u5728else\u7684\u60c5\u51b5\u3002\n\n\u6240\u4ee5\u8fd9\u4e00\u6bb5\u7684\u4f2a\u4ee3\u7801\u5c31\u662f\uff1a\n\n```cpp\nm=(l+r)/2;\nint ret=0;\nif x<=m ret+=query\u5de6\u8fb9\nif m<y ret+=query\u53f3\u8fb9\nreturn ret;\n```\n\u5177\u4f53\u5b9e\u73b0\u89c1\u4e0b\u3002\n\n\u6700\u540e\u3002\u3002\u4e3b\u7a0b\u5e8f\n\n\u7531\u4e8e\u4e0d\u9700\u8981\u5efa\u6811\uff0c\u6211\u4eec\u53ea\u9700\u8981\u770b\u8bfb\u5165\u5904\u7406\u90e8\u5206\u3002\u601d\u8def\u5373\u4f2a\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n```cpp\nfor i=1 to m do begin\n cin >> ch >> a >> b;\n if (ch=='x') update a \u8282\u70b9\n  else cout << query << endl;\nend;\n```\n\u5373\u53ef\u3002\n\n\u9644\u4e0a\u5b8c\u6574c++\u4ee3\u7801\uff1a\n\n\n\n\n\n\n\n\n\n\n```cpp\n//Luogu 2068\n#include<cstdio>\n#include<iostream>\nusing namespace std;\nconst int MAXN=100000;\nint n, m;\nlong long s[MAXN*4+10]={0};\nvoid up(int p)\n{\n    s[p]=s[2*p]+s[2*p+1];\n    return;\n}\nvoid update(int p, int l, int r, int x, int v)\n{\n    if (l==r) {\n        s[p]+=v;\n        return;\n    }\n    int m=(l+r)/2;\n    if (x<=m) update(2*p, l, m, x, v);\n        else update(2*p+1, m+1, r, x, v);\n    up(p);\n    return;\n}\nlong long query(int p, int l, int r, int x, int y)\n{\n    if (x<=l && r<=y) {\n        return s[p];\n    }\n    int m=(l+r)/2;\n    long long ret=0;\n    if (x<=m) ret+=query(p*2, l, m, x, y);\n    if (m<y) ret+=query(p*2+1, m+1, r, x, y);\n    return ret;\n}\nint main()\n{\n    cin >> n;\n    cin >> m;\n    char ch;\n    int a, b;\n    for (int i=0; i<m; i++) {\n        cin >> ch;\n        scanf(\"%d%d\", &a, &b);\n        cin.ignore();\n        if (ch=='x') {\n            update(1,1,n,a,b);\n        }\n            else cout << query(1,1,n,a,b) << endl;\n    }\n    return 0;\n}\n\n```",
        "postTime": 1500774231,
        "uid": 31136,
        "name": "\u5408451518",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6807\u51c6\u7684\u6811\u72b6\u6570\u7ec4\u3002\u3002\u3002\u3002\u3002\n\n\u7b97\u6cd5\u5206\u6790\n\n\u5982\u679c\u76f4\u63a5\u505a\u7684\u8bdd,\u4fee\u6539\u7684\u590d\u6742\u5ea6\u662fO(1),\u8be2\u95ee\u7684\u590d\u6742\u5ea6\u662fO(N),M\u6b21\u8be2\u95ee\u7684\u590d\u6742\u5ea6\u662fM\\*N.M,N\u7684\u8303\u56f4\u53ef\u4ee5\u6709100000\u4ee5\u4e0a,\u6240\u4ee5\u8fd9\u6837\u505a\u4f1a\u8d85\u65f6,\u4f46\u662f\u5982\u679c\u7528\u7ebf\u6bb5\u6811\u7684\u8bdd,\u8fd8\u662f\u5f88\u4e0d\u9519\u7684! \u6709\u5f88\u591a\u7ebf\u6bb5\u6811\u80fd\u5b9e\u73b0\u4f46\u6811\u72b6\u6570\u7ec4\u5374\u5b9e\u73b0\u4e0d\u4e86\u7684\u9898\u76ee\u3002\n\n\u7ebf\u6bb5\u6811\u89e3\u6cd5\u5206\u6790\n\n\u53ef\u4ee5\u770b\u51fa,\u8fd9\u68f5\u6811\u7684\u6784\u9020\u7528\u4e8c\u5206\u4fbf\u53ef\u4ee5\u5b9e\u73b0.\u590d\u6742\u5ea6\u662f2\\*N.\n\n\u6bcf\u4e2a\u7ed3\u70b9\u7528\u6570\u7ec4a\u6765\u8868\u793a\u8be5\u7ed3\u70b9\u6240\u8868\u793a\u8303\u56f4\u5185\u7684\u6570\u636e\u4e4b\u548c.\n\n\u4fee\u6539\u4e00\u4e2a\u4f4d\u7f6e\u4e0a\u6570\u5b57\u7684\u503c,\u5c31\u662f\u4fee\u6539\u4e00\u4e2a\u53f6\u5b50\u7ed3\u70b9\u7684\u503c,\u800c\u5f53\u7a0b\u5e8f\u7531\u53f6\u5b50\u7ed3\u70b9\u8fd4\u56de\u6839\u8282\u70b9\u7684\u540c\u65f6\u987a\u4fbf\u4fee\u6539\u6389\u8def\u5f84\u4e0a\u7684\u7ed3\u70b9\u7684a\u6570\u7ec4\u7684\u503c.\n\n\u5bf9\u4e8e\u8be2\u95ee\u7684\u56de\u7b54,\u53ef\u4ee5\u76f4\u63a5\u67e5\u627ei..j\u8303\u56f4\u5185\u7684\u503c,\u9047\u5230\u5206\u53c9\u65f6\u5c31\u5175\u5206\u4e24\u8def,\u6700\u540e\u5728\u5408\u8d77\u6765.\u4e5f\u53ef\u4ee5\u5148\u627e\u51fa0..i-1\u7684\u503c\u548c0..j\u7684\u503c,\u4e24\u4e2a\u503c\u51cf\u4e00\u51cf\u5c31\u884c\u4e86.\u540e\u8005\u7684\u5b9e\u9645\u64cd\u4f5c\u6b21\u6570\u6bd4\u524d\u8005\u5c0f\u4e00\u4e9b.\n\n\u8fd9\u6837\u4fee\u6539\u4e0e\u7ef4\u62a4\u7684\u590d\u6742\u5ea6\u662flogN.\u8be2\u95ee\u7684\u590d\u6742\u5ea6\u4e5f\u662flogN,\u5bf9\u4e8eM\u6b21\u8be2\u95ee,\u590d\u6742\u5ea6\u662fMlogN.\n\n\u7136\u800c\u4e0d\u96be\u53d1\u73b0,\u7ebf\u6bb5\u6811\u7684\u7f16\u7a0b\u590d\u6742\u5ea6\u5927,\u7a7a\u95f4\u590d\u6742\u5ea6\u5927,\u65f6\u95f4\u6548\u7387\u4e5f\u4e0d\u9ad8!!!!\n\n\u6240\u4ee5\u6211\u4eec\u6765\u60f3\u7528\u6811\u5f62\u6570\u7ec4\u6765\u5b9e\u73b0:\n\n\u90a3\u4e48,\u4f55\u4e3a\u6811\u5f62\u6570\u7ec4\u5462??\n\nC\u6570\u7ec4\u5c31\u662f\u6811\u72b6\u6570\u7ec4,a\u6570\u7ec4\u662f\u539f\u6570\u7ec4;\n\n\u5bf9\u4e8e\u5e8f\u5217a\uff0c\u6211\u4eec\u8bbe\u4e00\u4e2a\u6570\u7ec4C\u5b9a\u4e49C[t] = a[t \u2013 2^k + 1] + \u2026 + a[t]\uff0ck\u4e3at\u5728\u4e8c\u8fdb\u5236\u4e0b\u672b\u5c3e0\u7684\u4e2a\u6570\u3002\n\nK\u7684\u8ba1\u7b97\u53ef\u4ee5\u8fd9\u6837:\n\n2^k=t and (t xor (t-1))\n\n\u4ee56\u4e3a\u4f8b\n\n```cpp\n(6)10=(0110)2\nxor 6-1=(5)10=(0101)2\n(0011)2\nand (6)10=(0110)2\n(0010)2\n```\n\u6240\u4ee5\u95ee\u9898\u53d8\u7684\u5f88\u7b80\u5355,\u91cd\u8981\u5199\u51e0\u4e2a\u51fd\u6570\u5c31\u53ef\u4ee5\u4e86;\n```cpp\nvar\n  sum:array[0..100005]of longint;\n  n,i,x,a,b,w:longint;\n  ch:char;\nfunction lowbit(x:longint):longint;\nbegin\n  exit(x and -x);\nend;\nprocedure add(x,k:longint);\nbegin\n  while x<=n do\n  begin\n    sum[x]:=sum[x]+k;\n    x:=x+lowbit(x);\n  end;\nend;\nfunction query(x:longint):longint;\nbegin\n  query:=0;\n  while x>0 do\n  begin\n    query:=query+sum[x];\n    x:=x-lowbit(x);\n  end;\n  exit(query);\nend;\nbegin\n  readln(n);\n  readln(w);\n  for i:=1 to w do\n  begin\n    readln(ch,a,b);\n    if ch='x' then add(a,b);\n    if ch='y' then writeln(query(b)-query(a-1));\n  end;\nend.\n\n```",
        "postTime": 1491882136,
        "uid": 34910,
        "name": "\u91cd\u56de\u5dc5\u5cf0\uff01",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u771f\u641e\u4e0d\u61c2\u4e3a\u4ec0\u4e48\u697c\u4e0b\u7684\u7a0b\u5e8f\u90fd\u90a3\u4e48\u957f\u3002\u8fd9\u9898\u6a21\u62df\u5373\u53ef\u3002\n\nC++\u7248\uff1a\n\n\n```cpp\n#include<iostream>\n#include<cstring>\nusing namespace std;\nint main()\n{\n    int a[10001];\n    int n,m,x,y,t;\n    char c;\n    cin>>n>>m;\n    memset(a,0,sizeof(a));\n    for (int i=1;i<=m;++i)\n    {\n        cin>>c>>x>>y;\n        if (c=='x')\n        a[x]+=y;\n        else\n        {\n            t=0;\n            for (int j=x;j<=y;++j)\n            t+=a[j];\n            cout<<t<<endl;\n        }\n    }\n    return 0;\n}\n```\nPascal\u7248\uff1a\n```cpp\nprogram tjh;\nvar\n    a:array[1..10000] of longint;\n    i,j,n,m,x,y,t:longint;\n    c:char;\nbegin\nreadln(n);\nreadln(m);\nfillchar(a,sizeof(a),0);\nfor i:=1 to m do\n    begin\nreadln(c,x,y);\nif c='x' then\na[x]:=a[x]+y\nelse\nbegin\nt:=0;\nfor j:=x to y do\n    t:=t+a[j];\nwriteln(t);\nend;\nend;\nend.\n```",
        "postTime": 1485013666,
        "uid": 8239,
        "name": "cheliang",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6211\u7528\u4e86\u7ebf\u6bb5\u6811\uff0c\u6539\u4e00\u70b9\uff0c\u95ee\u4e00\u6bb5\uff0c\u8fd9\u4e2a\u5199\u6cd5\u6211\u5f88\u559c\u6b22\uff0c\u5176\u5b9e\u4e5f\u53ef\u4ee5\u7528BIT\n\n\n\n\n\n\n\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\n#include<string>\nusing namespace std;\nint n,m,a[100100],oo=2000000000;\nint tree[4*100100];\nint query(int ro,int l,int r,int zuo,int you)\n{\n    if(l>you||r<zuo)\n    return 0;\n    if(l>=zuo&&r<=you)\n    return tree[ro];\n    int mid=(l+r)/2;\n    int L=query(ro*2,l,mid,zuo,you);\n    int R=query(ro*2+1,mid+1,r,zuo,you);\n    return L+R;\n}\nvoid add(int ro,int l,int r,int p,int v)\n{\n    if(l==r&&l==p)\n    {\n        tree[ro]+=v;\n        return;\n    }\n    if(l>p||r<p)\n    return;\n    int mid=(l+r)/2;\n    add(ro*2,l,mid,p,v);\n    add(ro*2+1,mid+1,r,p,v);\n    tree[ro]=tree[ro*2]+tree[ro*2+1];\n}\nint main()\n{\n    cin>>n>>m;\n    for(int i=1;i<=m;i++)\n    {\n        char c[6];\n        int u,v;\n        scanf(\"%s\",c);\n        scanf(\"%d%d\",&u,&v);\n        if(c[0]=='x')\n        add(1,1,n,u,v);\n        else\n        printf(\"%d\\n\",query(1,1,n,u,v));\n    }\n    return 0;\n}\n```",
        "postTime": 1479218224,
        "uid": 26928,
        "name": "Kkiseki",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u4e00\u5806\u7684\u9ad8\u7ea7\u7b97\u6cd5\u2026\u2026\n\n\u5f3a\u5361\u8fc7\u6389\u4e86\u2026\u2026\n\n```cpp\n#include<iostream>\nusing namespace std;\nint n,w,a[100000]={0},i,j,x,y,sum;\nchar c;\nint main()\n{\n    cin>>n>>w;\n    for(i=0;i<w;i++)\n    {\n        cin>>c>>x>>y;sum=0;\n        if(c=='x'){a[x]=a[x]+y;}//\u6a21\u62df\u2026\u2026\n        if(c=='y'){for(j=x;j<=y;j++){sum=sum+a[j];}cout<<sum<<endl;}//\u8fd8\u662f\u6a21\u62df\u2026\u2026\n    }\n    return 0;\n}\n```",
        "postTime": 1476106217,
        "uid": 14378,
        "name": "doby",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u76ee\u6d4b\u5927\u5bb6\u90fd\u7528\u6811\u72b6\u6570\u7ec4\uff0c\u7ebf\u6bb5\u6811\u8868\u793a\u4e0d\u670d\u2026\u2026\n\n\u5178\u578b\u7684\u7ebf\u6bb5\u6811\u70b9\u4fee\u6539\u7ef4\u62a4\u533a\u95f4\u548c\u3002\n\n\n\n\n\n    \n    \n    \n    \n\n    \n    \n    \n\n    \n    \n        \n        \n    \n```cpp\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<cstdlib>\n#include<iostream>\nusing namespace std;\nconst int maxn=100010;\nint tree[maxn*4],n,m;\nvoid Update(int rt,int l,int r,int x,int y,int val){\n    if(x>r||y<l)return;\n    if(l==r){\n        tree[rt]+=val;\n        return;\n    }\n    int mid=(l+r)/2;\n    Update(rt*2,l,mid,x,y,val);\n    Update(rt*2+1,mid+1,r,x,y,val);\n    tree[rt]=tree[rt*2]+tree[rt*2+1];\n    return;\n}\nint Query(int rt,int l,int r,int x,int y){\n    if(x>r||y<l)return 0;\n    if(x<=l&&y>=r)return tree[rt];\n    int mid=(l+r)/2;\n    int p1=Query(rt*2,l,mid,x,y);\n    int p2=Query(rt*2+1,mid+1,r,x,y);\n    return p1+p2;\n}\nint main()\n{\n    //freopen(\"c.in\",\"r\",stdin);\n    //freopen(\"c.out\",\"w\",stdout);\n    memset(tree,0,sizeof(tree));\n    scanf(\"%d\",&n);\n    scanf(\"%d\",&m);\n    for(int i=1;i<=m;i++){\n        char c;\n        int u,v;\n        cin>>c;\n        scanf(\"%d%d\",&u,&v);\n        if(c=='x')\n        Update(1,1,n,u,u,v);\n        if(c=='y'){\n            int ans=Query(1,1,n,u,v);\n            printf(\"%d\\n\",ans);\n        }\n    }\n    return 0;\n}\n```",
        "postTime": 1470125279,
        "uid": 5680,
        "name": "\u4e0a\u8fdb\u7684z\u541b",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "  \n\n```cpp\n#include<cstdio>  \n#include<cstdlib>  \n#include<iostream>  \n#include<cmath>  \n#include<algorithm>\nusing namespace std;  \nlong long n;  \nint w;\nint x,y;\nint a[100000],c[100000];  \nchar ch;\nvoid xiugai(int k,int num)\n{\n    while(k<=n)\n      {\n        c[k]+=num;\n        k+=k&-k;\n      }\n}\nlong long qiuhe(int k)\n{\n    long long sum=0;\n    while(k>0)\n      {\n        sum+=c[k];\n        k-=k&-k;\n      }\n    return sum;\n}\nint main()  \n{  \n    cin>>n;\n    cin>>w;\n       for(int i=1;i<=w;i++)\n         {\n            cin>>ch;\n            cin>>x>>y;\n            if(ch=='x')//\u4fee\u6539\n              xiugai(x,y);\n            if(ch=='y')//\u8be2\u95ee\n              cout<<qiuhe(y)-qiuhe(x-1)<<endl;\n      }\n}\n```",
        "postTime": 1454053054,
        "uid": 14941,
        "name": "\u65f6\u5149_Memory",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u88f8\u7684\u6811\u72b6\u6570\u7ec4\n\n```delphi\n\nvar i,n,w,x,y:longint;c:array[0..100000]of longint;ch:char;\nfunction lowbit(x:longint):longint; //\u6c422^k(k\u4e3a\u4e8c\u8fdb\u5236\u540e\u97620\u7684\u4e2a\u6570\uff09\nbegin\n    exit(x and(-x));\nend;\nprocedure change(x,data:longint);//\u5411\u4e0a\u7ef4\u62a4c\u6570\u7ec4\nbegin\n    repeat\n        c[x]:=c[x]+data;\n        x:=x+lowbit(x);\n    until x>n;\nend;\nfunction sum(x:longint):longint;//\u6c42\u548c\nbegin\n    sum:=0;\n    repeat\n        sum:=sum+c[x];\n        x:=x-lowbit(x);\n    until x<=0;\nend;\nbegin\n    readln(n,w);\n    for i:=1 to w do\n    begin\n        readln(ch,x,y);\n        if ch='x' then change(x,y);\n        if ch='y' then  writeln(sum(y)-sum(x-1));\n    end;\nend.\n\n```",
        "postTime": 1454048178,
        "uid": 8369,
        "name": "YZ\u4eae\u6676\u6676",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u6807\u51c6\u7684\u6811\u72b6\u6570\u7ec4\u52a8\u6001\u7edf\u8ba1\u3002\u5728\u6b64\u8d34\u4e0a\u6a21\u677f\u3002\n\n```delphi\n\nfunction lowbit(x:longint):longint;\nbegin\n  lowbit:=x and -x;\nend;\n\nprocedure change(i:longint;num:int64);\nbegin\n  while i<=n do\n  begin\n    c[i]:=c[i]+num;\n    i:=i+lowbit(i);\n  end;\nend;\n\nfunction sum(i:longint):int64;\nbegin\n  sum:=0;\n  while i>0 do\n  begin\n    sum:=sum+c[i];\n    i:=i-lowbit(i);\n  end;\nend;\n\n```",
        "postTime": 1441368031,
        "uid": 2248,
        "name": "\u6c47\u6587\u5ba2",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "\u8bf4\u53e5\u9898\u5916\u8bdd\uff0c\u6811\u72b6\u6570\u7ec4\u771f\u662f\u4e2a\u597d\u4e1c\u897f\uff0c\u4e0d\u4ec5\u597d\u6253\u529f\u80fd\u4e5f\u7b97\u8fd8\u884c\u3002\n\n~~\u5176\u5b9e\u8fd9\u9053\u9898\u548c[\u3010\u6a21\u677f\u3011\u6811\u72b6\u6570\u7ec4 1](https://www.luogu.org/problemnew/show/P3374)\u6ca1\u533a\u522b\uff0c\u4e0d\u8fc7\u4e0d\u5361cin\u5c31\u662f\u4e86~~\n\n\u6811\u72b6\u6570\u7ec4\u7684\u6a21\u677f\u6253\u8fdb\u53bb\u5c31\u57fa\u672c\u4e0a\u5bf9\u4e86\n\n```cpp\n#include<bits/stdc++.h>//\u9047\u4e8b\u4e0d\u51b3\u4e07\u80fd\u5e93QWQ\nusing namespace std;\nint a[1000000],c[1000000],n,m;\nint lowbit(int x)//\u6c42\u533a\u95f4\u4e2d\u6570\u7684\u4e2a\u6570\n{\n\treturn x& -x;\n}\nvoid change(int x,int y)//\u4fee\u6539\n{\n\twhile (x<=n)\n\t{\n\t\tc[x]+=y;\n\t\tx+=lowbit(x);\n\t}\n}\nint getsg(int x)//\u6c42\u548c\n{\n\tint ans=0;\n\twhile(x>=1)\n\t{\n\t\tans+=c[x];\n\t\tx-=lowbit(x);\n\t}\n\treturn ans;\n}\nint main()\n{\n\tcin>>n>>m;\n\tmemset(a,0,sizeof(a));//\u521d\u59cb\u5316\n\tmemset(c,0,sizeof(c));\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tchar ss[10];\n\t\tint x,y;\n\t\tscanf(\"%s%d%d\",ss,&x,&y);\n\t\tif(ss[0]=='x')change(x,y);\n\t\telse printf(\"%d\\n\",getsg(y)-getsg(x-1));\n\t}\n}\n```\n\n",
        "postTime": 1554560304,
        "uid": 50983,
        "name": "\u849f\u84bb\u5411",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    },
    {
        "content": "#\u54c7\uff0c\u6211\u770b\u8fd9\u9898\u597d\u591a\u597d\u96be\u7684\u89e3\u6cd5\u554a\uff0c\u4e0d\u8fc7\u8fd9\u9898\u6a21\u62df\u5c31\u80fd\u8fc7\uff08\u6570\u636e\u592a\u5f31\uff09\n\n#\u9898\u76ee\u5206\u6790\uff1a\n\n\u7531\u4e8e\u9898\u76ee\u8bf4x\u662f\u5c06\u7b2ca\u4e2a\u6570\u52a0b\uff0cy\u662f\u4ece\u7b2ca\u5230\u7b2cb\u4e2a\u6570\u7684\u548c\uff0c\u6240\u4ee5\u76f4\u63a5\u6a21\u62df\u5c31\u8fc7\n\n##\u4ee3\u7801\u5982\u4e0b\uff1a\n\n\n\n```cpp\n#include <ctime>\n#include <cmath>\n#include <cstdio>\n#include <string>\n#include <cstring>\n#include <cstdlib>\n#include <iostream>\n#include <algorithm>//\u5934\u6587\u4ef6\u51c6\u5907\nusing namespace std;\nint n,m,map[1000005];//map\u6570\u7ec4\u8bb0\u6811\u503c\nint main(){\n    scanf (\"%d %d\",&n,&m);\n    for (int i=1;i<=m;i++){\n        scanf (\"\\n\");\n        int a,b;\n        char c;\n        scanf (\"%c %d %d\",&c,&a,&b);//\u7eaf\u6a21\u62df\n        if (c=='x')map[a]+=b;//\u6a21\u62df\n        if (c=='y'){//\u7136\u800c\u8fd8\u662f\u6a21\u62df\n            int ans=0;\n            for (int j=a;j<=b;j++){\n                ans+=map[j];\n            }\n            printf (\"%d\\n\",ans);//\u8f93\u51fa\n        }\n    }\n    return 0;\n}\n\n```",
        "postTime": 1508767838,
        "uid": 28182,
        "name": "Dr_\u6b87",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2068 \u3010\u7edf\u8ba1\u548c\u3011"
    }
]