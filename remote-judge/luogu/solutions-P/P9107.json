[
    {
        "content": "## \u601d\u8def\n\n\u8bc8\u9a97\u3002\u6240\u6709\u4eba\u8d70\u7684\u8def\u5f84\u4e00\u5b9a\u90fd\u662f\u4e00\u6837\u7684\u3002bfs \u641c\u51fa\u6765\u5373\u53ef\u3002\n\n## \u7ed9\u4eba\u770b\u7684\u601d\u8def\n\n\u9996\u5148\uff0c\u5982\u679c\u6ca1\u6709\u5411\u4e0a\u8d70\uff0c\u90a3\u4e48\u4f1a\u5411\u4e0b\u8d70 $n-1$ \u6b21\u3002\n\n\u8003\u8651\u5728\u6574\u4e2a\u8fc7\u7a0b\u4e2d\u5411\u4e0a\u8d70\u4e86 $x$ \u6b21\u3002\u90a3\u4e48\uff0c\u5c31\u8981\u989d\u5916\u5411\u4e0b\u8d70 $x$ \u6b21\uff0c\u4e5f\u5c31\u662f\u4e00\u5171\u5411\u4e0b\u8d70 $x+n-1$ \u6b21\u3002\u9171\u7d2b\u6700\u540e\u624d\u80fd\u5230\u8fbe\u6700\u540e\u4e00\u884c\u3002\n\n\u5411\u5de6\u5411\u53f3\u540c\u7406\u3002\n\n\u628a\u5411\u4e0a\u548c\u5411\u5de6\u7684\u6b21\u6570\u52a0\u8d77\u6765\u8bb0\u4f5c $a$\uff0c\u7edf\u79f0\u3010\u5411\u56de\u8d70\u3011\u3002\n\n\u90a3\u4e48\uff0c\u4f1a\u3010\u5411\u524d\u8d70\u3011 $n-1+m-1+a$ \u6b21\u3002\n\n\u641c\u51fa\u4f7f $a$ \u6700\u5c0f\u7684\u8def\u5f84\u3002\n\n## code\n\n```cpp\n#include<stdio.h>\n#include<deque>\nusing namespace std;\ninline char nc()\n{\n\tstatic char buf[99999],*l,*r;\n\treturn l==r&&(r=(l=buf)+fread(buf,1,99999,stdin),l==r)?EOF:*l++;\n}\ninline void read(int&x)\n{\n\tchar c=nc();for(;c<'0'||'9'<c;c=nc());\n\tfor(x=0;'0'<=c&&c<='9';x=(x<<3)+(x<<1)+(c^48),c=nc());\n}\nint n,m,p,ans[2333][2333];long long ans1=1ll<<60,ans2;char s[2333][2333];\nstruct node\n{\n\tint x,y,a;\n\tinline node(const int&x,const int&y,const int&a):x(x),y(y),a(a){}\n};deque<node>q;\nmain()\n{\n\tread(n);read(m);read(p);\n\tfor(int i=0;i<n;++i)for(int j=0;j<m;s[i][j]^='X',ans[i][j++]=1<<30)\n\t\tfor(;s[i][j]=nc(),(s[i][j]^'.')&&(s[i][j]^'X'););\n\tans[0][0]=0;q.emplace_back(0,0,0);\n\tfor(node i(0,0,0);q.size();)\n\t{\n\t\ti=q.front();q.pop_front();\n\t\tif(ans[i.x][i.y]^i.a)continue;\n\t\tif(i.x&&s[i.x-1][i.y]&&ans[i.x-1][i.y]>i.a+1)\n\t\t\tq.emplace_back(i.x-1,i.y,ans[i.x-1][i.y]=i.a+1);\n\t\tif(i.y&&s[i.x][i.y-1]&&ans[i.x][i.y-1]>i.a+1)\n\t\t\tq.emplace_back(i.x,i.y-1,ans[i.x][i.y-1]=i.a+1);\n\t\tif(i.x<n-1&&s[i.x+1][i.y]&&ans[i.x+1][i.y]>i.a)\n\t\t\tq.emplace_front(i.x+1,i.y,ans[i.x+1][i.y]=i.a);\n\t\tif(i.y<m-1&&s[i.x][i.y+1]&&ans[i.x][i.y+1]>i.a)\n\t\t\tq.emplace_front(i.x,i.y+1,ans[i.x][i.y+1]=i.a);\n\t}\n\tfor(int x,y;p--;)\n\t{\n\t\tread(x);read(y);\n\t\tlong long qwq=x*(long long)(n-1+m-1+ans[n-1][m-1])+\n\t\t\ty*(long long)(ans[n-1][m-1]);\n\t\tif(qwq<ans1)ans1=qwq,ans2=0;\n\t\tif(qwq==ans1)++ans2;\n\t}\n\tprintf(\"%lld %lld\",ans1,ans2);\n}\n```\n",
        "postTime": 1677858332,
        "uid": 90693,
        "name": "_\u2022\u0301\u3078\u2022\u0301\u256c_",
        "ccfLevel": 7,
        "title": "P9107 [PA2020] Wycieczka g\u00f3rska \u9898\u89e3"
    },
    {
        "content": "## 1.\u7f16\u7a0b\u601d\u8def\u3002\n\n\u6839\u636e\u9898\u610f\uff1a\u5728\u5730\u56fe\u4e0a\u4e0e\u4e4b\u76f8\u90bb\u7684\u53f3\u9762\u6216\u4e0b\u9762\u7684\u533a\u57df\u6d77\u62d4\u8f83\u9ad8\uff0c\u800c\u76f8\u90bb\u7684\u5de6\u8fb9\u6216\u4e0a\u9762\u533a\u57df\u6d77\u62d4\u8f83\u4f4e\u3002\u65c5\u5e97\u4f4d\u4e8e\u5730\u56fe\u7684\u7b2c\u4e00\u884c\u7b2c\u4e00\u5217\uff0c\u6b64\u5904\u4e5f\u662f\u6d77\u62d4\u6700\u4f4e\u3002\u5c71\u9876\u5728\u5730\u56fe\u7684\u7684\u7b2c $n$ \u884c\u7b2c $m$ \u5217\uff0c\u6b64\u5904\u4e5f\u662f\u6d77\u62d4\u6700\u9ad8\u3002\u6211\u4eec\u5c06\u5411\u53f3\u8fb9\u6216\u4e0b\u9762\u8d70\u79f0\u4e3a\u201c\u4e0a\u5c71\u201d\uff0c\u6bcf\u8d70\u4e00\u6b65\u82b1\u8d39\u65f6\u95f4\u4e3a $a$\uff1b\u5c06\u5411\u5de6\u8fb9\u6216\u4e0a\u9762\u8d70\u79f0\u4e3a\u201c\u4e0b\u5c71\u201d\uff0c\u6bcf\u8d70\u4e00\u6b65\u82b1\u8d39\u65f6\u95f4\u4e3a $b$\u3002\n\n\u6839\u636e\u6211\u4eec\u722c\u5c71\u7684\u7ecf\u9a8c\uff0c\u8d39\u65f6\u6700\u5c11\u7684\u722c\u5c71\u8def\u5f84\u5e94\u8be5\u662f\u4e00\u76f4\u201c\u4e0a\u5c71\u201d\uff0c\u5728\u672c\u9898\u4e2d\u5982\u679c\u4e00\u76f4\u201c\u4e0a\u5c71\u201d\u7684\u8bdd\uff0c\u8d70 $n+m-2$ \u6b65\u5c31\u53ef\u4ee5\u4ece\u65c5\u5e97\u8d70\u5230\u5c71\u9876\uff0c\u8fd9\u6837\u5176\u603b\u82b1\u8d39\u65f6\u95f4\u4e3a $(n+m-2)\\times a$\u3002\n\n\u5982\u679c\u5728\u722c\u5c71\u8fc7\u7a0b\u4e2d\u8d70\u4e86\u201c\u4e0b\u5c71\u201d\u7684\u8def\uff0c\u5219\u4e00\u5b9a\u8981\u91cd\u65b0\u8d70\u201c\u4e0a\u5c71\u201d\u7684\u8def\u5c06\u201c\u4e0b\u5c71\u201d\u7684\u8def\u8865\u56de\u6765\u3002\u8bbe\u201c\u4e0b\u5c71\u201d\u8d70\u4e86 $bcnt$ \u6b65\uff0c\u5219\u201c\u4e0a\u5c71\u201d\u7684\u8def\u5f97\u591a\u8d70 $bcnt$ \u6b65\uff0c\u5373\u201c\u4e0a\u5c71\u201d\u5f97\u8d70 $n+m-2+bcnt$ \u6b65\u3002\u56e0\u6b64\uff0c\u722c\u5c71\u8981\u82b1\u8d39\u65f6\u95f4\u6700\u5c11\uff0c\u201c\u4e0b\u5c71\u201d\u7684\u6b65\u6570 $bcnt$ \u8d8a\u5c11\u8d8a\u597d\u3002\n\n\u7528 BFS \u6c42\u5f97\u4ece\u65c5\u5e97\u5230\u5c71\u9876\u7684\u6700\u77ed\u8def\u5f84\u957f\u5ea6 $len$\u3002\n\n\u5219\u5176\u4e2d\u4e0a\u5c71\u8d70\u7684\u957f\u5ea6 $acnt$ \u4e3a $(n+m-2)+(len-n-m+2)/2 $\uff0c\n\n\u4e0b\u5c71\u8d70\u7684\u957f\u5ea6 $bcnt$ \u4e3a $(len-n-m+2)/2$\u3002\n\n\u8fd9\u6837\u65c5\u884c\u8005\u5230\u8fbe\u5c71\u9876\u7684\u6700\u77ed\u65f6\u95f4\u4e3a $acnt\\times a+bcnt\\times b$\u3002\n\n\u7528\u4e00\u91cd\u5faa\u73af\u4e00\u8fb9\u8bfb\u53d6\u6bcf\u4f4d\u65c5\u884c\u8005\u7684 $a$ \u548c $b$ \u503c\uff0c\u4e00\u8fb9\u8bb0\u5f55 $acnt\\times a+bcnt\\times b$ \u7684\u6700\u5c0f\u503c\u53ca\u6700\u5c0f\u503c\u7684\u4e2a\u6570\u5373\u53ef\u3002\n## 2.\u6e90\u7a0b\u5e8f\u3002\n\n```c\n#include <stdio.h>\nstruct Node\n{\n    int x,y,step;\n};\nint vis[2001][2001]={0};\nchar map[2005][2005];\nstruct Node q[4000005];\nint BFS(int n,int m)\n{\n    struct Node cur,next;\n    int front=0,rear=0;\n    cur.x=1;  cur.y=1;\n    cur.step=0;\n    q[rear++]=cur;\n    vis[1][1]=1;\n    int dx[4]={0,0,-1,1};\n    int dy[4]={-1,1,0,0};\n    while (front<rear)\n    {\n        cur=q[front++];\n        int i;\n        for (i=0;i<4;i++)\n        {\n            int nx=cur.x+dx[i];\n            int ny=cur.y+dy[i];\n            if (nx==n && ny==m) return cur.step+1;\n            if (nx>=1 && nx<=n && ny>=1 && ny<=m && map[nx][ny]=='.' && !vis[nx][ny])\n            {\n                next=cur;\n                next.x=nx;  next.y=ny;\n                next.step++;\n                q[rear++]=next;\n                vis[nx][ny]=1;\n            }\n        }\n    }\n}\nint main()\n{\n    int n,m,k;\n    scanf(\"%d%d%d\",&n,&m,&k);\n    int i;\n    for (i=1;i<=n;i++)\n        scanf(\"%s\",&map[i][1]);\n    int len=BFS(n,m);     // \u7528BFS\u6c42\u5f97\u6700\u77ed\u8def\u5f84\u7684\u957f\u5ea6len\n    len=len-(n+m-2);      // \u6c42\u5f97\u6700\u77ed\u8def\u5f84\u4e2d\u6709\u4e0a\u4e0b\u53cd\u590d\u7684\u8def\u5f84\u957f\u5ea6\n    int acnt=(n+m-2)+len/2;   // \u4e0a\u5c71\u7684\u6b65\u6570\n    int bcnt=len/2;           // \u4e0b\u5c71\u7684\u6b65\u6570\n    long long  ans=0x3f3f3f3f3f3f3f3f;\n    int cnt=0;                // \u540c\u65f6\u4e0a\u5c71\u7684\u4eba\u6570\n    while (k--)\n    {\n        long long a,b,t;\n        scanf(\"%lld%lld\",&a,&b);\n        t=a*acnt+b*bcnt;\n        if (t<ans)\n        {\n            ans=t;  cnt=1;\n        }\n        else if (t==ans)\n            cnt++;\n    }\n    printf(\"%lld %d\\n\",ans,cnt);\n    return 0;\n}\n\n```\n",
        "postTime": 1679402487,
        "uid": 228457,
        "name": "wuhan1234",
        "ccfLevel": 0,
        "title": "P9107 [PA2020] Wycieczka g\u00f3rska \u9898\u89e3"
    }
]