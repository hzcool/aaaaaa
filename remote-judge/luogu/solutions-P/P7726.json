[
    {
        "content": "\u6ce8:\u6587\u4e2d\u6240\u6709 $/$ \u7b26\u53f7\u8868\u793a\u6574\u9664\u3002\u8bbe $a$ \u8868\u793a\u6240\u6c42\u6392\u5217\u3002\n\n\u4ece\u7b80\u5355\u60c5\u51b5\u5165\u624b\uff0c\u4e00\u6b65\u6b65\u63a8\uff0c\u627e\u89c4\u5f8b\u3002\n\n## \u5982\u4f55\u786e\u5b9a $1$ \u7684\u4f4d\u7f6e?\n\n\u7531\u4e8e $1$ \u662f\u6700\u5c0f\u7684\u6570\uff0c\u6240\u4ee5\u4efb\u4f55\u5305\u542b $1$ \u7684\u533a\u95f4\u6700\u5c0f\u503c\u90fd\u662f $1$\u3002\n\n\u56e0\u6b64\uff0c\u5728 $S_{(n+1)/2}$ \u7684\u96c6\u5408\u4e2d\u51fa\u73b0\u4e2a\u6570\u53ef\u4ee5\u4f5c\u4e3a1\u7684\u4f4d\u7f6e\u3002\u5982\u4e0b\u56fe:\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/i1mb52m8.png)\n\n\u5982\u4e0a\u56fe\u7b2c $n=4$ \u7684\u4f8b\u5b50\uff0c\u67e5\u8be2\u957f\u5ea6\u4e3a $2$ \u7684\u533a\u95f4\u3002\u82e5 $1$ \u5728\u4f4d\u7f6e $0,3$ \u5219\u91cd\u590d\u51fa\u73b0 $1$ \u6b21\uff0c\u5728\u4f4d\u7f6e $1,2$ \u5219\u51fa\u73b0 $2$ \u6b21\u3002\n\n\u5982\u4e0a\u56fe $n=5$ \u7684\u4f8b\u5b50\uff0c\u67e5\u8be2\u957f\u5ea6\u4e3a $3$ \u7684\u533a\u95f4\u3002\u82e5 $1$ \u5728\u4f4d\u7f6e $0,1,2,3,4$\uff0c\u5219\u51fa\u73b0\u6b21\u6570\u4f9d\u6b21\u4e3a $1,2,3,2,1$ \u3002\n\n\u5982\u4e0a\u56fe $n=7$ \u7684\u4f8b\u5b50\uff0c\u67e5\u8be2\u957f\u5ea6\u4e3a $4$ \u7684\u533a\u95f4\u3002\u82e5 $1$ \u5728\u4f4d\u7f6e $0,1,2,3,4$\uff0c\u5219\u51fa\u73b0\u6b21\u6570\u4f9d\u6b21\u4e3a $1,2,3,3,2,1$ \u3002\n\n\u5219\u51fa\u73b0\u6b21\u6570\u4e3a $b$ \uff0c \u90a3\u4e48 $a[b+1]=a[n-b-1]=1$ \u3002\n\n\u7531\u4e0e\u9009\u53d6 $n-b-1$ \u7684\u4f4d\u7f6e\u5c31\u662f\u9009\u53d6 $b+1$ \u7684\u4f4d\u7f6e\u5012\u8fc7\u6765\uff0c\u6240\u4ee5\u5b9e\u8d28\u4e0a\u65e0\u5f71\u54cd\u3002\u672c\u7bc7\u9898\u89e3\u9ed8\u8ba4\u9009\u53d6 $b+1$ \u4f4d\u7f6e\u3002\n\n## \u5982\u4f55\u786e\u5b9a $2$ \u7684\u4f4d\u7f6e?\n\n\u6b64\u65f6\u9ebb\u70e6\u4e00\u4e9b\uff0c\u56e0\u4e3a\u5305\u542b $2$ \u7684\u533a\u95f4\u6700\u5c0f\u503c\u53ef\u80fd\u662f $1$ \u6216 $2$ \u3002\n\n\u7531\u4e8e\u51fa\u73b0\u4e86 $1$ \u7684\u533a\u95f4\u6700\u5c0f\u503c\u53ea\u53ef\u80fd\u662f $1$ \u3002\u6240\u4ee5\u9009\u5b8c $1$ \u4ee5\u540e\uff0c$1$ \u7684\u5de6\u53f3\u88c2\u6210\u4e86\u4e24\u4e2a\u90e8\u5206\u3002\u6240\u4ee5\u5224\u65ad\u5230\u5e95\u662f\u5728\u54ea\u4e2a\u90e8\u5206\u3002\u7136\u540e\u5c31\u7528\u4e4b\u524d\u7684\u65b9\u6cd5\u6c42\u89e3\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/fj2kw6x2.png)\n\n\u5982\u4f55\u5224\u65ad\u533a\u95f4\u5185\u662f\u5426\u6709\u89e3?\u8bbe\u533a\u95f4\u957f\u5ea6\u4e3a $size$\uff0c\u5219 $S_{size}$ \u4e2d\u4e00\u5b9a\u51fa\u73b0\u4e86 $1$ \u6b21\u6700\u5c0f\u503c\u3002\u800c $S_{size+1}$ \u4e2d\u4e00\u5b9a\u6ca1\u6709\u51fa\u73b0\u6700\u5c0f\u503c\u3002\u6240\u4ee5\u5c31\u5224\u65ad $S_{size}$ \u4e2d $2$ \u7684\u51fa\u73b0\u6b21\u6570\u3002\n\n\u82e5\u4e24\u90e8\u5206\u5185\u90fd\u6709\u89e3\uff0c\u6b64\u65f6\u4e24\u90e8\u5206\u957f\u5ea6\u76f8\u7b49\uff0c\u90a3\u4e48\u9009\u53d6\u4efb\u610f\u4e00\u90e8\u5206\u90fd\u662f\u7b49\u4ef7\u7684\uff0c\u672c\u9898\u89e3\u9009\u53d6\u5de6\u90e8\u5206\u3002\n\n\u786e\u5b9a\u5b8c\u90e8\u5206\u5c31\u4e0e\u9009\u53d6 $1$ \u65f6\u7528\u540c\u6837\u7684\u65b9\u6cd5\u3002\n## \u5982\u4f55\u9009\u53d6\u66f4\u591a\u7684\u6570?(\u5b9e\u73b0)\n\n$2$ \u53c8\u53ef\u4ee5\u5c06\u6392\u5217\u5212\u5206\uff0c\u73b0\u5728\u6709\u4e86 $3$ \u4e2a\u90e8\u5206\u3002\u90a3\u4e48\u9009\u53d6 $3$ \u4e5f\u662f\u4e00\u6837\u7684\u64cd\u4f5c\u3002\u4f46\u4ee5\u4e0a\u6b65\u9aa4\u4e0d\u597d\u76f4\u63a5\u6a21\u62df\u3002\u56e0\u4e3a\u4e0d\u80fd\u5feb\u901f\u627e\u5230\u533a\u95f4\u3002\u590d\u6742\u5ea6\u4f1a\u8d85\u3002\n\n\u5047\u8bbe\u5f53\u524d\u8981\u9009\u53d6 $i$\u3002\u8003\u8651\u7528\u4e00\u4e2a\u94fe\u8868\u8bb0\u5f55\u5f53\u524d\u5df2\u7ecf\u786e\u5b9a\u4e86\u7684\u6570 1~$(i-1)$\u3002\u540c\u65f6\u8bb0\u5f55\u8fd9\u4e2a\u6570\u9009\u53d6\u7684\u4f4d\u7f6e $id$\u3002\u8fd9\u6837\u533a\u95f4\u5c31\u662f [\u5f53\u524d.id+1,\u4e0b\u4e00\u4e2a.id-1]\u3002\n\n\u8fd9\u6837\u4e00\u6765\uff0c\u63d2\u5165\u64cd\u4f5c\uff0c\u67e5\u627e\u64cd\u4f5c\u90fd\u65b9\u4fbf\u4e86\u5f88\u591a\u3002\u5c31\u53ef\u4ee5\u5728 $O(n^2)$ \u7684\u590d\u6742\u5ea6\u5185\u51fa\u89e3\u3002\n\n## \u53c2\u8003\u4ee3\u7801\n```cpp\n#include<iostream>\nusing namespace std;\nstruct i_am_aking_ioi{\n\tint id,next;\n}_[1000005]; //\u94fe\u8868\u3002\nint mark[1005][1005]; //mark[i][j]:\u957f\u5ea6\u4e3ai\u7684\u533a\u95f4(S[i])\u5185\u51fa\u73b0\u4e86\u51e0\u6b21j\u3002 \nint main(){\n\tint n,i,j,A,ykb;\n\tcin>>n;\n\tfor(i=1;i<=n;i++){\n\t\tfor(j=i;j<=n;j++){\n\t\t\tscanf(\"%d\"\uff0c&A);\n\t\t\tmark[i][A]++;\n\t\t}\n\t}\n\t_[0].next=n+1;\n\t_[0].id=-1;\n\t_[n+1].id=n; //\u521d\u59cb\u5316\u4e0d\u80fd\u6f0f\uff0c\u4e00\u5f00\u59cb\u7684\u533a\u95f4\u662f[0,n-1]\uff0c\u7531\u4e8e\u533a\u95f4\u662f[now.id+1,next.id-1]\uff0c\u6240\u4ee5\u8981\u4e00\u5f00\u59cb\u8981\u8bbe\u4e3a-1\u548cn\u3002\n\tfor(i=1;i<=n;i++){ //\u4f9d\u6b21\u63d2\u51651~n \n\t\tfor(j=0;j<=n;j=_[j].next){ //\u5728\u6bcf\u4e2a\u533a\u95f4\u5185\u67e5\u627e\u3002  \n\t\t\tykb=_[_[j].next].id-_[j].id; //\u533a\u95f4\u957f\u5ea6\n\t\t\tif(!mark[ykb][i]&&mark[ykb-1][i]){\n\t\t\t\t_[i].id=_[j].id+mark[ykb+1>>1][i];//\u8fd9\u4e2a\u533a\u95f4\u65f6\u4ecenow.id+1\u5f00\u59cb\u7f16\u53f7\u7684\u3002\u6240\u4ee5\u9700\u8981\u52a0\u4e0a_[j].id\u3002\u540c\u65f6+1-1\u62b5\u6d88\u3002\n\t\t\t\t_[i].next=_[j].next;\n\t\t\t\t_[j].next=i;\n\t\t\t\tbreak; //\u5df2\u7ecf\u627e\u5230\uff0c\u4e0d\u9700\u8981\u518d\u627e\u3002\u56e0\u4e3a\u591a\u4e2a\u53ef\u884c\u533a\u95f4\u4efb\u9009\u4e00\u4e2a\u3002\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=_[0].next;i<=n;i=_[i].next){\n\t\tcout<<i<<\" \";\n\t}\n\treturn 0;\n}\n```\n\u6708\u8d5b\u8fc7\u53bb\u4e86\u8fd9\u4e48\u4e45\u90fd\u6ca1\u6709\u9898\u89e3\u3002\u4e8e\u662f\u5c31\u5199\u4e00\u7bc7\u3002",
        "postTime": 1629238468,
        "uid": 87799,
        "name": "xh39",
        "ccfLevel": 0,
        "title": "\u6211\u6c38\u8fdc\u559c\u6b2239\u53f7\u540c\u5b662018\u3002"
    },
    {
        "content": "## [P7726 \u5929\u4f53\u63a2\u6d4b\u4eea(Astral Detector)](https://www.luogu.com.cn/problem/P7726)\n\n> \u5b58\u5728\u4e00\u4e2a\u6392\u5217 1 ~ n \uff0c\u7ed9\u51fa\u5b83\u7684\u6bcf\u4e2a\u957f\u5ea6\u7684**\u6240\u6709**\u5b50\u533a\u95f4\u7684\u6700\u5c0f\u503c\uff0c\u8bf7\u6c42\u51fa\u4e00\u79cd\u539f\u6392\u5217\n>\n> $ 1 \\leq n \\leq 800 $\n\n\u53ef\u80fd\u662f\u56e0\u4e3a\u8fd9\u79cd\u9898\u6307\u5411\u5f88\u660e\u663e,\u5bf9\u4e8e\u8fd9\u7c7b\u533a\u95f4 $ \\tt min/max $ \u7684\u95ee\u9898\u9996\u5148\u5f97\u60f3\u5230\u7b1b\u5361\u5c14\u6811\n\n\u60f3\u60f3\u6211\u4eec\u5efa\u7b1b\u5361\u5c14\u6811\u7684\u65b9\u6cd5:\u6bcf\u6b21\u67e5\u8be2\u533a\u95f4\u6700\u5c0f\u503c\uff0c\u5c06\u5176\u4f5c\u4e3a\u6839\uff0c\u518d\u5c06\u5de6\u53f3\u533a\u95f4\u9012\u5f52\u4e0b\u53bb\n\n\u8fd9\u6837\u7ed9\u4e86\u6211\u4eec\u542f\u793a\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u8282\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5b83\u4ee3\u8868\u7684\u533a\u95f4\u5927\u5c0f\u548c\u5de6\u53f3\u5b50\u6811\u5927\u5c0f\u4ee5\u53ca\u8282\u70b9\u7f16\u53f7\u8fd8\u539f\u51fa\u4e00\u9897\u6ee1\u8db3\u6761\u4ef6\u7684\u7b1b\u5361\u5c14\u6811\uff0c\u8fdb\u800c\u8fd8\u539f\u539f\u5e8f\u5217\n\n\u9996\u5148\uff0c\u7b1b\u5361\u5c14\u6811\u4e2d\u7f16\u53f7$n$\u4ee3\u8868\u7684\u539f\u533a\u95f4\u5927\u5c0f\u5c31\u662f $ \\tt min=n $ \u7684\u6700\u957f\u7684\u4e00\u4e2a\u533a\u95f4\u957f\u5ea6 $ A $\n\n\u6c42\u51fa $ \\tt min=n $ \u7684\u533a\u95f4\u4e2a\u6570$B$,\u8bbe\u5de6\u5b50\u6811\u957f\u5ea6 $ L $ ,\u53f3\u5b50\u6811 $ R $ \n\n$$\n\n\\begin{cases}\n(L+1)(R+1)=B\\\\\nL+R-1=A\n\\end{cases}\n$$\n\n\u89e3\u51fa\u5de6\u53f3\u5b50\u6811\u5927\u5c0f\u540e\u4ece\u540e\u5f80\u524d\u5bf9\u5e94\u8fde\u8fb9\u5373\u53ef\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^2)$\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n# define ll long long\n# define read read1<ll>()\n# define Type template<typename T>\nType T read1(){\n\tT t=0;\n\tchar k;\n\tbool vis=0;\n\tdo (k=getchar())=='-'&&(vis=1);while('0'>k||k>'9');\n\twhile('0'<=k&&k<='9')t=(t<<3)+(t<<1)+(k^'0'),k=getchar();\n\treturn vis?-t:t;\n}\n# define fre(k) freopen(k\".in\",\"r\",stdin);freopen(k\".out\",\"w\",stdout)\nint s,a[805][805],Len[805],Sum[805],L[805],R[805];\npair<int,int>f[805];\nstack<int>sta[805];\nvoid print(int x){\n\tif(!x)return;\n\tprint(L[x]);\n\tprintf(\"%d \",x);\n\tprint(R[x]);\n}\nint main(){\n\ts=read;\n\tfor(int i=1;i<=s;++i)\n\t\tfor(int j=1;i+j<=s+1;++j)\n\t\t\t++a[i][read];\n\tfor(int i=1;i<=s;++i)\n\t\tfor(int j=1;i+j<=s+1;++j)\n\t\t\tLen[j]=a[i][j]?i:Len[j],Sum[j]+=a[i][j];\n\tfor(int i=1;i<=s;++i){\n\t\tdouble w=sqrt(pow(Len[i]+1,2)-4*Sum[i]);\n\t\tint x=round((Len[i]+1+w)/2),y=round((Len[i]+1-w)/2);\n\t\tf[i]=make_pair(x-1,y-1);\n\t}for(int i=s;i;--i){\n\t\tif(f[i].first)L[i]=sta[f[i].first].top(),sta[f[i].first].pop();\n\t\tif(f[i].second)R[i]=sta[f[i].second].top(),sta[f[i].second].pop();\n\t\tsta[Len[i]].push(i);\n\t}\n\tprint(1);\n\treturn 0;\n}\n```\n",
        "postTime": 1629967261,
        "uid": 108067,
        "name": "\u4e1b\u96e8",
        "ccfLevel": 0,
        "title": "P7726 \u5929\u4f53\u63a2\u6d4b\u4eea"
    }
]