[
    {
        "content": "[\u5728\u535a\u5ba2\u9605\u8bfb\u611f\u53d7\u66f4\u4f73](https://www.cnblogs.com/newbiezqy/p/14983809.html)\n\n\u63d0\u4f9b\u4e00\u4e2a\u65b0\u9896\u7684\u505a\u6cd5 \u5148%\u4e00\u53d1 Itst\n\n\u9996\u5148\uff0c\u628a\u5b83\u770b\u505a\u4e00\u4e2a\u73af\uff0c\u70b9\u662f\u98df\u7269\uff0c\u8fb9\u662f\u4eba\u3002\u6211\u4eec\u8981\u628a\u6bcf\u6761\u8fb9\u5b9a\u5411\u3002\n\n\u73af\u7684\u7ec6\u8282\u81ea\u5df1\u5224\u4e00\u4e0b\u3002\u5bf9\u4e8e $ a_i > 2 \\times a_{i+1} $ \u6216 $ a_i > 2 \\times a_{i-1} $ \u7684\u4eba\u80af\u5b9a\u76f4\u63a5\u9009 $ i $ \u98df\u7269\u3002\n\n\u5982\u679c\u6574\u4e2a\u73af\u4e2d\u6ca1\u6709\u8fd9\u79cd\u60c5\u51b5\uff0c\u5c31\u76f4\u63a5\u671d\u4e00\u4e2a\u65b9\u5411\u9009\uff0c\u5f88\u663e\u7136\u8fd9\u6837\u505a\u662f\u5bf9\u7684\u3002\n\n\u5426\u5219\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u4e00\u4e2a\u5df2\u9009\u7684\u98df\u7269\uff0c\u6211\u4eec\u76f4\u63a5\u8ba9 $ a_i \\leftarrow {a_i \\over 2} $ \u5e76\u628a\u8fd9\u4e2a\u4eba\u5220\u6389\u3002\u5f88\u663e\u7136\uff0c\u8fd9\u6837\u5220\u5b8c\u4e4b\u540e\uff0c\u73af\u5f62\u6210\u4e86\u82e5\u5e72\u6761\u94fe\u3002\u5bf9\u4e8e\u6bcf\u6761\u94fe\uff0c\u90fd\u6709\u8fd9\u6837\u4e00\u6761\u6027\u8d28\uff1a $ a_i \\in [{a_{j} \\over 2},a_j \\times 2 ] ( j=i-1/i+1) $ \u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u628a\u94fe\u4e0a\u7684\u70b9\u6743\u6700\u5c0f\u503c\u62a0\u51fa\u6765\uff0c\u5e76\u4ee5\u5b83\u4e3a\u5206\u754c\u70b9\uff0c\u5de6\u8fb9\u7684\u9009\u5de6\u8fb9\u7684\u98df\u7269\uff0c\u53f3\u8fb9\u7684\u9009\u53f3\u8fb9\u7684\u98df\u7269\u3002\u8fd9\u6837\u53ef\u4ee5\u4fdd\u8bc1\u65b9\u6848\u662f\u5bf9\u7684\u3002\n\n\u8fd8\u6709\u4e00\u4e9b\u7ec6\u8282\u770b\u4ee3\u7801\u5427\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\ninline int read(){\n\tint f=1,r=0;char c=getchar();\n\twhile(!isdigit(c))f^=c=='-',c=getchar();\n\twhile(isdigit(c))r=(r<<1)+(r<<3)+(c&15),c=getchar();\n\treturn f?r:-r;\n}\nconst int N=1e6+7;\nint n,ans[N<<1];\nll a[N<<1];\nint main(){\n\tn=read();\n\tfor(int i=1;i<=n;i++)a[i]=read()<<1;\n\tbool flg=1;\n\tfor(int i=1;i<=n;i++){\n\t\tint j=i%n+1;\n\t\tif(a[i]>2*a[j])ans[i]=i,a[i]>>=1,flg=0;\n\t\telse if(a[i]*2<a[j])ans[i]=j,a[j]>>=1,flg=0;\n\t}\n\tfor(int i=n;i;i--){\n\t\tif(ans[i])continue;int j=i%n+1;\n\t\tif(a[i]>2*a[j])ans[i]=i,a[i]>>=1,flg=0;\n\t\telse if(a[i]*2<a[j])ans[i]=j,a[j]>>=1,flg=0;\n\t}//\u53ef\u80fd\u6709\u8fd9\u6837\u4e00\u79cd\u60c5\u51b5\uff1a7 4 1\u3002\u8fd9\u6837\u6709\u53ef\u80fd4\u9664\u5b8c\u540e\uff0c7\u53c8\u8981\u9664\uff0c\u56e0\u800c\u53d1\u751f\u7c7b\u4f3c\u4e00\u79cd\u94fe\u5f0f\u53cd\u5e94\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u6b63\u53cd\u90fd\u626b\u4e00\u904d\u6765\u89e3\u51b3\u8fd9\u4e00\u95ee\u9898\u3001\n\tif(flg){for(int i=1;i<=n;i++)printf(\"%d \",i);exit(0);}\n\tfor(int i=1;i<=n;i++)a[i+n]=a[i];\n\tint Pos=0;\n\tfor(int i=1;i<=n;i++)if(ans[i]){Pos=i;break;}\n\tfor(int i=Pos;i<n+Pos;i++){\n\t\tif(ans[(i-1)%n+1])continue;\n\t\tint j=i;while(!ans[j%n+1] && j<n+Pos-1)j++;\n\t\tint pos=i;\n\t\tfor(int k=i+1;k<=j+1;k++)\n\t\t\tif(a[pos]>a[k])pos=k;\n\t\tfor(int k=i;k<pos;k++)ans[(k-1)%n+1]=(k-1)%n+1;\n\t\tfor(int k=pos;k<=j;k++)ans[(k-1)%n+1]=k%n+1;\n\t\ti=j;\n\t}\n\tfor(int i=1;i<=n;i++)printf(\"%d \",ans[i]);\n\treturn 0;\n}\n\n```\n",
        "postTime": 1625666005,
        "uid": 112943,
        "name": "bits\u3002",
        "ccfLevel": 9,
        "title": "P3584 [POI2015]LAS \u9898\u89e3"
    },
    {
        "content": "\u9898\u610f:https://www.luogu.org/problem/P3584\n\n\u8003\u8651\u5bf9\u6bcf\u4e2a\u4eba\u8bbe\u72b6\u6001,\u53d1\u73b0\u8f6c\u79fb\u76f8\u5f53\u590d\u6742,\u4e0d\u59a8\u5bf9\u98df\u7269\u8bbe\u72b6\u6001\n\n$f[i][0/1/2/3]$\u8868\u793a\u98df\u7269\u6ca1\u88ab\u9009/\u88ab\u5de6\u8fb9\u7684\u4eba\u5403/\u88ab\u53f3\u8fb9\u7684\u4eba\u5403/\u88ab\u4e24\u8fb9\u7684\u4eba\u5403\u8fd9\u4e2a\u72b6\u6001\u7684\u51b3\u7b56\u70b9(\u8fd9\u662f\u4e3a\u4e86\u8f93\u51fa\u65b9\u6848)\n\n\u8f6c\u79fb\u65f6\u8ba8\u8bba$a[i]$\u548c$a[i-1]$\u7684\u5927\u5c0f\u5173\u7cfb\n\n$f[i][0]=min(2(a[i-1]>=a[i]),3(a[i-1]/2>=a[i]))$\n\n\u8ba8\u8bba\u7b2c$i$\u4e2a\u4e0d\u9009,\u90a3\u4e48\u7b2c$i$\u4e2a\u5de6\u8fb9\u7684\u4eba\u5fc5\u5b9a\u9009\u7b2c$i-1$\u4e2a,\u8ba8\u8bba\u7b2c$i-1$\u4e2a\u662f\u4e00\u4e2a\u4eba\u8fd8\u662f\u4e24\u4e2a\u4eba\u5403,\u8d2a\u5fc3\u5730\u4f18\u5148\u9009\u4e00\u4e2a\u4eba\u5403\n\n$f[i][1]=min(0(a[i-1]<=a[i]),1(a[i-1]/2<=a[i]))$\n\n\u65e2\u7136\u7b2c$i$\u4e2a\u5de6\u8fb9\u7684\u4eba\u6253\u7b97\u5403,\u90a3\u4e48\u5fc5\u5b9a\u6ee1\u8db3\u5403$i-1$\u4e0d\u4f1a\u66f4\u4f18,\u8ba8\u8bba\u7b2c$i-1$\u4e2a\u7684\u72b6\u6001,\u5373$i-1$\u5de6\u8fb9\u7684\u90a3\u4e2a\u4eba\u662f\u5426\u9009\u62e9\u5b83\n\n\u4ee5\u4e0b\u540c\u7406,\u76f4\u63a5\u7ed9\u51fa,\u4e0d\u505a\u89e3\u91ca\n\n\u597d\u5427\u8fd8\u662f\u89e3\u91ca\u4e00\u4e0b\u5427~~\u7acb\u5b8c\u5c31\u62d4\u7684flag~~\n\n$f[i][2]=min(2(a[i]/2<=a[i-1]),3(a[i]/2<=a[i-1]/2))$\n\n\u65e2\u7136\u7b2c$i$\u4e2a\u5de6\u8fb9\u7684\u4eba\u4e0d\u6253\u7b97\u548c\u7b2c$i$\u4e2a\u53f3\u8fb9\u7684\u4eba\u5171\u4eab(~~\u5c0f\u6c14\u9b3c~~),\u800c\u9009\u4e86\u7b2c$i-1$\u4e2a,\u90a3\u4e48\u5fc5\u5b9a\u6709\u539f\u56e0,\u8ba8\u8bba\u7b2c$i-1$\u4e2a\u7684\u72b6\u6001\n\n$f[i][3]=min(0(a[i-1]<=a[i]/2),1(a[i-1]/2<=a[i]/2))$\n\n\u65e2\u7136\u7b2c$i$\u4e2a\u5de6\u8fb9\u7684\u4eba\u653e\u7740\u7b2c$i-1$\u4e2a\u4e0d\u5403,\u5374\u8e6d\u7b2c$i$\u4e2a,\u5fc5\u5b9a\u6709\u539f\u56e0,\u8ba8\u8bba$i-1$\u4e2a\u7684\u72b6\u6001\n\ncode:\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int maxn=1000010;\nint n;\nint a[maxn],ans[maxn];\nint f[maxn][4];\nbool flag;\ninline void move(int pre,int now)\n{\n\tif(~f[pre][2]&&a[pre]>=a[now])f[now][0]=2;\n\telse if(~f[pre][3]&&a[pre]>=a[now]*2)f[now][0]=3;\n\tif(~f[pre][0]&&a[pre]<=a[now])f[now][1]=0;\n\telse if(~f[pre][1]&&a[pre]<=a[now]*2)f[now][1]=1;\n\tif(~f[pre][2]&&a[pre]*2>=a[now])f[now][2]=2;\n\telse if(~f[pre][3]&&a[pre]>=a[now])f[now][2]=3;\n\tif(~f[pre][0]&&a[pre]*2<=a[now])f[now][3]=0;\n\telse if(~f[pre][1]&&a[pre]<=a[now])f[now][3]=1;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%d\",&a[i]);\n\tfor(int s=0;s<4;s++)\n\t{\n\t\tmemset(f,-1,sizeof(f));\n\t\tf[1][s]=4;\n\t\tfor(int i=2;i<=n;i++)move(i-1,i);\n\t\tmove(n,1);\n\t\tif(f[1][s]<4)\n\t\t{\n\t\t\tint k=f[1][s];\n\t\t\tfor(int i=n;i;i--)\n\t\t\t{\n\t\t\t\tif(k==1||k==3)ans[(i-2+n)%n+1]=i;\n\t\t\t\tif(k==2||k==3)ans[i]=i;\n\t\t\t\tk=f[i][k];\n\t\t\t}\n\t\t\tfor(int i=1;i<=n;i++)printf(\"%d \",ans[i]);\n\t\t\tflag=1;break;\n\t\t}\n\t}\t\n\tif(!flag)puts(\"NIE\");\n\treturn 0;\t\n}\n```\n",
        "postTime": 1569930888,
        "uid": 145441,
        "name": "nofind",
        "ccfLevel": 6,
        "title": "P3584 [POI2015]LAS(\u7ebf\u6027DP)"
    },
    {
        "content": "> [P3584 [POI2015]LAS](https://www.luogu.com.cn/problem/P3584)\n>\n> [POI \u5408\u96c6](https://www.cnblogs.com/alex-wei/p/POI.html)\u3002\n\n\u7b2c\u4e00\u4e2a\u60f3\u6cd5\u662f\u82e5\u51fa\u73b0\u76f8\u90bb\u7684\u4e24\u4e2a\u98df\u7269 $(x,y)$ \u6ee1\u8db3 $2a_x<a_y$ \u6216 $2a_y<a_x$\uff0c\u8bf4\u660e\u80fd\u591f\u9009\u62e9\u98df\u7269 $x,y$ \u7684\u4eba\u4e00\u5b9a\u4f1a\u9009\u62e9 $a$ \u503c\u8f83\u5927\u7684\u90a3\u4e00\u4e2a\uff0c\u56e0\u4e3a\u5c31\u7b97\u6709\u4eba\u548c\u4ed6\u62a2\u98df\u7269\u4ed6\u4e5f\u80fd\u5403\u5230\u70ed\u91cf\u8f83\u9ad8\u7684\u90a3\u4e2a\u3002\n\n\u53ef\u80fd\u51fa\u73b0\u94a6\u5b9a\u4e00\u4e2a\u4eba\u5728 $x,y$ \u4e4b\u95f4\u9009\u62e9 $y$ \u540e $y,z$ \u53c8\u51fa\u73b0\u4e86\u4e00\u4e2a\u6570\u5927\u4e8e\u53e6\u4e00\u4e2a\u6570\u7684\u4e24\u500d\u7684\u60c5\u51b5\uff0c\u6240\u4ee5\u7528\u961f\u5217\u8fdb\u884c \u201c\u677e\u5f1b\u201d\u3002\n\n\u677e\u5f1b\u5b8c\u6bd5\u540e\uff0c\u5bf9\u4e8e\u6ca1\u6709\u94a6\u5b9a\u98df\u7269\u7684\u6240\u6709\u4eba\u8d2a\u5fc3\u5730\u9009\u62e9\u4ed6\u76f8\u90bb\u4e24\u4e2a\u98df\u7269\u4e2d\u70ed\u91cf\u8f83\u9ad8\u7684\u90a3\u4e2a\u5373\u53ef\u3002\u82e5 $x$ \u9009\u4e86\u98df\u7269 $x+1$\uff0c\u90a3\u4e48 $x+1$ \u5c31\u4e00\u5b9a\u4e0d\u4f1a\u9009\u98df\u7269 $x+1$\uff0c\u56e0\u4e3a $\\dfrac{a_{x+1}}{2}\\leq a_{x+2}$\u3002\u6545\u4e24\u4e2a\u6ca1\u6709\u94a6\u5b9a\u98df\u7269\u7684\u4eba\u4e0d\u53ef\u80fd\u9009\u5230\u540c\u4e00\u98df\u7269\uff0c\u6240\u4ee5\u6bcf\u4e2a\u4eba\u7684\u51b3\u7b56\u4e92\u4e0d\u5e72\u6270\uff0c\u8d2a\u5fc3\u6b63\u786e\u6027\u5f97\u4ee5\u4fdd\u8bc1\u3002\n\n\u4e3a\u9632\u6b62\u51fa\u73b0\u5c0f\u6570\u7684\u60c5\u51b5\uff0c\u53ef\u4ee5\u5728\u4e00\u5f00\u59cb\u5c06\u6240\u6709\u98df\u7269\u70ed\u91cf\u4e58\u4ee5 $2$\u3002\u6ce8\u610f\u6b64\u65f6\u5224\u65ad $2a_x<a_y$ \u9700\u8981\u5f00 `long long`\u3002\u65f6\u95f4\u590d\u6742\u5ea6\u7ebf\u6027\u3002\n\n```cpp\nconst int N = 1e6 + 5;\nint n, q[N << 1], res[N], hd = 1, tl; ll c[N];\nint check(int p) {\n\tif(res[p]) return -1;\n\tint pre = p, suf = p % n + 1;\n\tif(c[pre] << 1 < c[suf]) return suf;\n\tif(c[suf] << 1 < c[pre]) return pre;\n\treturn -1;\n}\n\nint main() {\n\tcin >> n;\n\tfor(int i = 1; i <= n; i++) c[i] = read() << 1;\n\tfor(int i = 1; i <= n; i++) {\n\t\tint p = check(i);\n\t\tif(p != -1) q[++tl] = i;\n\t} while(hd <= tl) {\n\t\tint t = q[hd++], p = check(t);\n\t\tif(p == -1) continue;\n\t\tres[t] = p, c[p] >>= 1;\n\t\tif(check(p)) q[++tl] = p;\n\t\tif(check(p == 1 ? n : p - 1)) q[++tl] = p == 1 ? n : p - 1;\n\t}\n\tfor(int i = 1; i <= n; i++) if(!res[i]) {\n\t\tint pre = i, suf = i % n + 1;\n\t\tif(c[pre] > c[suf]) res[i] = pre, c[pre] >>= 1;\n\t\telse res[i] = suf, c[suf] >>= 1;\n\t}\n\tfor(int i = 1; i <= n; i++) print(res[i]), pc(' '); \n\treturn cerr << \"Time : \" << clock() << \" ms\" << endl, flush(), 0;\n}\n```",
        "postTime": 1639123407,
        "uid": 123294,
        "name": "Alex_Wei",
        "ccfLevel": 10,
        "title": "P3584 [POI2015]LAS"
    },
    {
        "content": "\u8fd9\u91cc\u6709\u4e00\u4e2a\u7384\u5b66\u505a\u6cd5\n\n\u9996\u5148\u8fd9\u9053\u9898\u7684\u6b63\u89e3\u662fDP\uff0c\u7136\u540e\u6211\u4e5f\u786e\u5b9e\u5199\u4e86DP\uff0c\u4f46\u662f\u7531\u4e8e\u6211\u592a\u5f31\u4e86\uff0c~~\u5230\u73b0\u5728\u8fd8\u6ca1\u6709\u8c03\u5230\u6ee1\u5206~~\n\n\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u5728DP\u65f6\uff0c\u5f53\u4e00\u4e2a\u4eba\u5de6\u8fb9\u548c\u53f3\u8fb9\u7684\u4eba\u7684\u9009\u62e9\u90fd\u5df2\u7ecf\u786e\u5b9a\uff0c\u8fd9\u4e2a\u4eba\u53ef\u4ee5\u9009\u62e9\u7684\u72b6\u6001\u4e5f\u662f\u786e\u5b9a\u7684\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4eba\u800c\u8a00\u603b\u5171\u6709\u516b\u79cd\u60c5\u51b5\n\n\u53ef\u4ee5\u5f00\u4e00\u4e2a\u6570\u7ec4dp[i][u][v][w]\uff0c\u8868\u793a\u7b2ci\u4e2a\u4eba\uff0c\u5de6\u8fb9\u7684\u4eba\u4e3au\uff0c\u81ea\u5df1\u4e3av\uff0c\u53f3\u8fb9\u7684\u4ebaw\uff0c\u5176\u4e2du\uff0cz\uff0cw\u7b49\u4e8e0\u65f6\u8868\u793a\u9009\u5de6\u8fb9\u7684\u83dc\uff0c\u7b49\u4e8e1\u65f6\u8868\u793a\u9009\u53f3\u8fb9\u7684\u83dc\uff0c\u8fd9\u6837\u6211\u4eec\u5c31\u53ef\u4ee5\u8fdb\u884c\u8f6c\u79fb\n\n\u7531\u4e8e\u7b2c\u4e00\u4e2a\u4eba\u7684\u72b6\u6001\u662f\u4e0d\u786e\u5b9a\u7684\uff0c\u6211\u4eec\u679a\u4e3e\u7b2c\u4e00\u4e2a\u4eba\u7684\u516b\u79cd\u60c5\u51b5\uff0c\u5e76\u4e14\u7528\u6216\u8fd0\u7b97\u8fdb\u884c\u50a8\u5b58\n\n\u90e8\u5206\u4ee3\u7801\u7c7b\u4f3c\u4e8e\u8fd9\u6837\n```cpp\nif(c[i]>=c[i+1])\n\t\t{\n\t\t  \tdp[i][0][0][1]=dp[i-1][0][0][0]|dp[i-1][1][0][0];\n\t\t\tif(c[i]>=2*c[i+1])\n\t\t \t{\n\t\t \t \t dp[i][1][0][1]=dp[i-1][0][1][0]|dp[i-1][1][1][0];\n\t\t \t \t dp[i][1][0][0]=dp[i-1][0][1][0]|dp[i-1][1][1][0];\n\t\t \t}\n\t\t}\n```",
        "postTime": 1529161414,
        "uid": 45281,
        "name": "\u732b\u7cae\u5bf8\u65ad",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P3584 \u3010[POI2015]LAS\u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](http://cmsblog.top/archives/poi2015las)\n\n## \u9898\u76ee\u63cf\u8ff0\n\n[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3584)\n\n## \u601d\u8def\n\n~~\u8fd9\u9898\u9ed1\u662f\u6076\u610f\u8bc4\u5206\u5427~~\n\n\u8003\u8651 dp\uff0c\u5148\u60f3\u72b6\u6001\u600e\u4e48\u8bbe\u3002\n\n\u5f88\u5bb9\u6613\u60f3\u5230\u7684\u7b2c\u4e00\u79cd dp\uff0c\u5047\u8bbe $dp_{i,j}$\uff08$j \\in \\{1,2\\}$\uff09\uff0c\u8868\u793a\u7b2c $i$ \u4e2a\u4eba\u5403\u4e86\u5de6\u8fb9\uff08$j = 1$\uff09\u6216\u8005 \u53f3\u8fb9\uff08$j = 2$\uff09\u7684\u98df\u7269\uff0c\u53ef\u662f\u8fd9\u6837\u4f3c\u4e4e\u6ca1\u6709\u4ec0\u4e48\u8f6c\u79fb\u5173\u7cfb\uff0c\u6240\u4ee5\u505a\u4e0d\u4e86\uff08~~\u6216\u8005\u6211\u592a\u83dc\u4e86\u4e0d\u4f1a\u8f6c\u79fb~~\uff09\u3002\n\n\u65e2\u7136\u8fd9\u6837\u72b6\u6001\u505a\u4e0d\u4e86\uff0c\u8003\u8651 dp \u98df\u7269\uff0c\u5047\u8bbe $dp_{i,j}$\uff08$j \\in \\{1,2,3,4\\}$\uff09\uff0c\u8868\u793a\u7b2c $i$ \u98df\u7269\u88ab\u5de6\u8fb9\u7684\u4eba\u5403\uff08$j = 1$\uff09\u6216\u8005 \u88ab\u53f3\u8fb9\u7684\u4eba\u5403\uff08$j = 2$\uff09\u6216\u8005 \u88ab\u4e24\u8fb9\u7684\u4eba\u540c\u65f6\u5403\uff08$j = 3$\uff09\u6216\u8005 \u4e0d\u88ab\u5403\uff08$j = 4$\uff09\u3002\n\n\u8003\u8651\u8f6c\u79fb\uff0c\u5bf9\u4e8e\u8fd9\u79cd\u521d\u59cb\u72b6\u6001\u4e0d\u786e\u5b9a\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u5f3a\u5236\u786e\u5b9a\u7b2c\u4e00\u4e2a\u98df\u7269\u7684\u72b6\u6001\uff0c\u7136\u540e\u9012\u63a8\u83b7\u5f97\u540e\u9762\u72b6\u6001\u7684\u53ef\u884c\u6027\uff0c\u5e76\u8bb0\u5f55\u4ece\u90a3\u4e2a\u72b6\u6001\u8f6c\u79fb\u8fc7\u6765\uff0c\u6700\u540e\u6839\u636e dp \u6570\u7ec4\u5012\u63a8\u5f97\u5230\u7b54\u6848\u3002\n\n\u8ba8\u8bba\u90fd\u5f88\u7c7b\u4f3c\uff0c\u5728\u6b64\u4ec5\u8ba8\u8bba $dp_{i,1}$ \u7684\u8f6c\u79fb\uff08$C$ \u4e3a\u70ed\u91cf\u6570\u7ec4\uff09\uff1a\n\n$$\ndp_{i,1} =\\left\\{ \n    \\begin{array}{lc}\n        1 \\ \\ \\ \\ \\ C_{i-1} \\le C_i \\times 2 \\\\\n        4 \\ \\ \\ \\ \\ C_{i-1} \\le C_i \\ \\ \\  \\texttt{\u5982\u679c\u540c\u65f6\u6ee1\u8db3\u4e0a\u4e0b\u4e24\u6761\u6761\u4ef6\u53d6\u4e0b\u9762\u8fd9\u6761\uff08\u8d2a\u5fc3\uff09}\n    \\end{array}\n\\right.\n$$\n\n## \u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int MAXN = 1e6 + 10;\n\nint N;\nint Dp[MAXN][5] , Num[MAXN] , Ans[MAXN];\n\nbool Dynamic_Programming(int s) {\n\tmemset(Dp , 0 , sizeof Dp);\n\tDp[1][s] = 1;\n\tfor(int i = 2; i <= N + 1; i++) {\n\t\tif(Dp[i - 1][1] && Num[i - 1] <= Num[i] * 2) Dp[i][1] = 1;\n\t\tif(Dp[i - 1][1] && Num[i - 1] <= Num[i]) Dp[i][3] = 1;\n\t\tif(Dp[i - 1][2] && Num[i] <= Num[i - 1] * 2) Dp[i][2] = 2;\n\t\tif(Dp[i - 1][2] && Num[i] <= Num[i - 1]) Dp[i][4] = 2;\n\t\tif(Dp[i - 1][3] && Num[i] <= Num[i - 1]) Dp[i][2] = 3;\n\t\tif(Dp[i - 1][3] && Num[i] * 2 <= Num[i - 1]) Dp[i][4] = 3;\n\t\tif(Dp[i - 1][4] && Num[i - 1] <= Num[i]) Dp[i][1] = 4;\n\t\tif(Dp[i - 1][4] && Num[i - 1] * 2 <= Num[i]) Dp[i][3] = 4;\n\t}\n\treturn Dp[N + 1][s];\n}\n\nint main() {\n\tscanf(\"%d\" ,&N);\n\tfor(int i = 1; i <= N; i++) {\n\t\tscanf(\"%d\" ,Num + i);\n\t}\n\tNum[N + 1] = Num[1];\n\tfor(int i = 1; i <= 4; i++) {\n\t\tif(Dynamic_Programming(i)) {\n\t\t\tint x = i;\n\t\t\tfor(int j = N + 1; j >= 1; j--) {\n\t\t\t\tif(x == 1) {\n\t\t\t\t\tAns[j - 1] = (j - 1) % N + 1;\n\t\t\t\t}\n\t\t\t\tif(x == 2) {\n\t\t\t\t\tAns[j] = (j - 1) % N + 1;\n\t\t\t\t}\n\t\t\t\tif(x == 3) {\n\t\t\t\t\tAns[j - 1] = Ans[j] = (j - 1) % N + 1;\n\t\t\t\t}\n\t\t\t\tx = Dp[j][x];\n\t\t\t}\n\t\t\tfor(int i = 1; i <= N; i++) {\n\t\t\t\tprintf(\"%d \" ,Ans[i]);\n\t\t\t}\n\t\t\treturn 0;\n\t\t}\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1655196528,
        "uid": 461426,
        "name": "CmsMartin",
        "ccfLevel": 6,
        "title": "[POI2015] LAS"
    },
    {
        "content": "\u641c\u7d22\uff0c\u76ee\u524d\u662f$luogu\\text{\u6700\u4f18\u89e3}$\n\n------\n\n\u8fd9\u9053\u9898\u6211\u76f4\u63a5\u60f3\u5230\u7684\u662f\u5f88\u66b4\u529b\u7684\u505a\u6cd5\u3002\n\n\u6211\u4eec\u53ea\u8981\u8fed\u4ee3\u5bfb\u627e\u4e0d\u6ee1\u610f\u7684\u5ba2\u4eba\uff0c\u5f53\u6240\u6709\u4eba\u90fd\u6ee1\u610f\u65f6\u7ed3\u675f\u5373\u53ef\u3002\n\n\u8bbe`d`\u6570\u7ec4\uff0c1\u8868\u793a\u9009\u53f3\u8fb9\u7684\u98df\u7269\uff0c0\u8868\u793a\u9009\u5de6\u8fb9\u7684\u3002\u6bcf\u6b21\u5bfb\u627e\u662f$\\Theta(n)$\u7684\u3002\n\n\u5f88\u66b4\u529b\u5bf9\u5427\uff1f\u4f46\u662f\u6211\u4eec\u53ef\u4ee5\u60f3\u5230\u7684\u662f\u6bcf\u4e2a\u4eba\u7684\u8981\u6c42\u6709\u9650\uff0c\u4f46\u662f\u5706\u6ee1\u7684\u7ed3\u5c40\u6709\u5f88\u591a\u3002\n\u8dd1\u4e0d\u6ee1\u662f\u79cd\u4fe1\u4ef0\uff0c\u662f\u4eba\u7c7b\u667a\u6167\u3002\n\n\u4e0d\u8fc7\u6211\u60f3\u8bf4\u7684\u662f\u2026\u2026\n\n\u4eba\u5c31\u662f\u5f88\u8106\u5f31\u7684\u561b\uff0c\u773c\u524d\u7684\u5229\u76ca\uff0c\u5f53\u7136\u591a\u591a\u76ca\u5584\u3002\u60f3\u4e0d\u5230dp\u7684\u72b6\u6001\uff0c\u8d2a\u5fc3\u4e00\u6837\u662f\u53ef\u4ee5\u5feb\u901f\u6c42\u89e3\u95ee\u9898\u7684\u3002\u8d2a\u5fc3\u6c38\u8fdc\u4e0d\u6bd4dp\u8981\u5dee\uff0c\u5373\u4f7f\u662f\u5c40\u9650\u7684\u8d2a\u5fc3\uff0c\u4e5f\u662f\u4eba\u7c7b\u80fd\u591f\u51fa\u73b0\u521b\u65b0\u7684\u8def\u6807\u3002\n\n```cpp\n// Etavioxy\n#include<cstdio>\n#include<cctype>\n#include<cstring>\n#include<algorithm>\n#include<cmath>\n#include<cassert>\n#define re register\n#define ll long long\n#define il inline\n#define rep(i,s,t) for(re int i=(s);i<=(t);i++)\n#define pt(ch) putchar(ch)\n#define pti(x) printf(\"%d\",x)\n#define ptll(x) printf(\"%lld\",x)\n#define file(s) freopen(s\".in\",\"r\",stdin),freopen(s\".out\",\"w\",stdout)\nusing namespace std;\n// c_ints\nil int ci(){\n\tre char ch;int f=1;\n\twhile(!isdigit(ch=getchar()))f= ch=='-'?-1:1 ;\n\tre int x= ch^'0';\n\twhile(isdigit(ch=getchar()))x=(x*10)+(ch^'0');\n\treturn f*x;\n}\n\nenum{N=1000024};\nint a[N],d[N];\n\nint main(){\n\tint n=ci();\n\trep(i,1,n) a[i]=ci()*2;\n\trep(i,1,n) d[i]=0;\n\n\twhile(1){\n\t\tbool find=0;\n\t\td[0]=d[n];\n\t\trep(i,1,n-1){\n\t\t\tint L= d[i-1]==1?a[i]/2:a[i],\n\t\t\t\tR= d[i+1]==0?a[i+1]/2:a[i+1];\n\t\t\tif( L!=R && ((L<R)^(d[i])) ){\n\t\t\t\tfind=1, d[i]^=1;\n\t\t\t}\n\t\t}\n\t\tint L= d[n-1]==1?a[n]/2:a[n],\n\t\t\tR= d[1]==0?a[1]/2:a[1];\n\t\tif( L!=R && ((L<R)^(d[n])) ){\n\t\t\tfind=1, d[n]^=1;\n\t\t}\n\t\tif( !find ) break;\n\t}\n\n\trep(i,1,n-1) pti(i+d[i]),pt(' ');\n\tpti(d[n]?1:n);\n\tpt('\\n');\n\treturn 0;\n}\n\n```\n\n\u4f46\u662f\u6b22\u8fce$hack$\u3002",
        "postTime": 1571987433,
        "uid": 127195,
        "name": "z7z_Eta",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P3584 \u3010[POI2015]LAS\u3011"
    },
    {
        "content": "\u9996 A \u9ed1\u9898\uff0c\u53d1\u9898\u89e3\u4ee5\u7eaa\u5ff5\u3002\n\n\u7531\u9898\u610f\u53ef\u77e5\uff0c\u4e00\u4e2a\u4eba\u4e0d\u6ee1\u610f**\u5f53\u4e14\u4ec5\u5f53**\u4ed6\u9009\u62e9\u53e6\u4e00\u4efd\u98df\u7269\u53ef\u4ee5\u83b7\u5f97\u66f4\u591a\u7684\u70ed\u91cf\u3002\n\n\u90a3\u4e48\u8fd9\u91cc\u6709\u4e00\u4e2a**\u8d2a\u5fc3**\u7684\u60f3\u6cd5\uff1a\u6211\u4eec\u5c06\u6240\u6709\u7684\u4eba\u626b\u4e00\u904d\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u4e0d\u6ee1\u610f\u7684\u4eba\uff0c\u6539\u53d8\u4ed6\u7684\u9009\u62e9\uff0c\u540c\u65f6\u5224\u65ad\u4ed6\u65c1\u8fb9\u4e24\u4e2a\u4eba\u662f\u5426\u6ee1\u610f\uff0c\u5982\u679c\u4e0d\u6ee1\u610f\u5219\u540c\u6837\u6539\u53d8\u9009\u62e9\u5e76\u5224\u65ad\u5de6\u53f3\u4e24\u4eba\uff0c\u76f4\u5230**\u6240\u6ce2\u53ca\u5230**\u7684\u4eba\u90fd\u6ee1\u610f\u4e3a\u6b62\uff0c\u518d\u53bb\u5224\u65ad\u4e0b\u4e00\u4e2a\u4eba\u3002\n\n\u90a3\u600e\u4e48\u5224\u65ad\u65e0\u89e3\u7684\u72b6\u6001\u5462\uff1f\u4e0d\u7528\u5224\u65ad\uff0c\u56e0\u4e3a\u672c\u9898**\u4e00\u5b9a\u6709\u89e3**\uff01\n\n\u5982\u679c\u5b58\u5728\u65e0\u89e3\u7684\u72b6\u6001\uff0c\u90a3\u4e48\u4e00\u5b9a**\u603b\u662f\u6709\u4eba\u4e0d\u6ee1\u610f**\u3002\u6b64\u65f6\u5bf9\u4e8e\u4e00\u4e2a\u4e0d\u6ee1\u610f\u7684\u4eba $i$\uff08\u5047\u8bbe\u5f53\u524d**\u53ea\u6709**\u8fd9\u4e00\u4e2a\u4eba\u4e0d\u6ee1\u610f\uff09\uff0c\u6211\u4eec\u6539\u53d8\u4ed6\u7684\u9009\u62e9\u540e\uff0c\u4ed6\u5de6\u53f3\u4e00\u5b9a**\u81f3\u5c11**\u6709\u4e00\u65b9\u4e0d\u6ee1\u610f\u3002\u6211\u4eec\u94a6\u5b9a\u4ed6\u53f3\u8fb9\u7684\u4eba $(i+1)$ \u4e00\u5b9a\u4e0d\u6ee1\u610f\uff0c\u90a3\u4e48\u6539\u53d8\u9009\u62e9\u540e**\u4e00\u5b9a**\u662f\u7b2c\u4e8c\u4e2a\u4eba\u53f3\u8fb9\u7684\u4eba $(i+2)$ **\u6216**\u7b2c\u4e00\u4e2a\u4eba\u5de6\u8fb9\u7684\u4eba $(i-1)$ \u4e0d\u6ee1\u610f\u3002\n\n\u8fd9\u6837\u4e00\u5708\u4e0b\u6765\uff0c\u6240\u6709\u4eba\u90fd\u6539\u53d8\u4e86\u9009\u62e9\u3002\u518d\u8fdb\u884c\u4e00\u5708\uff0c\u6240\u6709\u4eba\u90fd\u56de\u5230\u4e86\u539f\u6765\u7684\u9009\u62e9\uff0c\u800c\u6309\u7406\u6b64\u65f6\u7684\u9009\u62e9\u5374\u6bd4\u6700\u5f00\u59cb**\u66f4\u4f18**\uff0c\u77db\u76fe\uff0c\u56e0\u6b64\u672c\u9898\u4e00\u5b9a\u662f\u6709\u89e3\u7684\u3002\n\n\u5f53\u626b\u5230\u7b2c $i$ \u4e2a\u4eba\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f1a\u786e\u4fdd\u7b2c $i$ \u4e2a\u4eba\u4e00\u5b9a\u6ee1\u610f\uff1b\u5728\u4e4b\u540e\u7684\u64cd\u4f5c\u4e2d\uff0c\u6211\u4eec\u6bcf\u6b21\u90fd\u4f1a\u786e\u4fdd\u7b2c $i$ \u4e2a\u4eba\u6ee1\u610f\u3002\u56e0\u6b64\u6211\u4eec\u53ea\u8981\u626b\u4e00\u904d\uff0c\u5c31\u80fd\u786e\u4fdd\u6240\u6709\u7684\u4eba\u90fd\u6ee1\u610f\u3002\n\n\u5728\u6b64\u57fa\u7840\u4e0a\u6211\u4eec\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u4f18\u5316\uff1a\u5982\u679c\u4e00\u4e2a\u4eba\u5f53\u524d\u5df2\u77e5\u662f\u6ee1\u610f\u7684\uff0c\u6211\u4eec\u5c31\u7ed9\u5b83\u6253\u4e0a\u6807\u8bb0\uff0c\u540c\u65f6\u8ba1\u6570\u5668\u52a0 $1$\u3002\u904d\u5386\u6240\u6709\u4eba\u7684\u65f6\u5019\uff0c\u5982\u679c\u6b64\u4eba\u6709\u6807\u8bb0\uff0c\u76f4\u63a5\u8df3\u8fc7\uff1b\u5426\u5219\u989d\u5916\u6253\u4e0a\u6807\u8bb0\u3002\u5f53\u8ba1\u6570\u5668\u7b49\u4e8e $n$ \u65f6\u8df3\u51fa\u5373\u53ef\u3002\n\n### AC code\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\n#include<queue>\n#define ll long long\n#define db double\nusing namespace std;\nconst int N=1e6+5;\nll n,f[N],c[N],l,r,bk[N]/*\u6807\u8bb0*/,tot;\nqueue<int>que;\nll read(){\n\tll ans=0;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')ch=getchar();\n\twhile(ch>='0'&&ch<='9'){\n\t\tans=(ans<<3)+(ans<<1)+(ch^48);\n\t\tch=getchar();\n\t}\n\treturn ans;\n}\nbool gt(int i){//\u5224\u65ad\u662f\u5426\u6ee1\u610f\n\tdb x,y;\n\tl=(i==1)?n:i-1;\n\tr=(i==n)?1:i+1;\n\tx=double(c[i])*((f[l]==i)?0.5:1.0);\n\ty=double(c[r])*((f[r]==r)?0.5:1.0);\n\tif(f[i]!=i)swap(x,y);\n\treturn x<y;\n}\nint main(){\n\tn=read();\n\tfor(int i=1;i<=n;i++){\n\t\tf[i]=i;\n\t\tc[i]=read();\n\t}\n\tfor(int i=1;tot<n&&i<=n;i++){\n\t\tif(bk[i])continue;\n\t\tif(gt(i))que.push(i);\n\t\telse{bk[i]=1;tot++;}\n\t\twhile(!que.empty()){\n\t\t\tint u=que.front();\n\t\t\tque.pop();\n\t\t\tf[u]=((u<n)?((u<<1)+1):(n+1))-f[u];\n\t\t\tif(bk[i]==0){\n\t\t\t\tbk[i]=1;\n\t\t\t\ttot++;\n\t\t\t}\n\t\t\tint v=u%n+1;\n\t\t\tif(gt(v))que.push(v);\n\t\t\tv=(u-1)%n+n*(u==1);\n\t\t\tif(gt(v))que.push(v);\n\t\t}\n\t}\t\n\tfor(int i=1;i<=n;i++)printf(\"%lld \",f[i]);\n\tputs(\"\");\n\treturn 0;\n} \n```\n### $\\text{The End.}$",
        "postTime": 1639101131,
        "uid": 346440,
        "name": "FreeTimeLove",
        "ccfLevel": 7,
        "title": "P3584 \u3010LAS\u3011"
    },
    {
        "content": "\u795e\u5947\u7684$dp$\n\n\u6309\u7167\u6bcf\u4e2a\u4eba\u7684\u9009\u62e9\u8bbe\u8ba1\u72b6\u6001\u662f\u4e0d\u53ef\u884c\u7684\n\n\u8003\u8651\u6309\u7167\u98df\u7269\u8bbe\u8ba1\u72b6\u6001\n\n$f[i][S](S\u2208[0,4])$\u8868\u793a\u7b2c$i$\u4e2a\u98df\u7269\u6ca1\u6709\u88ab\u9009/\u5de6\u8fb9\u9009/\u53f3\u8fb9\u9009/\u540c\u65f6\u9009\u7684\u72b6\u6001\u662f\u7531\u54ea\u4e00\u4e2a\u72b6\u6001\u8f6c\u79fb\u6765\u7684\n\n\u6211\u4eec\u9700\u8981\u6ee1\u8db3\u4e24\u4e2a\u6761\u4ef6\uff1a\n\n- \u6bcf\u4e2a\u4eba\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\n\n- \u6539\u53d8\u9009\u62e9\u4e4b\u540e\u4e0d\u4f1a\u6bd4\u5f53\u524d\u83b7\u5f97\u70ed\u91cf\u591a\n\n\u8ba8\u8bba$a_i$\u548c$a_{i-1}$\u7684\u5927\u5c0f\u5173\u7cfb\u8fdb\u884c\u8f6c\u79fb\n\n\u8f93\u51fa\u65b9\u6848\u7684\u65f6\u5019\u7531\u540e\u5411\u524d\u63a8\u8fc7\u53bb\u5c31\u597d\n\n\u50cf\u8fd9\u6837\u7684\u73af\u5f62$dp$\uff0c\u4e00\u822c\u5957\u8def\u90fd\u662f\u5148\u56fa\u5b9a\u7b2c\u4e00\u4e2a\u7684\u72b6\u6001\u8fdb\u884c$dp$\uff0c\u679a\u4e3e\u7b2c\u4e00\u4e2a\u7684\u4e0d\u540c\u60c5\u51b5\u5c31\u53ef\u4ee5\u4e86\n\n```\n#include<cstdio>\n#include<cstring>\n#include<cctype>\n#include<cstdlib>\n#include<algorithm>\n#define reg register\nusing namespace std;\nconst int N=1e6+5;\nint n,a[N],ans[N],f[N][4];//0:\u00c1\u00bd\u00b1\u00df\u00b6\u00bc\u00b2\u00bb\u00d1\u00a1 1:\u00d7\u00f3\u00b1\u00df 2:\u00d3\u00d2\u00b1\u00df 3:\u00c1\u00bd\u00b1\u00df\u00b6\u00bc\u00d1\u00a1 \ninline int read()\n{\n\tint x=0,w=1;\n\tchar c=getchar();\n\twhile (!isdigit(c)&&c!='-') c=getchar();\n\tif (c=='-') c=getchar(),w=-1;\n\twhile (isdigit(c))\n\t{\n\t\tx=(x<<1)+(x<<3)+c-'0';\n\t\tc=getchar();\n\t}\n\treturn x*w;\n}\ninline bool work(int k)\n{\n\tmemset(f,-1,sizeof(f)); f[1][k]=1;\n\tfor (reg int i=2;i<=n;i++)\n\t{\n\t\tif (~f[i-1][2]&&a[i-1]>=a[i]) f[i][0]=2;\n\t\tif (~f[i-1][3]&&a[i-1]>=a[i]*2) f[i][0]=3;\n\t\tif (~f[i-1][0]&&a[i]>=a[i-1]) f[i][1]=0;\n\t\tif (~f[i-1][1]&&a[i]*2>=a[i-1]) f[i][1]=1;\n\t\tif (~f[i-1][2]&&a[i-1]*2>=a[i]) f[i][2]=2;\n\t\tif (~f[i-1][3]&&a[i-1]>=a[i]) f[i][2]=3;\n\t\tif (~f[i-1][0]&&a[i]>=a[i-1]*2) f[i][3]=0;\n\t\tif (~f[i-1][1]&&a[i]>=a[i-1]) f[i][3]=1;\n\t}\n\treturn ~f[n][k];\n}\ninline void print(int k)\n{\n\t--n;\n\tfor (reg int i=n;~i;i--)\n\t{\n\t\tif (k==1) ans[i]=i%n+1;\n\t\tif (k==2) ans[i+1]=i%n+1;\n\t\tif (k==3) ans[i]=ans[i+1]=i%n+1;\n\t\tk=f[i+1][k];\n\t}\n\tfor (reg int i=1;i<=n;i++) printf(\"%d \",ans[i]);\n\texit(0);\n}\nint main()\n{\n\tn=read();\n\tfor (reg int i=1;i<=n;a[i++]=read()); a[++n]=a[1];\n\tfor (reg int i=0;i<4;i++) if (work(i)) print(i);\n\tputs(\"NIE\");\n\treturn 0;\n}\n```",
        "postTime": 1541037075,
        "uid": 43471,
        "name": "Captain_Paul",
        "ccfLevel": 0,
        "title": "P3584 [POI2015]LAS"
    }
]