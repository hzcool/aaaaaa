[
    {
        "content": "\u672c\u9898\u601d\u8def\u53c2\u8003\uff1a[five20](https://www.cnblogs.com/five20/p/9040490.html)\uff08~~\u56e0\u4e3a\u501f\u9274\u4e86\u4ed6\u7684\u601d\u8def\uff0c\u88ab\u53d1\u73b0\u6ca1\u8d34\u94fe\uff0c\u88ab\u5176\u5f3a\u70c8\u8981\u6c42\u8d34\u94fe~~~[\u63d0\u4ea4\u8bb0\u5f55](https://www.luogu.org/record/show?rid=7307432)\uff09\n\n\u601d\u60f3\uff1a\u5206\u5757\u6253\u8868  \n\u8fd9\u9053\u9898\u9996\u5148\u53ef\u4ee5\u770b\u51fa2000000000\u5e76\u4e0d\u662f\u4e00\u4e2a\u5f88\u5927\u7684\u6570\u3002\n\u7528\u66b4\u529b\uff0c\u56e0\u4e3a\u9632\u6b62\u4ee3\u7801\u8fc7\u957f\uff0c\u8003\u8651\u6bcf\u96941000000\u6253\u51fa\u4e00\u4e2a\u6570\u5b57\uff0c\u4e3a\u4e86\u9632\u6b62\u7206\u884c\uff0c\u6bcf\u6253\u4e8c\u5341\u4e2a\u6570\u6362\u4e00\u884c\u3002  \n  \n\u7136\u540e\u5bf9\u4e8e\u8be2\u95ee\u7684\u4e24\u4e2a\u6570\uff0c\u82e5\u5728\u540c\u4e00\u4e2a\u5757\u4e2d\u5219\u66b4\u529b\u3002\u4e0d\u5728\u5219\u5bf9\u5176\u5206\u522b\u5904\u4e8e\u7684\u4e24\u4e2a\u5757\u5206\u522b\u5904\u7406  \n  \n\u7528\u4e8e\u6253\u8868\u7684\u8f85\u52a9\u7a0b\u5e8f\uff1a  \n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint cnt,tot,tou;\nbool check(int x)\n{\n\tint w=x%10;x/=10;\n\twhile(x)\n\t{\n\t\tif(abs(w-(x%10))<2) return false;\n\t\tw=x%10;\n\t\tx/=10;\n\t}\n\treturn true;\n}\nint main()\n{\n\tfor(int i=1;i<=2000000000;++i)\n\t{\n\t\tif(check(i)) ++cnt;\n\t\t++tot;if(tot==1000000) cout<<cnt<<',',tot=0,++tou;\n\t\tif(tou==20) cout<<endl,tou=0;\n\t}\n\treturn 0;\n}\n```\n  \n\u89e3\u7b54\u7a0b\u5e8f\uff1a  \n```cpp\n#include<map>\n#include<set>\n#include<cmath>\n#include<ctime>\n#include<queue>\n#include<string>\n#include<vector>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define ll long long\n#define il inline\n#define R register\n#define N 100005\n#define debug puts(\"fuck\");\nusing namespace std;\nint a,b;\nint d[2005]={202174,338305,476808,615022,753274,891526,1029740,1168243,1304374,1459689,1459689,1459689,1459689,1597903,1736155,1874407,2012621,2151124,2287255,2442570,\n2597885,2597885,2597885,2597885,2736137,2874389,3012603,3151106,3287237,3442552,3597867,3733998,3733998,3733998,3733998,3872250,4010464,4148967,4285098,4440413,\n4595728,4731859,4870362,4870362,4870362,4870362,5008576,5147079,5283210,5438525,5593840,5729971,5868474,6006688,6006688,6006688,6006688,6145191,6281322,6436637,\n6591952,6728083,6866586,7004800,7143052,7143052,7143052,7143052,7279183,7434498,7589813,7725944,7864447,8002661,8140913,8279165,8279165,8279165,8279165,8434480,\n8589795,8725926,8864429,9002643,9140895,9279147,9417361,9417361,9417361,9417361,9572676,9708807,9847310,9985524,10123776,10262028,10400242,10538745,10538745,10538745,\n10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,\n10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10538745,10694060,10830191,10830191,10830191,10830191,10968443,11106657,11245160,11381291,11536606,\n11691921,11828052,11966555,11966555,11966555,11966555,12104769,12243272,12379403,12534718,12690033,12826164,12964667,13102881,13102881,13102881,13102881,13241384,13377515,13532830,\n13688145,13824276,13962779,14100993,14239245,14239245,14239245,14239245,14375376,14530691,14686006,14822137,14960640,15098854,15237106,15375358,15375358,15375358,15375358,15530673,\n15685988,15822119,15960622,16098836,16237088,16375340,16513554,16513554,16513554,16513554,16668869,16805000,16943503,17081717,17219969,17358221,17496435,17634938,17634938,17634938,\n17634938,17634938,17773441,17911655,18049907,18188159,18326373,18464876,18601007,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,\n18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,18756322,\n18911637,19047768,19186271,19186271,19186271,19186271,19324485,19462988,19599119,19754434,19909749,20045880,20184383,20322597,20322597,20322597,20322597,20461100,20597231,20752546,\n20907861,21043992,21182495,21320709,21458961,21458961,21458961,21458961,21595092,21750407,21905722,22041853,22180356,22318570,22456822,22595074,22595074,22595074,22595074,22750389,\n22905704,23041835,23180338,23318552,23456804,23595056,23733270,23733270,23733270,23733270,23888585,24024716,24163219,24301433,24439685,24577937,24716151,24854654,24854654,24854654,\n24854654,24854654,24993157,25131371,25269623,25407875,25546089,25684592,25820723,25976038,25976038,25976038,25976038,26114252,26252504,26390756,26528970,26667473,26803604,26958919,\n26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,\n26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,26958919,27114234,27250365,27388868,27527082,27527082,27527082,27527082,27665585,27801716,27957031,\n28112346,28248477,28386980,28525194,28663446,28663446,28663446,28663446,28799577,28954892,29110207,29246338,29384841,29523055,29661307,29799559,29799559,29799559,29799559,29954874,\n30110189,30246320,30384823,30523037,30661289,30799541,30937755,30937755,30937755,30937755,31093070,31229201,31367704,31505918,31644170,31782422,31920636,32059139,32059139,32059139,\n32059139,32059139,32197642,32335856,32474108,32612360,32750574,32889077,33025208,33180523,33180523,33180523,33180523,33318737,33456989,33595241,33733455,33871958,34008089,34163404,\n34318719,34318719,34318719,34318719,34456971,34595223,34733437,34871940,35008071,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,\n35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,35163386,\n35318701,35454832,35593335,35731549,35869801,35869801,35869801,35869801,36005932,36161247,36316562,36452693,36591196,36729410,36867662,37005914,37005914,37005914,37005914,37161229,\n37316544,37452675,37591178,37729392,37867644,38005896,38144110,38144110,38144110,38144110,38299425,38435556,38574059,38712273,38850525,38988777,39126991,39265494,39265494,39265494,\n39265494,39265494,39403997,39542211,39680463,39818715,39956929,40095432,40231563,40386878,40386878,40386878,40386878,40525092,40663344,40801596,40939810,41078313,41214444,41369759,\n41525074,41525074,41525074,41525074,41663326,41801578,41939792,42078295,42214426,42369741,42525056,42661187,42661187,42661187,42661187,42799439,42937653,43076156,43212287,43367602,\n43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,\n43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43367602,43522917,43659048,43797551,43935765,44074017,44212269,44212269,44212269,44212269,44367584,\n44522899,44659030,44797533,44935747,45073999,45212251,45350465,45350465,45350465,45350465,45505780,45641911,45780414,45918628,46056880,46195132,46333346,46471849,46471849,46471849,\n46471849,46471849,46610352,46748566,46886818,47025070,47163284,47301787,47437918,47593233,47593233,47593233,47593233,47731447,47869699,48007951,48146165,48284668,48420799,48576114,\n48731429,48731429,48731429,48731429,48869681,49007933,49146147,49284650,49420781,49576096,49731411,49867542,49867542,49867542,49867542,50005794,50144008,50282511,50418642,50573957,\n50729272,50865403,51003906,51003906,51003906,51003906,51142120,51280623,51416754,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,\n51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,51572069,\n51727384,51863515,52002018,52140232,52278484,52416736,52554950,52554950,52554950,52554950,52710265,52846396,52984899,53123113,53261365,53399617,53537831,53676334,53676334,53676334,\n53676334,53676334,53814837,53953051,54091303,54229555,54367769,54506272,54642403,54797718,54797718,54797718,54797718,54935932,55074184,55212436,55350650,55489153,55625284,55780599,\n55935914,55935914,55935914,55935914,56074166,56212418,56350632,56489135,56625266,56780581,56935896,57072027,57072027,57072027,57072027,57210279,57348493,57486996,57623127,57778442,\n57933757,58069888,58208391,58208391,58208391,58208391,58346605,58485108,58621239,58776554,58931869,59068000,59206503,59344717,59344717,59344717,59344717,59483220,59619351,59774666,\n59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,\n59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59774666,59929981,60066112,60204615,60342829,60481081,60619333,60757547,60896050,60896050,60896050,\n60896050,60896050,61034553,61172767,61311019,61449271,61587485,61725988,61862119,62017434,62017434,62017434,62017434,62155648,62293900,62432152,62570366,62708869,62845000,63000315,\n63155630,63155630,63155630,63155630,63293882,63432134,63570348,63708851,63844982,64000297,64155612,64291743,64291743,64291743,64291743,64429995,64568209,64706712,64842843,64998158,\n65153473,65289604,65428107,65428107,65428107,65428107,65566321,65704824,65840955,65996270,66151585,66287716,66426219,66564433,66564433,66564433,66564433,66702936,66839067,66994382,\n67149697,67285828,67424331,67562545,67700797,67700797,67700797,67700797,67836928,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,\n67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,67992243,\n67992243,67992243,68130746,68268960,68407212,68545464,68683678,68822181,68958312,69113627,69113627,69113627,69113627,69251841,69390093,69528345,69666559,69805062,69941193,70096508,\n70251823,70251823,70251823,70251823,70390075,70528327,70666541,70805044,70941175,71096490,71251805,71387936,71387936,71387936,71387936,71526188,71664402,71802905,71939036,72094351,\n72249666,72385797,72524300,72524300,72524300,72524300,72662514,72801017,72937148,73092463,73247778,73383909,73522412,73660626,73660626,73660626,73660626,73799129,73935260,74090575,\n74245890,74382021,74520524,74658738,74796990,74796990,74796990,74796990,74933121,75088436,75243751,75379882,75518385,75656599,75794851,75933103,75933103,75933103,75933103,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,76088418,\n76088418,76088418,76226921,76365135,76503387,76641639,76779853,76918356,77054487,77209802,77209802,77209802,77209802,77348016,77486268,77624520,77762734,77901237,78037368,78192683,\n78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,\n78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78192683,78347998,78484129,78622632,78760846,78760846,78760846,78760846,78899349,79035480,79190795,\n79346110,79482241,79620744,79758958,79897210,79897210,79897210,79897210,80033341,80188656,80343971,80480102,80618605,80756819,80895071,81033323,81033323,81033323,81033323,81188638,\n81343953,81480084,81618587,81756801,81895053,82033305,82171519,82171519,82171519,82171519,82326834,82462965,82601468,82739682,82877934,83016186,83154400,83292903,83292903,83292903,\n83292903,83292903,83431406,83569620,83707872,83846124,83984338,84122841,84258972,84414287,84414287,84414287,84414287,84552501,84690753,84829005,84967219,85105722,85241853,85397168,\n85552483,85552483,85552483,85552483,85690735,85828987,85967201,86105704,86241835,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,\n86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,86397150,\n86552465,86688596,86827099,86965313,87103565,87103565,87103565,87103565,87239696,87395011,87550326,87686457,87824960,87963174,88101426,88239678,88239678,88239678,88239678,88394993,\n88550308,88686439,88824942,88963156,89101408,89239660,89377874,89377874,89377874,89377874,89533189,89669320,89807823,89946037,90084289,90222541,90360755,90499258,90499258,90499258,\n90499258,90499258,90637761,90775975,90914227,91052479,91190693,91329196,91465327,91620642,91620642,91620642,91620642,91758856,91897108,92035360,92173574,92312077,92448208,92603523,\n92758838,92758838,92758838,92758838,92897090,93035342,93173556,93312059,93448190,93603505,93758820,93894951,93894951,93894951,93894951,94033203,94171417,94309920,94446051,94601366,\n94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,\n94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94601366,94756681,94892812,95031315,95169529,95307781,95446033,95446033,95446033,95446033,95601348,\n95756663,95892794,96031297,96169511,96307763,96446015,96584229,96584229,96584229,96584229,96739544,96875675,97014178,97152392,97290644,97428896,97567110,97705613,97705613,97705613,\n97705613,97705613,97844116,97982330,98120582,98258834,98397048,98535551,98671682,98826997,98826997,98826997,98826997,98965211,99103463,99241715,99379929,99518432,99654563,99809878,\n99965193,99965193,99965193,99965193,100103445,100241697,100379911,100518414,100654545,100809860,100965175,101101306,101101306,101101306,101101306,101239558,101377772,101516275,101652406,101807721,\n101963036,102099167,102237670,102237670,102237670,102237670,102375884,102514387,102650518,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,\n102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,102805833,\n102961148,103097279,103235782,103373996,103512248,103650500,103788714,103788714,103788714,103788714,103944029,104080160,104218663,104356877,104495129,104633381,104771595,104910098,104910098,104910098,\n104910098,104910098,105048601,105186815,105325067,105463319,105601533,105740036,105876167,106031482,106031482,106031482,106031482,106169696,106307948,106446200,106584414,106722917,106859048,107014363,\n107169678,107169678,107169678,107169678,107307930,107446182,107584396,107722899,107859030,108014345,108169660,108305791,108305791,108305791,108305791,108444043,108582257,108720760,108856891,109012206,\n109167521,109303652,109442155,109442155,109442155,109442155,109580369,109718872,109855003,110010318,110165633,110301764,110440267,110578481,110578481,110578481,110578481,110716984,110853115,111008430,\n111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,\n111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111008430,111163745,111299876,111438379,111576593,111714845,111853097,111991311,112129814,112129814,112129814,\n112129814,112129814,112268317,112406531,112544783,112683035,112821249,112959752,113095883,113251198,113251198,113251198,113251198,113389412,113527664,113665916,113804130,113942633,114078764,114234079,\n114389394,114389394,114389394,114389394,114527646,114665898,114804112,114942615,115078746,115234061,115389376,115525507,115525507,115525507,115525507,115663759,115801973,115940476,116076607,116231922,\n116387237,116523368,116661871,116661871,116661871,116661871,116800085,116938588,117074719,117230034,117385349,117521480,117659983,117798197,117798197,117798197,117798197,117936700,118072831,118228146,\n118383461,118519592,118658095,118796309,118934561,118934561,118934561,118934561,119070692,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,\n119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,119226007,\n119226007,119226007,119364510,119502724,119640976,119779228,119917442,120055945,120192076,120347391,120347391,120347391,120347391,120485605,120623857,120762109,120900323,121038826,121174957,121330272,\n121485587,121485587,121485587,121485587,121623839,121762091,121900305,122038808,122174939,122330254,122485569,122621700,122621700,122621700,122621700,122759952,122898166,123036669,123172800,123328115,\n123483430,123619561,123758064,123758064,123758064,123758064,123896278,124034781,124170912,124326227,124481542,124617673,124756176,124894390,124894390,124894390,124894390,125032893,125169024,125324339,\n125479654,125615785,125754288,125892502,126030754,126030754,126030754,126030754,126166885,126322200,126477515,126613646,126752149,126890363,127028615,127166867,127166867,127166867,127166867,127322182,\n127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182,127322182};\nbool check(int x)\n{\n\tint w=x%10;x/=10;\n\twhile(x)\n\t{\n\t\tif(abs(w-(x%10))<2) return false;\n\t\tw=x%10;\n\t\tx/=10;\n\t}\n\treturn true;\n}\nint sol(int x,int y)\n{\n\tint a=x/1000000,b=y/1000000,cnt=0,sum1=0,sum2=0,xia=a*1000000,shang=b*1000000;\n\tif(a==b)\n\t{\n\t\tfor(int i=x;i<=y;++i) if(check(i)) ++cnt;\n\t\treturn cnt;\n\t}//\u82e5\u5728\u540c\u4e00\u5757\u4e2d\u5219\u66b4\u529b\n\tfor(int i=xia+1;i<=x-1;++i) if(check(i)) ++sum1;\n\tif(x>=1000000) sum1=sum1+d[a-1];//\u4e0b\u6807\u8981\u51cf\u4e00\n\tfor(int i=shang+1;i<=y;++i) if(check(i)) ++sum2;\n\tsum2=sum2+d[b-1];\n\treturn sum2-sum1;//\u524d\u7f00\u548c\n}\nint main()\n{\n\tcin>>a>>b;\n\tprintf(\"%d\\n\",sol(a,b));\n\treturn 0;\n}\n```",
        "postTime": 1532236239,
        "uid": 57972,
        "name": "caidd",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u6570\u4f4ddp\u89e3\u51b3 \u4e0d\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\n\u8fd9\u4e2a\u9898\u662f\u5728\u4e00\u4e2a\u533a\u95f4\u91cc\u627e\u4e2a\u6570 \u6240\u4ee5\u6211\u4eec\u8003\u8651\u7528\u524d\u7f00\u548c\u7684\u601d\u60f3 \u53ea\u9700\u627e\u51fa1~m,1~n\u5404\u81ea\u7684\u4e2a\u6570 \u518d\u76f8\u51cf\u5c31\u884c\u4e86 \u4e8e\u662f\u8fd9\u6837\u53ea\u7528\u5173\u5fc3\u4e0a\u754c\u4e86\uff08\u547d\u4e3awork\u51fd\u6570 work(x)\u53ef\u4ee5\u6c42\u51fa\u30100\uff0cx\u3011\u533a\u95f4\u91cc\u7684windy\u6570\u4e2a\u6570\uff09\n\n\u8bbedp[i][j]\u4e3a\u957f\u5ea6\u4e3ai\u4e2d\u6700\u9ad8\u4f4d\u662fj\u7684windy\u6570\u7684\u4e2a\u6570\n\n\u65b9\u7a0b dp[i][j]=sum(dp[i-1][k]) \u5176\u4e2d abs(j-k)>=2\uff08abs ->\u7edd\u5bf9\u503c \u5728cmath\u91cc\uff09 \n\n\u8fd9\u6837\u7684\u8f6c\u79fb\u662f\u901a\u8fc7\u524d\u4e00\u4f4d\u7684\u548c\u8f6c\u79fb\u8fc7\u6765\u7684\n\nwork\u51fd\u6570\u8fd8\u662f\u4e0d\u8bb2\u4e86 \u770b\u6ce8\u91ca\u5427\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n//\u8bbedp[i][j]\u4e3a\u957f\u5ea6\u4e3ai\u4e2d\u6700\u9ad8\u4f4d\u662fj\u7684windy\u6570\u7684\u4e2a\u6570\n//\u65b9\u7a0b dp[i][j]=sum(dp[i-1][k]) \u5176\u4e2d abs(j-k)>=2 \nint p,q,dp[15][15],a[15];\nvoid init()\n{\n\tfor(int i=0;i<=9;i++)\tdp[1][i]=1;\t//0,1,2,3,4...9\u90fd\u5c5e\u4e8ewindy\u6570 \n\tfor(int i=2;i<=10;i++)\n\t{\n\t\tfor(int j=0;j<=9;j++)\n\t\t{\n\t\t\tfor(int k=0;k<=9;k++)\n\t\t\t{\n\t\t\t\tif(abs(j-k)>=2)\tdp[i][j]+=dp[i-1][k]; \n\t\t\t}\n\t\t}\n\t}//\u4ece\u7b2c\u4e8c\u4f4d\u5f00\u59cb \u6bcf\u6b21\u679a\u4e3e\u6700\u9ad8\u4f4dj \u5e76\u627e\u5230k \u4f7f\u5f97j-k>=2 \n}\nint work(int x)\t//\u8ba1\u7b97<=x\u7684windy\u6570 \n{\n\tmemset(a,0,sizeof(a));\n\tint len=0,ans=0;\n\twhile(x)\n\t{\n\t\ta[++len]=x%10;\n\t\tx/=10;\n\t}\n\t//\u5206\u4e3a\u51e0\u4e2a\u677f\u5757 \u5148\u6c42len-1\u4f4d\u7684windy\u6570 \u5fc5\u5b9a\u5305\u542b\u5728\u533a\u95f4\u91cc\u7684 \n\tfor(int i=1;i<=len-1;i++)\n\t{\n\t\tfor(int j=1;j<=9;j++)\n\t\t{\n\t\t\tans+=dp[i][j];\n\t\t} \n\t}\n\t//\u7136\u540e\u662flen\u4f4d \u4f46\u6700\u9ad8\u4f4d<a[len]\u7684windy\u6570 \u4e5f\u5305\u542b\u5728\u533a\u95f4\u91cc \n\tfor(int i=1;i<a[len];i++)\n\t{\n\t\tans+=dp[len][i];\n\t} \n\t//\u63a5\u7740\u662flen\u4f4d \u6700\u9ad8\u4f4d\u4e0e\u539f\u6570\u76f8\u540c\u7684 \u6700\u96be\u641e\u7684\u4e00\u90e8\u5206 \n\tfor(int i=len-1;i>=1;i--)\n    {\n    \t//i\u4ece\u6700\u9ad8\u4f4d\u540e\u5f00\u59cb\u679a\u4e3e \n        for(int j=0;j<=a[i]-1;j++)\n\t\t   {\n\t\t   \t//j\u662fi\u4f4d\u4e0a\u7684\u6570 \n\t\t   \t\tif(abs(j-a[i+1])>=2)\tans+=dp[i][j]; //\u5224\u65ad\u548c\u4e0a\u4e00\u4f4d(i+1)\u76f8\u5dee2\u4ee5\u4e0a\n\t\t\t\t   //\u5982\u679c\u662f ans\u5c31\u7d2f\u52a0 \n\t\t   } \n\t\tif(abs(a[i+1]-a[i])<2)       break;\n      //  if(i==1)   ans+=1;\n    }\n\treturn ans;\n}\nint main()\n{\n\tinit();\n\tcin>>p>>q;\n\tcout<<work(q+1)-work(p)<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1525248383,
        "uid": 60299,
        "name": "Patrickpwq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u6570\u4f4ddp\u6a21\u677f\u9898\n\n\u6570\u4f4ddp\u4e00\u822c\u89e3\u51b3\u7684\u662f\u4e00\u7c7b\u6570\u5b57\u95ee\u9898\uff1a\u4ecel\u5230r\u6709\u591a\u5c11\u4e2a\u6570\u7b26\u5408\u67d0\u4e2a\u6027\u8d28\uff0c\u5176\u4e2dl\u548cr\u90fd\u662f\u5f88\u5927\u7684\u6570\uff0c\u4ecel\u5faa\u73af\u5230r\u663e\u7136\u4f1aTLE\u3002\n\n\u6211\u4eec\u7528$f[i][j]$\u8868\u793a\u641c\u5230\u7b2ci\u4f4d\uff0c\u4e0a\u4e00\u4f4d\u6570\u662fj\u7684\u60c5\u51b5\u4e0b\u7684\u65b9\u6848\u603b\u6570\n\n\u8fd9\u9053\u9898\u6211\u4eec\u53ef\u4ee5\u5904\u7406$1-(l-1)$\u7684\u65b9\u6848\u6570$sum[l-1]$\u548c$1-r$\u7684\u65b9\u6848\u6570$sum[r]$\uff0c\u5219$$ans=sum[r]-sum[l-1]$$\n\n\u63a5\u4e0b\u6765\u8003\u8651\u600e\u4e48\u5199\u8f6c\u79fb\n\n\u6211\u4eec\u53ef\u4ee5\u679a\u4e3e\u6bcf\u4f4d\u4e0a\u7684$0-9$\n\n\u7279\u522b\u5730\uff0c\u5982\u679c\u524d\u9762\u7684\u6570\u53d6\u4e86\u80fd\u53d6\u7684\u6700\u5927\u503c\u6216\u524d\u9762\u6ca1\u6709\u6570\u5b57\uff0c\u90a3\u4e48\u8fd9\u4f4d\u4e0a\u53ea\u80fd\u53d6\u5230\u8fd9\u4f4d\u7684\u6700\u5927\u6570\u5b57\n\n\u53ef\u80fd\u6bd4\u8f83\u62bd\u8c61\uff0c\u4e3e\u4e2a\u4f8b\u5b50$$142857$$\n\n$$142???$$\n\n\u8fd9\u65f6\u5019\u7b2c\u56db\u4f4d\u53ea\u80fd\u53d6\u5230$8$\uff0c\u65e0\u6cd5\u53d6\u5230$9$ $$142857$$\n\n$$141???$$\n\n\u7b2c$3$\u4f4d\u6ca1\u6709\u53d6\u5230\u6700\u5927\u503c\uff0c\u6240\u4ee5\u7b2c$4$\u53ef\u4ee5\u53d6\u5230$9$\n\n\u6700\u540e\u6211\u4eec\u8003\u8651\u9650\u5236\u6761\u4ef6\uff1a\u76f8\u90bb\u4e24\u4f4d\u7edd\u5bf9\u503c\u5927\u4e8e\u7b49\u4e8e$2$\n\n\u5982\u679c\u524d\u4e00\u4f4d\u662f\u524d\u5bfc$0$\uff0c\u90a3\u4e48\u6211\u4eec\u4e0d\u9700\u8981\u8003\u8651\u8fd9\u4f4d\u4e0e$0$\u7684\u7edd\u5bf9\u503c\uff0c\u5c31\u662f\u8bf4$0$\u548c$1$\u4e5f\u662f\u53ef\u4ee5\u53d6\u5230\u7684\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5728\u5904\u7406\u4e0b\u4e00\u4f4d\u65f6\u628a\u8fd9\u4f4d\u5f53\u505a$-2$\u5904\u7406\n\n\u4e0b\u9762\u662f\u6709\u8be6\u7ec6\u6ce8\u91ca\u7684\u4ee3\u7801\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll dp[15][15],ans;//dp[i][j]\u8868\u793a\u641c\u5230\u7b2ci\u4f4d\uff0c\u524d\u4e00\u4f4d\u662fj\uff0c\u7684\uff01limit\u65b9\u6848totnum\uff1b\nint a[15],len;\nlong long L,R;\nll dfs(int pos,int pre,int st,int limit)//pos\u5f53\u524d\u4f4d\u7f6e,pre\u524d\u4e00\u4f4d\u6570,st\u5224\u65ad\u524d\u9762\u662f\u5426\u5168\u662f0,limit\u6700\u9ad8\u4f4d\u9650\u5236 \n{\n\tif(pos>len) return 1;//\u641c\u5b8c\u4e86 \n\tif(!limit&&dp[pos][pre]!=-1) return dp[pos][pre];//\u6ca1\u6709\u6700\u9ad8\u4f4d\u9650\u5236\uff0c\u5df2\u7ecf\u641c\u8fc7\u4e86\n\tll ret=0;\n\tint res=limit?a[len-pos+1]:9;//\u5f53\u524d\u4f4d\u6700\u5927\u6570\u5b57 \n\tfor(int i=0;i<=res;i++)//\u4ece0\u679a\u4e3e\u5230\u6700\u5927\u6570\u5b57 \n\t{\n\t\tif(abs(i-pre)<2) continue;//\u4e0d\u7b26\u5408\u9898\u610f\uff0c\u7ee7\u7eed \n\t\tif(st&&i==0) ret+=dfs(pos+1,-2,1,limit&&i==res);//\u5982\u679c\u6709\u524d\u5bfc0\uff0c\u4e0b\u4e00\u4f4d\u968f\u610f \n\t\telse ret+=dfs(pos+1,i,0,limit&&i==res);//\u5982\u679c\u6ca1\u6709\u524d\u5bfc0\uff0c\u7ee7\u7eed\u6309\u90e8\u5c31\u73ed\u5730\u641c \n\t}\n\tif(!limit&&!st) dp[pos][pre]=ret;//\u6ca1\u6709\u6700\u9ad8\u4f4d\u9650\u5236\u4e14\u6ca1\u6709\u524d\u5bfc0\u65f6\u8bb0\u5f55\u7ed3\u679c \n\treturn ret;\n}\nvoid part(ll x)\n{\n\tlen=0;\n\twhile(x) a[++len]=x%10,x/=10;\n\tmemset(dp,-1,sizeof dp);\n\tans=dfs(1,-2,1,1);\n}\nint main()\n{\n    scanf(\"%lld%lld\",&L,&R);\n    part(L-1);ll minn=ans;\n\tpart(R);  ll maxx=ans;\n\tprintf(\"%lld\",maxx-minn);\n\treturn 0;\n}\n```\n\n\n",
        "postTime": 1538036710,
        "uid": 74896,
        "name": "Mathison",
        "ccfLevel": 0,
        "title": "P2657 windy\u6570\u3010\u6570\u4f4ddp\u3011"
    },
    {
        "content": "\u6570\u4f4dDP\uff0c\u90a3\u4e48\u6211\u4eec\u8003\u8651\u8bb0\u5fc6\u5316\u641c\u7d22\u89e3\u51b3\u3002\n\n\u72b6\u6001\uff1aDP[X][Y] X\u8868\u793a\u8003\u8651\u5230\u7b2c\u51e0\u4f4d\uff0cY\u8003\u8651\u5230\u8fd9\u4e2a\u6570\u7684\u524d\u4e00\u4e2a\u6570\u4ec0\u4e48\uff0c\u72b6\u6001\u4fdd\u5b58\u4ece\u6b64\u72b6\u6001\u51fa\u53d1\u8fbe\u5230\u5b8c\u6210\u7ed3\u679c\u7684\u65b9\u6848\u6570\uff08\u5927\u6982\u610f\u601d\u7406\u89e3\u5230\u5c31\u597d\uff09\u3002\n\n\u5b9e\u73b0\uff1a\u641c\u4e00\u904d\n\n\u5751\u96be\u70b9\uff1a\u6709\u4e2a\u65e0\u524d\u5bfc0\u7684\u9650\u5236\u4ee5\u53ca\u4e0d\u80fd\u8d85\u8fc7\u90a3\u4e2a\u6570\u6700\u9ad8\u4f4d\u7684\u9650\u5236\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u641c\u7d22\u4e2d\u589e\u52a0\u4e24\u4e2abool\u5206\u522b\uff0cshangxian\u8bb0\u5f55\u8868\u793a\u76ee\u524d\u662f\u4e0d\u662f\u4ecd\u7136\u5728\u8fbe\u5230\u539f\u6570\u8fb9\u754c\u4f4d\u6570\u4e0a\u8ba8\u8bba\uff08eg:43278 \u6211\u4eec\u7684len==3 last==3,\u4e14\u524d\u9762\u8ba8\u8bba\u76844\uff0c\u6b64\u65f6\u6211\u4eec\u8ba8\u8bba\u7684\u4f4d\u4e0a\u7684\u6570\u6570\u4e0d\u80fd\u8d85\u8fc72\uff09  qdling\u8868\u793a\u73b0\u5728\u662f\u4e0d\u662f\u8fd8\u5728\u524d\u5bfc0\uff08\u524d\u9762\u7684\u4f4d\u662f\u4e0d\u662f\u5168\u662f0\uff09\n\n\u6570\u4f4ddp\u4e5f\u662f\u521a\u5b66qwq\uff0c\u8003\u8651\u591a\u6709\u4e0d\u5468\uff0c\u9700\u8981\u591a\u52a0\u5b66\u4e60\u3002\n\n\n\t#include<cstdio>\n\t#include<algorithm>\n\t#include<cstring>\n\t#include<iostream>\n\tusing namespace std;\n\tint dp[15][15],num[15];//len last\n\tint a,b;\n\n\tint dfs(int len,int last,bool shangxian,bool qdling)\n\t{\n\tif(len==0) return 1;\n\tif(!qdling&&!shangxian&&dp[len][last]!=-1)\n\t\treturn dp[len][last];\n\tint p,cnt=0,maxx=(shangxian?num[len]:9);\n\tfor(int i=0;i<=maxx;i++)\n\t{\n\t\tif(abs(i-last)<2)continue;\n\t\tp=i;\n\t\tif(qdling&&i==0) p=-233;\n\t\tcnt+=dfs(len-1,p,(shangxian)&&(i==maxx),(p==-233));\n\t}\n\tif(!shangxian&&!qdling) dp[len][last]=cnt;\n\treturn cnt;\n\t}\n\n\tint solve(int x)\n\t{\n\tint k=0;\n\twhile(x)\n\t{\n\t\tnum[++k]=x%10;\n\t\tx/=10;\n\t}\n\tmemset(dp,-1,sizeof(dp));\n\treturn dfs(k,-233,true,true);\n\t}\n\n\tint main()\n\t{\n\tscanf(\"%d%d\",&a,&b);\n\tprintf(\"%d\\n\",solve(b)-solve(a-1));\n\t}",
        "postTime": 1518266738,
        "uid": 55343,
        "name": "Newuser",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u4e00\u8d77\u5b66\u4e0b\u6570\u4f4ddp \n- \u8bbef(x)\u8868\u793ax\u524d\u9762\u7684\u6570 \u5373 t\u2208[1,x) \u4e2dwindy\u6570\u7684\u4e2a\u6570\n\n\u90a3\u4e48\u663e\u7136\u5982\u679c\u8981\u6c42 [l,r]\u4e2dwindy\u6570\u7684\u4e2a\u6570\u5c31\u662f\uff1a\n- F(l,r) = f\uff08r+1\uff09-f(l)\n\n\u6570\u4f4ddp\u5f00\u59cb\uff0c\u9884\u5904\u7406\u4f4d\u6570\u4e3ai\u6700\u9ad8\u4f4d\u4e3aj\u7684windy\u6570\u4e2a\u6570 f[i][j]\n\n\u8f6c\u79fb\uff1a\n- f[i][j]=f[i-1][k] | \u5176\u4e2dk\u662f\u975e\u8d1f\u6574\u6570k\u2208[0,9]\u4e14|k-j|>=2\n\n\u521d\u59cb\u503c\uff1a\n\n- f[1][i]=1 | \u5176\u4e2di\u4e3a\u975e\u8d1f\u6574\u6570 i\u2208[0,9]\n\n\u6c42f(x)\u600e\u4e48\u6c42\u5462\uff1f\n\n\u4e3a\u4e86\u65b9\u4fbf\u5904\u7406\u5148\u5bf9\u6570x\u8fdb\u884c\u630910\u8fdb\u5236\u4f4d\u62c6\u5206\u5230a[]\u6570\u7ec4\n\n- \u663e\u7136\u4f4d\u6570\u6bd4x\u8981\u5c0f\u7684\u6570\u5b57\u90fd\u662f\u5408\u6cd5\u7684\u90fd\u5728[1,x\uff09\u533a\u95f4\u5185\uff0c\u76f4\u63a5\u7edf\u8ba1\u5c31\u884c\n- \u4f4d\u6570\u548cx\u4e00\u6837\u6700\u9ad8\u4f4d\u7684\u6570\u5b57\u6bd4x\u5c0f\u7684\u6570\u5b57\u90fd\u662f\u5408\u6cd5\u7684\u90fd\u5728[1,x\uff09\u533a\u95f4\u5185\u76f4\u63a5\u7edf\u8ba1\u5c31\u884c\n- \u4f4d\u6570\u548cx\u4e00\u6837\uff0c\u6700\u9ad8\u4f4d\u53c8\u548cx\u4e00\u6837\u6211\u4eec\u4ece\u5de6\u5230\u53f3\u626b\u4e00\u904dx\u5404\u4e2a\u4f4d\u5b50\u4e0a\u7684\u6570\u5b57\u5927\u5c0f\u7136\u540e\u679a\u4e3e\u5408\u6cd5\u7684\u8be5\u4f4d\u5b50\u4e0a\u7684\u6570[0,9]\u5224\u65ad\u662f\u5426\u5408\u6cd5\u5c31\u884c\u3002\n\n\u4ee3\u7801\uff1a\n```\n// f[i][j]\u6570\u5b57\u4f4d\u6570\u4e3ai\uff0c\u6700\u9ad8\u4f4d\u4e3aj\u7684windy\u6570\u4e2a\u6570\n// f[i][j]+=f[i-1][k] |k-j|>=2\n# include <bits/stdc++.h>\nusing namespace std;\ntypedef long long ll;\nll f[15][15];\nint a[15];\nll fun(ll x)\n{\n\tint len=0;\n\twhile (x>0ll) a[++len]=x%10,x/=10;\n\tll sum=0ll;\n\tfor (int i=1;i<=len-1;i++)\n\t for (int j=1;j<=9;j++)\n\t  sum+=f[i][j];\n\tfor (int i=1;i<a[len];i++) sum+=f[len][i];\n\tfor (int i=len-1;i>=1;i--) {\n\t\tfor (int j=0;j<=a[i]-1;j++)\n\t\t if (abs(j-a[i+1])>=2) sum+=f[i][j];\n\t\tif (abs(a[i+1]-a[i])<2) break; //\u8fd9\u4e00\u4f4d\u4e0d\u884c\u540e\u9762\u7684\u4f4d\u5b50\u4e00\u5b9a\u4e0d\u884c\n\t}\n\treturn sum;\n}\nint main()\n{\n\tll n,m; scanf(\"%lld %lld\",&n,&m);\n\tif (n>m) swap(n,m);\n\tfor (int i=0;i<=9;i++) f[1][i]=1ll;\n\tfor (int i=2;i<=10;i++)\n\t for (int j=0;j<=9;j++)\n\t  for (int k=0;k<=9;k++)\n\t   if (abs(k-j)>=2) f[i][j]+=f[i-1][k];\n\tprintf(\"%lld\\n\",fun(m+1)-fun(n));\n\treturn 0;\n}\n```\n\n",
        "postTime": 1535511392,
        "uid": 16456,
        "name": "ljc20020730",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "~~\u5934\u4e00\u6b21\u4e00\u904dAC\u8fd9\u79cd\u96be\u5ea6\u7684\u9898~~ ^-^\n\n\u8fd9\u662f\u4e00\u9053\u660e\u663e\u7684**\u6570\u4f4ddp**\u9898,\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u8bb0\u5fc6\u5316\u641c\u7d22\u53bb\u5b9e\u73b0\uff1adfs\uff08len,last,flag,zero\uff09\u8868\u793a\u603b\u4e2a\u6570\uff0clen\u8868\u793a\u5df2\u7ecf\u641c\u5230\u4e86\u7b2clen\u4f4d\uff08\u4ece\u9ad8\u4f4d\u5230\u4f4e\u4f4d\uff09\uff0clast\u8868\u793a\u4e0a\u4e00\u4f4d\u6240\u586b\u7684\u6570\u5b57\uff0cflag\u8868\u793a\u4e4b\u524d\u7684\u6570\u5b57\u662f\u5426\u5df2\u7ecf\u7d27\u8d34\u4e0a\u754c\uff0czero\u8868\u793a\u662f\u5426\u6709\u524d\u7f6e\u96f6\u3002\n\n\u663e\u7136\uff0c\u5982\u679cflag=0\uff08\u4e4b\u524d\u6570\u5b57\u672a\u7d27\u8d34\u4e0a\u754c\uff09\uff0c\u90a3\u4e48\u4e0e\u524d\u4e00\u4f4d\u6570\u5b57\u5dee\u7684\u7edd\u5bf9\u503c\u4e0d\u5c0f\u4e8e2\u7684\u4efb\u610f\u6570\u5b57\u90fd\u53ef\u4ee5\u586b\u5230\u5f53\u524d\u4f4d\u7f6e\u4e0a\uff0c\u4e0d\u7528\u8003\u8651\u662f\u5426\u8d8a\u754c\uff08\u9ad8\u4f4d\u90fd\u66f4\u5c0f\u4e86\uff0c\u4f4e\u4f4d\u8fd8\u7ba1\u4ec0\u4e48\uff1f\uff09\u3002\u5426\u5219\u5982\u679cflag=1\uff0c\u90a3\u4e48\u5f53\u524d\u4f4d\u7f6e\u4e0a\u7684\u6570\u4e0d\u4ec5\u9700\u8981\u4fdd\u8bc1\u5dee\u7684\u7edd\u5bf9\u503c>=2\uff0c\u8fd8\u8981\u4fdd\u8bc1\u6570\u5b57\u672a\u8d85\u8fc7\u6b64\u4f4d\u7f6e\u7684\u4e0a\u754c\u3002\n\n\u53e6\u5916\uff0c\u6709\u524d\u5bfc\u96f6\u65f6\u975e\u96f6\u7684\u7b2c\u4e00\u4f4d\u4e0d\u9700\u8981\u7ba1\u4e0e\u524d\u9762\u4e00\u4f4d\uff080\uff09\u7684\u5dee\u3002\n\n\u5177\u4f53\u7ec6\u8282\u89c1\u4ee3\u7801\u3002\u3002\u3002\n\n\n\n\n```cpp\n#include<cstdio>\n#include<cstring>\n#include<cmath>\n#define ll long long\nusing namespace std;\nint a,b,len,num[15],f[15][15][2][2];\ninline int dfs(int len,int last,bool flag,bool zero)\n{\n\tif (!len) return 1;   //len\u4f4d\u90fd\u505a\u5b8c\u4e86\u5f53\u7136\u8fd4\u56de1\uff08\u7b2c\u4e00\u4f4d\u5f53\u7136\u968f\u4fbf\u586b\u90fd\u662fwindy\u6570\uff0c1~9\u5bf9\u5e94\u7684windy\u6570\u6570\u91cf\u90fd\u662f1\uff09\n\tif (~f[len][last][flag][zero]) return f[len][last][flag][zero];         //\u4ee5\u524d\u641c\u8fc7\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de\u503c\n\tint res=0;\n\tfor (int i=0;i<=9;i++)\n\t    if ((i<=num[len] || !flag) && (abs(i-last)>=2 || zero))   //\u4fdd\u8bc1\u4e0d\u8d8a\u754c\uff0c\u5dee\u4e0d\u5c0f\u4e8e2\n\t\t    res+=dfs(len-1,i,flag&&(i==num[len]),zero&&(!i));   //\u603b\u6570\u7d2f\u52a0\n\tf[len][last][flag][zero]=res;  //\u5c06\u5f97\u5230\u7684\u503c\u5b58\u4e0b\u6765\n\treturn res;\n}\ninline int solve(int x)  //\u6c42\u51fa\u4ece1\u5230x\u5171\u6709\u591a\u5c11windy\u6570\n{\n\tint tmp=x;\n\tlen=0;\n\tmemset(num,0,sizeof(num));\n\twhile (tmp)        //\u628a\u5404\u4e2a\u6570\u4f4d\u7684\u4e0a\u754c\u62c6\u51fa\u6765\n\t{\n\t\tnum[++len]=tmp%10;\n\t\ttmp/=10;\n\t}\n\tmemset(f,-1,sizeof(f));\n\treturn dfs(len,11,1,1);  //\u8bb0\u5fc6\u5316\u641c\u7d22\n}\nint main()\n{\n\tscanf(\"%d%d\",&a,&b); //\u61d2\u5f97\u5199\u5feb\u8bfbQAQ\n\tprintf(\"%d\",solve(b)-solve(a-1));\n}\n```\n\n\u53ef\u80fd\u5199\u7684\u6709\u4e9b\u7e41\u6742\uff0c~~\u4f46\u4e2a\u4eba\u8ba4\u4e3a\u8f83\u597d\u7406\u89e3qwq~~",
        "postTime": 1550137896,
        "uid": 26152,
        "name": "FC_Barcelona",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u672c\u6587\u7ae0\u5c06\u540c\u6b65\u5230 [Luogu \u535a\u5ba2](https://www.luogu.org/blog/mraymes) ~~\u4ee5\u53ca [WordPress \u535a\u5ba2](https://mraymes.home.blog)~~ \u8fd9\u4e1c\u897f\u4e0d\u652f\u6301 `Markdown` \u6240\u4ee5\u6ca1\u5f04\u597d.\n\n\u4e00\u9053 (\u7a0d\u5fae\u96be\u4e00\u70b9\u7684) \u6570\u4f4d DP \u6a21\u677f\u9898.\n\n\u6570\u4f4d DP \u8c8c\u4f3c\u6709\u4e24\u79cd\u505a\u6cd5, \u4e00\u4e2a\u662f\u9012\u63a8, \u4e00\u4e2a\u662f\u7528\u8bb0\u5fc6\u5316\u641c\u7d22. \u8fd9\u91cc\u5c06\u7684\u662f\u9012\u63a8\u505a\u6cd5. ~~(\u56e0\u4e3a\u6211\u592a\u83dc\u4e86\u4e0d\u4f1a\u7528\u8bb0\u5fc6\u5316\u641c\u7d22)~~\n\n\u9012\u63a8\u6570\u7ec4 `f` \u5b9a\u4e49: `f[i][j]` \u8868\u793a\u4f4d\u6570\u4e3a `i` (\u5305\u62ec\u524d\u5bfc\u96f6), \u6700\u9ad8\u4f4d\u4e3a `j` \u7684\u6570\u4e2d\u4e00\u5171\u6709\u591a\u5c11\u4e2a windy \u6570.\n\n\u7a0b\u5e8f\u5206\u4e24\u6b65\u9aa4:\n- \u521d\u59cb\u5316 (\u5373\u6839\u636e\u9898\u76ee\u4e2d\u7684\u6761\u4ef6\u6c42\u51fa\u6bcf\u4e2a\u9700\u8981\u6c42\u7684 `f[i][j]` \u7684\u503c)\n\t- \u8fd9\u91cc\u5207\u8bb0: **\u4efb\u4f55\u5173\u4e8e\u524d\u5bfc\u96f6\u7b49\u7279\u6b8a\u60c5\u51b5\u90fd\u4e0d\u80fd\u5728\u8fd9\u91cc\u5904\u7406, \u56e0\u4e3a \"\u7279\u6b8a\u60c5\u51b5\" \u5e76\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u7684\u60c5\u51b5.** \u4f8b\u5982:\n\n\t\t`f[5][0]` \u6c42\u7684\u662f\u4ee5 `0` \u5f00\u5934\u7684\u4e94\u4f4d\u6570, \u5176\u4e2d\u50cf `01357` \u8fd9\u6837\u7684\u6570\u5b57\u662f\u4e0d\u88ab\u7b97\u8fdb\u53bb\u7684, \u56e0\u4e3a\u8ba1\u7b97\u7684\u65f6\u5019\u5c06 `0` \u4e5f\u5f53\u505a\u4e00\u4e2a\u6b63\u5e38\u7684\u6570\u5b57, \u5e76\u6ca1\u6709\u5ffd\u7565\u6389. \u4e00\u822c\u6765\u8bf4\u8fd9\u6837\u7684\u6570\u5b57\u4e5f\u7b97\u662f windy \u6570, \u5e94\u8be5\u52a0\u8fdb\u53bb, \u4f46\u662f\u5982\u679c\u5b83\u88ab\u5f53\u505a\u4e00\u4e2a\u540e\u7f00\u7528\u6765\u9012\u63a8\u51fa\u516d\u4f4d\u6570\u4e2d windy \u6570\u7684\u6570\u91cf, \u5373 `0` \u4e0d\u518d\u662f\u524d\u5bfc\u96f6\u65f6, \u5c31\u5fc5\u987b\u8981\u820d\u53bb\u4e86. \u8fd9\u4e2a\u9519\u8bef\u6211\u5728\u505a\u53e6\u4e00\u9898\u65f6\u4e5f\u540c\u6837\u72af\u8fc7. ~~(\u8db3\u4ee5\u8bc1\u660e\u4e86\u6211\u7684\u83dc.)~~\n\n\t\t\u56e0\u6b64, \u5728\u9762\u5bf9\u50cf\u524d\u5bfc\u96f6\u8fd9\u6837\u7684\u60c5\u51b5\u65f6, \u6211\u4eec\u52a0\u4e00\u4e2a `g` \u6570\u7ec4. \u5f53\u4e00\u4e2a\u6709\u524d\u5bfc\u96f6\u7684\u6570\u4e0d\u88ab\u4f5c\u4e3a\u540e\u7f00\u65f6 (\u5373\u5355\u72ec\u6210\u4e00\u4e2a\u6570), \u90a3\u4e48 `g` \u6570\u7ec4\u7684\u503c\u5c31\u53ef\u4ee5\u7528\u6765\u5f25\u8865\u6f0f\u7b97\u7684\u6570. `g[i]` \u8868\u793a `i` \u4f4d\u6570\u6709\u51e0\u4e2a\u6f0f\u7b97\u7684\u5e26\u6709\u524d\u5bfc\u96f6\u7684\u6570.\n\n\t- \u7b97\u7684\u65f6\u5019, \u5c06\u957f\u5ea6\u6bd4\u5f53\u524d\u503c\u5c0f 1, \u5e76\u4e14\u5f00\u5934\u6570\u5b57\u4e0e\u5f53\u524d\u8981\u7b97\u7684\u6570\u5b57\u4e4b\u5dee\u7684\u7edd\u5bf9\u503c\u5927\u4e8e\u7b49\u4e8e 2 \u7684\u6240\u6709 windy \u6570\u52a0\u8d77\u6765\u5373\u53ef. \u5177\u4f53\u89c1\u4ee3\u7801:\n\n\t\t```cpp\n\t\tfor (int i = 0; i <= 9; i++) {\n\t\t    f[1][i] = 1;\n\t\t}\n\t\tg[1] = 2; // \u6f0f\u7b97\u7684\u6570: 0, 1, 2\n\t\t\n\t\tfor (int i = 2; i <= 15; i++) {\n\t\t    // i - 1 \u4f4d\u4e2d 0 \u4e0e 1 \u5f00\u5934\u7684\u6570\u90fd\u672a\u88ab\u7b97\u8fdb\u53bb\n\t\t    // \u518d\u52a0\u4e0a\u5df2\u7ecf\u5904\u7406\u5b8c\u7684 g[i - 1]\n\t\t    // (\u56e0\u4e3a\u8fd9\u4e9b\u6570\u4e5f\u6ca1\u6709\u7b97\u5728 f[i - 1][0], f[i - 1][1] \u4e4b\u4e2d)\n\t\t    g[i] += f[i - 1][1] + f[i - 1][0] + g[i - 1];\n\n\t\t    for (int j = 0; j <= 9; j++) {\n\t\t        for (int k = 0; k <= j - 2; k++) { // \u4e24\u4f4d\u6570\u5dee\u7684\u7edd\u5bf9\u503c <= 2\n\t\t            f[i][j] += f[i - 1][k];\n\t\t        }\n\t\t        for (int k = j + 2; k <= 9; k++) { // \u540c\u4e0a\n\t\t            f[i][j] += f[i - 1][k];\n\t\t        }\n\t\t    }\n\t\t}\n\t\t```\n- \u8ba1\u7b97\n\n\t\u8ba1\u7b97\u5c31\u662f\u5c06\u8981\u6c42\u7684\u6570\u5b57\u62c6\u5206\u6210 10 \u7684\u5e42\u6b21\u65b9\u7684\u500d\u6570, \u5982 `24103` \u53ef\u62c6\u5206\u6210 `20000 + 4000 + 100 + 3`, \u7531\u6b64\u53ef\u77e5 `[0, 26503]` \u533a\u95f4\u5185\u7684 windy \u6570\u8ba1\u7b97\u65b9\u5f0f\u4e3a `(f[5][0] + f[5][1]) + (f[4][0] + f[4][1] + f[4][2] + f[4][3]) + (f[3][0]) + (f[1][0] + f[1][1] + f[1][2]) + f[1][3]`. \u62ec\u53f7\u5185\u7684\u4e3a\u4e00\u7ec4, \u6839\u636e\u6570\u5b57\u7684\u4f4d\u6570 (\u524d\u5bfc\u96f6\u7b97\u8fdb\u53bb) \u5206\u7ec4.\n\n\t\u66f4\u8be6\u7ec6\u5730\u8bb2:\n\n\t- `[0, 9999]` - `f[5][0]`\n\t- `[10000, 19999]` - `f[5][1]`\n\t- `[20000, 20999]` - `f[4][0]`\n\t- `[21000, 21999]` - `f[4][1]`\n\t- ...\n\t- `[23000, 23999]` - `f[4][3]`\n\t- `[24000, 24099]` - `f[3][0]`\n\t- `[24100, 24100]` - `f[1][0]`\n\t- `[24101, 24101]` - `f[1][1]`\n\t- `[24102, 24102]` - `f[1][2]`\n\t- `[24103, 24103]` - `f[1][3]`\n\n\t\u8fd9\u91cc\u867d\u7136\u7c7b\u4f3c `f[4][1]` \u7684\u8ba1\u7b97\u7684\u5e76\u4e0d\u662f\u4e94\u4f4d windy \u6570\u7684\u4e2a\u6570, \u4f46\u662f\u8fd9\u4e9b\u6570\u662f\u88ab\u5f53\u505a**\u540e\u7f00**\u5904\u7406, \u56e0\u6b64\u53ef\u4ee5\u7b97. `2`**`0246`** \u4e2d, **`0246`** \u4e3a\u540e\u7f00. (\u8fd9\u4e5f\u5c31\u662f\u524d\u9762\u4e3a\u4ec0\u4e48\u4e0d\u80fd\u5728\u7b2c\u4e00\u6b65\u9aa4\u4e2d\u5904\u7406\u524d\u5bfc\u96f6\u7684\u539f\u56e0, \u56e0\u4e3a `0135` \u672c\u8eab\u662f\u5408\u6cd5\u7684, \u4f46\u662f\u4f5c\u4e3a\u540e\u7f00\u65f6, \u5982 `2`**`0135`** \u5c31\u4e0d\u5408\u6cd5\u4e86.)\n\n\t\u6ce8\u610f\u6bcf\u4e00\u7ec4\u7684 `f` \u6570\u7ec4\u7684\u7b2c\u4e8c\u4f4d\u6700\u5927\u53ea\u53d6\u5230\u76f8\u5e94\u6570\u4f4d\u4e0a\u7684\u6570\u51cf\u53bb 1, \u90a3\u662f\u56e0\u4e3a `f[5][2]` \u662f `[20000, 29999]` \u533a\u95f4\u5185\u7684 windy \u6570\u7684\u6570\u91cf, `f[4][4]` \u662f `[4000 - 4999]` \u533a\u95f4\u5185 windy \u6570\u7684\u6570\u91cf, \u4ee5\u6b64\u7c7b\u63a8, \u800c\u8fd9\u4e9b\u533a\u95f4\u90fd\u4e0d\u5b8c\u5168\u5305\u62ec\u5728\u533a\u95f4 `[0, 26503]` \u4e4b\u5185. \u7531\u4e8e\u7b2c\u4e00\u4f4d\u4e3a\u7279\u6b8a\u60c5\u51b5, \u9700\u8981\u5355\u72ec\u52a0\u4e0a (`f[1][3]` \u5355\u72ec\u5206\u4e00\u7ec4, \u89c1\u4e0a\u8ff0\u5f0f\u5b50), \u6211\u4eec\u4e3a\u4e86\u65b9\u4fbf\u8ba1\u7b97, \u8ba9\u8ba1\u7b97\u51fd\u6570 (`cnt()`) \u5904\u7406\u5f62\u5982 `[0, x)` \u7684\u533a\u95f4 (`x` \u4e0d\u7b97\u8fdb\u53bb). \u7531\u4e8e\u51fd\u6570\u5904\u7406\u7684\u662f**\u534a\u5f00\u533a\u95f4**, \u8c03\u7528\u7684\u65f6\u5019\u9700\u8981\u52a0\u4e0a 1 (\u548c `sort()` \u51fd\u6570\u7c7b\u4f3c).\n\n\t```cpp\n\t// \u6c42 [0, x) \u533a\u95f4\u5185\u7684\u6240\u6709 windy \u6570\n\tint cnt(int x) {\n\t    // \u7279\u6b8a\u60c5\u51b5 (\u5176\u5b9e\u4e5f\u7528\u4e0d\u5230)\n\t    if (x <= 0) {\n\t        return 0;\n\t    }\n\t\n\t    // \u5c06\u6570\u5b57\u7684\u5404\u4e2a\u6570\u4f4d\u5206\u79bb\u51fa\u6765, \u4fbf\u4e8e\u8ba1\u7b97\n\t    int num[20];\n\t    int len = 0;\n\t    while (x) {\n\t        num[++len] = x % 10;\n\t        x /= 10;\n\t    }\n\n\t    int sum = 0;\n\t    // \u679a\u4e3e\u4f4d\u6570\n\t    for (int i = len; i >= 1; i--) {\n\t        // \u5f53\u524d\u4e3a\u6700\u9ad8\u4f4d\n\t        if (i == len) {\n\t            // \u6700\u9ad8\u4f4d\u53d6\u6570\u65e0\u9650\u5236\n\t            for (int j = 0; j < num[i]; j++) {\n\t                sum += f[i][j];\n\t            }\n\t            // \u662f\u5426\u5b58\u5728\u5e26\u6709\u524d\u5bfc\u96f6\u7684\u6570\u5b57 (num[i] \u7b49\u4e8e 0 \u65e0\u6cd5\u4fdd\u8bc1)\n\t            if (num[i] >= 1) {\n\t                // \u8865\u5145\u672a\u8ba1\u7b97\u7684\u5e26\u6709\u524d\u5bfc\u96f6\u7684\u5408\u6cd5\u7684 windy \u6570\n\t                sum += g[i];\n\t            }\n\t            continue;\n\t        }\n\t        // \u975e\u6700\u9ad8\u4f4d\n\t\n\t        // \u4e0d\u8d85\u8fc7\u4e0a\u4e00\u4f4d\u7684\u6570\u51cf\u53bb 2 (num[i + 1] - 2)\n\t        // \u53c8\u4fdd\u8bc1\u4e0d\u8d85\u8fc7\u5f53\u524d\u6570\u4f4d\u6700\u5927\u503c (num[i])\n\t        for (int j = 0; j <= min(num[i] - 1, num[i + 1] - 2); j++) {\n\t            sum += f[i][j];\n\t        }\n\t\n\t        // \u81f3\u5c11\u4e3a\u4e0a\u4e00\u4f4d\u7684\u6570\u52a0 2\n\t        // \u53c8\u4fdd\u8bc1\u4e0d\u8d85\u8fc7\u5f53\u524d\u6570\u4f4d\u6700\u5927\u503c (num[i])\n\t        for (int j = num[i + 1] + 2; j < num[i]; j++) {\n\t            sum += f[i][j];\n\t        }\n\t\n\t        // \u5982\u679c\u5230\u5f53\u524d\u6570\u4f4d\u4e3a\u6b62\u7684\u524d\u7f00\u4e0d\u5408\u6cd5\u5219\u8df3\u8fc7\n\t        // \u4f8b\u5982: x \u4e3a 54135\n\t        // i \u4e3a 2 (num[i] \u4e3a 4)\n\t        // \u5f53\u524d\u524d\u7f00\u4e3a 54\n\t        // abs(5 - 4) < 2, \u4e0d\u5408\u6cd5, \u56e0\u6b64\u8df3\u51fa\u5faa\u73af\n\t        if (i < len && abs(num[i] - num[i + 1]) < 2) {\n\t            break;\n\t        }\n\t    }\n\n\t    return sum;\n\t}\n\t```\n\n\t\u51fd\u6570\u7528\u6cd5: (\u5047\u8bbe\u8981\u6c42\u7684\u533a\u95f4\u4e3a `[l, r]`)\n\n\t```cpp\n\tcnt(r + 1) - cnt(l)\n\t```\n\n\u6700\u540e\u8d34\u4e0a\u5b8c\u6574\u4ee3\u7801:\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nint f[20][10], g[20];\nint l, r;\n\nint cnt(int x) {\n    if (x <= 0) {\n        return 0;\n    }\n    int num[20];\n    int len = 0;\n    while (x) {\n        num[++len] = x % 10;\n        x /= 10;\n    }\n\n    int sum = 0;\n    for (int i = len; i >= 1; i--) {\n        if (i == len) {\n            for (int j = 0; j < num[i]; j++) {\n                sum += f[i][j];\n            }\n            if (num[i] >= 1) {\n                sum += g[i];\n            }\n            continue;\n        }\n        for (int j = 0; j <= min(num[i] - 1, num[i + 1] - 2); j++) {\n            sum += f[i][j];\n        }\n        for (int j = num[i + 1] + 2; j < num[i]; j++) {\n            sum += f[i][j];\n        }\n        if (i < len && abs(num[i] - num[i + 1]) < 2) {\n            break;\n        }\n    }\n\n    return sum;\n}\n\nint main() {\n    for (int i = 0; i <= 9; i++) {\n        f[1][i] = 1;\n    }\n    g[1] = 2;\n\n    for (int i = 2; i <= 15; i++) {\n        g[i] += f[i - 1][1] + f[i - 1][0] + g[i - 1];\n        for (int j = 0; j <= 9; j++) {\n            for (int k = 0; k <= j - 2; k++) {\n                f[i][j] += f[i - 1][k];\n            }\n            for (int k = j + 2; k <= 9; k++) {\n                f[i][j] += f[i - 1][k];\n            }\n        }\n    }\n\n    while (cin >> l >> r) {\n   \t\tcout << cnt(r + 1) - cnt(l) << '\\n';\n   \t}\n    return 0;\n}\n\n```\n",
        "postTime": 1552446699,
        "uid": 22227,
        "name": "mraymes",
        "ccfLevel": 7,
        "title": "Solution for Luogu P2657"
    },
    {
        "content": "~~\u611f\u89c9\u81ea\u5df1\u5199\u7684\u4e0d\u9519\u7684\u6b63\u7edf\u6570\u4f4dDP~~\n\n\n------------\n\n\u770b\u5f88\u591a\u6570\u4f4dDP\u7684\u4ee3\u7801,\u4f60\u4f1a\u53d1\u73b0,\u72b6\u6001\u771f\u662f\u7a00\u5947\u53c8\u53e4\u602a,\u4f46\u662f\u5374\u5f88\u5c11\u4eba\u7528\u677f\u5b50\n$F[len][need][lim][zero]$\u6765\u63a8.\n\n#### \u5b9e\u9645\u4e0a,\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u8fd9\u624d\u662f\u601d\u7ef4\u96be\u5ea6\u6700\u5c0f,\u5b9e\u73b0\u6700\u4e3a\u5bb9\u6613\u7684\u65b9\u6cd5,\u914d\u5408\u8bb0\u5fc6\u5316\u641c\u7d22\u5c31\u53ef\u4ee5\u53bb\u9664\u5197\u6742\u7684$for$\u5faa\u73af\u4e86,\u540c\u65f6\u601d\u8def\u4e5f\u4f1a\u66f4\u4e3a\u6e05\u6670.\u7279\u522b\u662f\u5f53\u9700\u8981\u7684\u9650\u5236\u867d\u7136\u7b80\u5355\u4f46\u5f88\u591a\u65f6,\u4e00\u4e9b\u5947\u602a\u7684\u72b6\u6001\u5c31\u4f1a\u88ab\u6076\u5fc3\u5230......\u8fd9\u6837\u5199\u524d\u5bfc\u96f6,\u5361\u6700\u9ad8\u4f4d\u7684\u5904\u7406\u4e5f\u4f1a\u53d8\u5f97\u5f02\u5e38\u7684\u7b80\u5355.\n\n$code:$\n\n```cpp\n#include<stdio.h>\n#include<cmath> \n#include<algorithm>\n#include<cstring> \n#define ll long long\nusing namespace std;\n\nll a,b;\nll f[20][12][2][2];\n// len pre lim zero \nll s[20];\n\nll dfs(ll len,ll pre,bool lim,bool zero)\n{\n\tll &tmp=f[len][pre][lim][zero];\n\tif(~tmp) return tmp;\n\tif(!len) return tmp=1;\n\ttmp=0;\n\tll maxx=lim?s[len]:9;//\u5361\u6700\u9ad8\u4f4d\n\tll minn=zero?1:0;//\u5361\u524d\u5bfc\u96f6\n\tfor(ll i=minn;i<=maxx;i++)\n\t{\n\t\tif(abs(i-pre)<2) continue;\n\t\ttmp+=dfs(len-1,i,lim&&(i==maxx),0);\n\t}\n\treturn tmp;\n}\n\nll query(ll x)\n{\n\tif(x<=9) return x;\n\tmemset(f,-1,sizeof(f));\n\tll ans=0;\n\tll len=0;\n\tdo{\n\t\ts[++len]=x%10;\n\t\tx/=10;\n\t}while(x);//ps:\u8fd9\u6837\u5199\u5f88\u91cd\u8981!\u6709\u7684\u9898\u4f1a\u6709\u6570\u5b570,\u6bd4\u5982HDU\u7684\"\u4e0d\u898162\"\n\tans+=dfs(len,11,1,1);\n//\tprintf(\"%lld\\n\",ans);\n\tfor(ll i=len-1;i>=1;i--)\n\tans+=dfs(i,11,0,1);\n\treturn ans;\n}\n\nint main()\n{\n\tscanf(\"%lld%lld\",&a,&b);\n\tprintf(\"%lld\",query(b)-query(a-1));\n} \n \n```",
        "postTime": 1537893745,
        "uid": 83839,
        "name": "Katoumegumi",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "[\u66f4\u597d\u7684\u9605\u8bfb\u4f53\u9a8c](https://youngore.github.io/2020/10/10/windy%E6%95%B0/#more)\n\n\u9898\u76ee\u5927\u610f\uff1a\u6c42\u4e00\u6bb5\u533a\u95f4\u5185\u4e0d\u542b\u524d\u5bfc\u96f6\u4e14\u76f8\u90bb\u4e24\u4e2a\u6570\u5b57\u4e4b\u5dee\u81f3\u5c11\u4e3a2\u7684\u6b63\u6574\u6570\u7684\u4e2a\u6570\n\n\nPS\uff1a\u5f88\u4e45\u4ee5\u524d\u5199\u4e86\u4e00\u7bc7\u9898\u89e3\uff0c\u73b0\u5728\u65e0\u8bba\u662f\u4ece\u7801\u98ce\u8fd8\u662f\u4ee3\u7801\u5b9e\u73b0\u4e0a\u6765\u770b\uff0c\u90fd\u611f\u89c9\u90a3\u65f6\u5019\u662f\u4e2a\u50bb\u903c\n\n\u65f6\u9694\u5f88\u4e45\uff0c\u7ec8\u4e8e\u6709\u65f6\u95f4\u6765\u91cd\u65b0\u6574\u7406\u4e00\u4e0b\u601d\u8def\uff0c\u4fee\u6539\u4e00\u4e0b\u7801\u98ce\u3002\n\n\n\n\u5bf9\u4e8e\u8fd9\u9053\u9898\u76ee\uff0c\u6211\u4eec\u76f4\u63a5\u5728\u4e00\u6bb5\u524d\u540e\u6ca1\u6709\u533a\u95f4\u91cc\u641e\u7684\u8bdd\uff0c\u8c8c\u4f3c\u4e0d\u597d\u6c42\uff0c\u4e8e\u662f\u8fd0\u7528\u4e00\u4e0b\u5728\u533a\u95f4\u95ee\u9898\u91cc\u9762\u7ecf\u5178\u7684\u524d\u7f00\u548c\u601d\u60f3\u2014\u2014\n\n\u5bf9\u4e8e$[1,r]$\u6c42\u5f97\u4e00\u4e2a$res_1$\uff0c\u5728$[1,l-1]$\u6c42\u5f97\u4e00\u4e2a$res_2$\uff0c\u4e24\u8005\u505a\u5dee\u5373\u662f$[l,r]$\u5185\u7684$res$\n\n\n\n\u63a5\u4e0b\u6765\u8ba8\u8bba\u5982\u4f55\u6c42\u51fa$[1,\u4e00\u4e2a\u7aef\u70b9]$\u7684\u7b54\u6848\uff0c\n\n\u6211\u4eec\u8bbe$f[i][j]$\u8868\u793a\u5f53\u524d\u8fd9\u4e00\u4f4d\u662f$i$\uff0c\u4e0a\u4e00\u4f4d\u662f$j$\u7684\u65b9\u6848\u6570\u76ee\n\n\u7136\u540e\u8003\u8651\u8f6c\u79fb\uff1a\u6211\u4eec\u679a\u4e3e\u6bcf\u4e00\u4f4d\u7684$0$~$9$\uff0c\u7279\u522b\u7684\uff0c\u5982\u679c\u53d1\u73b0\u4e0a\u4e00\u4f4d\u662f\u6709\u9650\u5236\u7684\uff0c\u90a3\u4e48\u8fd9\u4e00\u4f4d\u7684\u4e0a\u9650\u4fbf\u4e0d\u518d\u662f9\uff0c\u53ea\u80fd\u662f\u539f\u6570\u4e2d\u7684\u90a3\u4e2a\u6570\u5b57\n\n\u4e3e\u4e2a\u4f8b\u5b50\uff1a\n\n\u5047\u5982\u539f\u6570\u4e3a$123456$\n\n\u6211\u4eec\u53ef\u4ee5\u4ece$122...$\u8f6c\u79fb\u5230$1229..$\uff0c\u4f46\u662f\u6211\u4eec\u663e\u7136\u4e0d\u80fd\u4ece$123...$\u8f6c\u79fb\u5230$1239..$\uff0c\u53ea\u80fd\u8f6c\u79fb\u5230$1234..$\u8fd9\u4e00\u4f4d\u4e0a\u9650**\u663e\u7136**\u53ea\u80fd\u662f4\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u5927\u529b\u8ba8\u8bba\u8f6c\u79fb\u4e86\u3002\n\n\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n\nconst int N = 666;\n\ninline int read()\n{\n   int s(0), w(1);\n   char ch = getchar();\n   while (ch < '0' || ch > '9') {if (ch == '-') w = -1; ch = getchar();}\n   while (ch >= '0' && ch <= '9') s = s * 10 + ch - '0', ch = getchar();\n   return s * w;\n}\n\ninline void put(int x)\n{\n   if (! x) putchar('0');\n   if (x < 0) putchar('-'), x = -x;\n   int num(0); char c[66];\n   while (x) c[++ num] = x % 10 + 48, x /= 10;\n   while (num) putchar(c[num --]);\n   return (void)(putchar('\\n'));\n}\n\nint n, m, cnt;\nint num[N], f[N][N];\n/*\npos \u5f53\u524d\u679a\u4e3e\u7684\u54ea\u4e00\u4f4d\npre \u4e0a\u4e00\u4f4d\u662f\u8c01\nflag \u4e0a\u4e00\u4f4d\u662f\u5426\u8fbe\u5230\u4e86\u9650\u5236\uff0c\u6362\u8a00\u4e4b\uff0c\u524d\u8fb9\u641c\u5230\u7684\u6570\u5b57\uff0c\u662f\u5426\u548c\u539f\u6570\u5b57\u5339\u914d\u4e86\nlim \u662f\u5426\u6709\u524d\u5bfc\u96f6\n*/\ninline int dfs(int pos, int pre, int flag, int lim)\n{\n   if (! pos) return 1;\n   if (! flag && f[pos][pre] != -1 && !lim) return f[pos][pre];\n   int i, nex, res(0);\n   nex = flag ? num[pos] : 9;\n   for (i = 0; i <= nex; ++ i)\n   {\n      int delta = abs(pre - i);\n      if (delta < 2 && ! lim) continue;\n\t  if (i == nex && flag) res += dfs(pos - 1, i, 1, 0);\n\t  else res += (i || ! lim) ? dfs(pos - 1, i, 0, 0) : dfs(pos - 1, i, 0, 1);\n   }\n   if (! flag && ! lim) f[pos][pre] = res;\n   return res;\n}\n\ninline int calc(int x)\n{\n   memset (f, -1, sizeof f), cnt = 0;\n   while (x) num[++ cnt] = x % 10, x /= 10;\n   return dfs(cnt, 0, 1, 1);\n}\n\nsigned main ()\n{\n   n = read(), m = read();\n   put(calc(m) - calc(n - 1));\n   return 0;\n}\n\n```\n",
        "postTime": 1583683899,
        "uid": 247889,
        "name": "Youngore",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u4e00\u9053\u6570\u4f4dDP\u7684\u677f\u5b50\u9898\uff08\u4e0d\u4f1a\u7684\u81ea\u884c\u767e\u5ea6\uff09\uff0c\u53ea\u9700\u8981\u5728DP\u8fc7\u7a0b\u4e2d\u7ef4\u62a4\u4e0b\u5217\u51e0\u4e2a\u6570\u503c\u5373\u53ef\uff1a\n\n1.DP\u5230\u7b2c\u51e0\u4f4d\uff08ws\uff09\uff0c\u7ef4\u62a4\u65b9\u6cd5\uff0c\u5f00\u59cb\u65f6\u8bbe\u4e3a\u4e0a\u9650\u6570\u7684\u4f4d\u6570\uff0c\u7136\u540e\u6bcf\u6b21\u5411\u4e0b\u679a\u4e3e\u65f6-1s\uff0c\u5f53ws\u4e3a0\u65f6\u8f93\u51fasum\u5e76\u4e14\u9000\u51fa\u679a\u4e3e\u5373\u53ef\u3002\n\n2.DP\u4e2d\u5bf9\u83b7\u5f97\u7684\u7ed3\u679c\u7684\u8bb0\u5f55\uff08sum\uff09\uff0c\u7ef4\u62a4\u65b9\u6cd5\uff0c\u5f00\u59cb\u65f6\u8bbe\u4e3a0\uff0c\u5f53ws\u4e3a1\u65f6\u5224\u65ad\u6b64\u6570\u662f\u5426\u4e3a0\uff0c\u4e0d\u662f\u7684\u8bdd\u5c31+1s\n\n3.\u524d\u5bfc\u96f6\uff08zero\uff09\uff0c\u7ef4\u62a4\u65b9\u6cd5\uff0c\u5f00\u59cb\u65f6\u8bbe\u4e3a0\uff08\u6709\u524d\u5bfc\u96f6\uff09\uff0c\u540e\u9762\u679a\u4e3e\u65f6\u5f53\u5f53\u524d\u4f4d\u7f6e\u4e0d\u4e3a0\u6216\u679a\u4e3e\u5f53\u524d\u4f4d\u524d\u524d\u5bfc\u96f6\u5373\u4e0d\u4e3a0\u65f6\u8bbe\u4e3a1\uff08\u65e0\u524d\u5bfc\u96f6\uff09\uff0c\u5176\u4f59\u65f6\u523b\u8bbe\u4e3a0\u5373\u53ef\u3002\n\n4\uff0c\u4e0a\u4e00\u4f4d\u6570\u5b57\uff08pr\uff09\uff0c\u7ef4\u62a4\u65b9\u6cd5\uff0c\u5f00\u59cb\u65f6\u8bbe\u4e3a0\uff0c\u540e\u9762\u76f4\u63a5\u4f20\u4e0b\u53bb\u5373\u53ef\u3002\n\n5\uff0c\u679a\u4e3e\u4e0a\u9650\uff08rua\uff09\u7ef4\u62a4\u65b9\u6cd5\uff0c\u8fd9\u4e2a\u6ca1\u4ec0\u4e48\u8bf4\u7684\uff0c\u5982\u679c\u679a\u4e3e\u5f53\u524d\u4f4d\u524d\u5c31\u6ca1\u6709\u8fbe\u5230\u4e0a\u9650\u6216\u8005\u662f\u679a\u4e3e\u7684\u6570\u5b57\u4e0d\u662f\u8fd9\u4e00\u4f4d\u4e0a\u9650\u65f6\u8bbe\u4e3a0\uff08\u672a\u8fbe\u5230\u4e0a\u9650\uff09\uff0c\u5176\u4f59\u8bbe\u4e3a1\uff08\u8fbe\u5230\u4e0a\u9650\uff09\u5373\u53ef\u3002\n\n\u987a\u4fbf\u5f3a\u8c03\u4e00\u70b9\uff0cmemset\u4e00\u5b9a\u8981\u5728\u6bcf\u6b21DP\u524d\u90fd\u8981\u505a\uff0c\u4e0d\u505a\u7684\u8bdd\u4f1a\u7206\u96f6\u3002\n\n\u6700\u540e\u8d34\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\nusing namespace std;\ntypedef long long ll;\nll jojo[20][5000][2][15][2],l1,l2;\nint dio[1000+1];\nbool pd(int k1,int k2)\n{\n    if(abs(k1-k2)<2)\n    {\n        return 0;\n    }\n    else\n    {\n        return 1;\n    }\n}\nll wyyyy(int ws,ll sum,bool zero,int pr,bool rua)\n{\n    if(jojo[ws][sum][zero][pr][rua]!=-1)\n    {\n        return jojo[ws][sum][zero][pr][rua];\n    }\n    if(ws==0)\n    {\n        return sum;\n    }\n    ll res=0;\n    for(int j=0;j<=9;j++)\n    {\n        if(rua==1 and j>dio[ws])\n        {\n            break;\n        }\n        if(pd(pr,j)==1 or zero==0)\n        {\n            res=res+wyyyy(ws-1,sum+((ws==1)&&(j!=0||zero!=0)),(zero==1||j!=0),j,(rua==1&&j==dio[ws]));\n        }\n    }\n    jojo[ws][sum][zero][pr][rua]=res;\n    return jojo[ws][sum][zero][pr][rua];\n}\nll dp(ll gg)\n{\n    memset(jojo,-1,sizeof(jojo));    \n    int ff=0;\n    int go=0;\n    while(gg>0)\n    {\n        go=gg%10;\n        ff++;\n        dio[ff]=go;\n        gg=gg/10;\n    }\n    return wyyyy(ff,0,0,0,1);\n}\nint main()\n{\n    scanf(\"%lld%lld\",&l1,&l2);\n    ll sdw=dp(l2)-dp(l1-1);\n    printf(\"%lld\",sdw);\n    return 0;\n}\n```\n\u4e2a\u4eba\u77e5\u8bc6\u6d45\u8584\uff0c\u6c34\u5e73\u80fd\u529b\u6709\u9650\uff0c\u8bed\u8a00\u7ec4\u7ec7\u80fd\u529b\u5dee\uff0c\u53ea\u80fd\u7ed9\u5927\u5bb6\u5206\u4eab\u4e00\u4e0b\u6211\u5bf9\u4e8e\u8fd9\u9053\u9898\u7684\u4e00\u4e9b\u770b\u6cd5\uff0c\u60f3\u8981\u5bf9\u6570\u4f4dDP\u4e86\u89e3\u66f4\u591a\u7684\u53ef\u4ee5\u53bb\u4e00\u4e9b\u5927\u4f6c\u7684\u535a\u5ba2\u53bb\u6c42\u53d6\u771f\u7ecf\u3002",
        "postTime": 1516766587,
        "uid": 48480,
        "name": "\u5409\u826f\u5409\u5f71",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "[P2657](/problem/P2657)\n\n\u5728\u9898\u89e3\u754c\u9762\u91cc LaTeX \u53ef\u80fd\u4f1a\u6302\uff0c\u8bf7\u53bb [\u535a\u5ba2](https://www.luogu.com.cn/blog/zhy123456/shu-wei-dp) \u91cc\u67e5\u770b\u3002\n\n## \u9884\u5904\u7406\uff08\u72b6\u6001\uff09\n\n\u8bbe $f_{i,j}$ \u8868\u793a\u7b2c $i$ \u4f4d\uff08\u4e2a\u4f4d\u4e3a\u7b2c $1$ \u4f4d\uff09\u7684\u6570\u5b57\u662f $j$ \u7684 $i$ \u4f4d\u6570\u4e2d\uff0c\u6709\u591a\u5c11 windy \u6570\u3002\n\n\u4f8b\u5982\uff0c$f_{3,5}$ \u8868\u793a $[500,600)$ \u4e2d windy \u6570\u7684\u4e2a\u6570\u3002\n\n\u90a3\u5982\u4f55\u8ba1\u7b97 $f_{3,5}$ \u5462\uff1f\n\n$$500\\sim599=\\begin{cases}\n\t500\\sim509\\implies00\\sim09=f_{2,0}\\\\\n    510\\sim519\\implies10\\sim19=f_{2,1}\\\\\n    520\\sim529\\implies20\\sim29=f_{2,2}\\\\\n    530\\sim539\\implies30\\sim39=f_{2,3}\\\\\n    \\xcancel{540\\sim549}\\\\\n    \\xcancel{550\\sim559}\\\\\n    \\xcancel{560\\sim569}\\\\\n    570\\sim579\\implies70\\sim79=f_{2,7}\\\\\n    580\\sim589\\implies80\\sim89=f_{2,8}\\\\\n    590\\sim599\\implies90\\sim99=f_{2,9}\\\\\n\\end{cases}$$\n\n\u6ce8\u610f\u5230 $540\\sim560$ \u4e2d\u6ca1\u6709 windy \u6570\u3002\n\n\u6613\u8bc1 $500\\sim509$ \u4e2d\u7684 windy \u6570\u548c $00\\sim09$\uff08\u5305\u62ec\u524d\u5bfc 0\uff09\u4e2d\u7684 windy \u6570\u4e00\u4e00\u5bf9\u5e94\uff0c\u5176\u4ed6\u540c\u7406\u3002\n\n\u4e8e\u662f\u5199\u51fa\u4ee3\u7801\uff1a\n\n```cpp\nfor(int i=0;i<10;i++) f[1][i]=1;//1 \u4f4d\u6570\u90fd\u662f windy \u6570\n//\u7279\u6b8a\u5730\uff0c0 \u4f4d\u6570\u5373 0\uff0c\u4e5f\u53ef\u4ee5\u88ab\u8ba4\u4e3a\u662f windy \u6570\uff08\u867d\u7136\u4e0d\u6ee1\u8db3\u5b9a\u4e49\uff09\nfor(int i=2;i<=10;i++)//\u679a\u4e3e\u4f4d\u6570\n\tfor(int j=0;j<10;j++)//\u679a\u4e3e\u7b2c i \u4f4d\u7684\u6570\n\t\tfor(int k=0;k<10;k++)//\u679a\u4e3e\u7b2c i-1 \u4f4d\u7684\u6570\n\t\t\tif(abs(j-k)>1)//\u5982\u679c\u5dee\u5927\u4e8e\u7b49\u4e8e 2\n\t\t\t\tf[i][j]+=f[i-1][k];//\u7d2f\u52a0\u4e0a\n```\n\n## \u8ba1\u7b97 I\n\n$l\\sim r$ \u7684 windy \u6570\u4e0d\u597d\u6c42\uff0c\u53ef\u4ee5\u5c06 $0\\sim r$ \u4e2d windy \u6570\u7684\u4e2a\u6570\u51cf\u53bb $0\\sim l-1$ \u4e2d windy \u6570\u7684\u4e2a\u6570\u6c42\u5f97\u3002\u4e8e\u662f\u5b9a\u4e49 $g_i$ \u51fd\u6570\uff0c\u8868\u793a $0\\sim i$ \u4e2d windy \u6570\u7684\u4e2a\u6570\u3002\n\n\u4f8b\u5982\uff0c\u5982\u4f55\u8ba1\u7b97 $g_{2451}$\u5462\uff1f\n\n$$g_{2451}=\\begin{cases}\n\t0\\sim1999\\\\\n    2000\\sim2399\\\\\n    2400\\sim2449\\\\\n    2450\\sim2450\n\\end{cases}$$\n\n\u7b49\u7b49\uff0c\u6700\u540e\u4e00\u4e2a\u4e0d\u662f $2450\\sim2451$ \u5417\uff1f  \n\u89c2\u5bdf\u524d\u51e0\u4e2a\u8303\u56f4\uff0c\u53d1\u73b0\u90fd\u662f\u5230\u8be5\u4f4d\u5c11 $1$\uff0c\u800c\u4e2a\u4f4d\u5355\u72ec\u7279\u5224\u4e00\u4e0b\u6bd4\u8f83\u9ebb\u70e6\uff0c\u6240\u4ee5\u66f4\u6539\u5b9a\u4e49\uff1a$g_{i}$ \u8868\u793a $0\\sim i-1$ \u4e2d windy \u6570\u7684\u4e2a\u6570\u3002\n\n\u7ee7\u7eed\uff1a\n\n$$0\\sim1999=\\begin{cases}\n\t0\\sim999=f_{4,0}\\\\\n    1000\\sim1999=f_{4,1}\n\\end{cases}$$\n\n\u4e0a\u5f0f\u5bf9\u5417\uff1f\u4e0d\u5bf9\uff01\n\n\u8fd8\u8bb0\u5f97 $f_{3,0}$ \u8868\u793a\u7684\u662f $0000\\sim0999$ \u4e2d windy \u6570\u7684\u4e2a\u6570\u5417\uff1f\u8fd9\u662f\u5e26\u524d\u5bfc 0 \u7684\uff0c\u800c\u8981\u6c42\u7684\u4e0d\u80fd\u5e26\u524d\u5bfc 0\u3002  \n\u6bd4\u5982 $1$ \u662f windy \u6570\uff0c\u800c $0001$ \u4e0d\u662f\u3002\n\n\u600e\u4e48\u529e\u5462\uff1f\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a $s$ \u51fd\u6570\u3002\n\n## $s$ \u51fd\u6570\n\n$s_i$ \u8868\u793a $0\\sim10^i-1$\uff08\u4e0d\u5e26\u524d\u5bfc 0\uff09\u4e2d windy \u6570\u7684\u4e2a\u6570\u3002\n\n\u4f8b\u5982 $s_3$\uff1a\n\n$$0\\sim999=\\begin{cases}\n\t0\\sim99=s_2\\\\\n    100\\sim199=f_{3,0}\\\\\n    200\\sim299=f_{3,1}\\\\\n    \\cdots\\\\\n    900\\sim999=f_{3,9}\n\\end{cases}$$\n\n$s$ \u51fd\u6570\u53ef\u4ee5\u5728\u8ba1\u7b97 $f$ \u7684\u65f6\u5019\u540c\u65f6\u8ba1\u7b97\u51fa\u6765\uff1a\n\n```cpp\nsum[0]=1; sum[1]=10;//\u8fd9\u4fe9\u8981\u63d0\u524d\u7b97\nfor(int i=2;i<=15;i++){\n\tfor(int j=0;j<10;j++)\n\t\tfor(int k=0;k<10;k++)\n\t\t\tif(abs(j-k)>1)\n\t\t\t\tf[i][j]+=f[i-1][k];\n\tsum[i]=sum[i-1];\n\tfor(int j=1;j<10;j++) sum[i]+=f[i][j];\n}\n```\n\n## \u8ba1\u7b97 II\n\n\u56de\u6765\u7ee7\u7eed\u7b97 $g_{2451}$\u3002\n\n$$g_{2451}=\\begin{cases}\n\t0\\sim1999=\\begin{cases}\n\t\t0\\sim999=s_3\\\\\n    \t1000\\sim1999=f_{4,1}\n\t\\end{cases}\\\\\n    2000\\sim2399=\\begin{cases}\n    \t2000\\sim2099\\implies000\\sim099=f_{3,0}\\\\\n        \\xcancel{2100\\sim2199}\\\\\n        \\xcancel{2200\\sim2299}\\\\\n        \\xcancel{2300\\sim2399}\n    \\end{cases}\\\\\n    2400\\sim2449=\\begin{cases}\n    \t2400\\sim2409\\implies00\\sim09=f_{2,0}\\\\\n        2410\\sim2419\\implies10\\sim29=f_{2,1}\\\\\n        2420\\sim2429\\implies10\\sim29=f_{2,2}\\\\\n        \\xcancel{2430\\sim2439}\\\\\n        \\xcancel{2440\\sim2449}\n    \\end{cases}\\\\\n    \\xcancel{2450\\sim2450}\n\\end{cases}$$\n\n\u5927\u6982\u90fd\u662f\u80fd\u770b\u61c2\u7684\uff0c\u8fd9\u91cc\u8bf4\u4e00\u4e0b\u6700\u540e\u4e00\u884c\uff1a\u56e0\u4e3a\u5341\u4f4d\u548c\u767e\u4f4d\u5dee\u5c0f\u4e8e $2$\uff0c\u6240\u4ee5\u6574\u4e2a\u90fd\u5f03\u6389\u4e86\u3002\u6240\u4ee5\u4e00\u65e6\u53d1\u73b0\u76f8\u90bb\u4e24\u4f4d\u5dee\u5c0f\u4e8e $2$\uff0c\u76f4\u63a5\u8df3\u51fa\u4e0d\u518d\u7b97\u3002\n\n\u601d\u8def\u4e86\u89e3\u4e86\uff0c\u5c31\u8981\u5199\u4ee3\u7801\u4e86\uff1a\n\n```cpp\nint work(int x){\n\tint cnt=0,ans=0;//cnt \u662f x \u7684\u4f4d\u6570\uff0cans \u8bb0\u5f55\u7b54\u6848\n\tfor(;x;x/=10) a[++cnt]=x%10;//\u5c06 x \u7684\u5404\u4f4d\u5b58\u5230\u6570\u7ec4\u91cc\uff0c\u65b9\u4fbf\u5904\u7406\n\tans+=sum[cnt-1];//\u8fd9\u884c\u548c\u4e0b\u4e00\u884c\u8ba1\u7b97\u6700\u9ad8\u4f4d\n\tfor(int i=1;i<a[cnt];i++) ans+=f[cnt][i];\n\tfor(int i=cnt-1;i;i--){//\u8ba1\u7b97\u5269\u4f59\u6bcf\u4f4d\n\t\tfor(int j=0;j<a[i];j++)\n\t\t\tif(abs(j-a[i+1])>1) ans+=f[i][j];\n\t\tif(abs(a[i+1]-a[i])<2) break;//\u5982\u679c\u5dee\u5c0f\u4e8e2\uff0c\u8df3\u51fa\n\t}\n\treturn ans;\n}\n```\n\n## \u5b8c\u6574\u4ee3\u7801\n\n```cpp\n#include<iostream>\n#include<cmath>\nusing namespace std;\nint lft,rght,f[20][20],sum[20],a[20];\nint work(int x){\n\tint cnt=0,ans=0;\n\tfor(;x;x/=10) a[++cnt]=x%10;\n\tans+=sum[cnt-1];\n\tfor(int i=1;i<a[cnt];i++) ans+=f[cnt][i];\n\tfor(int i=cnt-1;i;i--){\n\t\tfor(int j=0;j<a[i];j++)\n\t\t\tif(abs(j-a[i+1])>1) ans+=f[i][j];\n\t\tif(abs(a[i+1]-a[i])<2) break;\n\t}\n\treturn ans;\n}\nint main(){\n\tcin>>lft>>rght;\n\tfor(int i=0;i<10;i++) f[1][i]=1;\n\tsum[0]=1; sum[1]=10;\n\tfor(int i=2;i<=15;i++){\n\t\tfor(int j=0;j<10;j++)\n\t\t\tfor(int k=0;k<10;k++)\n\t\t\t\tif(abs(j-k)>1)\n\t\t\t\t\tf[i][j]+=f[i-1][k];\n\t\tsum[i]=sum[i-1];\n\t\tfor(int j=1;j<10;j++) sum[i]+=f[i][j];\n\t}\n\tcout<<work(rght+1)-work(lft)<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1588207190,
        "uid": 178294,
        "name": "zhy137036",
        "ccfLevel": 9,
        "title": "\u6570\u4f4d dp"
    },
    {
        "content": "# P2657 [SCOI2009]windy\u6570\n\n### \u9898\u76ee\u63cf\u8ff0\nwindy\u5b9a\u4e49\u4e86\u4e00\u79cdwindy\u6570\u3002\u4e0d\u542b\u524d\u5bfc\u96f6\u4e14\u76f8\u90bb\u4e24\u4e2a\u6570\u5b57\u4e4b\u5dee\u81f3\u5c11\u4e3a2\u7684\u6b63\u6574\u6570\u88ab\u79f0\u4e3awindy\u6570\u3002 windy\u60f3\u77e5\u9053\uff0c\n\n\u5728A\u548cB\u4e4b\u95f4\uff0c\u5305\u62ecA\u548cB\uff0c\u603b\u5171\u6709\u591a\u5c11\u4e2awindy\u6570\uff1f\n\n\n### \u8f93\u5165\u683c\u5f0f\n\n\u5305\u542b\u4e24\u4e2a\u6574\u6570\uff0cA B\u3002\n\n### \u8f93\u51fa\u683c\u5f0f\n\n\u4e00\u4e2a\u6574\u6570\n\n&nbsp;\n## \u601d\u8def\n\u9996\u5148\u5f88\u660e\u663e\u8fd9\u662f\u4e00\u4e2a\u6570\u4f4ddp\uff0c~~\u6211\u89c9\u5f97~~\u6570\u4f4ddp\u5728dp\u91cc\u9762\u662f\u5f88\u6709\u5f88\u6709\u5957\u8def\u6027\u7684\uff0c\u5927\u90e8\u5206\u90fd\u662f\u9884\u5904\u7406\u7b54\u6848+\u7edf\u8ba1\u5e76\u7d2f\u52a0\u7b54\u6848\u3002\n\n\u90a3\u4e48\u8fd9\u9053\u9898\u8be2\u95ee\u4e00\u4e2a\u533a\u95f4[A,B]\uff0c\u5982\u679c\u7528\u66b4\u529b\u7684\u601d\u7ef4\u76f4\u63a5\u4eceA\u679a\u4e3e\u5230B\u60f3\u5fc5\u662f\u4f1a\u8d85~~\u9ebb\u70e6~~\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u7528\u524d\u7f00\u548c\u3002\u901a\u8fc7\u7b97\u6cd5\u6c42\u51fa[0,K]\u7684\u7b54\u6848\u4e2a\u6570\u518d\u8fdb\u884c\u52a0\u51cf\u5373\u53ef\u83b7\u5f97[A,B]\u7684\u7b54\u6848\u4e2a\u6570\u3002\n\n\u6211\u4eec\u9996\u5148\u9884\u5904\u7406\u5f97\u5230dp[i][j]\uff0c\u8868\u793a\u8fd9\u4e2a\u6570\u7684\u6700\u9ad8\u4f4d \u7b2ci\u4f4d \u662fj\u65f6windy\u6570\u7684\u4e2a\u6570\uff08j\u6b64\u65f6\u662f\u4e0d\u662f0\u6211\u4eec\u4e0d\u7ba1\uff09\u3002\u8f6c\u79fb\u65b9\u7a0bdp[i][j] = sum{dp[i-1][k]} k\u5728[0,9]\u4e4b\u95f4\u4e14|k-j|>=2\u3002\n\n\u90a3\u4e48\u5982\u4f55\u7528dp\u6570\u7ec4\u6c42[0,K]\u7684\u7b54\u6848\u4e2a\u6570\u5462\uff1f\u6211\u4eec\u5148\u5047\u8bbeK\u662f53575\uff08\u662f\u4e00\u4e2awindy\u6570\uff09\n\n\u6211\u4eec\u8003\u8651\u6240\u6709\u6700\u9ad8\u4f4d\u662f[1,5)\u7684\u4e94\u4f4d\u6570[10000,49999]\n\n\u7136\u540e\u518d\u628a\u7b54\u6848\u52a0\u4e0a\u6240\u6709\u4f4d\u6570\u5c0f\u4e8e\u4e94\u4f4d\u7684wendy\u6570\uff08\u8fd9\u4e24\u6b65\u6bd4\u8f83\u597d\u7406\u89e3\uff09\n\n\u6700\u540e\u7edf\u8ba1[50000,K],\u56e0\u4e3a\u6700\u9ad8\u4f4d5\u5df2\u7ecf\u5b9a\u4e86\u6240\u4ee5\u6211\u4eec\u4ece\u6b21\u9ad8\u4f4d\u4f9d\u6b21\u5f80\u4f4e\u4f4d\u626b\u63cf,\u7136\u540e\u679a\u4e3e\u5c0f\u4e8e\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u6570 \u4e14\u7b26\u5408\u8981\u6c42\u7684\u6570\u7684\u4e2a\u6570\u3002\u6bd4\u5982\u8bf4\u6211\u4eec\u5230\u4e863, 2\u30011\u30010\u90fd\u5c0f\u4e8e3\u4e14\u548c\u524d\u4e00\u4f4d5\u7684\u5dee\u503c\u5927\u4e8e2\uff0c\u6240\u4ee5\u7b54\u6848+=dp[4][2]+dp[4][1]+dp[4][0]\uff0c\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u8ba4\u4e3a\u8fd9\u4e00\u4f4d\u5c31\u662f3\uff0c\u7136\u540e\u770b\u4e0b\u4e00\u4f4d5......\u4ee5\u6b64\u7c7b\u63a8\n\n\u5982\u679c\u8fd9\u4e2a\u6570\u662f53475\u6211\u4eec\u4fbf\u4e0d\u80fd\u8ba4\u4e3a\u7b2c\u4e09\u4f4d\u662f4\u4e86\uff08\u56e0\u4e3a3\u548c4\u5dee\u503c\u5c0f\u4e8e2\uff09\u6240\u4ee5\u540e\u9762\u7684\u89e3\u90fd\u5df2\u7ecf\u7edf\u8ba1\u8fc7\u4e86\uff0c\u53ef\u4ee5\u8df3\u51fa\u5faa\u73af\u8fd4\u56de\u7b54\u6848\uff08\u60f3\u60f3\u8fd9\u662f\u4e3a\u4ec0\u4e48\uff09\n\n\u4e0b\u9762\u770b\u4ee3\u7801\u5427\u6ce8\u91ca\u633a\u591a\u7684\n\n```c++\n#include <iostream>\n#include <cstdio>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\n#define ll long long\n#define re register\n\nint dp[20][15];//dp[i][j]\u8bb0\u5f55\u6700\u9ad8\u4f4d\uff08\u7b2ci\u4f4d\uff09\u662fj\u65f6 windy\u6570\u7684\u4e2a\u6570\nint temp[20];//\u7528\u6765\u62c6\u5206\u6570\u4f4d\u7684\u4e34\u65f6\u6570\u7ec4\nint a, b;//\u9898\u76ee\u8f93\u5165\nint abs(int x) { return x > 0 ? x : -x; } //\u624b\u5199abs\ninline int read()\n{\n\tint x = 0, f = 1;\n\tchar c = getchar();\n\twhile (c < '0' || c > '9') { if (c == '-') f = -1; c = getchar(); }\n\twhile (c >= '0' && c <= '9') { x = x * 10 + c - '0'; c = getchar(); }\n\treturn x * f;\n}\nint fx(int x)//\u8ba1\u7b97 [0,x) \u4e4b\u95f4\u7684windy\u6570\u4e2a\u6570 \u540e\u9762\u4f1a\u89e3\u91ca\u4e3a\u4ec0\u4e48\u5de6\u95ed\u53f3\u5f00\n{\n\tint l = 0, ans = 0; //\u6570\u5b57\u7684\u4f4d\u6570 \u7b54\u6848\n\tmemset(temp, 0, sizeof(temp)); //\u521d\u59cb\u5316\n\twhile (x)\n\t{\n\t\ttemp[++l] = x % 10;\n\t\tx /= 10;\n\t}//\u62c6\u6570\n\tfor (int i = 1; i < temp[l]; i++)\n\t\tans += dp[l][i];\n\t//\u7edf\u8ba1\u4f4d\u6570\u662fl\u7684\u4e14\u4e25\u683c\u5c0f\u4e8ex\u7684windy\u6570\u4e2a\u6570\n\tfor (int i = 1; i < l; i++)\n\t\tfor (int j = 1; j <= 9; j++)\n\t\t\tans += dp[i][j];\n\t//\u7edf\u8ba1\u4f4d\u6570\u5728[0,l)\u4e4b\u95f4\u7684windy\u6570\u4e2a\u6570\n\tfor (int i = l - 1; i >= 1; i--)\n\t{//\u5bf9\u4e8e\u9664\u6700\u9ad8\u4f4d\u7684\u6bcf\u4e00\u4f4d\uff0c\u6211\u4eec\u679a\u4e3e\u4ed6\u4eec\u5c0f\u4e8etemp[i]\u7684\u6240\u6709\u60c5\u51b5\uff0c\u7136\u540e\u9ed8\u8ba4\u4ed6\u4eec\u7b49\u4e8etemp[i]\uff0c\u7d2f\u52a0\u81f3\u7b54\u6848\n\t\tfor (int j = 0; j < temp[i]; j++)\n\t\t{\n\t\t\tif (abs(j - temp[i + 1]) >= 2) ans += dp[i][j];\n\t\t}//\u7136\u540e\u9ed8\u8ba4\u4ed6\u4eec\u5c31\u662ftemp[i]\uff0c\u6765\u5224\u65ad\u540e\u9762\u7684\u6570\u4f4d\u662f\u5426\u5408\u6cd5\n\t\tif (abs(temp[i] - temp[i + 1]) < 2) break;\n\t\t//\u82e5\u679a\u4e3e\u7684\u8fd9\u4e00\u4f4d\u548c\u524d\u4e00\u4f4d\u5dee\u503c\u5c0f\u4e8e2 \u8fd9\u4e00\u4f4d\u548c\u524d\u4e00\u4f4d\u4e0d\u80fd\u540c\u65f6\u662f\u539f\u6570 \u6240\u4ee5\u8fd9\u79cd\u60c5\u51b5\u5df2\u7ecf\u7edf\u8ba1\u8fc7\u4e86 \u4e8e\u662f\u9000\u51fa\n\t}\n\t//\u82e5x\u6070\u597d\u662f\u4e00\u4e2awindy\u6570 \u56e0\u4e3a\u4e0a\u9762j\u5faa\u73af\u6ca1\u6709\u5faa\u73af\u5230temp[i] \u6240\u4ee5dp[1][temp[1]]\u6ca1\u6709\u5bf9\u7b54\u6848\u6709\u8d21\u732e\n\t//\u6240\u4ee5\u8bf4fx()\u7684\u533a\u95f4\u662f\u5de6\u95ed\u53f3\u5f00\u7684\n\treturn ans;\n}\n\nint main()\n{\n\tfor (int i = 0; i <= 9; i++) dp[1][i] = 1;\n\tfor (int i = 2; i <= 15; i++)\n\t{\n\t\tfor (int j = 0; j <= 9; j++)\n\t\t{\n\t\t\tfor (int k = 0; k <= 9; k++)\n\t\t\t{\n\t\t\t\tif (abs(j - k) >= 2)\n\t\t\t\t{\n\t\t\t\t\tdp[i][j] += dp[i - 1][k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}//\u521d\u59cb\u5316\n\ta = read(), b = read();\n\tcout << fx(b + 1) - fx(a); //f[x]\u6c42\u5f97\u7684\u533a\u95f4\u662f\u5de6\u95ed\u53f3\u5f00\u7684\n\treturn 0;\n}\n```",
        "postTime": 1564580431,
        "uid": 92008,
        "name": "Yuyuanqi",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "~~\u8fd9\u4e00\u770b\u5c31\u662f\u4e00\u4e2a\u5206\u6bb5\u6253\u8868\u9898~~\n\n\u601d\u8def\uff1a\u6bcf\u9694 $1000000$ \u5206\u4e00\u6bb5\uff0c\u603b\u5171 $2000$ \u6bb5\u3002\u9884\u5148\u6253\u8868\u8ba1\u7b97\u51fa\u6bcf\u4e00\u6bb5\u5f53\u4e2d\u7684 windy \u6570\u4e2a\u6570\uff0c\u6839\u636e\u8f93\u5165\u786e\u5b9a $A,B$ \u5728\u54ea\u4e00\u6bb5\u5f53\u4e2d\u3002\u5982\u679c\u5728\u540c\u4e00\u6bb5\uff0c\u90a3\u5c31\u76f4\u63a5\u66b4\u529b\u3002\u5426\u5219\u5148\u628a\u4e2d\u95f4\u90a3\u4e9b\u6bb5\u6c42\u548c\uff0c\u518d\u5bf9\u4e24\u5934\u7684\u5c0f\u5757\u66b4\u529b\u3002\n\n\u6709\u70b9\u7c7b\u4f3c\u5206\u5757\uff1a\u7ef4\u62a4\u5927\u7684\uff0c\u66b4\u529b\u5c0f\u7684\u3002\n\n\u73b0\u6709\u9898\u89e3\u6253\u8868\u662f\u6c42\u51fa $1$ ~ $n$ \u7684 windy \u6570\u4e2a\u6570\uff0c\u6700\u540e\u7edf\u8ba1\u7b54\u6848\u9700\u8981\u641e\u4e00\u641e\u524d\u7f00\u548c\u3002\u5982\u679c\u6253\u8868\u7684\u65f6\u5019\u8ba1\u7b97\u6bcf\u4e00\u6bb5\u7684 windy \u6570\u4e2a\u6570\uff0c\u6700\u540e\u76f4\u63a5\u8ba1\u7b97\u5c31\u53ef\u4ee5\u4e86\uff0c\u611f\u89c9\u65b9\u4fbf\u4e00\u4e9b\u3002\n\n### \u5224\u65ad\u662f\u4e0d\u662f\u4e00\u4e2a windy \u6570\n```cpp\nbool calc(int x) {\n    int last = x % 10; x /= 10;\n    while (x) {\n        int now = x % 10; x /= 10;\n        if (abs(last - now) < 2) return false;\n        last = now;\n    }\n    return true;\n}\n```\n\n### \u751f\u6210\u8868\uff08\u5927\u6982\u4e24\u4e09\u5206\u949f\u8dd1\u5b8c\uff09\n```cpp\nvoid makeTable() {\n    for (int i = 1; i <= 2000000000; i += 1000000) {\n        int l = i, r = std::min(2000000000ll, i + 1000000 - 1), ans = 0;\n        rep(j, l, r) if (calc(j)) ++ans;\n        print(ans), pc(','), pc(' ');\n    }\n}\n```\n\n### \u4e3b\u7a0b\u5e8f\n```cpp\nvoid solution() {\n    int a = read(), b = read(), ans = 0;\n    int blockA = a / 1000000 + 1, blockB = b / 1000000 + 1;\n    // \u540c\u4e00\u5757\u7684\u76f4\u63a5\u66b4\u529b\u641e\uff0c\u5426\u5219\u7528\u8868\u3002\n    if (blockA == blockB) { rep(i, a, b) ans += calc(i); println(ans); return; }\n    rep(i, blockA + 1, blockB - 1) ans += table[i];\n    rep(i, a, a / 1000000 * 1000000 + 1000000) ans += calc(i);\n    rep(i, b - b % 1000000, b) ans += calc(i);\n    println(ans);\n}\n```\n\n### \u6700\u540e\u628a\u8868\u8d34\u4e0a\n```cpp\nconst int table[] = { -1, 202174, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      155315, 136131, 138503, 138214, 138252, 138252, 138214, 138503, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 138503, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      0, 0, 0, 138214, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 0, 0, 0, 138252, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 0, 0, 0, 138252, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 0, 0, 0, 138214, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 0, 0, 0, 138503, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 0, 0, 0, 136131, 155315, \n                      155315, 136131, 138503, 138214, 138252, 138252, 0, 0, 0, 155315, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0, \n                      0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };\n```\n\n### \u6700\u540e\u6e90\u7a0b\u5e8f\u5927\u5c0f 17 KB\uff0c\u6ca1\u6709\u8d85\u8fc7 NOI \u7cfb\u5217\u8d5b\u4e8b\u7684 100 KB \u9650\u5236\u3002",
        "postTime": 1540967810,
        "uid": 53062,
        "name": "Anguei",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u6570\u4f4d DP \u7ecf\u5178\u9898\n\n~~\u4e0a\u8bfe\u65f6\u8001\u5e08\u5e26\u7740\u6211\u4eec\u6253\u7684\uff0c\u5199\u7bc7\u9898\u89e3\u6743\u5f53\u590d\u4e60~~\n\n\u8fd9\u91cc\u8fd0\u7528\u7684\u662f\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u5b9e\u73b0\u65b9\u6cd5\uff0c\u8f93\u5165\u7684\u662f string\n\n\u56e0\u4e3a\u662f\u6c42\u533a\u95f4\uff0c\u6240\u4ee5\u8003\u8651\u524d\u7f00\u548c\n\n\u8003\u8651\u5230 string \u5982\u679c\u8fd8\u662f\u4f7f\u7528 -1 \u7684\u65b9\u6cd5\u4f1a\u51fa\u9505\uff0c\u6240\u4ee5\u5b9a\u4e49\u4e86\u4e00\u4e2a check \u51fd\u6570\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int maxn = 10;//\u6570\u5b57\u670910\u4e2a\nstring a, b;\nstring s;\nint len, dp[maxn][maxn][2][2], ans;\n//len\u662f\u5b57\u7b26\u4e32\u7684\u957f\u5ea6\uff0c\u4e5f\u5c31\u662f\u6570\u7684\u957f\u5ea6\n//ans\u5c31\u662f\u7b54\u6848\n\nint dfs(int cur, int x, bool f, bool g) //\u6df1\u641c\uff08\u8bb0\u5fc6\u5316\uff09\n{                                       //\u5f53\u524d\u4f4d\u7f6e\uff0c\u524d\u4e00\u4f4d\uff0c\u4e0a\u9650\u4e0e\u524d\u5bfc\u96f6\n    if (cur == len)\n        return 1;\n    if (dp[cur][x][f][g] != -1)\n        return dp[cur][x][f][g]; //\u641c\u8fc7\u4e86\uff0c\u76f4\u63a5\u8fd4\u56de\n    int v = 9;                   //9\u662f\u6700\u5927\u7684\u201c\u6570\u5b57\u201d\n    if (f == 1)\n        v = (s[cur] - '0');\n    int sum = 0;\n    for (int i = 0; i <= v; i++)\n    {\n        if (g == 1)\n        {\n            if (i == 0)\n                sum += dfs(cur + 1, 0, f & (i == v), 1); //\u7d2f\u52a0\n            else\n                sum += dfs(cur + 1, i, f & (i == v), 0);\n        }\n        else if (abs(i - x) >= 2) //\u5dee\u4e0d\u80fd\u5c0f\u4e8e2\n            sum += dfs(cur + 1, i, f & (i == v), 0);\n    }\n    return dp[cur][x][f][g] = sum; //\u8fd4\u56de\u5e76\u4fdd\u5b58\n}\nint solve(string t) //\u6c42windy\u6570\u7684\u4e2a\u6570\n{\n    s = t;\n    len = s.size();\n    memset(dp, -1, sizeof(dp));\n    return dfs(0, 0, 1, 1);\n}\nint ck(string &t) //\u5904\u7406\u65e0\u6cd5\u201ca-1\u201d\n{\n    for (int i = 1; i < t.size(); i++)\n    {\n        if (abs(t[i] - t[i - 1]) < 2)\n            return 0;\n    }\n    return 1;\n}\n\nint main(void)\n{\n    cin >> a >> b;\n    ans = solve(b) - solve(a) + ck(a);\n    cout << ans << endl;\n    return 0;\n}\n```\n\u521d\u5b66\u6570\u4f4d DP \uff0c\u5199\u7684\u53ef\u80fd\u4e0d\u662f\u5f88\u597d\uff0c\u5982\u6709\u95ee\u9898\u671b\u63d0\u51fa\u6539\u8fdb\u610f\u89c1",
        "postTime": 1591791638,
        "uid": 255095,
        "name": "PragmaGCC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009] windy \u6570\u3011"
    },
    {
        "content": "\u4e00\u76f4\u628a$windy$\u770b\u6210$wendy$\uff0c\u96fe\n***\n\u6570\u636e\u8303\u56f4$[1,2000000000]$\uff0c\u663e\u7136\uff0c\u66b4\u529b\u8fc7\u4e0d\u4e86\uff0c\u6240\u4ee5\uff0c\u53ea\u80fd\u7528\u5176\u4ed6\u7b97\u6cd5\n\n\u6b7b\u76ef\u7740\u9898\u76ee\u5927\u534a\u5929\uff0c\u6ca1\u770b\u51fa\u4e2a\u4ec0\u4e48\u4e1c\u897f\uff0c\u4e8e\u662f\u70b9\u5f00\u6807\u7b7e\u3002\u55ef\uff1f\u6570\u4f4dDP\uff1f\u6211\u8fd8\u6ca1\u5b66\u5440\n\n\u4e3a\u4e86A\u6389\u8fd9\u9053\u9898\uff0c\u6211\u786c\u7740\u5934\u76ae\u5b66\u5b8c\u4e86\u5b83\uff08\u53ea\u662f\u6a21\u677f\uff0c\u4f46\u662f\u53ef\u4ee5A\u8fd9\u9053\u9898\uff09\n***\n**\u6570\u4f4dDP\uff0c\u5c31\u662f\u7528\u6765\u89e3\u51b3\u533a\u95f4$[L,R]$\u5185\u6ee1\u8db3\u67d0\u4e2a\u6027\u8d28\u7684\u6570\u7684\u4e2a\u6570\uff0c\u4e14\u8fd9\u4e2a\u6027\u8d28\u4e0e\u6570\u7684\u5927\u5c0f\u65e0\u5173**\n\n**\u6570\u4f4d\u7684\u542b\u4e49\uff1a\u4e00\u4e2a\u6570\u6709\u4e2a\u4f4d\u3001\u5341\u4f4d\u3001\u767e\u4f4d\u3001\u5343\u4f4d......\u6570\u7684\u6bcf\u4e00\u4f4d\u5c31\u662f\u6570\u4f4d**\n***\n\u6570\u4f4ddp\u662f\u4ece\u4e0a\u754c\u7684\u6700\u9ad8\u4f4d\u5f00\u59cb\u679a\u4e3e\uff0c\u4e00\u4f4d\u4e00\u4f4d\u5411\u4e0b\uff0c\u4e00\u76f4\u679a\u4e3e\u5230\u4e2a\u4f4d\n\n$For\\space example$:  \n\u4e0a\u754c\u4e3a213\uff0c\u5219\u4ece\u767e\u4f4d\u5f00\u59cb\u679a\u4e3e\uff0c\u767e\u4f4d\u67092\u79cd\u60c5\u51b5\uff0c1\u548c2  \n\u5982\u679c\u662f2\u7684\u8bdd\uff0c\u5341\u4f4d\u4e0a\u7684\u6570\u5c31\u8981$>=4$\uff0c\u8fd9\u5c31\u8d85\u8fc7\u4e0a\u754c\u4e86\uff0c\u6240\u4ee5\u767e\u4f4d\u53ea\u80fd\u4e3a1  \n\u767e\u4f4d\u4e3a1\uff0c\u5341\u4f4d\u5c31\u8981$>=3$\uff0c\u5f53\u5341\u4f4d\u4e3a3\uff0c\u5411\u4e0b\u679a\u4e3e\u4e2a\u4f4d  \n\u5341\u4f4d\u4e3a3\uff0c\u4e2a\u4f4d\u5c31\u8981$<=1$\u6216\u8005$>=5$\uff0c\u4e0b\u9762\u5df2\u7ecf\u6ca1\u6709\u6570\u4f4d\u4e86\uff0c\u8fd4\u56de\n\n\u81f3\u4e8e\u4e0b\u754c\uff0c\u4e00\u822c\u662f0\u62161\uff0c\u5c31\u4e0d\u8bb2\u4e86\n***\n\u4ee3\u7801\u8bb2\u89e3\u53ef\u80fd\u66f4\u597d\u7406\u89e3\n\n```cpp\n#include<bits/stdc++.h>\n#define RI register int\n#define LL long long\nusing namespace std;\n\nint in()\n{\n    int qwq=0,qaq=1;char cc=getchar();\n    for(;!isdigit(cc);cc=getchar())if(cc=='-')qaq=-1;\n    for(;isdigit(cc);cc=getchar()) qwq=(qwq<<1)+(qwq<<3)+(cc&15);\n    return qwq*qaq;\n}\n\nconst int N=22;\n\nint a,b;\nint dp[N][N],num[N];\n\n//len\u8868\u793a\u5f53\u524d\u6570\u4f4d\u957f\u5ea6,last\u8868\u793a\u5f53\u524d\u6700\u540e\u4e00\u4e2a\u6570(-10\u8868\u793a\u6ca1\u6570),up\u8868\u793a\u6709\u65e0\u4e0a\u9650\u9650\u5236(0\u8868\u793a\u65e0\u9650\u5236\uff0c\u53ef\u4ee5\u4ece0\u679a\u4e3e\u52309)\n//\u4e3e\u4f8b\uff1a\u4e00\u4e2a\u6570\u4e0a\u754c\u4e3a2536\uff0c\u679a\u4e3e\u523020??\uff08\u5171\u67094\u4f4d\uff09\uff0clen\u5c31\u662f2\uff08\u8fd8\u67092\u4f4d\u6ca1\u679a\u4e3e\uff09\uff0clast\u5c31\u662f0\uff0cup\u4e3a0\n//\u5982\u679c\u679a\u4e3e\u523025??\uff0c\u5c31\u6709\u4e0a\u9650\u4e86\uff0cup\u4e3a1\uff0c\u767e\u4f4d\u53ea\u80fd\u4ece0\u679a\u4e3e\u52303\uff0c\u518d\u679a\u4e3e\u5c31\u8d85\u8fc7\u4e0a\u754c\u4e86\nint dfs(int len,int last,bool up)\n{\n\tif(!len) return 1;//\u679a\u4e3e\u5b8c\u4e86\uff0c\u8bf4\u660e\u8fd9\u4e2a\u6570\u5c31\u662fwindy\u6570\uff0c\u8fd4\u56de1\n\t\n\tif(!up && last>=0 && dp[len][last]!=-1) return dp[len][last];//\u8bb0\u5fc6\u5316\u641c\u7d22\n\t\n\tint p,cnt=0,mx=(up?num[len]:9);//\u5982\u679c\u6709\u9650\u5236\uff0c\u5c31\u53ea\u80fd\u4ece0\u679a\u4e3e\u5230\u4e0a\u754c\u7684\u8fd9\u4e2a\u6570\u4f4d\n\tfor(RI i=0;i<=mx;++i)\n\t{\n\t\tif(abs(i-last)<2) continue;//\u9898\u76ee\u6761\u4ef6\n\t\t\n\t\tif(!i && last==-10) p=-10;//\u5982\u679c\u524d\u9762\u6ca1\u6709\u6570\u4e14i\u4e3a0\uff0c\u5219\u4e0b\u4e00\u4f4d\u4e5f\u6ca1\u6709\u6570\uff08\u53bb\u524d\u5bfc0\uff09\n\t\telse p=i;\n\t\t\n\t\tcnt+=dfs(len-1,p,up&&i==mx);\n        //\u5982\u679c\u5f53\u524d\u6709\u9650\u5236\u4e14\u679a\u4e3e\u5230\u4e86\u6700\u9ad8\u4f4d\uff0c\u5219\u4e0b\u4e00\u4e2a\u4e5f\u6709\u9650\u5236\n        //\u540c\u4e0a\u4f8b\uff0c\u679a\u4e3e\u5230\u4e86253?\uff0c\u5219\u4e2a\u4f4d\u53ea\u80fd\u4ece0\u679a\u4e3e\u52306\n\t}\n\t\n\tif(!up && last>=0) dp[len][last]=cnt;//\u66f4\u65b0\u503c\n\t\n\treturn cnt;\n}\n\nint solve(int x)\n{\n\tint k=0;\n\twhile(x)\n\t{\n\t\tnum[++k]=x%10;//\u50a8\u5b58\u6bcf\u4e00\u4f4d\u7684\u503c\n\t\tx/=10;\n\t}\n\t\n\tmemset(dp,-1,sizeof(dp));//\u8bb0\u5f97\u521d\u59cb\u5316\n\treturn dfs(k,-10,1);//\u7b2c\u4e00\u4f4d\u6570\u603b\u6709\u4e0a\u9650\u9650\u5236\uff08\u9664\u975e\u662f\u4e0a\u754c\u9996\u4f4d\u662f9\uff09\n}\n\nint main()\n{\n\ta=in(),b=in();\n\t\n\tprintf(\"%d\\n\",solve(b)-solve(a-1));//\u8fd9\u91cc\u6709\u524d\u7f00\u548c\u7684\u601d\u60f3\n\t\n    return 0;\n}\n```\n\n\u505a\u5b8c\u8fd9\u9898\uff0c\u5bf9\u6570\u4f4ddp\u4e5f\u6709\u4e86\u4e2a\u521d\u6b65\u7684\u4e86\u89e3\n\n\u6240\u4ee5\uff0c\u63a8\u8350\u4e00\u9053\u9898\uff0c[\u4e0d\u898162](http://acm.hdu.edu.cn/showproblem.php?pid=2089)\uff08\u6765\u81eaHDUOJ\uff09\uff0c\u6bd4\u8fd9\u9053\u7b80\u5355\u4e9b\n\n\u56e0\u4e3a\u6015\u5927\u5bb6\u6ca1\u8d26\u53f7\uff08\u867d\u7136\u53ef\u4ee5\u6ce8\u518c\uff09\uff0c\u6240\u4ee5\u6211\u628a\u5b83\u642c\u5230\u4e86[\u4e2a\u4eba\u9898\u5e93](https://www.luogu.org/problem/U94702)\uff0c\u52a0\u4e0a\u4e86\u5783\u573e\u6570\u636e\uff0c\u6b22\u8fce\u5927\u5bb6\u6765A\uff08~~\u6211\u624d\u4e0d\u662f\u5ba3\u4f20\u4e2a\u4eba\u9898\u76ee\u52d2~~\uff09",
        "postTime": 1572660951,
        "uid": 171014,
        "name": "R\u00b7Buffoon",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u6211\u7684\u72b6\u6001\u5927\u6982\u8ddf\u522b\u4eba\u4e0d\u5927\u4e00\u6837\u3002\u3002\u3002\n\n\u4e3b\u8981\u662f\u6211\u53ef\u80fd\u6bd4\u8f83\u8822\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u8003\u8651\u524d\u5bfc0\u7684\u60c5\u51b5\u3002\n\n\u6211\u60f3\u8d77[CQOI2016\u624b\u673a\u53f7\u7801](https://www.luogu.org/problemnew/show/P4124)\u90a3\u9898\u6211\u597d\u50cf\u505a\u5f97\u4e0d\u662f\u5f88\u56f0\u96be\uff0c\u539f\u56e0\u662f\u90a3\u9898\u7684\u4f4d\u6570\u56fa\u5b9a\u3002\n\n\u4e8e\u662f\u6211\u5c31\u4eba\u4e3a\u5730\u679a\u4e3e\u4e86\u4e00\u4e2a\u4f4d\u6570\n\nf[i][j][k][c]\uff0c\u8868\u793a\u4ece\u7b2ci\u4f4d\u5f00\u59cb\u8003\u8651\uff08\u53731\u5230i-1\u4f4d\u90fd\u662f\u524d\u5bfc0\uff09\uff0c\u8003\u8651\u5230\u7b2cj\u4f4d\uff0c\u7b2cj\u4f4d\u586b\u4e86k\uff0cc\u8868\u793a\u5361\u6ca1\u5361\u4e0a\u754c\u3002\n\n\u90a3\u4e48\u663e\u7136\uff08\u6211\u8ba4\u4e3a\uff09i=1\u548ci>1\u662f\u4e0d\u4e00\u6837\u7684\u3002i=1\u7684\u65f6\u5019\u8981\u8003\u8651\u5361\u4e0d\u5361\u4e0a\u754c\uff1bi>1\u7684\u8bdd\u5c31\u6bcf\u4e00\u4f4d\u90fd\u662f0\u52309\u968f\u4fbf\u586b\uff0c\u4e14\u80af\u5b9a\u4e0d\u5361\u4e0a\u754c\uff08c\u6052\u4e3a0\uff09\n\n\u56e0\u6b64\u6211\u5206i=1\u548ci>1\u5206\u522b\u505a\u4e86dp\uff0c\u5bf9\u4e8e\u6bcf\u4e2ai\u6700\u540e\u679a\u4e3e\u6700\u540e\u4e00\u4f4d\u586b\u51e0\u7136\u540e\u7edf\u8ba1\u7b54\u6848\u3002\n\n\u53ef\u80fd\u6211\u6bd4\u8f83\u83dc\uff0c\u4e00\u76f4\u4e0d\u662f\u592a\u4f1a\u5199\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u7528\u7684\u662f\u9012\u63a8\u3002\n\n```cpp\n#include <cctype>\n#include <cstdio>\n#include <climits>\n#include <algorithm>\n#include <cmath>\n\ntemplate <typename T> inline void read(T& t) {\n\tint f = 0, c = getchar(); t = 0;\n\twhile (!isdigit(c)) f |= c == '-', c = getchar();\n\twhile (isdigit(c)) t = t * 10 + c - 48, c = getchar();\n\tif (f) t = -t;\n}\ntemplate <typename T, typename... Args>\ninline void read(T& t, Args&... args) {\n\tread(t); read(args...);\n}\n\n#ifdef WIN32\n#define LLIO \"%I64d\"\n#else\n#define LLIO \"%lld\"\n#endif // WIN32 long long IO\n#define rep(i, a, b) for (int i = (a); i <= (b); ++i)\n#define rrep(i, a, b) for (int i = (a); i >= (b); --i)\n#define erep(i, x) for (int i = head[x]; i; i = next[i])\n\nlong long a, b;\nlong long f[15][15][10][2];\n\ninline long long solve(long long N) {\n\tif (!N) return 0;\n\tint bit[15] = {0}; int n = 0;\n\twhile (N) bit[++n] = N % 10, N /= 10;\n\tstd::reverse(bit + 1, bit + n + 1);\n\t\n\trep(i, 1, n) rep(j, 1, n) rep(k, 0, 9) rep(c, 0, 1) f[i][j][k][c] = 0;\n\t\n\tlong long ans = 0;\n\trep(i, 1, bit[1]) f[1][1][i][i == bit[1]] = 1;\n\trep(j, 1, n - 1) rep(k, 0, 9) rep(c, 0, 1) {\n\t\tlong long res = f[1][j][k][c];\n\t\tif (!res) continue;\n\t\trep(t, 0, (c ? bit[j + 1] : 9))\n\t\t\tif (abs(t - k) >= 2)\n\t\t\t\tf[1][j + 1][t][c && t == bit[j + 1]] += res;\n\t}\n\trep(k, 0, 9) ans += f[1][n][k][0] + f[1][n][k][1];\n\t\n\trep(i, 2, n) {\n\t\trep(j, 1, 9) f[i][i][j][0] = 1;\n\t\trep(j, i, n - 1) rep(k, 0, 9) {\n\t\t\tlong long res = f[i][j][k][0];\n\t\t\tif (!res) continue;\n\t\t\trep(t, 0, 9) if (abs(t - k) >= 2)\n\t\t\t\tf[i][j + 1][t][0] += res;\n\t\t}\n\t\trep(k, 0, 9) ans += f[i][n][k][0];\n\t}\n\t\n\treturn ans;\n}\n\nint main() {\n\tread(a, b);\n\tprintf(LLIO \"\\n\", solve(b) - solve(a - 1));\n\treturn 0;\n}\n```\n\nupdate:\u5728\u7761\u68a6\u4e2d\u7a81\u7136\u95f4\u60f3\u901a\u4e86\u66f4\u597d\u7684\u505a\u6cd5\uff0c\u4e8e\u662f\u6765\u66f4\u65b0\u4e00\u6ce2\u3002\n\nf[i][j][c][d]\u8868\u793a\u586b\u5230\u7b2ci\u4f4d\uff0c\u7b2ci\u4f4d\u586b\u7684\u662fj\uff0cc\u8868\u793a\u5361\u6ca1\u5361\u4e0a\u754c\uff0cd\u8868\u793a\u662f\u5426\u586b\u8fc7\u4e00\u4e2a\u975e0\u7684\u6570\u3002\u8fd9\u4e2ad\u8fd9\u4e00\u7ef4\u5c31\u662f\u6211\u4eec\u5904\u7406\u524d\u5bfc0\u7684\u65b9\u6cd5\u3002\u4e4b\u524d\u4e00\u76f4\u6ca1\u6709\u60f3\u901a\u8fd9\u4e2ad\u8fd9\u4e00\u7ef4\u600e\u4e48\u641e\uff0c\u521a\u624d\u7a81\u7136\u610f\u8bc6\u5230\u5b83\u548cc\u90a3\u4e00\u7ef4\u5176\u5b9e\u662f\u5dee\u4e0d\u591a\u7684\u3002\u5177\u4f53\u770b\u4ee3\u7801\uff1a\n\n```cpp\n#include <cctype>\n#include <cstdio>\n#include <climits>\n#include <algorithm>\n#include <cmath>\n\ntemplate <typename T> inline void read(T& t) {\n    int f = 0, c = getchar(); t = 0;\n    while (!isdigit(c)) f |= c == '-', c = getchar();\n    while (isdigit(c)) t = t * 10 + c - 48, c = getchar();\n    if (f) t = -t;\n}\ntemplate <typename T, typename... Args>\ninline void read(T& t, Args&... args) {\n    read(t); read(args...);\n}\n\n#ifdef WIN32\n#define LLIO \"%I64d\"\n#else\n#define LLIO \"%lld\"\n#endif\t// WIN32 long long\n#define rep(I, A, B) for (int I = (A); I <= (B); ++I)\n#define rrep(I, A, B) for (int I = (A); I >= (B); --I)\n#define erep(I, X) for (int I = head[X]; I; I = next[I])\n\nlong long f[15][10][2][2];\nlong long a, b;\n\ninline long long solve(long long N) {\n    int bit[15] = {0}, n = 0;\n    for (; N; bit[++n] = N % 10, N /= 10);\n    std::reverse(bit + 1, bit + n + 1);\n    // \u521d\u59cb\u5316\u6e05\u7a7a\u6570\u7ec4\n    rep(i, 1, n) rep(j, 0, 9) rep(c, 0, 1) rep(d, 0, 1) f[i][j][c][d] = 0;\n    // \u679a\u4e3e\u7b2c\u4e00\u4f4d\u586b\u4ec0\u4e48\u6570\u3002\u5982\u679c\u8fd9\u4e2a\u6570\u7b49\u4e8ebit[1]\u90a3\u4e48c=1\uff0c\u5982\u679c\u8fd9\u4e2a\u6570\u662f0\u90a3\u4e48d=0\n    rep(i, 0, bit[1]) f[1][i][i == bit[1]][i != 0] = 1;\n    rep(i, 1, n - 1) rep(j, 0, 9) rep(c, 0, 1) rep(d, 0, 1) {\n        long long res = f[i][j][c][d];\n        if (!res) continue;\n        // \u679a\u4e3e\u4e0b\u4e00\u4f4d\u586b\u4ec0\u4e48\u6570\u3002\u5982\u679c\u5f53\u524dc=1\u8bf4\u660e\u5361\u4e86\u4e0a\u754c\uff0c\u679a\u4e3e\u5230bit[i+1]\uff1b\u5426\u5219\u53ef\u4ee5\u679a\u4e3e\u52309\u3002\u4e0b\u4e00\u4f4d\u586b\u7684\u6570k\u5fc5\u987b\u6ee1\u8db3k\u548cj\u76f8\u5dee\u81f3\u5c11\u4e3a2\uff0c\u9664\u975e\u5230\u76ee\u524d\u4e3a\u6b62\u8fd8\u6ca1\u6709\u586b\u8fc7\u4e00\u4e2a\u975e0\u6570\u3002\n        rep(k, 0, (c ? bit[i + 1] : 9)) if (abs(k - j) >= 2 || !d)\n            f[i + 1][k][c && k == bit[i + 1]][d || k != 0] += res;\n    }\n    long long ans = 0;\n    rep(i, 0, 9) ans += f[n][i][0][1] + f[n][i][1][1];\n    return ans;\n}\n\nint main() {\n    read(a, b);\n    printf(LLIO \"\\n\", solve(b) - solve(a - 1));\n    return 0;\n}\n```",
        "postTime": 1534683677,
        "uid": 72071,
        "name": "GKxx",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "~~\u4e0d\u5f97\u4e0d\u8bf4\u53c8\u662f\u4e00\u9053\u67d0\u7701\u9001\u7684\u6570\u4f4ddp\u6a21\u677f\u6253\u5361\u9898~~\n\n\u9996\u5148\u5148\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b\u6570\u4f4ddp\uff0c\u6570\u4f4ddp\u867d\u7136\u662f\u53eb\u505adp\uff0c\u4f46\u5b9e\u9645\u4e0a\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u5199\u6cd5\u504f\u591a\uff08~~\u6211\u4f1a\u544a\u8bc9\u4f60\u6211\u4e0d\u4f1a\u5199\u9012\u63a8\u7684\u6570\u4f4ddp\u5417\uff09~~\uff0c\u5728\u8fd9\u91cc\u8fd8\u8981\u819c\u62dc\u4e00\u4e0b\u90a3\u4e9b\u9898\u89e3\u91cc\u5199\u51fa\u9012\u63a8\u7684\u5927\u4f6c\u3002\n\n\u6570\u4f4ddp\u4e00\u822c\u89e3\u51b3\u7684\u662f\u8fd9\u6837\u7684\u95ee\u9898\uff1a\n\n\u7ed9\u51faa,b\u548c\u4e00\u4e9b\u9650\u5236\u6761\u4ef6\uff0c\u6c42[a,b]\u4e4b\u95f4\u6ee1\u8db3\u9650\u5236\u6761\u4ef6\u7684\u6570\u7684\u4e2a\u6570\uff0c\u800c\u4e14a,b\u4e00\u822c\u90fd\u5927\u7684\u8981\u6b7b\u3002~~\u6bd4\u5982\u8bf4\u50cf\u8fd9\u9053\u9898\uff08\u9003~~\n\n\n\u9996\u5148\u6211\u4eec\u5047\u5982\u4e0d\u8003\u8651\u6570\u636e\u8303\u56f4\uff0c\u76f4\u63a5\u5199\u4e00\u4e2a\u66b4\u641c\u8be5\u600e\u4e48\u5199\u3002\n\n\u6211\u4eec\u53d1\u73b0\u8fd9\u9053\u9898\u7684\u7b54\u6848\u53ef\u4ee5\u7528\u4ece0~B\u7684\u7b54\u6848$-$0~A-1\u7684\u7b54\u6848\u5f97\u5230\u3002\n\n\u6240\u4ee5\u73b0\u5728\u95ee\u9898\u5c31\u8f6c\u5316\u6210\u4e86\u5982\u4f55\u6c42\u5c0f\u4e8ex\u7684windy\u6570\u4e2a\u6570\u3002\n\n\u4e00\u4e2a\u663e\u800c\u6613\u89c1\u7684\u601d\u8def\uff0c\u679a\u4e3e\u6bcf\u4e2a\u6570\u518d\u5224\u65ad\uff0c\u590d\u6742\u5ea6\u4e3a$O(nlog_{10}n)$,\u4f46\u8fd9\u4e2a\u65b9\u6cd5\u5df2\u7ecf\u65e0\u6cd5\u4f18\u5316\u4e86\uff0c\u6240\u4ee5\u8bf4pass\u3002\n\n\u518d\u60f3\u60f3\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u679a\u4e3e\u4e4b\u540e\u518d\u5224\u65ad\uff0c\u800c\u53ef\u4ee5\u76f4\u63a5\u8fb9\u679a\u4e3e\u8fb9\u5224\u65ad\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u901a\u8fc7\u679a\u4e3e\u6bcf\u4e00\u4f4d\u6765\u505a\uff0c\u4ee3\u7801\u89c1\u4e0b\u3002\n\n```cpp\n#include <cstdio>\n#include <queue>\n#include <algorithm>\n#include <cstring>\n#define re register\n#define For(i, s, e) for(re int i = s;i <= e;i++)\n#define Refor(i, s, e) for(re int i = s;i >= e;i--)\n#define Fore(i, u) for(re int i = head[u];i;i = edge[i].next)\n#define clear(a) memset(a, 0, sizeof(a))\nusing namespace std;\ntemplate<class T> inline void read(T &f){\n\tchar ch = getchar(); int w = 1;\n\twhile (ch < '0' || ch > '9') (ch == '-') && (w = -1), ch = getchar();\n\tfor (f = 0;ch >= '0' && ch <= '9';f = (f << 3) + (f << 1) + ch - 48, ch = getchar());\n\tf = f * w;\n}\nint a[15], tot;\nint dfs(int now, int limit, int zero, int last){ //now\u8868\u793a\u5f53\u524d\u679a\u4e3e\u5230\u54ea\u4e00\u4f4d\uff0climit\u8868\u793a\u4e4b\u524d\u7684\u6bcf\u4e00\u4f4d\u662f\u5426\u90fd\u9876\u7740\u4e0a\u754c\uff08\u6bd4\u5982\u8bf4\u4e0a\u754c\u4e3a967\uff0c\u90a3\u4e48\u5982\u679c\u524d\u4e24\u4f4d\u4e3a96\u90a3\u4e48limit\u5c31\u4e3a1\uff0c\u5426\u5219\u5c31\u4e3a0\uff09\uff0czero\u8868\u793a\u524d\u9762\u51e0\u4f4d\u662f\u5426\u90fd\u4e3a0\uff08zero\u662f\u4e3a\u4e86\u5904\u7406\u524d\u5bfc0\uff09\uff0clast\u8868\u793a\u4e0a\u4e00\u4f4d\u662f\u4ec0\u4e48\uff0c\u7528\u6765\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\u3002\n\tif (now > tot) return 1; //\u679a\u4e3e\u5b8c\u4e86\uff0c\u8fd4\u56de1\n\tint sum = 0, res = limit ? a[tot - now + 1] : 9; //\u8fd9\u91cc\u7684res\u662f\u8fd9\u4e00\u4f4d\u7684\u4e0a\u754c\u3002\n\tFor(i, 0, res){\n\t\tif (i < last + 2 && i > last - 2 && !zero) continue; //\u8fd9\u91cc\u662f\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u6761\u4ef6\uff0c\u7279\u522b\u6ce8\u610f\u5982\u679c\u524d\u51e0\u4f4d\u5168\u90fd\u662f0\u7684\u8bdd\u8fd9\u4e00\u4f4d\u968f\u4fbf\uff0c\u56e0\u4e3a\u524d\u5bfc0\u53ef\u4ee5\u76f4\u63a5\u53bb\u9664\u3002\n\t\tsum += dfs(now + 1, limit & (i == res), zero && !i, i); //\u7d2f\u8ba1\u7b54\u6848\u3002\n\t}\n\treturn sum;\n}\nint solve(int x){\n\tclear(a); tot = 0;\n\twhile (x) a[++tot] = x % 10, x /= 10; //\u628a\u4e0a\u754c\u62c6\u5206\u6210\u6bcf\u4e00\u4f4d\uff0c\u6ce8\u610f\u548c\u9ad8\u7cbe\u5ea6\u4e00\u6837\u662f\u5012\u7740\u5b58\u7684\u3002\n\treturn dfs(1, 1, 1, -2);  //\u4e00\u5f00\u59cblimit\u4e3a1\u8868\u793a\u6700\u9ad8\u4f4d\u8981\u53d7\u9650\u5236\uff0clast\u53ef\u4ee5\u53d6\u4efb\u4f55\u6570\n}\nint main(){\n\tint a, b; read(a); read(b);\n\tprintf(\"%d\", solve(b) - solve(a - 1));\n\treturn 0;\n}\n```\n\u90a3\u4e48\u8fd9\u6837\u5c31\u53ef\u4ee5\u5f97\u523070pts\uff0c\u4f46\u8be5\u5982\u4f55\u4f18\u5316\u5462\uff1f\u6211\u4eec\u53d1\u73b0\u5728\u641c\u7d22\u65f6\u6709\u5927\u91cf\u91cd\u590d\u7684\u641c\u7d22\uff0c\u6bd4\u5982\u8bf4\u50cf\u7b2c1\u4f4d\u4e0d\u540c\u4e14\u7b2c2\u4f4d\u76f8\u540c\u4e14$limit=0$\uff0c\u90a3\u4e48\u540e\u9762\u7684\u7b54\u6848\u4e00\u5b9a\u662f\u76f8\u540c\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u8bbedp[i][j]\u8868\u793a\u5f53$limit=0$\u65f6\uff0c\u5f53\u524d\u679a\u4e3e\u5230\u7b2ci\u4f4d\uff0c\u4e0a\u4e00\u4f4d\u7684\u6570\u4e3aj\u7684\u60c5\u51b5\u3002\u4e8e\u662f\u6211\u4eec\u5c31\u6109\u60a6\u7684\u53ef\u4ee5A\u6389\u8fd9\u9053\u9898\u4e86\u3002\u4ee3\u7801\u89c1\u4e0b\uff1a\n```cpp\n#include <cstdio>\n#include <queue>\n#include <algorithm>\n#include <cstring>\n#define re register\n#define For(i, s, e) for(re int i = s;i <= e;i++)\n#define Refor(i, s, e) for(re int i = s;i >= e;i--)\n#define Fore(i, u) for(re int i = head[u];i;i = edge[i].next)\n#define clear(a) memset(a, 0, sizeof(a))\nusing namespace std;\ntemplate<class T> inline void read(T &f){\n\tchar ch = getchar(); int w = 1;\n\twhile (ch < '0' || ch > '9') (ch == '-') && (w = -1), ch = getchar();\n\tfor (f = 0;ch >= '0' && ch <= '9';f = (f << 3) + (f << 1) + ch - 48, ch = getchar());\n\tf = f * w;\n}\nint a[15], tot, ans, dp[15][15];\nint dfs(int now, int limit, int zero, int last){\n\tif (now > tot) return 1;\n\tif (!limit && dp[now][last] != -1) return dp[now][last];\n\tint sum = 0, res = limit ? a[tot - now + 1] : 9;\n\tFor(i, 0, res){\n\t\tif (i < last + 2 && i > last - 2 && !zero) continue;\n\t\tsum += dfs(now + 1, limit & (i == res), zero && !i, i);\n\t}\n\tif (!limit && !zero) dp[now][last] = sum;\n\treturn sum;\n}\nint solve(int x){\n\tmemset(dp, -1, sizeof(dp)); //\u6ce8\u610f\u521d\u59cb\u5316\n\tclear(a); tot = 0;\n\twhile (x) a[++tot] = x % 10, x /= 10;\n\treturn dfs(1, 1, 1, -2);\n}\nint main(){\n\tint a, b; read(a); read(b);\n\tprintf(\"%d\", solve(b) - solve(a - 1));\n\treturn 0;\n}\n```",
        "postTime": 1580710264,
        "uid": 70418,
        "name": "f\u03b1ns",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9053\u6570\u4f4d\u9898\u76ee\u5176\u5b9e\u9700\u8981\u8003\u8651\u4e00\u4e9b\u7384\u5b66\u7684\u4e1c\u897f\u3002\u3002\u3002  \n\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u770b\u8fd9\u9053\u795e\u5947\u7684\u9898\u76ee\uff1a  \n\u6211\u4eec\u9700\u8981\u8003\u8651\u7684\u662f\uff1a  \n1\uff1a\u4e2a\u4f4d\u6570\u90fd\u662fWindy\u6570  \n2\uff1a\u53ef\u4ee5\u5728\u6700\u5f00\u59cb\u4e0d\u7528\u7ba1\u524d\u5bfc0  \n3\uff1a\u5176\u6b21\u6211\u4eec\u5f00\u4e00\u4e2a\u4e09\u7ef4\u7684dp\u6570\u7ec4\u5206\u522b\u8868\u793a\u5f53\u524d\u7684\u957f\u5ea6\uff0c\u5f53\u524d\u4f4d\u6570\u7684\u524d\u4e00\u4f4d\uff0c\u5f53\u524d\u7684\u4f4d\u6570\u4e0a\u662f\u5426\u6709\u9650\u5236  \n\n### \u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u76f4\u63a5\u770b\u4ee3\u7801\uff1a  \n```cpp\n#include<bits/stdc++.h>\n#define int long long\nusing namespace std;\nint len = 0,num[30],dp[30][10][2];\n\nint dfs(int k,int pre,int limit)\n{\n\tif(k==0)\n\t{\n\t\treturn 1; //\u6240\u6709\u4e2a\u4f4d\u90fd\u662f \n\t}\n\tif(pre!=-10&&dp[k][pre][limit]!=-1) //\u8bb0\u5fc6\u5316 \n\t{\n\t\treturn dp[k][pre][limit];\n\t}\n\tint m;\n\tif(limit)\n\t{\n\t\tm = num[k];\n\t}else\n\t{\n\t\tm = 9;\n\t}\n\tint ans = 0;\n\tfor(int i=0;i<=m;i++)\n\t{\n\t\tif(abs(i-pre)<2)\n\t\t{\n\t\t\tcontinue;\n\t\t}\n\t\tif(pre==-10 && i==0)\n\t\t{\n\t\t\tans+=dfs(k-1,-10,0);\n\t\t}else\n\t\t{\n\t\t\tans+=dfs(k-1,i,limit&&i==num[k]);\n\t\t}\n\t}\n\tif(pre!=-10)\n\t{\n\t\treturn dp[k][pre][limit] = ans;\n\t}\n\treturn ans;\n}\n\nint work(int x)\n{\n\tmemset(num,0,sizeof(num));\n\tmemset(dp,-1,sizeof(dp));\n\tlen = 0;\n\tfor(;x;x/=10)\n\t{\n\t\tnum[++len] = x%10;\n\t}\n\treturn dfs(len,-10,true);\n}\n\nsigned main()\n{\n\tint a,b;\n\tscanf(\"%lld%lld\",&a,&b);\n\tint ans = work(b)-work(a-1);\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n\n### \u5176\u5b9e\u662f\u4e00\u4e2a\u806a\u660e\u7684\u6253\u8868\uff0c\u5927\u4f6c\u6307\u6559\uff01\uff01\uff01  \n# \uff1a\uff09",
        "postTime": 1569065458,
        "uid": 90646,
        "name": "Xie_BR",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u8bbe $d(pos,las,lim,lead)$ \u4e3a\u5269\u4e0b $pos$ \u4e2a\u4f4d\u7f6e\uff0c\u524d\u4e00\u4e2a\u6570\u4e3a $las$ \u7684\u7b54\u6848\uff08$lim=1$ \u8868\u793a\u53d7\u5230\u9650\u5236\uff0c$lead=1$ \u8868\u793a\u6709\u524d\u5bfc $0$\uff09\n\n\u6211\u4eec\u8003\u8651\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\uff0c\u8bb0\u5f55\u4e0b $lim=0$ \u4e14 $lead=0$ \u65f6\u7684\u6240\u6709 $d(pos,las)$ \u7684\u7b54\u6848\n\n\u8f6c\u79fb\u7684\u65f6\u5019\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u72b6\u6001\u4ece $0$ \u679a\u4e3e\u5230 $9$ \uff08\u5982\u679c $lim=1$ \u5219\u4e3a\u4ece $0$ \u5230 $num_{pos}$\uff09\uff0c\u5982\u679c\u53ef\u884c\u5c31\u52a0\u4e0a\u5411\u4e0b\u8f6c\u79fb\u7684\u7b54\u6848\uff08\u5f53 $lead=1$ \u65f6\u4efb\u610f\u6570\u5b57\u90fd\u53ef\u884c\uff0c\u56e0\u4e3a\u6b64\u65f6\u4e0d\u53d7\u524d\u9762\u6570\u5b57\u7684\u9650\u5236\uff09\n\n\u8f6c\u79fb\u540e $lim=1$ \u6210\u7acb\u4ec5\u5f53\u5f53\u524d $lim=1$ \u4e14 $i=num_{pos}$\uff0c$lead=1$ \u6210\u7acb\u4ec5\u5f53\u5f53\u524d $lead=1$ \u4e14 $i=0$\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <cstdio>\n#include <algorithm>\n#include <cmath>\nusing namespace std;\n\nint l,r,num[20],d[20][20],vis[20][20];\n\ninline int read(){\n    int num=0,k=1; char c=getchar();\n    while(c>'9' || c<'0') k=(c=='-')?0:k,c=getchar();\n    while(c>='0' && c<='9') num=num*10+c-'0',c=getchar();\n    return k?num:-num;\n}\n\nint dp(int pos,int las,int lim,int lead){\n    if(pos==0) return 1;\n    if(vis[pos][las] && !lim && !lead) return d[pos][las];\n    int cur=0;\n    for(int i=0;i<=(lim?num[pos]:9);i++) if(lead || abs(i-las)>=2) cur+=dp(pos-1,i,(lim && i==num[pos]),(lead && !i));\n    if(!lim && !lead) d[pos][las]=cur,vis[pos][las]=1;\n    return cur;\n}\n\nint solve(int x){\n    int len=0;\n    while(x) num[++len]=x%10,x/=10;\n    return dp(len,0,1,1);\n}\n\nint main(){\n    l=read(); r=read();\n    printf(\"%d\",solve(r)-solve(l-1));\n    return 0;\n}\n\n```",
        "postTime": 1555228611,
        "uid": 100037,
        "name": "kkxhh",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "~~(\u81f3\u4eca\u6211\u6ca1\u5199\u8fc7\u6b63\u89c4\u7684\u6570\u4f4dDP...)..~~..\n\n\u4e0b\u9762\u4ecb\u7ecd1\u79cd\u5947\u602a\u7684\u601d\u8def.\u9002\u7528\u4e8e\u6c34\u8fc71\u4e9b\u6570\u4f4ddp\u7684\u9898\u76ee..\n\n\u6682\u65f6\u79f0\u4e4b\u4e3a.urdc...(\u4e0d\u8981\u95ee\u6211\u8fd9\u662f\u4ec0\u4e48.)..\n\n\u4e3b\u9898\u601d\u8def.\n```\n\u6c420~13678\u4e2d\u7b26\u5408\u8981\u6c42\u7684\u6570.\n\u53ef\u4ee5\u8f6c\u6362\u4e3a.\u6c42.\n0~9999.\n10000~12999.\n13000~13599.\n13600~13669.\n13670~13677.\n13678.\n\u8fd9\u51e0\u90e8\u5206\u4e2a\u6570\u52a0\u8d77\u6765.\n\u518d\u770b\u4e0b\u9762\u51e0\u90e8\u5206.\n0000~9999.\n0000~2999.\n000~599.\n00~69.\n0~7.\n0.\n\u5982\u679c\u6ca1\u6709\u4e0e\u9898\u76ee\u8981\u6c42\u51b2\u7a81,\u8fd9\u51e0\u90e8\u5206\u5b8c\u5168\u7b49\u4ef7\u4e0a\u9762\u51e0\u90e8\u5206.\n\u76f8\u5f53\u4e8e\u53ea\u8981,\u6c42\u6574\u5341\u6574\u767e\u6574\u5343\u8fd9\u4e9b\u4e1c\u897f.\n\u800c\u8fd9\u79cd\u4e1c\u897f1\u822c\u53ef\u4ee5dp\u9884\u5904\u7406,\u6216\u8005\u76f4\u63a5\u7b97\u51fa.\n```\n\u5982\u679c\u6ca1\u6709\u770b\u61c2.\u8bf7\u770b\u4e0b\u9762\u7684\u9898\u76ee\u5177\u4f53\u5206\u6790.\n\n------------\n\n\u9898\u610f.\u6c42[a,b]\u4e2d\u7684\u76f8\u90bb2\u4e2a\u6570\u4e4b\u5dee >= 2\u6570\u7684\u603b\u6570.\u6ca1\u6709\u524d\u5bfc0.\n\n\u663e\u7136[a,b]\u53ef\u4ee5\u8f6c\u6362\u4e3a.[0,b]-[0,a-1].\n\n\u5148\u601d\u8003\u5982\u4f55\u6c42[0,10^k-1].\n\n\u8bbe**f[i,j]**\u8868\u793a\u4ee5j\u4e3a\u7b2ci\u4f4d\u7684windy\u6570\u603b\u6570.\u4e2a\u4f4d\u662f\u7b2c1\u4f4d.\n\n\u5982**f[2,3] = 7**,\u670930,31,35,36,37,38,39.\n\n\u6ce8\u610f\u524d\u5bfc0\u4e0d\u53bb\u7ba1\u5b83.\n\n\u8fd9\u4e2a\u5f88\u597d\u6c42.\n\n$f[i,j] = \\sum_{k = 0}^{9}{f[i-1,k]\\ (abs(j-k) >= 2)}$.\n\n\u5176\u4e2d**f[1,i] = 1**.\n\n\u6240\u4ee5\u7b54\u6848\u4f3c\u4e4e\u662f.\n\n$[0,10^i-1] = \\sum_{j = 0}^{9}f[i,j]$.\n\n\u7136\u800c\u5bf9\u62cd\u53d1\u73b0\u5e76\u4e0d\u5bf9...\n\n\u53d1\u73b0**f[i,0]**\u51fa\u4e8b.\n\n**j = 0**\u76f8\u5f53\u4e8e\u524d\u5bfc0,\u4e0d\u53d7\u7ea6\u675f\u6761\u4ef6.\n\n\u6240\u4ee5\u5355\u72ec\u8ba1\u7b97**f[i,0]**.\n\n$last[i] = last[i-1]+\\sum_{j = 1}^{9}f[i-1,j]$.\n\n\u600e\u4e48\u53d8**last[i]**\u4e86..\n\n**\u5982\u679c\u66f4\u9ad8\u4f4d\u8fd8\u6709\u4e0d\u662f0\u7684,\u8fd9\u4e2a0\u4f9d\u65e7\u53d7\u9650.**\n\n\u4e5f\u5c31\u662f\u8ba1\u7b97**\u975ef[i,0]**\u7684\u4e1c\u897f\u8981\u7528\u5230**f[i,0]**.\n\n\u6240\u4ee5\u53d1\u73b0.\n\n$[0,10^i-1] = last[i+1] = last[i]+\\sum_{j=1}^{9}f[i,j]$.\n\n\u5176\u4e2d**last[1] = 1**.\n\n\u554a,~~\u6109\u5feb~~\u7684\u9884\u5904\u7406\u5b8c\u4e86..\n\n------------\n\n\u63a5\u4e0b\u6765\u770b\u5982\u4f55\u8ba1\u7b97.\n\n\u50cf\u4e0a\u97621\u6837,\u5bf9n\u8fdb\u884c\u5206\u5272.\n\n\u600e\u4e48\u5f04\u7684...\u6309\u4f4d\u554a...\n\n\u7b2ci\u4f4d\u5bf9\u7b54\u6848\u7684\u8d21\u732e.\n\n$\\sum_{j=0}^{p-1}f[i,j]$.\n\np\u662fn\u7b2ci\u4f4d\u4e0a\u7684\u6570.\n\n\u5c31\u662f\u5ffd\u7565\u4e86\u9ad8\u4f4d\u7684\u6570\u6765\u76f4\u63a5\u8ba1\u7b97\u7b54\u6848.\n\n\u5f53\u7136\u9650\u5236\u6761\u4ef6\u8981\u6709.\n\n\u5f97\u4ece\u9ad8\u4f4d\u8ba1\u7b97,\u4e0a\u9762\u8ba1\u7b97\u523013670~13670\u7684\u65f6\u5019\u76f4\u63a5break.\n\n\u82e5\u6240\u6709\u8ba1\u7b97\u90fd\u6ee1\u8db3\u9650\u5236,\u7b54\u6848\u989d\u5916\u52a01.\u5c31\u662f\u4e0a\u9762\u5b64\u7acb\u76841\u90e8\u5206.\n\n\u4ee5\u53ca\u6700\u9ad8\u4f4d\u7684**f[i,0]**\u5b9e\u9645\u8d21\u732e\u662f**last[i]**.\u7406\u7531\u6cbb\u5df1\u60f3.\n\n------------\n\n\u6240\u4ee5\u8fd9\u4e48\u590d\u6742\u7684\u4e1c\u897f\u6709\u4ec0\u4e48\u7528...\n\n\u00b7\u00b7\u00b7\u00b7\u601d\u7ef4\u66b4\u529b........\n\n\u00b7\u00b7\u00b7\u00b7\u53ef\u4ee5\u901a\u8fc7\u9884\u5904\u7406\u89c4\u907f\u524d\u5bfc0\u7684\u8ba1\u7b97.\n\n**\u6ce8\u610f,last\u6570\u7ec4\u662f\u7531\u4e8e\u524d\u5bfc0\u7279\u6027\u4e0e\u9650\u5236\u6761\u4ef6\u5171\u540c\u5f71\u54cd\u4ea7\u751f\u7684.\u9884\u5904\u7406\u8ba1\u7b97\u4e0a\u4ecd\u7136\u4e0d\u7528\u7ba1\u524d\u5bfc0.**\n\n\u6240\u4ee5\u53ea\u662f\u4e2a\u9488\u5bf9\u524d\u5bfc0\u4f18\u5316...?\n\n\u5f53\u7136\u6548\u7387\u4e5f\u5f88\u9ad8\u4e86...\n\nDiu\u4ee3\u7801.\n```\nprogram P2657;\n uses math;\n var\n  t:array[0..11,0..9] of int64;\n  lastt:array[0..11] of int64;\n  i,j,k,n,l,r,p,ssum,lasted,haha,upass:longint;\n  ts:int64;\n procedure hahacheck;   //\u6211\u7528\u6765\u9a8c\u8bc1\u7684..\n  var\n   i,j:longint;\n  begin\n   //writeln(n);\n   for i:=1 to n do\n    begin\n     for j:=0 to 9 do\n      write(t[i,j],' ');\n     writeln(lastt[i]);\n    end;\n  end;\n function hahasum(n:longint):longint;\n  begin\n   if n=-1 then exit(0);\n   if n=0 then exit(1);   //\u7531\u4e8elog\u4e0d\u80fd\u4e3a0\u6240\u4ee5\u53ea\u80fd\u7279\u5224..\n   k:=trunc(log10(n))+1;  //\u8ba1\u7b97n\u603b\u5171\u6709\u51e0\u4f4d.\n   ts:=1;\n   while ts<=n do\n    ts:=ts*10;\n   ts:=ts div 10;         //\u7528\u6765\u53d6\u51fan\u7684\u5f53\u524d\u4f4d.\n   ssum:=0;               //\u8ba1\u7b97\u7b54\u6848.\n   lasted:=1008208820;    //\u5224\u65ad\u662f\u5426\u5408\u6cd5.\n   haha:=0;               //\u7279\u5224\u6807\u8bb0.\n   upass:=1;              //\u5408\u6cd5\u6807\u8bb0.\n   while ts>=1 do\n    begin\n     inc(haha);\n     p:=n div ts;\n     n:=n mod ts;\n     ts:=ts div 10;\n     if abs(p-lasted)<=1 then upass:=0;   //\u4e0e\u4e0a1\u4f4d\u51b2\u7a81.\n     for i:=0 to p-1 do\n      if abs(lasted-i)>=2 then\n       if (haha=1) and (i=0) then inc(ssum,lastt[k])\n                             else inc(ssum,t[k-haha+1,i]);  //\u4e4b\u524d\u8bb2\u7684\u5bf9\u7b54\u6848\u7684\u8d21\u732e..\n     lasted:=p;\n     if upass=0 then break;               //\u4e0d\u80fd\u7ee7\u7eed\u505a.\n    end;\n   hahasum:=ssum+upass;\n  end;\n begin\n  readln(l,r);\n  n:=trunc(log10(r)+1);\n  //hahacheck;\n  for i:=0 to 9 do\n   t[1,i]:=1;\n  lastt[0]:=0;\n  lastt[1]:=1;\n  for i:=2 to n do           //\u9884\u5904\u7406....\n   for j:=0 to 9 do\n    begin\n     t[i,j]:=0;\n     for k:=0 to j-2 do\n      inc(t[i,j],t[i-1,k]);\n     for k:=j+2 to 9 do\n      inc(t[i,j],t[i-1,k]);\n     if j=0 then\n      begin\n       lastt[i]:=0;\n       for k:=1 to 9 do\n        inc(lastt[i],t[i-1,k]);\n       dec(lastt[i],-lastt[i-1]);\n      end;\n    end;\n  //hahacheck;\n  writeln(hahasum(r)-hahasum(l-1));\n end.\n```\n(\u0ca1\u03c9\u0ca1).\n",
        "postTime": 1522935135,
        "uid": 20454,
        "name": "BFSBFSBFSBFS",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "### \u770b\u4e86\u51e0\u7bc7\u9898\u89e3\u611f\u89c9\u89e3\u91ca\u7684\u4e0d\u591f\u8be6\u7ec6\n\n~~\u7136\u540e\u5c31\u5199\u4e86\u4e00\u7bc7~~\u76f8\u5bf9\u6b63\u7ecf~~\u7684\u9898\u89e3~~\n\n\u5bf9\u4e8e\u6570\u4f4dDP\u4e00\u822c\u4f7f\u7528\u524d\u7f00\u548c\u89e3\u51b3\uff0c\u8fd9\u91cc\u4e0d\u591a\u8d58\u8ff0\n\n\u4ee3\u7801\u548c\u6ce8\u91ca\u4e00\u8d77\u7ed9\u51fa\uff1a\n```cpp\n#include<iostream>\n#include<cmath>\n#define R register\nusing namespace std;\nint f[12][10];\n//\u8bbef[i][j]\u8868\u793a\u7b2ci\u4f4d\u53d6j\u7684\u65b9\u6848\u6570\nlong long power[13];\n//power[]\u5e42\u6570\u7ec4\nvoid prework(){//\u9884\u5904\u7406\n    power[0]=1;//pow(10,0)=1;\n    for(R int i=1;i<=12;++i)power[i]=power[i-1]*10;//pow(10,n);\n    for(R int i=0;i<=9;++i)f[1][i]=1;//\u521d\u59cb\u5316\n    for(R int i=2;i<=11;++i)//\u679a\u4e3e\u6bcf\u4e00\u4f4d\n        for(R int j=0;j<=9;++j)//\u679a\u4e3e\u6bcf\u4e00\u4f4d\u7684\u53ef\u80fd\u6027\n            for(R int k=0;k<=9;++k)//\u679a\u4e3e\u4e0a\u4e00\u4f4d\u7684\u53ef\u80fd\u6027\n                if(abs(j-k)>=2)f[i][j]+=f[i-1][k];//\u52a0\u4e0a\u7b26\u5408\u6761\u4ef6\u7684\u6570\u91cf\n    return;\n}\n//count\u7edf\u8ba1\u5c0f\u4e8ex\u7684\u7b26\u5408\u9898\u610f\u7684\u4e2a\u6570\nint count(int x){\n    int w=0,ans=0,pre=0,y=0;\n    //w\u662fx\u7684\u4f4d\u6570\uff0cans\u8bb0\u5f55\u7b54\u6848\uff0cpre\u8bb0\u5f55\u4e0a\u4e00\u4f4d\uff0cy\u8bb0\u5f55\u73b0\u4e00\u4f4d\n    while(power[w]<=x)++w;//\u8ba1\u7b97w\n    //\u8ba1\u7b97\u4f4d\u6570\u6bd4x\u5c0f\u7684\u6570\n    for(R int i=1;i<w;++i)\n        for(R int j=1;j<=9;++j)\n            ans+=f[i][j];\n    //\u4f7fy\u4e3a\u6700\u9ad8\u4f4d\uff0c\u7edf\u8ba1\u6700\u9ad8\u4f4d\u6bd4x\u5c0f\u7684\u6570\n    y=x/power[w-1];\n    for(R int j=1;j<y;++j)ans+=f[w][j];\n    //pre\u8bb0\u5f55\u6700\u9ad8\u4f4d\uff0cx\u53bb\u9664\u6700\u9ad8\u4f4d\n    pre=y;\n    x%=power[w-1];\n    for(R int i=w-1;i>=1;--i){//\u4e0d\u65ad\u964d\u4f4d\n        y=x/power[i-1];//\u8ba9y\u4e0d\u65ad\u4e3ax\u7684\u6700\u9ad8\u4f4d\n        for(R int j=0;j<y;++j)//\u679a\u4e3e\u6bd4\u5f53\u524d\u4f4d\u5c0f\u7684\u6570\n            if(abs(j-pre)>=2)ans+=f[i][j];//\u7edf\u8ba1\u7b54\u6848;\n        //\u5047\u5982\u4e0a\u4e00\u4f4d\u4e0e\u73b0\u4e00\u4f4d\u7684\u5dee\u503c\u5c0f\u4e8e2\u76f4\u63a5\u9000\u51fa\u679a\u4e3e\uff0c\u56e0\u4e3a\u539f\u6570\u5df2\u7ecf\u4e0d\u548c\u9898\u610f\uff0c\u518d\u679a\u4e3e\u5c06\u6210\u4e3a\u9519\u8bef\u7684\u89e3\n        if(abs(pre-y)<2)break;\n        //\u964d\u4f4d\n        pre=y;\n        x%=power[i-1];\n    }\n    return ans;\n}\n\nsigned main(){\n    int a,b;\n    cin>>a>>b;\n    prework();\n    cout<<count(b+1)-count(a)<<endl;//\u524d\u7f00\u548c\n    return 0;\n}\n```\n\u5bf9\u4e8e\u4e3a\u4ec0\u4e48\u662fb+1\u548ca\u800c\u4e0d\u662fb\u548ca-1\u7684\u95ee\u9898\u8be6\u89c1count\u51fd\u6570\n\n\u7136\u540e\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u4ee3\u7801\u4e00\u5e76\u7ed9\u51fa\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nint f[20][12];//f[i][j]\u8868\u793a\u7b2ci\u4f4d\u53d6j\u7684\u65b9\u6848\u6570(\uff01bj)\nint dim[20];//dim[i]\u8868\u793a\u6570\u7684\u7b2ci\u4f4d\uff0cdim[0]\u8868\u793a\u6570\u7684\u4f4d\u6570\nint dfs(int x,int pre,bool bj){\n    //x\u8bb0\u5f55\u4f4d\u6570\uff0cpre\u8bb0\u5f55\u4e0a\u4e00\u4f4d\n    //bj\u6807\u8bb0\u4e4b\u524d\u641c\u7d22\u7684\u7ed3\u679c\u548c\u539f\u6570\u7684\u5173\u7cfb,\u5047\u5982\u4e4b\u524d\u641c\u7d22\u7684\u90e8\u5206\u662f\u539f\u6570\u7684\u90e8\u5206bj=1\n    if(!x)return 1;//\u5047\u5982x\u7b49\u4e8e0\uff0c\u5373\u4e0a\u6b21\u7684\u641c\u7d22\u662fdfs(1,pre,bj),\u56e0\u4e3a0\uff0c1\uff0c2\uff0c\u2026\u2026\uff0c9\u90fd\u7b26\u5408\u7ed3\u679c\uff0c\u6240\u4ee5\u662f1\uff1b\n    if(!bj&&f[x][pre]!=-1)return f[x][pre];//\u5047\u5982\u6ca1\u6709\u6807\u8bb0\uff0c\u5e76\u4e14\u4e4b\u524d\u641c\u7d22\u8fc7\uff0c\u76f4\u63a5\u8fd4\u56de\u503c\n    int maxn=bj?dim[x]:9;//\u5047\u5982\u6807\u8bb0\u6210\u7acb\u641c\u7d22\u7684\u90e8\u5206\u4e0d\u5927\u4e8e\u539f\u6570\u7684\u7b2cx\u4f4d\uff0c\u5426\u5219\u4e3a9\uff1b\n    int temp=0;//temp\u8bb0\u5f55\u65b9\u6848\u6570\n    for(int i=0;i<=maxn;++i){//\u679a\u4e3e\n        if(abs(pre-i)<2)continue;//\u5047\u5982\u4e0d\u7b26\u5408\u6761\u4ef6\uff0cpass\n        //\u5047\u5982i\u662f\u6700\u5927\u503c\uff0c\u5e76\u4e14\u6709\u6807\u8bb0\u7b49\u4ef7\u4e8e\u641c\u7d22\u7684\u90e8\u5206\u662f\u539f\u6570\u7684\u90e8\u5206\uff0c\u6807\u8bb0\u4f20\u9012\n        if(pre==11&&i==0)//\u5047\u5982\u4e0a\u4e00\u4f4d\u662f11\uff0c11\u8868\u793a\u524d\u5bfc0\uff1b\n            temp+=dfs(x-1,11,bj&&i==maxn);\n        else\n            temp+=dfs(x-1,i,bj&&i==maxn);\n    }\n    if(!bj)f[x][pre]=temp;//\u8bb0\u5fc6\u5316\n    return temp//\u8fd4\u56de\u503c\n}\nint ask(int x){\n    dim[0]=0;//\u521d\u59cb\u5316\n    while(x){\n        //\u4e0d\u65ad\u5c06x\u5341\u8fdb\u5236\u653e\u5165\u6570\u7ec4\n        dim[++dim[0]]=x%10;\n        x/=10;\n    }\n    //\u5c06\u6700\u9ad8\u4f4d\u7684\u9ad8\u4e00\u4f4d\u8bbe\u4e3a-1\u5373\u754c\u9650\n    dim[dim[0]+1]=-1;\n    return dfs(dim[0],11,1);//\u641c\u7d22\n}\nsigned main(){\n    int a,b;\n    memset(f,-1,sizeof(f));//\u521d\u59cb\u5316\n    cin>>a>>b;\n    cout<<ask(b)-ask(a-1);//\u524d\u7f00\u548c\n    return 0;\n}\n```\n\n\n------------\n\u6ca1\u770b\u61c2\u7684\u53ef\u4ee5\u79c1\u6211",
        "postTime": 1579529398,
        "uid": 158869,
        "name": "\u76e7\u92c5",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u867d\u7136\u672c\u9898\u662f\u6570\u4f4ddp\u7684\u6a21\u677f  \n\u4f46\u662f\u6211\u8fd8\u662f\u60f3\u7528\u53e6\u4e00\u4e9b\u7384\u5b66\u7684\u65b9\u6cd5\u778e\u641e\u2014\u2014   \n\u5206\u5757\u6253\u8868\uff01  \n\n\u5bf9\u4e8e\u6bcfsqrt(n)\u5de6\u53f3\u7684\u533a\u95f4\u7edf\u8ba1\u503c  \n\u4f46\u662f\u5982\u679c\u6bcfsqrt(n)\u6253\u4e00\u4e2a\u6570\u5b57\uff0c\u8868\u7684\u957f\u5ea6\u4f1a\u8d85\u6807  \n\u8fd9\u65f6\u60f3\u5230\u53ef\u4ee5\u53ea\u7edf\u8ba1\u4e24\u4e2a\u533a\u95f4\u7684\u5dee\uff0c\u5728\u63d0\u4ea4\u65f6\u8dd1\u4e00\u904d\u524d\u7f00\u548c\u8ba1\u7b97  \n\u53ef\u4ee5\u663e\u8457\u964d\u4f4e\u8868\u7684\u5927\u5c0f   \n\n\u4f46\u662f\u6253\u8868\u5b9e\u5728\u592a\u82b1\u7a7a\u95f4\u4e86  \n\u6211\u8003\u8651\u6539\u6210\u95f4\u96941e5\uff0c\u53ef\u8fd8\u662f\u4e0d\u884c  \n\u4f46\u662f\u6211\u4eec\u7684\u66b4\u529b\u7a0b\u5e8f\u662f\u7ebf\u6027\u7684\uff0c\u6240\u4ee5\u5373\u4f7f\u662f\u95f4\u96941e6\u7684\u8868\u4e5f\u662f\u53ef\u4ee5\u63a5\u53d7\u7684  \n\u5728\u4ee3\u7801\u957f\u5ea6\u7684\u8fb9\u7f18\u5de6\u53f3\u6a2a\u8df3\uff0c\u6211\u53d1\u73b0\u95f4\u96942e5\u7684\u8868\u53ef\u4ee5\u63a5\u53d7  \n\u90a3\u4e48\u5c31\u6ca1\u4ec0\u4e48\u597d\u8bf4\u7684\u4e86  \n\u6ce8\u610f\u4e00\u4e0b\u8fb9\u754c\u7ec6\u8282  \n\n\u6253\u8868\u7a0b\u5e8f\uff1a\uff0820s\u5de6\u53f3\uff09\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint main(){\n\tfreopen(\"biao.txt\",\"w\",stdout);\n\tint cnt=0,pre=0;\n\tfor(int i=1;i<=2000000000;++i){\n\t\tint k=i,last=20,is=1;\n\t\twhile(k){\n\t\t\tif(abs(last-(k%10))<2){\n\t\t\t\tis=0;break;\n\t\t\t}\n\t\t\tlast=k%10;\n\t\t\tk/=10;\n\t\t}\n\t\tcnt+=is;\n\t\tif(i%200000==0){\n\t\t\tprintf(\"%d,\",cnt-pre);\n\t\t\tpre=cnt;\n\t\t}\n\t}\n\treturn 0;\n}\n```\n\n\u63d0\u4ea4\u7a0b\u5e8f\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint biao[]={\u2026\u2026\u2026\u2026\u2026\u2026};\nint query(int num){\n\tint ans=0,k=num/200000;\n\tfor(int i=1;i<=k;++i)\n\t\tans+=biao[i];\n\tfor(int i=k*200000+1;i<=num;++i){\n\t\tint k=i,last=20,is=1;\n\t\twhile(k){\n\t\t\tif(abs(last-(k%10))<2){\n\t\t\t\tis=0;break;\n\t\t\t}\n\t\t\tlast=k%10;\n\t\t\tk/=10;\n\t\t}\n\t\tans+=is;\n\t}\n\treturn ans;\n}\nint main(){\n\tint n,m;\n\tscanf(\"%d%d\",&n,&m);\n\tprintf(\"%d\",query(m)-query(n-1));\n\treturn 0;\n} \n```\n\n",
        "postTime": 1572923615,
        "uid": 138543,
        "name": "\u6597\u795e_\u541b\u83ab\u7b11",
        "ccfLevel": 0,
        "title": "\u66b4\u529b\u2014\u2014\u5206\u5757\u6253\u8868"
    },
    {
        "content": "### \u9898\u76ee\u63cf\u8ff0\n\nwindy\u5b9a\u4e49\u4e86\u4e00\u79cdwindy\u6570\u3002\u4e0d\u542b\u524d\u5bfc\u96f6\u4e14\u76f8\u90bb\u4e24\u4e2a\u6570\u5b57\u4e4b\u5dee\u81f3\u5c11\u4e3a2\u7684\u6b63\u6574\u6570\u88ab\u79f0\u4e3awindy\u6570\u3002 windy\u60f3\u77e5\u9053\uff0c\n\n\u5728A\u548cB\u4e4b\u95f4\uff0c\u5305\u62ecA\u548cB\uff0c\u603b\u5171\u6709\u591a\u5c11\u4e2awindy\u6570\uff1f\n\n### \u8f93\u5165\u683c\u5f0f\n\n\u5305\u542b\u4e24\u4e2a\u6574\u6570\uff0cA B\u3002\n\n### \u8f93\u51fa\u683c\u5f0f\n\n\u4e00\u4e2a\u6574\u6570\n\n### \u8f93\u5165\u8f93\u51fa\u6837\u4f8b\n\n\u8f93\u5165 #1\n\n```\n1 10\n```\n\n\u8f93\u51fa #1\n\n```\n9\n```\n\n\u8f93\u5165 #2\n\n```\n25 50\n```\n\n\u8f93\u51fa #2\n\n```\n20\n```\n\n### \u8bf4\u660e/\u63d0\u793a\n\n100%\u7684\u6570\u636e\uff0c\u6ee1\u8db3 $1 <= A <= B <= 2000000000$ \u3002\n\n------\n\n\n\n### \u9898\u89e3\n\n\u6570\u4f4dDP\n\n\u8bbe$f[i][j]$\u8868\u793a $i$ \u4f4d\u6570\uff0c\u6700\u9ad8\u4f4d\u4e3a $j$\u7684\u7b26\u5408\u6761\u4ef6\u7684\u6570\u7684\u4e2a\u6570\u3002\n\n\u5219$f[i][j]=\\sum_{|j-k|\u22642} f[i-1][k]$.\n\n\u9884\u5904\u7406$f$\u6570\u7ec4\u540e\u8fdb\u884c\u6570\u4f4dDP\u3002\n\n\u5148\u586b\u5145\u4f4d\u6570\u4e0d\u6ee1\u7684\uff0c\u518d\u7531\u9ad8\u4f4d\u5411\u4f4e\u4f4d\u5c06\u6b64\u4f4d\u4e0d\u6ee1\u7684\u52a0\u5165\u7b54\u6848\u3002\n\n\u4e14\u82e5\u5f53\u524d\u4f4d\u4e8e\u4e0a\u4e00\u4f4d\u6570\u4ea7\u751f\u51b2\u7a81\u5bfc\u81f4\u4e0d\u4f1a\u518d\u6709\u6ee1\u8db3\u6761\u4ef6\u7684\u6570\u65f6\uff0c\u8df3\u51fa\u5faa\u73af\u3002\n\n\u8f6c\u6362\u8be2\u95ee\u533a\u95f4\u4e3a$[1, n)$\u5219\u66f4\u6613\u7b80\u5355\u5904\u7406\u3002\n\n### code\n\n```cpp\n#include <iostream>\n#include <cstdio>\nusing namespace std;\ntypedef long long LL;\nLL f[50][20], bit[50], a, b;\ninline int ab(int x) { return x > 0 ? x : -x; }\nvoid init() {\n\tbit[0] = 1; bit[1] = 10;\n\tfor(int i = 0;i <= 9;i ++) f[1][i] = 1;\n\tfor(int i = 2;i <= 20;i ++) {\n\t\tbit[i] = bit[i-1] * 10;\n\t\tfor(int j = 0;j <= 9;j ++) {\n\t\t\tfor(int k = 0;k <= 9;k ++) {\n\t\t\t\tif(ab(j-k) >= 2) f[i][j] += f[i-1][k];\n\t\t\t}\n\t\t}\n\t}\n}\nLL calc(int x) {\n\tLL pos, di = 1, res = 0, last = -1;\n\tfor(pos = 1;bit[pos] <= x;pos ++) {\n\t\tfor(int j = 1;j <= 9;j ++) {\n\t\t\tres += f[pos][j];\n\t\t}\n\t}\n\tfor( ; pos ;pos --) {\n\t\tint now = (x / bit[pos - 1]) % 10;\n\t\tfor(int j = di;j < now;j ++) {\n\t\t\tif(ab(j-last) >= 2) res += f[pos][j];\n\t\t}\n\t\tif(ab(now-last) < 2) break;\n\t\tdi = 0; last = now;\n\t}\n\treturn res;\n}\nint main() {\n\tinit();\n\tcin >> a >> b;\n\tcout << calc(b + 1) - calc(a) << endl;\n\treturn 0;\n}\n```\n\n",
        "postTime": 1565647370,
        "uid": 151852,
        "name": "Paranoid\u4e36\u79bb\u6b87",
        "ccfLevel": 6,
        "title": "[\u6d1b\u8c37P2657] [BZOJ 1026]  [SCOI2009]windy\u6570 \u6570\u4f4dDP"
    },
    {
        "content": "\u8001\u5e08\u8bf4\uff0c\u6570\u4f4dDP\u5f88\u6709\u53ef\u80fd\u4f1a\u8003\uff0c\u6240\u4ee5\u6211\u6beb\u4e0d\u72b9\u8c6b\u5730\u6253\u5f00\u4e86\u8fd9\u9053\u9898\uff0c\u91cd\u6e29\u4e00\u4e0b\u7ecf\u5178\u3002\u3002\u3002\n\n\u5bf9\u4e8eDP\u7684f\u6570\u7ec4\u5f88\u7b80\u5355:f[i][j]\u8868\u793a\u7b2ci\u4f4d\u4e3aj\u65f6\u7684\u65b9\u6848\u6570\n\nf[i][j]+=f[i-1][k] (abs(k-j)>=2)\n\n\u4f46\u662f\uff0c\u6570\u4f4dDP\u9ebb\u70e6\u7684\u5730\u65b9\u5c31\u662f\u7edf\u8ba1\uff0c\u5982\u679c\u8303\u56f4\u4e0d\u662f\u6574\u5341\u6570\uff0c\u5c31\u9700\u8981\u9010\u4f4d\u89e3\u51b3\u3002\n\n\u5148\u6c42\u51fa\u8f93\u5165\u7684\u4f4d\u6570\uff0c\u5bf9\u4e8e\u4f4d\u6570\u5c0f\u4e8e\u5b83\u7684\uff0c\u5c31\u76f4\u63a5\u7edf\u8ba1\u6bcf\u4e00\u4f4d0~9\u7684\u4e2a\u6570,\u5373\u03a3(i=1~w-1) f[i][0~9]\u3002\n\n\u5176\u4ed6\u7684\u5c31\u9ebb\u70e6\u4e86\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4f4dnow\uff0c\u8bbe\u5176\u524d\u4e00\u4f4d\u4e3apre,\u679a\u4e3e\u7684\u8303\u56f4\u5c31\u662f0~now-1\u4e14abs(i-pre)>=2\u3002\u5982\u679cabs(now-pre)<2\uff0c\u5c31\u4e0d\u80fd\u7ee7\u7eed\u4e0b\u53bb\u4e86\uff0c\u5373\u8fd9\u4e00\u4f4d\u4e0d\u80fd\u53d6now\uff0c\u6700\u591a\u53ea\u80fd\u53d6now-1\uff0c\u90a3\u4e48\u540e\u9762\u7684\u6240\u6709\u4f4d\u5c31\u968f\u4fbf\u53d6\uff0c\u53cd\u6b63\u4e0d\u53ef\u80fd\u5927\u4e8e\u8303\u56f4\u3002\u3002\n\n\u53e6\u5916\uff0c\u6211\u4eec\u6c42\u7684\u8303\u56f4\u662f\u5f00\u533a\u95f4\uff0c\u5373\u4e0d\u80fd\u53d6\u5230\u6700\u540e\u4e00\u4e2a\uff0c\u56e0\u6b64\u662fcalc(b+1)-calc(a)\u3002\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nlong long mi[15];\nint f[15][10],a,b;\ninline void prepare()\n{\n\tmi[0]=1;\n\tfor (int i=1; i<=12; i++) mi[i]=mi[i-1]*10;\n\tfor (int i=0; i<=9; i++) f[1][i]=1;\n\tfor (int i=2; i<=12; i++)\n\t\tfor (int j=0; j<=9; j++)\n\t\t\tfor (int k=0; k<=9; k++)\n\t\t\tif (abs(j-k)>=2) f[i][j]+=f[i-1][k];\n}\ninline int solve(int x)\n{\n\tint w=0,ans=0;\n\twhile (mi[w]<=x) w++;\n\tfor (int i=1; i<w; i++)\n\t\tfor (int j=1; j<=9; j++) ans+=f[i][j];\n\tint now,pre;\n\tnow=pre=x/mi[w-1];\n\tfor (int i=1; i<now; i++) ans+=f[w][i];\n\tx%=mi[w-1];\n\tw--;\n\tfor (int k=w; k>=1; k--)\n\t{\n\t\tnow=x/mi[k-1];\n\t\tfor (int i=0; i<now; i++)\n\t\tif (abs(i-pre)>=2)\n\t\tans+=f[k][i];\n\t\tif (abs(pre-now)<2) break;\n\t\tpre=now;\n\t\tx%=mi[k-1];\n\t}\n\treturn ans;\n}\nint main()\n{\n\tscanf(\"%d%d\",&a,&b);\n\tprepare();\n\treturn printf(\"%d\\n\",solve(b+1)-solve(a)),0;\n}\n```\n\n\u53e6\u6709\u63a8\u8350\u6570\u4f4dDP\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u7684\u65b9\u5f0f\u505a\u7684\uff1a(https://www.luogu.org/blog/virus2017/shuweidp#)",
        "postTime": 1541505796,
        "uid": 43103,
        "name": "Tanktt",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u611f\u89c9\u6570\u4f4dDP\u6709\u70b9\u5f31\uff0c\u5f3a\u5316\u4e00\u4e0b\u3002\u3002\u3002\n\n------------\n\n\u8fd9\u9053\u9898\u662f\u4e00\u9053\u6bd4\u8f83\u88f8\u7684\u6570\u4f4dDP\u3002\n\n\u6211\u4eec\u7528$dp[i][j]$\u8868\u793a\u957f\u5ea6\u4e3a$i$\u6700\u9ad8\u4f4d\u4e3a$j$\u7684windy\u6570\u6709\u591a\u5c11\u4e2a\uff0c\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u4e3a$dp[i][j]=\\sum_{abs(j-k)>=2}{dp[i-1][k]}$\u3002\n\n\u7136\u540e\u6709\u4e00\u4e2a\u5c0f\u4f18\u5316\uff08\u5176\u5b9e\u4e0d\u80fd\u7b97\u4f18\u5316\u5427\uff09\uff0c\u5c31\u662f\u7b97\u4e00\u4e0b\u8f93\u5165\u4e24\u4e2a\u6570\u7684\u957f\u5ea6\uff0c\u7136\u540e\u53d6\u957f\u5ea6\u6700\u5927\u503c\u4f5c\u4e3a\u7b2c\u4e00\u7ef4\u7684\u6781\u9650\uff0c\u8fd9\u6837\u5c31\u7a0d\u5fae\u6bd4\u76f4\u63a5\u7b97\u5230$i=11$\u8981\u4f18\u4e00\u70b9\u4e86\u3002\n\n------------\n\nAC\u4ee3\u7801\u5982\u4e0b\uff1a\n\n`28ms 788kb`\n\n```cpp\n// By Ilverene\n\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nnamespace StandardIO{\n\n\ttemplate<typename T>inline void read(T &x){\n\t\tx=0;T f=1;char c=getchar();\n\t\tfor(;c<'0'||c>'9';c=getchar())if(c=='-')f=-1;\n\t\tfor(;c>='0'&&c<='9';c=getchar())x=x*10+c-'0';\n\t\tx*=f;\n\t}\n\n\ttemplate<typename T>inline void write(T x){\n\t\tif(x<0)putchar('-'),x*=-1;\n\t\tif(x>=10)write(x/10);\n\t\tputchar(x%10+'0');\n\t}\n\n}\n\nusing namespace StandardIO;\n\nnamespace Solve{\n\t\n\t// Define your global variables here.\n\tint a,b;\n\tint dp[11][11];\n\t\n\t// Define your main functions here.\n\ttemplate<typename T>inline T length(T num){\n\t\tT ans=0;\n\t\tfor(;num;++ans,num/=10);\n\t\treturn ans;\n\t}\n\t\n\ttemplate<typename T>inline T calc(T limit){\n\t\tmemset(dp,0,sizeof(dp));\n\t\tfor(register int i=0;i<=9;++i){\n\t\t\tdp[1][i]=1;\n\t\t}\n\t\tfor(register int i=2;i<=limit;++i){\n\t\t\tfor(register int j=0;j<=9;++j){\n\t\t\t\tfor(register int k=0;k<=j-2;++k){\n\t\t\t\t\tdp[i][j]+=dp[i-1][k];\n\t\t\t\t}\n\t\t\t\tfor(register int k=j+2;k<=9;++k){\n\t\t\t\t\tdp[i][j]+=dp[i-1][k];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\ttemplate<typename T>inline T calcAll(T n){\n\t\tT len=0;\n\t\tT num[11];\n\t\tfor(;n;num[++len]=n%10,n/=10);\n\t\tT ans=0;\n\t\tfor(register int i=1;i<=len-1;++i){\n\t\t\tfor(register int j=1;j<=9;++j){\n\t\t\t\tans+=dp[i][j];\n\t\t\t}\n\t\t}\n\t\tfor(register int i=1;i<num[len];++i){\n\t\t\tans+=dp[len][i];\n\t\t}\n\t\tfor(register int i=len-1;i>=1;--i){\n\t\t\tfor(register int j=0;j<=num[i]-1;++j){\n\t\t\t\tif(abs(j-num[i+1])>=2)ans+=dp[i][j];\n\t\t\t}\n\t\t\tif(abs(num[i+1]-num[i])<2)break;\n\t\t}\n\t\treturn ans;\n\t}\n\n\tinline void solve(){\n\t\t// Write your main logic here.\n\t\tread(a),read(b);\n\t\tcalc(max(length(a),length(b)));\n\t\twrite(calcAll(b+1)-calcAll(a));\n\t}\n}\n\nusing namespace Solve;\n\nint main(){\n//\tfreopen(\".in\",\"r\",stdin);\n//\tfreopen(\".out\",\"w\",stdout);\n\tsolve();\n}\n\n```",
        "postTime": 1538493670,
        "uid": 38859,
        "name": "Nero_Claudius",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "\u672c\u9898\u662f\u6570\u4f4dDP\u6a21\u677f\u9898\u3002\n\n\u6211\u4eec\u7528f[i][j]\n\u8868\u793a\u586b\u4e86i\u4f4d\u6570\uff0c\u6700\u9ad8\u4f4d\u662fj\u7684windy\u6570\u7684\u4e2a\u6570\uff0c\u5219\u663e\u7136\u6709f[i][j]=\u03a3 f[i-1][k] (|j-k|\u22652)\u3002\u6211\u4eec\u7528\u4e00\u6b21\u6570\u4f4dDP\u6c42\u51faf[i][j]\u540e\uff0c\u518d\u8fdb\u884c\u4e00\u6b21\u6570\u4f4dDP\uff0c\u4ece\u9ad8\u4f4d\u5230\u4f4e\u4f4d\u8fdb\u884c\u679a\u4e3e\u6211\u4eec\u6240\u6c42\u89e3\u7684\u6570\u5b57\u4e2d\u7b2c\u4e00\u4e2a\u5c0f\u4e8en\u7684\u90a3\u4e00\u4f4d\uff0c\u90a3\u4e48\u5728\u6b64\u65f6\uff0c\u4e4b\u524d\u7684\u6570\u4f4d\u90fd\u5df2\u7ecf\u786e\u5b9a\uff08\u5b83\u4eec\u90fd\u662f\u4e0en\u76f8\u7b49\u7684\uff09\uff0c\u4e4b\u540e\u7684\u4f4d\u5c31\u4e0d\u518d\u53d7\u6b64\u9650\u5236\uff0c\u53ef\u4ee5\u76f4\u63a5\u7edf\u8ba1\u4e86\u3002\n\n\u672c\u9898\u65e2\u53ef\u4ee5\u7528DP\u5b9e\u73b0\uff0c\u4e5f\u53ef\u4ee5\u7528\u8bb0\u5fc6\u5316\u641c\u7d22\u5b9e\u73b0\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u91c7\u7528\u7684\u662fDP\u5b9e\u73b0\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a,b,f[15][15];\nlong long power[15];\nvoid PreWork()\n{\n\tpower[0]=1;\n\tfor (int i=1;i<=12;i++) power[i]=power[i-1]*10;\n\tfor (int i=0;i<=9;i++) f[1][i]=1;\n\tfor (int i=2;i<=11;i++) for (int j=0;j<=9;j++) for (int k=0;k<=9;k++)\n\t\tif (abs(j-k)>=2) f[i][j]+=f[i-1][k];\n}\nint Count(int x)\n{\n\tint w=0,y,pre,ans=0;\n\twhile (power[w]<=x) w++;\n\tfor (int i=1;i<w;i++) for (int j=1;j<=9;j++) ans+=f[i][j];\n\ty=x/power[w-1];\n\tfor (int j=1;j<y;j++) ans+=f[w][j];\n\tpre=y,x%=power[w-1];\n\tfor (int i=w-1;i>=1;i--)\n\t{\n\t\ty=x/power[i-1];\n\t\tfor (int j=0;j<y;j++) if (abs(j-pre)>=2) ans+=f[i][j];\n\t\tif (abs(pre-y)<2) break;\n\t\tpre=y,x%=power[i-1];\n\t}\n\treturn ans;\n}\nint main()\n{\n\tcin>>a>>b,PreWork(),cout<<Count(b+1)-Count(a);\n\treturn 0;\n}\n```",
        "postTime": 1532579043,
        "uid": 54456,
        "name": "\u9752\u4e18\u6768\u54f2",
        "ccfLevel": 0,
        "title": "\u3010P2657\u3011 [SCOI2009]windy\u6570 \u9898\u89e3"
    },
    {
        "content": "# **windy\u6570**\n\n\n## **\u9898\u76ee**\n\nwindy\u6570\uff1a\u76f8\u90bb\u6570\u5b57\u53ea\u5dee\u5927\u4e8e\u7b49\u4e8e2\u7684\u6570\n\n\u7ed9\u4f60l\u548cr,\u8be2\u95ee\u4f60l\u5230r\u4e4b\u95f4\u7684windy\u6570\u7684\u4e2a\u6570\n\n## **\u601d\u8def**\n~~\u6211\u592a\u5f31\uff0c\u840c\u65b0\uff0c\u770b\u4e86\u5927\u4f6c\u7684\u535a\u5ba2\u8bf4\u8ba9\u5148\u505a\u505a\u8fd9\u9053\u9898~~\n\n\u8fd9\u8fd9\u8fd9......~~\u4e00\u770b\u662f\u9053\u6570\u4f4ddp~~......\n\ndp[i][j]\u8868\u793a\u7b2ci\u4f4d\u4e3aj\u7684\u6570\u7684\u4e2a\u6570\n\n\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5c31\u5f88\u7b80\u5355\u4e86\uff1a\u679a\u4e3e\u7b2ci-1\u4f4d\u7684\u6570\u5b57\uff0c\u76f8\u5dee\u5927\u4e8e\u7b49\u4e8e2\u5c31add\n\n\u5904\u7406\u5b8c\u4e4b\u540e\u95ee\u9898\u5c31\u662f\u600e\u6837\u9650\u5236\u8303\u56f4\uff1f\n\n\u8fd9\u79cd\u8303\u56f4\u7684\u9898\u76ee\u5927\u90fd\u53ef\u4ee5\u7528\u524d\u7f00\u548c\u7684\u601d\u60f3(\u524d\u63d0\u6ee1\u8db3\u53ef\u52a0/\u51cf\u6027)\n\n1.\u7528<=r\u7684windy\u6570\u51cf\u53bb<=(l-1)\u7684windy\u6570\n      \n\u4f46\u662f\u6211\u4eec\u53d1\u73b0\u8fd9\u79cd\u60c5\u51b5\u662f\u95ed\u533a\u95f4\u7684\uff0c\u5e76\u4e0d\u597d\u5224\u65ad\uff0c\u91c7\u7528\u7b2c\u4e8c\u79cd\u65b9\u6cd5\n\n2.\u7528<(r+1)\u7684windy\u6570\u51cf\u53bb<l\u7684windy\u6570\n\n\u8fd9\u6837\u5904\u7406\u8d77\u6765\u6bd4\u8f83\u65b9\u4fbf\uff0c\u5206\u4e09\u79cd\u60c5\u51b5\uff1a\n\t\n    1.\u8bb0cal\u4e3a\u8981\u8be2\u95ee\u7684\u6570\u7684\u4f4d\u6570\n      \u679a\u4e3ecal-1\u4f4d\u7684\u4f4d\u6570\u4e0a\u586b\u4ec0\u4e48\u6570\u5b57\uff0c\u76f4\u63a50-9\u5168\u52a0\u4e00\u904d\uff0c\u56e0\u4e3a\u80af\u5b9a\u5c0f\u4e8ex\u561b\n    2.\u679a\u4e3e\u7b2ccal\u4f4d\u7684\u6570\u5b57\uff0c\u8981\u5c0f\u4e8ex\u7684cal\u4f4d\u7684\u6570\u5b57\uff0c\u4e5f\u662f\u5c0f\u4e8ex\u7684\n    3.\u5f00\u59cb\u5904\u7406\u4ece\u7b2ccal\u5230\u7b2c1\u4f4d\u9010\u4e2a\u76f8\u7b49\u7684\u60c5\u51b5\uff0c\u5982\u679c\u4f60\u4ececal\u4f4d\u5f00\u59cb\u7684\u8bdd\u53ef\u4ee5\u5408\u5e76\u6389 2. ,\u5982\u679ccal\u4f4d\u76f4\u63a5\u76f8\u7b49\u624d\u80fd\u591fcal-1\u4f4d\u5f00\u59cb\u5219 2.\u4e0d\u53ef\u5c11\n      \u5f53\u5728x\u7684\u9010\u4f4d\u76f8\u7b49\u679a\u4e3e\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u4e86\u7b2ci\u4f4d\u4e0e\u7b2ci+1\u4f4d\u4e0d\u6ee1\u8db3windy\u6570\u7684\u6027\u8d28\uff0c\u5219\u76f4\u63a5\u9000\u51fa\uff0c\u4e0d\u518d\u5411\u4e0b\u8fdb\u884c\u3002\n      \n## **\u4ee3\u7801**\n```cpp\n#include<bits/stdc++.h>\n#define R register\nusing namespace std;\nint l,r;\nint dp[12][12];\nint work(int x){\n\tint cal=0,ans=0,y=x,a[12];\n\twhile(y){\n\t\ta[++cal]=y%10;\n\t\ty/=10;\n\t}\n\tfor(R int i=1;i<cal;i++){\n\t\tfor(R int j=1;j<=9;j++) ans+=dp[i][j];\n\t}\n\tfor(R int i=1;i<a[cal];i++) ans+=dp[cal][i];\n\tfor(R int i=cal-1;i>=1;i--){\n\t\tfor(R int j=0;j<a[i];j++){\n\t\t\tif(abs(j-a[i+1])>=2) ans+=dp[i][j];\n\t\t}\n\t\tif(abs(a[i+1]-a[i])<2) break;\n\t}\n\treturn ans;\n}\nint main ()\n{\n\tfor(R int i=0;i<=9;i++) dp[1][i]=1;\n\tfor(R int i=2;i<=10;i++)\n\t\tfor(R int j=0;j<=9;j++)\n\t\t\tfor(R int k=0;k<=9;k++)\n\t\t\t\tif(abs(k-j)>=2) dp[i][j]+=dp[i-1][k];\n\tscanf(\"%d%d\",&l,&r);\n\tprintf(\"%d\",work(r+1)-work(l));\n\treturn 0;\n}\n```\n",
        "postTime": 1566996969,
        "uid": 166289,
        "name": "\u4e03\u91cc",
        "ccfLevel": 7,
        "title": "[SCOI2009]windy\u6570"
    },
    {
        "content": "\u521d\u6b21\u63a5\u89e6\u6570\u4f4dDP\uff0c\u6574\u4e2a\u7b97\u6cd5\u7684\u6838\u5fc3\u5c31\u5728\u4e8e\u201c\u8bd5\u586b\u6cd5\u201d\uff0c\u6839\u636e\u9898\u76ee\u8981\u6c42\u7684\u7279\u70b9\u8bbe\u8ba1\u8f85\u52a9\u6570\u7ec4\u7684\u72b6\u6001\uff0c\u5269\u4e0b\u7684\u5e94\u8be5\u5c31\u5f88\u5957\u8def\u4e86\u3002\n```cpp\n/*Tokgo*/\n#include <bits/stdc++.h>\n#define rep(i,a,b) for(int i=a;i<=b;++i)\n#define dwn(i,a,b) for(int i=a;i>=b;--i)\n\nusing namespace std;\n\nint a , b ;\nint f[ 13 ][ 10 ] ; // \u7b2ci\u4f4d\uff0c\u586b\u7684\u662fj\u7684\u5408\u6cd5\u6570\u91cf \nint x , y ; \nint ans ;\nint c[ 20 ] , l ;\n\nvoid calc( int &cnt ) {\n\tdwn( i , l , 1 ) { \n\t\trep( j , (i==l) , c[i]-1 ) // \u7edf\u8ba1\uff0c\u6700\u9ad8\u4f4d\u4e0d\u80fd\u662f0 \n\t\t\tif( abs( c[i+1] - j ) > 1 )  \n\t\t\t\tcnt += f[ i ][ j ] ;\n\t\tif( abs( c[i+1] - c[i] ) < 2 ) break ; // \u539f\u6570\u4e0d\u7b26\u5408\u60c5\u51b5\u4e86\u5c31\u8fd4\u56de \n\t}\n\trep( i , 1 , l-1 ) // \u9ad8\u4f4d\u662f\u524d\u5bfc\u96f6\u7684\u60c5\u51b5 \n\t\trep( j , 1 , 9 )\n\t\t\tcnt += f[ i ][ j ] ;\n}\n\nvoid t( int w ) { // \u8f6c\u6362\u6210\u5b57\u7b26\u4e32 \n\tl = 0 ;\n\twhile( w ) c[ ++l ] = w % 10 , w /= 10 ;\n\tc[ l+1 ] = -2 ;\n\t\n}\n\nint main() {\n\n\tcin >> a >> b ;\n\tb += 1 ; // \u6570\u4f4dDP\u6570\u7684\u662f[,)\u7684\u533a\u95f4\uff0c\u6240\u4ee5\u53f3\u7aef\u70b9+1 \n\t\n\trep( i , 0 , 9 ) f[ 1 ][ i ] = 1 ; \n\trep( i , 2 , 12 ) \n\t\trep( j , 0 , 9 ) {\n\t\t\trep( k , 0 , 9 ) \n\t\t\t\tif( abs( k - j ) > 1 ) \n\t\t\t\t\tf[ i ][ j ] += f[ i-1 ][ k ] ;\n\t\t}\n\tt( a ) , calc( x ) ;\n\tt( b ) , calc( y ) ; \n\tcout << y - x ; \n\t\n\n\treturn 0;\n}\n\n\n```\n",
        "postTime": 1551353961,
        "uid": 12796,
        "name": "\u72ec\u5b64\u6db5\u51b0",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011\u3010\u6570\u4f4ddp\u3011"
    },
    {
        "content": "\u7b2c\u4e00\u9053\u6570\u4f4d $DP$\u3002\n\n\u7531\u4e8e\u7a7a\u95f4\u4e0d\u591f,\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u8981\u538b\u7f29\u4e00\u4e0b\u3002\n\n\u6240\u4ee5\u6211\u4eec\u8bbe $f_{i,j}$ \u4e3a $1$~$X$ \u7684 $windy$\u3002(\u5176\u4e2d $X$ \u6ee1\u8db3\u7b2c\u4e00\u4f4d\u7b49\u4e8e $j$,\u4e14\u6709 $i$ \u4f4d)\n\n$$f_{i,j}=\\sum\\limits^{9}_{l=j+2} f_{i-1,l} +\\sum\\limits^{j-2}_{l=0} f_{i-1,l}$$\n\n```pascal\nfor i:=0 to 9 do fuck[1,i]:=1;\n\tfor i:=2 to 20 do for j:=0 to 9 do \n\t\tbegin \n\t\t\tfor k:=j-2 downto 0 do inc(fuck[i,j],fuck[i-1,k]); \n\t\t\tfor k:=j+2 to 9 do inc(fuck[i,j],fuck[i-1,k]); \n\t\tend;\n```\n\n\u8fd9\u6837\u5b50\u5c31\u5f88\u597d\u7684\u538b\u7f29\u4e86\u7a7a\u95f4\u3002\n\n\u6211\u4eec\u628a $C(l,r)$ \u53d8\u4e3a $C(r+1)-C(l)$ \n\n($C(r)-C(l-1)$ \u83ab\u540d $WA$ \u4e86?)\n\n\u6211\u4eec\u8003\u8651\u6c42\u4e00\u4e2a\u6570\u5b57 $x$ \u7684 $windy$\u3002\u6211\u4eec\u5b9a\u4e49 $X$ \u4e3a $x$ \u5012\u7acb\u8fc7\u6765\u7684\u6570\u7ec4,$len$ \u4e3a\u6570\u7ec4\u957f\u5ea6\u3002\u5982 $x=7192$,$X_i=\\{2,9,1,7\\},len=4$\u3002\n\n\u6211\u4eec\u5148\u628a $0$~$999$ \u7684 $windy$ \u6c42\u4e00\u4e0b\u3002\n\n$$\\sum\\limits^{len-1}_{i=1}\\sum\\limits^{9}_{j=1} f_{i,j}$$\n\n```\nfor i:=1 to len-1 do for j:=1 to 9 do inc(Windy,fuck[i,j]);\n```\n\n\u7136\u540e\u628a $1000$~$6999$ \u7684\u6c42\u4e86\u3002\n\n$$\\sum\\limits^{X_{len}-1}_{i=1} f_{len,i}$$\n\n```\nfor i:=1 to num[len]-1 do inc(Windy,fuck[len,i]);\n```\n\n\u6700\u540e\u7684\u6700\u96be\u641e~\u8981\u628a\u5269\u4e0b\u7684\u6c42\u4e86\u3002\n\n$$\\sum\\limits^{1}_{i=len-1} \\sum\\limits^{X_{i}-1}_{j=0} f_{i,j} (abs(j-X_{i+1})>=2)$$\n\n```pascal\nfor i:=len-1 downto 1 do\n    begin\n        for j:=0 to num[i]-1 do \n        \tif abs(j-num[i+1])>=2 then inc(Windy,fuck[i,j]);\n        if abs(num[i]-num[i+1])<2 then break;\n    end;\n```\n\n\n\u5c31\u6ca1\u4e86\u3002\n\n\n\n\n",
        "postTime": 1545111920,
        "uid": 77760,
        "name": "arfa",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    },
    {
        "content": "## \u6570\u4f4d\u52a8\u6001\u89c4\u5212 \n```\n#include<bits/stdc++.h>\nusing namespace std;\nint f[12][10]={0};\nlong long power[13];\nvoid PreWork()\n{\n\tint i,j,k;\n\tpower[0]=1;\n\tfor(i=1;i<=12;i++)power[i]=power[i-1]*10;\n\tfor(i=0;i<=9;i++)f[1][i]=1;\n\tfor(i=2;i<=11;i++)\n\tfor(j=0;j<=9;j++)\n\tfor(k=0;k<=9;k++)\n\tif(abs(j-k)>=2)f[i][j]+=f[i-1][k];\n}\nint Count(int x)\n{\n\tint w=0,y,i,j,pre,ans=0;\n\twhile(power[w]<=x)w++;\n\tfor(i=1;i<w;i++)//\u4e0d\u8db3w\u4f4d\u7684\u6570\u4e25\u683c\u5c0f\u4e8en\uff0c\u5168\u90e8\u52a0\u5165\u7b54\u6848 \n\tfor(j=1;j<=9;j++)ans+=f[i][j];\n\ty=x/power[w-1];\n\tfor(j=1;j<y;j++)ans+=f[w][j];\n\tpre=y;\n\tx%=power[w-1];\n\tfor(i=w-1;i>=1;i--)//\u679a\u4e3e\u6211\u4eec\u6240\u6c42\u7684\u6570\u5b57\u7b2c\u4e00\u6b21\u5c0f\u4e8en\u7684\u90a3\u4e00\u4f4d \n\t{\n\t\ty=x/power[i-1];\n\t\tfor(j=0;j<y;j++)\n\t\tif(abs(j-pre)>=2)ans+=f[i][j];\n\t\tif(abs(pre-y)<2)break;\n\t\tpre=y;\n\t\tx%=power[i-1];\n\t}\n\treturn ans;\n}\nint main()\n{\n\tint a,b;\n\tcin>>a>>b;\n\tPreWork();\n\tcout<<Count(b+1)-Count(a)<<endl;\n\treturn 0;\n}\n```",
        "postTime": 1534420118,
        "uid": 115093,
        "name": "\u900d\u9065\u5929\u5802",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2657 \u3010[SCOI2009]windy\u6570\u3011"
    }
]