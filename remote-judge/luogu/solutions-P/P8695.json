[
    {
        "content": "## 1. \u7f16\u7a0b\u601d\u8def\u3002\n\n\u7531\u4e8e\u9898\u76ee\u4e2d\u7ed9\u5b9a\u7684\u70b9\u7684\u4e2a\u6570 $N$ \u4e0d\u8d85\u8fc7 $1000$\uff0c\u6570\u636e\u89c4\u6a21\u4e0d\u5927\uff0c\u56e0\u6b64\u91c7\u7528\u7b80\u5355\u7684\u66b4\u529b\u679a\u4e3e\u53ef\u4ee5\u89e3\u51b3\u672c\u95ee\u9898\u3002\n\n\u5148\u5b9a\u4e49 $4$ \u4e2a\u6570\u7ec4 $X$\u3001$Y$\u3001$vx$ \u548c $vy$ \u5206\u522b\u4fdd\u5b58\u6bcf\u4e2a\u654c\u65b9\u5355\u4f4d\u7684\u4f4d\u7f6e\u5750\u6807 $(X_i,Y_i)$ \u4ee5\u53ca\u5176\u5728 X \u8f74\u6b63\u65b9\u5411\u548c Y \u8f74\u6b63\u65b9\u5411\u4e0a\u7684\u901f\u5ea6\u3002\u5728\u8f93\u5165\u65f6\u9884\u5904\u7406\u540e\u4fdd\u5b58\u3002\n\n\u4ee5\u8f93\u5165\u6837\u4f8b\u7684 $4$ \u4e2a\u654c\u65b9\u5355\u4f4d\u4e3a\u4f8b\uff0c\u8f93\u5165\u9884\u5904\u7406\u540e\uff0c$4$ \u4e2a\u6570\u7ec4\u76f8\u5e94\u6570\u7ec4\u5143\u7d20\u7684\u503c\u53ef\u5217\u4e3e\u5982\u4e0b\uff1a\n\n$X[1]=0, Y[1]=0, vx[1]=1, vy[1]=0$  \uff08\u5411\u53f3\u4e3a X \u8f74\u6b63\u65b9\u5411\uff09\n\n$X[2]=0, Y[2]=10, vx[1]=1, vy[1]=0$  \n\n$X[3]=10, Y[3]=10, vx[3]=0, vy[1]=-2$  \uff08\u5411\u4e0b\u4e3a Y \u8f74\u8d1f\u65b9\u5411\uff09\n\n$X[4]=2, Y[4]=3, vx[4]=-2, vy[4]=0$  \uff08\u5411\u5de6\u4e3a X \u8f74\u8d1f\u65b9\u5411\uff09\n\n\u679a\u4e3e\u7684\u5177\u4f53\u505a\u6cd5\u5982\u4e0b\uff1a\n\n\u5728 $N$ \u4e2a\u654c\u65b9\u5355\u4f4d\u4e2d\u4f9d\u6b21\u9009\u62e9\u67d0\u4e2a\u654c\u65b9\u5355\u4f4d\u4f5c\u4e3a\u57fa\u51c6\u70b9\uff0c\u8bbe\u7f16\u53f7\u4e3a $i$\uff0c\u5728\u5176\u4ed6\u7684 $N-1$ \u4e2a\u654c\u65b9\u5355\u4f4d\u4e2d\u7edf\u8ba1\u6709\u591a\u5c11\u4e2a\u5355\u4f4d\u4e0e\u57fa\u51c6\u70b9\u540c\u5217\uff08X \u5750\u6807\u76f8\u540c\uff09\u6216\u540c\u884c\uff08Y \u5750\u6807\u76f8\u540c\uff09\u3002\u4e0b\u9762\u4ee5\u540c\u5217\u7684\u7edf\u8ba1\u8fdb\u884c\u8bf4\u660e\u3002\n\n\u4e0e\u57fa\u51c6\u70b9 $i$ \u540c\u5217\u7684\u67d0\u4e2a\u654c\u65b9\u5355\u4f4d $j$ \u7684\u60c5\u51b5\u5206\u4e3a\u4e24\u79cd\uff1a\n\n1\uff09$X_i$ \u4e0e $X_j$ \u76f8\u540c\uff0c$vx_i$ \u4e5f\u4e0e $vx_j$ \u76f8\u540c\uff0c\u8fd9\u6837\u5b83\u4eec\u4efb\u4f55\u65f6\u523b\u90fd\u540c\u5217\uff0c\u5c06\u8fd9\u6837\u7684\u5355\u4f4d\u7684\u4e2a\u6570\u8bb0\u5f55\u5230\u53d8\u91cf $cnt$ \u4e2d\u3002\u5f53\u7136\uff0c\u82e5 $vx_i$ \u4e0e $vx_j$ \u76f8\u540c\uff0c\u4f46 $X_i$ \u4e0e $X_j$ \u4e0d\u76f8\u540c\uff0c\u8fd9\u6837\u7684\u4e24\u4e2a\u5355\u4f4d\u6c38\u8fdc\u4e0d\u53ef\u80fd\u540c\u5217\uff0c\u76f4\u63a5\u5ffd\u7565\u6389\u3002\n\n2\uff09$vx_i$ \u4e0e $vx_j$ \u4e0d\u76f8\u540c\u3002\u8ba1\u7b97\u8fd9\u4e24\u4e2a\u5355\u4f4d\u53ef\u80fd\u7684\u540c\u5217\u65f6\u523b\u3002\u8ba1\u7b97\u65b9\u6cd5\u4e3a\u8ddd\u79bb\u5dee\u9664\u4ee5\u901f\u5ea6\u5dee\u3002\u5373\n\n$$t=\\frac{X_i-Xj}{vx_i-vy_j}$$\n\n\u8ba1\u7b97\u540e\uff0c\u82e5 $t$ \u4e0d\u5c0f\u4e8e $0$ \u5e76\u4e14\u8ddd\u79bb\u5dee\u80fd\u6574\u9664\u901f\u5ea6\u5dee\uff08\u76f8\u5f53\u4e8e $t$ \u786e\u5b9e\u4e3a\u6574\u6570\u65f6\u523b\uff09\uff0c\u5219\u76f8\u5e94\u7684\u6570\u7ec4\u5143\u7d20 $h[t]$ \u52a0 $1$\uff0c\u8868\u793a\u5728 $t$ \u65f6\u523b\u4e0e\u57fa\u51c6\u70b9\u540c\u5217\u7684\u5355\u4f4d\u591a\u4e86 $1$ \u4e2a\u3002\n\n\u627e\u51fa\u8fd9\u4e24\u8005\u540c\u5217\u70b9\u6570\u548c\u7684\u6700\u5927\u503c\u5c31\u662f\u67d0\u65f6\u523b\u4e0e\u57fa\u51c6\u70b9\u540c\u5217\u7684\u6700\u591a\u5355\u4f4d\u3002\n\n\u6bcf\u4e2a\u70b9\u4f5c\u4e3a\u57fa\u51c6\u70b9\u6240\u6c42\u5f97\u540c\u5217\u70b9\u6570\u7684\u6700\u5927\u503c\u5c31\u662f\u6fc0\u5149\u70ae\u5728\u4e00\u5217\u4e0a\u80fd\u6d88\u706d\u7684\u6700\u591a\u654c\u65b9\u5355\u4f4d\u3002\n\n\u540c\u7406\uff0c\u53ef\u4ee5\u6c42\u5f97\u6fc0\u5149\u70ae\u5728\u4e00\u884c\u4e0a\uff08\u540c Y \u5750\u6807\uff09\u80fd\u6d88\u706d\u7684\u6700\u591a\u654c\u65b9\u5355\u4f4d\u3002\n\n\u53d6\u4e8c\u8005\u7684\u6700\u5927\u503c\u5c31\u662f\u6240\u6c42\u7684\u7b54\u6848\u3002\n\n## 2. \u6e90\u7a0b\u5e8f\u3002\n\n```c\n#include <stdio.h>\n#include <string.h>\nint ans;\nint h[2000005];    // h[i]\u4fdd\u5b58 i \u65f6\u523b\u4e0e\u7ed9\u5b9a\u70b9\u540cX\u7684\u70b9\u7684\u4e2a\u6570\nvoid calc(int X[],int vx[],int n)\n{\n    int i,j;\n    for (i=1;i<=n;i++)   // \u5bf9\u6bcf\u4e2a\u70b9\u8fdb\u884c\u679a\u4e3e\uff0c\u770b\u6709\u591a\u5c11\u4e2a\u70b9\u5728\u67d0\u65f6\u523b\u4e0e\u5176\u540c\u5217\uff08\u540cX\u5750\u6807\uff09\n    {\n        memset(h,0,sizeof(h));\n        int cnt=1;\n        for (j=1;j<=n;j++)\n        {\n            if (j==i) continue;\n            if (vx[i]==vx[j])\n            {\n                if (X[i]==X[j])     // \u540c\u521d\u59cbX\u5750\u6807\u540c\u901f\u5ea6\uff0c\u4efb\u4f55\u65f6\u523b\u540cX\n                   cnt++;\n                if (ans<cnt) ans=cnt;\n                continue;\n            }\n            int dx=X[i]-X[j];       // \u4e24\u4e2a\u70b9\u7684\u8ddd\u79bb\u5dee\n            int dv=vx[j]-vx[i];     // \u4e24\u4e2a\u70b9\u7684\u901f\u5ea6\u5dee\n            int t=dx/dv;            // \u4e24\u4e2a\u70b9\u76f8\u9047\u7684\u65f6\u95f4\n            if (dx%dv || t<0)   continue;\n            h[t]++;                 // \u5728 t \u65f6\u523b\u5230\u8fbe\u540cX\u7684\u70b9\u6570\u52a01\n            if (ans<h[t]+cnt)  ans=h[t]+cnt;\n        }\n    }\n}\nint main()\n{\n    int n;\n    scanf(\"%d\",&n);\n    int X[1010],Y[1010],vx[1010]={0},vy[1010]={0};\n    for (int i=1;i<=n;i++)\n    {\n        int v;\n        char d[3];\n        scanf(\"%d%d%d%s\",&X[i],&Y[i],&v,d);\n        switch (d[0])\n        {\n            case 'R': vx[i]=v; break;\n            case 'L': vx[i]=-v; break;\n            case 'U': vy[i]=v; break;\n            case 'D': vy[i]=-v; break;\n        }\n    }\n    ans=0;\n    calc(X,vx,n);\n    calc(Y,vy,n);\n    printf(\"%d\\n\",ans);\n    return 0;\n}\n```\n\n\n\n\n\n\n\n",
        "postTime": 1680169738,
        "uid": 228457,
        "name": "wuhan1234",
        "ccfLevel": 0,
        "title": "P8695 [\u84dd\u6865\u676f 2019 \u56fd AC] \u8f68\u9053\u70ae \u9898\u89e3"
    },
    {
        "content": "#### \u9898\u76ee\u5927\u610f\n\u4e00\u4e2a\u5e73\u9762\u4e0a\u6709 $n$ \u4e2a\u70b9\u5206\u522b\u5411\u4e0a\u3001\u4e0b\u3001\u5de6\u3001\u53f3\u56db\u4e2a\u65b9\u5411\u79fb\u52a8\uff0c\u6bcf\u4e2a\u70b9\u6709\u901f\u5ea6 $v$ \u6c42\u89e3\u6700\u591a\u4f1a\u6709\u51e0\u4e2a\u70b9\u4f1a\u5728\u540c\u4e00\u884c\u6216\u540c\u4e00\u5217\u4e0a\uff0c\u5373\u7eb5\u5750\u6807\u6216\u6a2a\u5750\u6807\u76f8\u540c\u3002\n\n\u9898\u76ee\u6837\u4f8b\u56fe\u793a\u5982\u4e0b\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/17072351.png)\n\n$x$ \u8f74\u4e0a\u7684\u4e24\u4e2a\u70b9\u6c38\u8fdc\u5728\u540c\u4e00\u884c\u4e0a\uff0c\u5411\u4e0b\u8d70\u7684\u70b9\u5728\u67d0\u4e00\u65f6\u523b\u4e5f\u4f1a\u5230\u8fbe $x$ \u8f74\uff0c\u8fd9\u6837\u6700\u591a\u6709 $3$ \u4e2a\u70b9\u5728\u540c\u4e00\u76f4\u7ebf\u4e0a\u3002\n\n\u6211\u4eec\u518d\u521b\u5efa\u4e24\u4e2a\u5217\u8868\u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\uff0c\u5f53\u7136\u4e5f\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5217\u8868\uff0c\u6bcf\u4e2a\u5b50\u5217\u8868\u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u5750\u6807\uff0c\u4e24\u4e2a\u5217\u8868\u5b58\u50a8\u6bcf\u4e2a\u70b9\u5728\u6a2a\u65b9\u5411\u7684\u901f\u5ea6\u548c\u5728\u7eb5\u65b9\u5411\u7684\u901f\u5ea6 $X$ \u8868\u793a\u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u6a2a\u5750\u6807\uff0c$Y$ \u8868\u793a\u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u7eb5\u5750\u6807\uff0c$vx$ \u8868\u793a\u5b58\u50a8\u6bcf\u4e2a\u70b9\u5728\u6a2a\u65b9\u5411\u7684\u901f\u5ea6\uff0c$vy$ \u8868\u793a\u5b58\u50a8\u6bcf\u4e2a\u70b9\u5728\u7eb5\u65b9\u5411\u7684\u901f\u5ea6\u3002\n\n\u5f53\u7136\u901f\u5ea6\u9700\u8981\u89c4\u5b9a\u65b9\u5411\u3002\n\n\u8bbe\u5b9a $x$ \u65b9\u5411\u5411\u53f3\u4e3a\u6b63\uff0c\u5411\u5de6\u4e3a\u8d1f\uff0c\u8bbe\u5b9a $y$ \u65b9\u5411\u5411\u4e0a\u4e3a\u6b63\uff0c\u5411\u4e0b\u4e3a\u8d1f\u3002\n\n\u6700\u540e\u6211\u4eec\u89e3\u51b3\u4e86\u4e00\u7cfb\u5217\u96be\u70b9\uff0c\u5c31\u53ef\u4ee5\u5f97\u51fa\u8d2a\u5fc3\u7ed3\u8bba\uff0c\u6211\u4eec\u9501\u5b9a\u6bcf\u4e00\u4e2a\u70b9\uff0c\u6c42\u5b83\u6700\u591a\u4f1a\u548c\u51e0\u4e2a\u70b9\u5171\u7ebf\uff0c\u7136\u540e\u518d\u627e\u6240\u6709\u70b9\u7684\u540c $x/y$ \u65f6\u523b $t$ \u7684\u70b9\u6570\u7684\u6700\u5927\u503c\uff0c\u6211\u4eec\u8fd8\u53ef\u4ee5\u5f00\u4e00\u4e2a map \u7ef4\u62a4\u3002\n\n#### \u4ee3\u7801\n\u4ec5\u7ed9\u51fa\u91cd\u8981\u90e8\u5206\uff0c\u60f3\u8981\u5b8c\u6574\u7684\u540c\u5b66\u53ef\u4ee5\u79c1\u4fe1\u3002\n\n```\nfor(int t=0;t<=1000;t++)\n    {\n        for(int i=1;i<=n;i++)\n        {\n            nx[i] = sx[i] + dx[dir[i]]*t*v[i];\n            ny[i] = sy[i] + dy[dir[i]]*t*v[i];\n        }\n        map<int,int> mx;\n        map<int,int> my;\n        for(int i=1;i<=n;i++)\n        {\n            mx[nx[i]]++;\n            my[ny[i]]++;\n        }\n        for(auto o : mx)\n        {\n            if(o.second>maxn)\n            {\n                maxn = o.second;\n                maxm = o.first;\n            }\n        }\n        for(auto o : my)\n        {\n            if(o.second>maxn)\n            {\n                maxn = o.second;\n                maxm = o.first;\n            }\n        }\n    }\n```",
        "postTime": 1683365150,
        "uid": 741139,
        "name": "yexc",
        "ccfLevel": 0,
        "title": "P8695 [\u84dd\u6865\u676f 2019 \u56fd AC] \u8f68\u9053\u70ae"
    }
]