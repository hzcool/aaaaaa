[
    {
        "content": "\u8fd9\u91cc\u628a\u7b2c$i$\u4e2a\u4eba\u7684\u540d\u6b21\uff0c\u5b9a\u4e49\u4e3a\u5206\u6570**\u4e25\u683c\u9ad8\u4e8e**\u7b2c$i$\u4e2a\u4eba\u7684\u4eba\u6570\u52a0$1$\u3002\n\n\u628a\u6761\u4ef6\u8fdb\u884c\u8f6c\u5316\uff0c\u53ef\u4ee5\u5f97\u5230\u300c$a_i$\u4e2a\u4eba\u5206\u6570\u6bd4\u6211\u9ad8\uff0c$b_i$\u4e2a\u4eba\u5206\u6570\u6bd4\u6211\u4f4e\u300d\u5b9e\u9645\u4e0a\u5c31\u662f\u300c\u6211\u662f\u7b2c$a_i+1$\u540d\uff0c \u7b97\u4e0a\u6211\u4e00\u5171\u6709$n-a_i-b_i$\u4e2a\u4eba\u548c\u6211\u5206\u6570\u76f8\u540c\u300d\u3002\u8fd9\u91cc\u8bbe$l_i=a_i+1$\uff0c$r_i=n-b_i$\u3002\u610f\u4e49\u662f\u5c06\u5206\u6570\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\u4e4b\u540e\uff0c\u4e0e\u7b2c$i$\u4e2a\u4eba\u5206\u6570\u76f8\u540c\uff08\u5305\u62ec\u7b2c$i$\u4e2a\u4eba\uff09\u7684\u533a\u95f4\u662f$[l_i,r_i]$\u3002\n\n\u5148\u53bb\u6389\u4e00\u4e9b\u5fc5\u5047\u7684\u8bdd\u3002\n\n1\u3001\u5982\u679c$l_i>r_i$\uff0c\u90a3\u4e48\u7b2c$i$\u4e2a\u4eba\u8bf4\u7684\u8bdd\u5fc5\u5047\u3002\n\n2\u3001\u5982\u679c$l_i$\u548c$r_i$\u90fd\u76f8\u7b49\u7684\u4eba\u51fa\u73b0\u4e86\u8d85\u8fc7$r_i-l_i+1$\u4e2a\uff0c\u90a3\u4e48\u6700\u591a\u53ea\u6709\u5176\u4e2d\u7684$r_i-l_i+1$\u4e2a\u4eba\u8bf4\u4e86\u771f\u8bdd\uff0c\u8d85\u51fa$r_i-l_i+1$\u90e8\u5206\u7684\u4eba\u8bf4\u7684\u8bdd\u5fc5\u5047\u3002\n\n\u5224\u65ad\u7b2c$2$\u4e2a\u6761\u4ef6\uff0c\u53ef\u4ee5\u6309\u7167$l$\u4e3a\u7b2c\u4e00\u5173\u952e\u5b57\uff0c$r$\u4e3a\u7b2c\u4e8c\u5173\u952e\u5b57\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\u6765\u5224\u65ad\u3002\u53bb\u6389\u6240\u6709\u5fc5\u5047\u7684\u8bdd\u4e4b\u540e\uff0c\u628a$l$\u548c$r$\u90fd\u76f8\u7b49\u7684\u4eba\u5408\u5e76\u6210\u4e00\u4e2a\u533a\u95f4\uff08\u5de6\u53f3\u7aef\u70b9\u4e0d\u53d8\uff09\uff0c\u5e76\u7ed9\u533a\u95f4\u5b9a\u4e49\u4e00\u4e2a\u4ef7\u503c\uff0c\u5373\u4e3a\u5408\u5e76\u4e4b\u524d\u6ee1\u8db3$l_i$\u7b49\u4e8e\u8be5\u533a\u95f4\u5de6\u7aef\u70b9\u4e14$r_i$\u7b49\u4e8e\u8be5\u533a\u95f4\u53f3\u7aef\u70b9\u7684\u4eba\u6570\u3002\n\n\u8fd9\u6837\uff0c\u6c42\u6700\u591a\u6709\u591a\u5c11\u4eba\u8bf4\u771f\u8bdd\uff0c\u5c31\u53d8\u6210\u4e86\u8fd9\u4e00\u4e2a\u95ee\u9898\uff1a$m$\u4e2a\u533a\u95f4\uff0c\u6bcf\u4e2a\u533a\u95f4\u4e3a$[L_i,R_i]$\uff0c\u4ef7\u503c\u4e3a$V_i$\uff0c\u4ece\u4e2d\u9009\u51fa\u82e5\u5e72\u4e2a\u6ca1\u6709\u4ea4\u96c6\u7684\u533a\u95f4\uff0c\u6c42\u9009\u51fa\u533a\u95f4\u7684\u6700\u5927\u4ef7\u503c\u548c\u3002\n\n\u8fd9\u6837\u5c31\u53ef\u4ee5DP\u4e86\u3002\u5148\u628a\u533a\u95f4\u6309$R_i$\u6392\u5e8f\uff0c\u8bbe$f[i]$\u4e3a\u5230\u7b2c$i$\u4e2a\u533a\u95f4\u7684\u6700\u4f18\u89e3\u3002\n\n\u8f6c\u79fb\u5c31\u662f\u5148\u4e8c\u5206\u67e5\u627e\u5f53$k\\in[1,i-1]$\u65f6\u6ee1\u8db3$R_k<L_i$\u7684\u6700\u5927\u7684$k$\u503c\uff0c\u90a3\u4e48\uff0c\u8f6c\u79fb\u65b9\u7a0b\u5c31\u662f\uff1a\n\n$f[i]=\\max(f[i-1],f[k]+V_i)$\u3002\n\n\u6700\u540e\u7b54\u6848\u5c31\u662f$n-f[m]$\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <cmath>\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\nusing namespace std;\ninline int read() {\n    int res = 0; bool bo = 0; char c;\n    while (((c = getchar()) < '0' || c > '9') && c != '-');\n    if (c == '-') bo = 1; else res = c - 48;\n    while ((c = getchar()) >= '0' && c <= '9')\n        res = (res << 3) + (res << 1) + (c - 48);\n    return bo ? ~res + 1 : res;\n}\nconst int N = 1e5 + 5;\nint n, tn, f[N];\nstruct cyx {\n    int l, r, v;\n} a[N], b[N];\nbool comp1(cyx a, cyx b) {\n    if (a.l != b.l) return a.l < b.l;\n    return a.r < b.r;\n}\nbool comp2(cyx a, cyx b) {\n    if (a.r != b.r) return a.r < b.r;\n    return a.l < b.l;\n}\nint findx(int l, int r, int val) {\n    while (l <= r) {\n        int mid = l + r >> 1;\n        if (a[mid].r < val) l = mid + 1;\n        else r = mid - 1;\n    }\n    return r;\n}\nint main() {\n    int i, x, y, tmpn; tmpn = read();\n    for (i = 1; i <= tmpn; i++) a[i].l = read() + 1, a[i].r = tmpn - read();\n    sort(a + 1, a + tmpn + 1, comp1);\n    for (i = 1; i <= tmpn; i++) if (a[i].l <= a[i].r) b[++tn] = a[i];\n    for (i = 1; i <= tn; i++) if (i == 1 || b[i].l != b[i - 1].l ||\n        b[i].r != b[i - 1].r) a[++n] = b[i], a[n].v = 1;\n        else if (a[n].v < a[n].r - a[n].l + 1) a[n].v++;\n    sort(a + 1, a + n + 1, comp2); f[1] = a[1].v;\n    for (i = 2; i <= n; i++) {\n        int nxt = findx(1, i - 1, a[i].l);\n        f[i] = max(f[i - 1], f[nxt] + a[i].v);\n    }\n    cout << tmpn - f[n] << endl;\n    return 0;\n}\n```",
        "postTime": 1512881960,
        "uid": 29936,
        "name": "xyz32768",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P2519\u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "\u3010\u9898\u9762\u3011\n \n \u4e00\u6b21\u8003\u8bd5\u5171\u6709n\u4e2a\u4eba\u53c2\u52a0\uff0c\u7b2ci\u4e2a\u4eba\u8bf4\uff1a\u201c\u6709ai\u4e2a\u4eba\u5206\u6570\u6bd4\u6211\u9ad8\uff0cbi\u4e2a\u4eba\u5206\u6570\u6bd4\u6211\u4f4e\u3002\u201d\u95ee\u6700\u5c11\u6709\u51e0\u4e2a\u4eba\u6ca1\u6709\u8bf4\u771f\u8bdd(\u53ef\u80fd\u6709\u76f8\u540c\u7684\u5206\u6570)\n\n~~\u9898\u9762\u77ed\u5f97\u4ee5\u4e3a\u8fd9\u9898\u662f\u4e2a\u6c34\u9898~~\n\n\u3010\u5206\u6790\u3011\n\n\u901a\u8fc7\u4ed6\u4eec\u6240\u8bf4\u7684\u524d\u9762\u540e\u9762\u7684\u4eba\u6570\uff0c\u6211\u4eec\u9996\u5148\u53ef\u4ee5\u786e\u5b9a\u4ed6\u7684**\u6392\u540d\u533a\u95f4**\uff08\u533a\u95f4\u5185\u7684\u4eba\u5206\u6570\u76f8\u7b49\uff09\n\n\u8fd9\u6837\u6211\u4eec\u5c31\u5f88\u5bb9\u6613\u53d1\u73b0\u4e24\u4e2a\u6392\u9664\u5047\u8bdd\u7684\u5173\u952e\uff1a\n\n1. \u524d\u540e\u7684\u4eba\u6570\u4e4b\u548c\u5982\u679c\u5927\u4e8e\u7b49\u4e8e\u603b\u4eba\u6570\u663e\u7136\u662f\u4e0d\u53ef\u80fd\u7684\u3002\n\n1. \u6211\u4eec\u521a\u624d\u5206\u6790\u5f97\u51fa\uff0c**\u533a\u95f4\u5185\u7684\u5206\u6570\u76f8\u7b49**\uff0c\u5047\u5982\u4e00\u6bb5\u533a\u95f4\u662f$[a,b]$\uff0c\u4e00\u6bb5\u662f$[b,c]$\uff0c\u5982\u679c\u4e24\u6bb5\u533a\u95f4\u540c\u65f6\u5b58\u5728\uff0c\u90a3\u4e48\u4f20\u8fbe\u51fa\u7684\u610f\u601d\u662f\uff1a$a=b>$c\u4e14$a>b=c$\uff0c\u8fd9\u663e\u7136\u662f\u4e0d\u6210\u7acb\u7684\u3002\u6240\u4ee5\u6211\u4eec\u53d1\u73b0\uff0c\u5982\u679c\u4e24\u6bb5\u533a\u95f4**\u4e0d\u5b8c\u5168\u91cd\u5408**\u663e\u7136\u662f\u4e0d\u7b26\u5408\u9898\u610f\u7684\u3002\n\n\u7279\u522b\u5730\uff0c\u5982\u679c\u4e24\u6bb5\u533a\u95f4**\u5b8c\u5168\u91cd\u5408**\u662f\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u53ef\u80fd\u5206\u6570\u76f8\u540c\u3002\n\n\u4f46\u662f**\u91cd\u5408\u533a\u95f4\u6570**\u5982\u679c\u8d85\u8fc7**\u533a\u95f4\u957f\u5ea6**\u5c31\u4e00\u5b9a\u6709\u5047\u8bdd\u3002\n\n\u8fd9\u4e2a\u5f88\u597d\u7406\u89e3\uff0c\u5047\u5982\u533a\u95f4\u957f\u5ea6\u4e3a$k$\uff0c\u90a3\u4e48\u5c31\u662f\u8bf4\u6709$k$\u4e2a\u4eba\u5206\u6570\u76f8\u7b49\uff0c\u4f46\u5374\u6709\u591a\u4e8e$k$\u4e2a\u4eba\u8bf4\u81ea\u5df1\u5728\u8fd9\u6bb5\u533a\u95f4\u5185\uff0c\u8fd9\u663e\u7136\u6709\u4eba\u8bf4\u5047\u8bdd\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7ed9\u533a\u95f4\u9644\u4e00\u4e2a\u6743\u503c$w[i]=min($\u76f8\u540c\u533a\u95f4\u6570$,$\u533a\u95f4\u957f\u5ea6$)$\n\n\u3010\u95ee\u9898\u7b49\u4ef7\u3011\n\n \u6709\u82e5\u5e72\u4e2a\u533a\u95f4\uff0c\u6bcf\u4e2a\u533a\u95f4\u90fd\u6709\u4e00\u4e2a\u6743\u503c\uff0c\u8981\u6c42\u9009\u51fa\u82e5\u5e72\u4e0d\u76f8\u4ea4\u533a\u95f4\u4f7f\u5f97\u6743\u503c\u548c\u6700\u5927\u3002\n \n \u8fd9\u4e2a\u95ee\u9898\u7528\u8d2a\u5fc3\u663e\u7136\u662f\u4e0d\u80fd\u505a\u4e86\uff0c\u56e0\u4e3a\u53ef\u80fd\u9009\u7684\u5f88\u591a\u533a\u95f4\u7684\u6743\u503c\u548c\u8fd8\u4e0d\u5982\u4e00\u4e2a\u533a\u95f4\u5927\u3002 \n \n \u6211\u4eec\u8003\u8651\u7528DP\uff0c\u5148\u6a21\u4eff\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\u7684\u505a\u6cd5\uff0c\u6211\u4eec\u4ee4 $F[i]$ \u8868\u793a\u9009\u7b2c $i$ \u4e2a\u533a\u95f4\u80fd\u5f97\u5230\u7684\u6700\u5927\u6743\u503c\uff0c\u90a3\u4e48\u6211\u4eec\u6709 $$F[i]=max(F[j])+Value[i]$$\u5176\u4e2d\u8981\u6c42\u533a\u95f4 $j$ \u4e0e\u533a\u95f4 $i$ \u4e0d\u76f8\u4ea4\uff0c\u53ef\u662f\u8fd9\u4e2a\u590d\u6742\u5ea6\u662f $O(n^2)$\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u7ebf\u6bb5\u6811\u4f18\u5316\u6c42 $max(F[j])$\u7684\u8fc7\u7a0b\uff0c\u590d\u6742\u5ea6\u53d8\u6210 $O(nlogn)$\u3002\n\n\u4f46\u662f\u6211\u4eec\u8fd8\u6709\u66f4\u597d\u7684\u505a\u6cd5\uff0c\u6211\u4eec\u8fd9\u6b21\u4ee5\u6bcf\u4e2a\u70b9\u4e3a\u5355\u4f4d\uff0c $F[i]$ \u8868\u793a\u5230 $i$ \u8fd9\u4e2a\u70b9\u4e3a\u6b62\u80fd\u9009\u62e9\u7684\u6700\u5927\u6743\u503c\uff0c\u90a3\u4e48\u6211\u4eec\u5982\u679c $i$ \u8fd9\u4e2a\u70b9\u662f\u67d0\u4e2a\u533a\u95f4\u7684\u53f3\u7aef\u70b9\uff0c$$F[i]=max(F[i],F[left]+value)$$\uff0c$left$ \u662f\u8fd9\u4e2a\u533a\u95f4\u7684\u5de6\u7aef\u70b9\uff0c$value$ \u662f\u8fd9\u4e2a\u533a\u95f4\u7684\u6743\u503c\uff0c\u8fd9\u6837\u9664\u6392\u5e8f\u590d\u6742\u5ea6\u5916\u53ef\u4ee5 $O(n)$ \u7684\u89e3\u51b3\u3002\n\n\u3010\u4ee3\u7801\u5b9e\u73b0\u3011\n```\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=100010;\nstruct node{int l,r;} p[N];\nint n,tot,num,a[N],w[N],L[N],R[N],f[N];\nbool cmp(node x,node y)\n{\n    if(x.r!=y.r) return x.r<y.r;//\u5173\u952e\u5b57\uff1a\u53f3\u7aef\u70b9 \n    return x.l<y.l;//\u6b21\u5173\u952e\u5b57\uff1a\u5de6\u7aef\u70b9 \n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n    {\n    \tint x,y;\n        scanf(\"%d%d\",&x,&y);\n        if(x+y>=n) continue;//\u663e\u7136\u662f\u5047\u8bdd\uff08\u81ea\u5df1\u4f53\u4f1a\uff09 \n        p[++tot].l=x+1,p[tot].r=n-y;//\u8bb0\u5f55\u7ebf\u6bb5\u5de6\u53f3\u7aef\u70b9 \n    }\n    sort(p+1,p+tot+1,cmp);\n    for(int i=1;i<=tot;i++)//\u8ba1\u7b97\u533a\u95f4\u6743\u503c\n    {\n        if(p[i].l!=p[i-1].l||p[i].r!=p[i-1].r) num++;\n        //\u5982\u679c\u7ebf\u6bb5\u5b8c\u5168\u91cd\u5408\u5219num\u503c\u4e0d\u53d1\u751f\u53d8\u5316\uff0c\u6743\u503c\u589e\u52a0\n        w[num]=min(w[num]+1,p[i].r-p[i].l+1);//\u533a\u95f4\u6743\u503c\n        L[num]=p[i].l,R[num]=p[i].r;//\u8bb0\u5f55\u91cd\u65b0\u9009\u51fa\u6765\u7684\u7ebf\u6bb5\n    }\n    int j=1;\n    for(int i=1;i<=n;i++)\n    {\n        f[i]=f[i-1];\n        while(j<=num&&R[j]==i) \n\t\t{\n\t\t\tf[i]=max(f[i],f[L[j]-1]+w[j]);//\u4e0a\u6587\u5df2\u89e3\u91ca\n\t\t\tj++;\n\t\t}\n    }\n    printf(\"%d\",n-f[n]);\n    return 0;\n}\n ```\n",
        "postTime": 1538301280,
        "uid": 74896,
        "name": "Mathison",
        "ccfLevel": 0,
        "title": "P2519 problem a \u3010dp\u3011\u3010\u533a\u95f4\u95ee\u9898\u3011"
    },
    {
        "content": "### ~~\u53ea\u8981\u60a8\u7684rp\u8db3\uff0c\u4e07\u7269\u7686\u53ef\u7ebf\u6bb5\u6811~~\n\n\u5c45\u7136\u6ca1\u4eba\u62ff\u7ebf\u6bb5\u6811\u505a\u2026\u2026\u611f\u89c9\u5c31\u662f\u88f8\u7684\u7ebf\u6bb5\u6811\u4f18\u5316dp\u2026\u2026\n\n\u9996\u5148\u9898\u76ee\u8ba9\u6211\u4eec\u6c42\u6700\u5c11\u7684\u8bf4\u5047\u8bdd\u7684\u4eba\uff0c\u5c31\u662f\u8ba9\u8bf4\u771f\u8bdd\u7684\u4eba\u6700\u591a\u3002\u8fd9\u4e2a\u201c\u6700\u591a\u201d\u5c31\u8bf4\u660e\u4e86\u6211\u4eec\u9700\u8981\u6784\u9020\u51fa\u4e00\u79cd\u65b9\u6848\u80fd\u8ba9\u90a3\u4e9b\u4eba\u53ef\u4ee5\u88ab\u770b\u4f5c\u8bf4\u7684\u662f\u771f\u8bdd\uff0c\u5728\u8fd9\u79cd\u65b9\u6848\u4e2d\u8bf4\u771f\u8bdd\u7684\u4eba\u4e0d\u80fd\u4e92\u76f8\u77db\u76fe\u3002\n\n\u90a3\u4e48\u4ec0\u4e48\u53ef\u4ee5\u662f\u4e92\u76f8\u77db\u76fe\u5462\uff1f\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u4e86\u6bcf\u4e2a\u4eba\u7684\u524d\u9762\u6709\u591a\u5c11\u5206\u6bd4\u4ed6\u9ad8\u7684\uff0c\u540e\u9762\u6709\u591a\u5c11\u5206\u6bd4\u4ed6\u4f4e\u7684\uff0c\u800c\u5206\u6570\u53ef\u4ee5\u6709\u91cd\u590d\u7684\uff0c\u4e8e\u662f\u5c31\u77e5\u9053\u4e86\u8fd9\u4e2a\u5206\u5728\u6240\u6709\u4eba\u7684\u5206\u6570\u6392\u597d\u5e8f\u7684\u60c5\u51b5\u4e0b\u5360\u7684\u662f\u54ea\u4e2a\u533a\u95f4\uff0c\u8fd9\u4e2a\u533a\u95f4\u5728\u8fd9\u4e2a\u4eba\u8bf4\u771f\u8bdd\u7684\u60c5\u51b5\u4e0b\u4e00\u5b9a\u662f\u552f\u4e00\u786e\u5b9a\u7684\uff08\u8003\u8fd9\u4e2a\u5206\u7684\u4eba\u53ea\u4f1a\u5360\u8fd9\u4e48\u591a\u8fd9\u4e00\u6bb5\u4f4d\u7f6e\uff0c\u4e0d\u591a\u4e0d\u5c11\uff09\uff0c\u5982\u679c\u4e24\u4e2a\u4eba\u7684\u8fd9\u4e2a\u533a\u95f4\u6709\u4ea4\u96c6\u4f46\u662f\u4e0d\u76f8\u540c\u7684\u8bdd\uff0c\u663e\u7136\u8fd9\u4e24\u4e2a\u4eba\u77db\u76fe\uff08\u8fd9\u4e2a\u5206\u4e0d\u80fd\u540c\u65f6\u5bf9\u5e94\u4e24\u4e2a\u4e0d\u540c\u7684\u533a\u95f4\uff0c\u4ea4\u96c6\u7684\u90e8\u5206\u5fc5\u987b\u65e2\u8003\u90a3\u4e2a\u5206\uff0c\u53c8\u5f97\u8003\u8fd9\u4e2a\u5206\uff0c\u8fd9\u662f\u4e0d\u53ef\u80fd\u7684\uff09\uff0c\u5982\u679c\u76f8\u540c\u7684\u8bdd\u90a3\u5c31\u4e0d\u77db\u76fe\u2014\u2014\u4f46\u662f\uff0c\u53ef\u80fd\u4f1a\u6709\u5bf9\u5e94\u8fd9\u4e2a\u533a\u95f4\u7684\u4eba\u7684\u4e2a\u6570\u8d85\u51fa\u4e86\u8fd9\u4e2a\u533a\u95f4\u7684\u9650\u5236\uff0c\u90a3\u4e48\u6211\u4eec\u5e72\u8106\u5c31\u628a\u8d85\u9650\u7684\u4eba\u5f53\u6210\u8bf4\u7684\u662f\u5047\u8bdd\uff0c\u53cd\u6b63\u4ed6\u4eec\u90fd\u662f\u5b8c\u5168\u76f8\u540c\u7684\u3002\n\n\u53ef\u80fd\u6709\u4eba\u5c31\u4f1a\u95ee\u4e86\uff0c\u5c31\u7b97\u6784\u9020\u51fa\u4e86\u4e00\u79cd\u4e0d\u4f1a\u4ea7\u751f\u51b2\u7a81\u7684\u65b9\u6848\uff0c\u60a8\u80fd\u4fdd\u8bc1\u524d\u9762\u4e00\u5b9a\u6709$a_i$\u4e2a\u6bd4i\u5206\u9ad8\uff0c\u540e\u9762$b_i$\u4e2a\u6bd4\u4ed6\u5206\u4f4e\u7684\u5417\uff1f\u5176\u5b9e\u8fd9\u4e2a\u6bd4\u8f83\u597d\u60f3\uff0c\u6211\u4eec\u9009\u51fa\u4e86\u8bf4\u771f\u8bdd\u7684\u4eba\uff0c\u90a3\u4e9b\u8bf4\u5047\u8bdd\u7684\u4eba\u5c31\u60f3\u4e0a\u90a3\u5f85\u7740\u5c31\u4e0a\u54ea\u5f85\u7740\uff0c\u56e0\u6b64\u4e0d\u591f\u7684\u5730\u65b9\u76f4\u63a5\u8ba9\u4ed6\u4eec\u586b\u8865\u5c31\u884c\u4e86\u3002\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u80fd\u641e\u51fa\u6bcf\u4e2a\u533a\u95f4\u91cc\u4f1a\u6709\u51e0\u4e2a\u4eba\u8ddf\u4ed6\u5b8c\u5168\u5bf9\u5e94\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u9898\u76ee\u8f6c\u5316\u6210\u4e86\u2014\u2014\u7ed9\u5b9am\u4e2a\u533a\u95f4\uff0c\u6bcf\u4e2a\u533a\u95f4\u6709\u4e00\u4e2a\u6743\u503c\uff0c\u8981\u9009\u51fa\u4e00\u4e9b\u4e24\u4e24\u4e0d\u76f8\u4ea4\u7684\u533a\u95f4\u4f7f\u5f97\u6743\u503c\u548c\u6700\u5927\u3002\n\n\u90a3\u4e48\u6211\u4eec\u5c31\u8bbe$dp[i]$\u4e3a\u5728i\u533a\u95f4\u5bf9\u5e94\u7684\u6240\u6709\u4eba\u8bf4\u7684\u662f\u771f\u8bdd\u7684\u6761\u4ef6\u4e0b\uff0c\u6700\u591a\u8bf4\u771f\u8bdd\u7684\u4eba\u6570\u3002\u8003\u8651\u4ed6\u7684\u8f6c\u79fb\uff0c\u80af\u5b9a\u8981\u4ece\u4e00\u4e2a\u548c\u4ed6\u4e0d\u76f8\u4ea4\u7684\u533a\u95f4\u8f6c\u79fb\u8fc7\u6765\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u628a\u533a\u95f4\u6309\u7167\u53f3\u7aef\u70b9\u4ece\u5c0f\u5230\u5927\u6392\u5e8f\uff0c\u7136\u540e\u628a\u533a\u95f4\u7684\u201c\u91cd\u5fc3\u201d\u653e\u5230\u53f3\u7aef\u70b9\u4e0a\uff0c\u8fd9\u6837\u53f3\u7aef\u70b9\u5728i\u7684\u5de6\u7aef\u70b9\u4e4b\u524d\u7684\u533a\u95f4\u5c31\u4e00\u5b9a\u548ci\u4e0d\u76f8\u4ea4\uff0c\u867d\u7136\u8fd9\u4e0d\u4e00\u5b9a\u662f\u6240\u6709\u4e0d\u548ci\u76f8\u4ea4\u7684\u533a\u95f4\uff08\u53ea\u80fd\u8bf4\u662f\u5728i\u4e4b\u524d\u7684\uff09\uff0c\u4f46\u662f\u522b\u5fd8\u4e86\u8fd9\u662f\u6709\u987a\u5e8f\u7684dp\uff0c$dp[i]$\u4e5f\u4f1a\u8f6c\u79fb\u5230\u540e\u9762\u548c\u4ed6\u4e0d\u76f8\u4ea4\u7684\u72b6\u6001\u4e0a\u53bb\u3002\u90a3\u4e48\u6211\u4eec\u6709\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\uff08\u76f4\u63a5\u628ai\u4f5c\u4e3a\u53f3\u7aef\u70b9\uff0c$L_i$\u4e3a\u5de6\u7aef\u70b9\uff0c$v_i$\u4e3a\u6743\u503c\uff09\uff1a\n\n$dp[i]=max_{j=0}^{L_i-1}(dp[j])+v_i$\n\n\u8fd9\u4e2a\u4e1c\u897f\u62ff\u7ebf\u6bb5\u6811\u7ef4\u62a4\u4e00\u4e0b\u5c31\u80fd$O(nlogn)$ $A$\u6389\u6b64\u9898\u5566~\n\n\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<map>\n#include<algorithm>\nusing namespace std;\ninline int get(){\n\tint n;char c;while((c=getchar())||1)if(c>='0'&&c<='9')break;\n\tn=c-'0';while((c=getchar())||1){\n\t\tif(c>='0'&&c<='9')n=n*10+c-'0';\n\t\telse return(n);\n\t}\n}\ntypedef struct _n{\n\tint left;int right;int data;\n}node;node memchi[1000001];int gn=1;\ninline void up(int tree){\n\tint ls=memchi[tree].left,rs=memchi[tree].right;memchi[tree].data=max(memchi[ls].data,memchi[rs].data);\n}\nint build(int l,int r){\n\tint tree=gn;gn++;memchi[tree].data=-1234567890;\n\tif(l!=r){\n\t\tint mid=(l+r)>>1;memchi[tree].left=build(l,mid);\n\t\tmemchi[tree].right=build(mid+1,r);\n\t}return(tree);\n}\nint getmax(int rl,int rr,int l,int r,int tree){\n\tif(rl==l&&rr==r)return(memchi[tree].data);int mid=(l+r)>>1;\n\tif(rl>mid)return(getmax(rl,rr,mid+1,r,memchi[tree].right));\n\tif(rr<=mid)return(getmax(rl,rr,l,mid,memchi[tree].left));\n\treturn(max(getmax(rl,mid,l,mid,memchi[tree].left),getmax(mid+1,rr,mid+1,r,memchi[tree].right)));\n}\nint pt,num;\nvoid setpt(int l,int r,int tree){\n\tif(l==r){\n\t\tmemchi[tree].data=max(memchi[tree].data,num);return;\n\t}int mid=(l+r)>>1;if(pt<=mid)setpt(l,mid,memchi[tree].left);\n\telse setpt(mid+1,r,memchi[tree].right);up(tree);\n}\ntypedef struct _qj{\n\tint l;int r;\n\tfriend bool operator <(const _qj &a,const _qj &b){\n\t\tif(a.r==b.r)return(a.l<b.l);return(a.r<b.r);\n\t}\n}qujian;qujian qujians[1000001];map<qujian,int> mp;\nint main(){\n\tint n=get();int ptr=1;for(register int i=1;i<=n;i++){\n\t\tint a=get(),b=get();if(a+b>=n)continue;\n\t\tint l=b+1,r=n-a;\n\t\tqujians[ptr].l=l;qujians[ptr].r=r;\n\t\tif(!mp.count(qujians[ptr])){\n\t\t\tmp[qujians[ptr]]=1;ptr++;\n\t\t}else{\n\t\t\tmp[qujians[ptr]]++;\n\t\t}\n\t}sort(qujians+1,qujians+ptr);\n\tint maxn=0;int root=build(0,n);pt=0;num=0;setpt(0,n,root);\n\tfor(register int i=1;i<ptr;i++){\n\t\tint val=min(qujians[i].r-qujians[i].l+1,mp[qujians[i]]);\n\t\tint dp=getmax(0,qujians[i].l-1,0,n,root);\n\t\tmaxn=max(maxn,dp+val);pt=qujians[i].r;num=dp+val;setpt(0,n,root);\n\t}cout<<n-maxn<<endl;\n\treturn(0);\n}\n```",
        "postTime": 1529302728,
        "uid": 56917,
        "name": "\u989c\u4f1f\u4e1a_C_Asm",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "\u4f18\u79c0\u7684\u89e3\u6cd5\uff0c\uff08\u4eae\u70b9\u4e3b\u8981\u662f\u4ee3\u7801\u77ed\uff09\n\n\n\n\u601d\u8def\u6bd4\u8f83\u5e38\u89c4\uff0c\u5c31\u662f\u5904\u7406\u51fa\u4e00\u6bb5\u6210\u7ee9\u76f8\u540c\u7684\u533a\u95f4\uff1a\n$$L=a[i]+1,R=n-b[i]$$\n\n\u7136\u540e\u6211\u4eec\u5224\u65ad L \u662f\u5426 \u5c0f\u4e8e\u7b49\u4e8e R \uff0c\u662f\u7684\u8bdd\u6211\u4eec\u5c31\u7528 $map$ \u66f4\u65b0\u5f53\u524d $L -- R$  \u533a\u95f4\u7684\u51fa\u73b0\u6b21\u6570\uff08\u5c31\u662f  $mp[make\\_pair(l,r)]++$  \uff09\uff0c\u5982\u679c\u7b2c\u4e00\u6b21\u51fa\u73b0\u5c31\u628a L \u585e\u5165\u4ee5 R \u7ed3\u5c3e\u7684 $vector$\u3002\n\n\u7136\u540e\u6211\u4eec\u518d\u76f4\u63a5\u641e dp \u8f6c\u79fb\u5c31\u597d\u4e86\uff0c\u8f6c\u79fb\u7684\u65f6\u5019\u5148\u4ee4 $f[i]=f[i-1]$ \uff0c\u7136\u540e\u904d\u5386$vector$\uff0c\u627e\u5230\u4ee5 \u5f53\u524d\u533a\u95f4 L \u524d\u9762\u7684\u4f4d\u7f6e\u7ed3\u5c3e\u7684 f \u66f4\u65b0\u7b54\u6848\u3002\n\n\u6ce8\u610f\u5982\u679c\u67d0\u6bb5\u533a\u95f4\u7684\u51fa\u73b0\u6b21\u6570\u5927\u4e8e\u533a\u95f4\u957f\u5ea6\u6211\u4eec\u8981\u53d6 $min$\n\n```cpp\n//by Judge\n#include<map>\n#include<vector>\n#include<cstdio>\n#include<iostream>\n#include<algorithm>\n#define P make_pair\nusing namespace std;\nconst int M=1e5+11;\n#ifndef Judge\n#define getchar() (p1==p2&&(p2=(p1=buf)+fread(buf,1,1<<21,stdin),p1==p2)?EOF:*p1++)\n#endif\nchar buf[1<<21],*p1=buf,*p2=buf;\ninline int read(){ int x=0,f=1; char c=getchar();\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n\tfor(;isdigit(c);c=getchar()) x=x*10+c-'0'; return x*f;\n} int n,f[M]; vector<int> vec[M]; map<pair<int,int>,int> mp;\ninline void cmax(int& a,int b){ if(a<b) a=b; }\nint main(){ n=read();\n\tfor(int i=1,a,b;i<=n;++i){\n\t\ta=read()+1,b=n-read();\n\t\tif(a>b) continue;\n\t\tif(++mp[P(a,b)]==1)\n\t\t\tvec[b].push_back(a);\n\t} for(int i=1,L,R;i<=n;++i){ f[i]=f[i-1];\n\t\tfor(int j=0;j<vec[i].size();++j) L=vec[i][j],\n\t\t\tcmax(f[i],f[L-1]+min(mp[P(L,i)],i-L+1));\n\t} return printf(\"%d\\n\",n-f[n]),0;\n}\n```",
        "postTime": 1540455698,
        "uid": 38576,
        "name": "J\u03bcdge",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "/\\*\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u63cf\u8ff0\uff0c\u6211\u4eec\u53ef\u4ee5\u6839\u636e\u4ed6\u6240\u63cf\u8ff0\u7684\u6bd4\u4ed6\u9ad8\u7684\u548c\u6bd4\u4ed6\u77ee\u7684\u4eba\u6570\u6765\u6784\u9020\u4e00\u6761\u7ebf\u6bb5\uff0c\u5de6\u7aef\u70b9l\u5373\u4e3ay+1\uff0c\u53f3\u7aef\u70b9r\u4e3an-x\u3002\n\n\u5f53\u6211\u4eec\u8f6c\u5316\u6210\u7ebf\u6bb5\u4ee5\u540e\uff0c\u8fd9\u4e00\u6bb5\u7ebf\u6bb5\u5c31\u8868\u793a\u7740\u5206\u6570\u76f8\u540c\u7684\u4eba\u6570\uff0c\u90a3\u4e48\u663e\u7136\uff0c\u53ea\u6709\u4e0e\u8fd9\u4e2a\u7ebf\u6bb5\u5b8c\u5168\u91cd\u5408\u7684\u7ebf\u6bb5\u662f\u7b26\u5408\u8981\u6c42\u7684\uff0c\n\n\u5bf9\u4e8e\u6709\u4ea4\u96c6\u7684\u7ebf\u6bb5\u4e00\u5b9a\u662f\u6709\u4e00\u4e2a\u8bf4\u8c0e\u7684\uff0c\u4f46\u662f\u5bf9\u4e8e\u5b8c\u5168\u91cd\u5408\u7684\u7ebf\u6bb5\uff0c\u8fd8\u662f\u6709\u53ef\u80fd\u51fa\u73b0\u8bf4\u8c0e\u7684\u60c5\u51b5\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5199\u4e2a\u524d\u5411\u661fadd(b[i].r,b[i].l-1,b[i].w)\n\nl\u4e3a\u8be5\u533a\u95f4\u7684\u5de6\u7aef\u70b9\uff0cr\u4e3a\u8be5\u533a\u95f4\u7684\u53f3\u7aef\u70b9\uff0cw\u4e3a\u6743\u503c\n\n\u5efa\u8fd9\u4e2a\u8fb9\u7684\u539f\u56e0\u662ff[b[i].r]=max(f[b[i].r],f[b[j].l-1]+e[i].w)\n\n\\*/\n\n\n\n\n\n    \n```cpp\n#include <cstdio>\n#include <cstring>\n#include <iostream>\n#include <algorithm>\n#define N 100007\nusing namespace std;\nint n,tot,num,cnt;\nstruct node{int l,r,w;}a[N],b[N];\nstruct node2{int u,v,net,w;}e[N];\nint f[N],head[N];\nint cmp(node a,node b)\n{\n    if(a.r==b.r)return a.l<b.l;\n    return a.r<b.r;\n}\nint cmp2(node a,node b)\n{\n    if(a.r==b.r)return a.w<b.w;\n    return a.r<b.r;\n}\nvoid add(int u,int v,int w)\n{\n    e[++cnt].v=v;e[cnt].w=w;e[cnt].net=head[u];head[u]=cnt;\n}\nint main()\n{\n    scanf(\"%d\",&n);int x,y,ans=0;\n    memset(head,-1,sizeof(head)),cnt=0;\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%d%d\",&x,&y);\n        if(x+y>=n){ans++;continue;}\n        a[++tot].l=x+1;\n        a[tot].r=n-y;\n    }\n    sort(a+1,a+tot+1,cmp);\n    for(int i=1;i<=tot;i++)\n    {\n        if(a[i].l==a[i-1].l&&a[i].r==a[i-1].r)\n        {\n            if(b[num].w<b[num].r-b[num].l+1)\n            b[num].w++;\n        }\n        else b[++num].l=a[i].l,b[num].r=a[i].r,b[num].w=1;\n    }\n    sort(b+1,b+num+1,cmp2);\n    for(int i=1;i<=num;i++) add(b[i].r,b[i].l-1,b[i].w);\n    int r=0;\n    int cnt=0;\n    for(int i=1;i<=n;i++)\n    {\n        f[i]=f[i-1];\n        for(int j=head[i];j!=-1;j=e[j].net)\n        {\n            int v=e[j].v;\n            f[i]=max(f[i],f[v]+e[j].w);\n        }\n    }\n    printf(\"%d\\n\",n-f[n]);\n}\n```",
        "postTime": 1505893719,
        "uid": 20833,
        "name": "\u5b89\u597d",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "# problem a\u9898\u89e3\n\n### \u5206\u6790\uff1a\n\n\u6839\u636e\u6210\u7ee9\u6bd4\u4ed6\u9ad8\u7684\u4eba\u6570$a_{i}$\u548c\u6bd4\u4ed6\u4f4e\u7684\u4eba\u6570$b_{i}$\u53ef\u4ee5\u63a8\u51fa\u4ed6\u7684\u6392\u540d\u533a\u95f4$[l_{i},r_{i}],$\n\n\u5176\u4e2d$l_{i}=b_{i}+1,r_{i}=n-a_{i}$\n\n\u4e14$[l_{i},r_{i}]$\u7684\u4eba\u6210\u7ee9\u4e00\u5b9a\u76f8\u7b49\uff0c\u5e76\u4e0e\u9664\u6b64\u533a\u95f4\u5916\u7684\u4eba\u7684\u6210\u7ee9\u90fd\u4e0d\u76f8\u540c\n\n\n\u663e\u7136\uff0c$l_{i}>r_{i}$\u7684\u4eba\u4e00\u5b9a\u5728\u8bf4\u8c0e\uff0c\n\n\u5e76\u4e14\u4e0e$[l_{i},r_{i}]$\u6709\u4ea4\u96c6\u6216\u8005\u88ab\u5176\u5305\u542b\u7684\u533a\u95f4\u4e0e\u5176\u77db\u76fe\n\n\u4e3a\u4ec0\u4e48\uff1f\n\n\u82e5\u53e6\u4e00\u533a\u95f4\u4e3a$[l_{j},r_{j}]$,\u8bbe\u6392\u5e8f\u540e\u7684\u6210\u7ee9\u6570\u7ec4\u4e3a$c$\n\n\u5219\u610f\u5473\u7740\n\n$c[l_{j}]!=c[l_{j}-1],c[r_{j}]!=c[r_{j}+1]$,\n\n1.\u663e\u7136\u4e0e\u548c$[l_{i},r_{i}]$\u6709\u4ea4\u96c6\u77db\u76fe;\n\n2.\u56e0\u4e3a\u88ab\u5305\u542b,\n\n$c[l_{i}]=c[l_{i}+1]=c[l_{i}+2]=\u2026\u2026=c[l_{j}]=c[l_{j}+1]=c[l_{j}+2]=\u2026\u2026=c[r_{j}]=\u2026\u2026=c[r_{i}]$\n\n\u4e5f\u77db\u76fe\u3002\n\n\u53ea\u6709$l_{i}=l_{j},r_{i}=r_{j}$\u65f6\u624d\u53ef\u5408\u5e76(\u6570\u91cf\u4e0d\u80fd\u8d85\u8fc7\u533a\u95f4\u957f\u5ea6$r_{i}-l_{i}+1$)\n\n### \u9898\u610f\uff1a\n\u8f6c\u6362\u4e00\u4e0b\u9898\u610f\uff1a\n\n\u6c42\u6700\u5c11\u8bf4\u8c0e\u7684\u4eba\u6570\uff0c\n\n\u7b49\u4e8e$n-$\u6700\u591a\u5408\u6cd5\u7684\u533a\u95f4\u6570\u76ee\n\n\u533a\u95f4\u76f8\u4ea4\u548c\u533a\u95f4\u5305\u542b\u4e0d\u5408\u6cd5\uff0c\n\n\u5373\u662f\u6c42\u4e0d\u76f8\u4ea4\u7684\u6700\u5927\u533a\u95f4\u6570\u76ee(\u76f8\u540c\u7684\u4e5f\u8981\u7b97)\n\n### \u64cd\u4f5c\uff1a\n\n\u6309$r_{i}$\u6392\u5e8f\uff0c\u6bcf\u6b21\u53d6$<l_{i}$\u7684\u533a\u95f4\u6700\u5927\u503c\uff0c\n\n\u81ea\u5df1\u7684\u503c\u4e3a\u6700\u5927\u503c+\u76f8\u540c\u7684\u533a\u95f4\u6570\u76ee,\n\n\u4e5f\u5b58\u5728$r_{i}$\u5904\uff0c\n\n\u6211\u7528\u7684\u662f\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4\u6700\u5927\u503c\uff0c\n\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=100006;\nint n,num=0,tot=0,t1,t2,f[N],w[N];\nstruct xd{int l,r;}a[N],b[N];\ninline int read(){\n   int T=0,F=1; char ch=getchar();\n   while(ch<'0'||ch>'9'){if(ch=='-') F=-1; ch=getchar();}\n   while(ch>='0'&&ch<='9') T=(T<<3)+(T<<1)+(ch-48),ch=getchar();\n   return F*T;\n}\nbool cmp(xd u,xd v){\n    if(u.r<v.r) return 1;\n    if(u.r>v.r) return 0;\n    return u.l<v.l;\n}//\u8bfb\u5165\u4f18\u5316\ninline int lowbit(int x){return x&(-x);}\nvoid add(int u,int v){for(int i=u;i<=n;i+=lowbit(i)) f[i]=max(f[i],v);}\nint getmax(int u){\n    int maxans=0;\n    for(int i=u;i;i-=lowbit(i)) maxans=max(maxans,f[i]);\n    return maxans;\n}//\u53d6\u6700\u5927\u503c\nint main(){\n    n=read();\n    for(int i=1;i<=n;++i){\n        t1=read(),t2=read(),t1=n-t1,t2=t2+1;\n        if(t1<t2) continue;\n        //\u9664\u53bbl>r\u7684\u533a\u95f4\n        a[++num].l=t2,a[num].r=t1;\n    }\n    sort(a+1,a+num+1,cmp);\n    for(int i=1;i<=num;++i){\n        if(a[i].l==a[i-1].l&&a[i].r==a[i-1].r) w[tot]=min(b[tot].r-b[tot].l+1,w[tot]+1);\n        else w[++tot]=1,b[tot]=a[i];\n    }\n    //\u9664\u53bb\u5b8c\u5168\u76f8\u540c\u7684\u533a\u95f4\uff0c\u6743\u503c\u7d2f\u52a0\n    for(int i=1;i<=tot;++i) t1=getmax(b[i].l-1)+w[i],add(b[i].r,t1);\n    //\u6811\u72b6\u6570\u7ec4\u52a8\u6001\u7ef4\u62a4\n    printf(\"%d\\n\",n-getmax(n));\n    return 0;\n} \n```",
        "postTime": 1565859777,
        "uid": 44180,
        "name": "ljk123",
        "ccfLevel": 0,
        "title": "problem a\u9898\u89e3"
    },
    {
        "content": "\u968f\u4fbf\u70b9\u7684\u4e00\u9053DP\u9898\uff0c\u672c\u6765\u8fd9\u9898\u4ee5\u524d\u65e0\u6570\u6b21\u60f3\u4e0d\u51fa\u6765\uff0c\u9898\u89e3\u597d\u50cf\u4e5f\u770b\u4e0d\u61c2\uff0c\u60f3\u7684\u65f6\u5019\u90fd\u6253\u7b97\u653e\u5f03\u4e86\n\n\u4f46\u662f\u60f3\u7740\u4e00\u5b9a\u8981\u6b7b\u78d5\u601d\u7ef4\u80fd\u529b\uff0c\u6700\u540e\u5c45\u7136\u8fd8\u771f\u7684\u81ea\u5df1\u505a\u51fa\u6765\u4e86\n\n\u679c\u771f\u662f\u4ee5\u524d\u653e\u5f03\u5f97\u592a\u8f7b\u6613hhh\n\n\u9996\u5148\u8981\u786e\u5b9a\u4e00\u4e0b\u9898\u610f\uff0c\u201c\u6709ai\u4e2a\u4eba\u201d\u6211\u611f\u89c9\u4e5f\u53ef\u4ee5\u7406\u89e3\u4e3a>=ai\u4e2a\u4eba\n\n\u4f46\u662f\u5176\u5b9e\u540e\u6765\u60f3\u4e00\u4e0b\uff0c\u5982\u679c\u8fd9\u6837\u8bf4\u5f97\u8bdd\u5c31\u6ca1\u5fc5\u8981\u5f3a\u8c03\u53ef\u80fd\u6709\u76f8\u540c\u5206\u6570\u4e86\n\n\u56e0\u4e3a\u5982\u679c\u662f>=ai\u7684\u8bdd\uff0c\u4e24\u4e2a\u540c\u5206\u7684\u548c\u4e24\u4e2a\u76f8\u90bb\u5206\u6570\u7684\u5bf9\u4e8e\u5408\u6cd5\u6027\u5176\u5b9e\u90fd\u4e00\u6837\n\n\u6240\u4ee5\u8ba4\u4e3a\u9898\u610f\u4e3a\u6070\u597d\u6709ai\u4e2a\u4eba\uff08\u5f53\u7136\u8003\u573a\u4e0a\u8fd8\u662f\u5927\u529b\u95ee\u76d1\u8003\uff09\n\n\u90a3\u4e48\u7814\u7a76\u4e00\u4e0b\u8fd9\u4e2a\u7ea6\u675f\u6761\u4ef6\u7684\u9650\u5236\uff0c\u53ef\u4ee5\u53d1\u73b0\u5b9e\u9645\u4e0a\u662fai\u548cbi\u4e2d\u95f4\u645e\u4e86n-ai-bi\u4e2a\u4eba\n\n\u90a3\u4e48\u7528xi=ai\u8868\u793a\u8fd9\u4e00\u645e\u4eba\u524d\u9762\u6709\u591a\u5c11\u4eba\uff0cyi=n-ai-bi\u8868\u793a\u645e\u4e86\u591a\u5c11\u4eba\n\n\u53ef\u4ee5\u53d1\u73b0\u5bf9\u4e8exi\u76f8\u7b49\u800cyi\u4e0d\u7b49\u7684\u4e24\u4e2a\u4eba\u4e00\u5b9a\u65e0\u6cd5\u6ee1\u8db3\n\n\u800cxi\u548cyi\u90fd\u76f8\u7b49\u7684\u4eba\u4e00\u5b9a\u4e00\u8d77\u6ee1\u8db3\uff08\u9664\u975exi\u548cyi\u76f8\u7b49\u7684\u4eba\u6570\u8d85\u8fc7\u4e86yi\uff0c\u90a3\u4e48\u591a\u51fa\u8005\u4e0d\u6ee1\u8db3\uff09\n\n\u6240\u4ee5\u53ef\u4ee5\u628axi\u548cyi\u76f8\u7b49\u7684\u4eba\u5408\u5e76\uff0c\u4ee4zi\u8868\u793a\u6ee1\u8db3\u8fd9\u4e9b\u4eba\u7684\u8981\u53bb\u9700\u8981\u518d\u62ff\u591a\u5c11\u4e2a\u5047\u4eba\u5145\u6570\n\n\uff08\u5047\u4eba\u5c31\u662f\u6761\u4ef6\u4e0d\u88ab\u6ee1\u8db3\u7684\u4eba\uff09\n\n\u7136\u540e\u7075\u7a3d\u4e00\u52a8\uff0c\u4e0d\u59a8\u5c31\u6309xi\u9012\u589e\u6392\u5e8f\uff0c\u7136\u540e\u8003\u8651\u679a\u4e3e\u5230\u7684\u6bcf\u4e2a\u4eba\u662f\u5426\u6ee1\u8db3\u8981\u6c42\n\n\u5982\u679c\u8fd9\u6837\u505a\u7684\u8bdd\u72b6\u6001\u53ef\u4ee5\u8bbe\u4e3af[i]\u8868\u793a\u628a\u524di\u4e2a\u4eba\u5b89\u6392\u4e0a\u9700\u8981\u7684\u6700\u5c11\u8bf4\u8c0e\u4eba\u6570\n\n\u9012\u63a8\u6c42\u89e3\n\n\u8fd9\u6837\u597d\u50cf\u4e0d\u592a\u5bf9\uff0c\u6709\u540e\u6548\u6027\n\n\u5373\u5047\u8bbe\u73b0\u5728\u8981\u90a3\u4e00\u4e2a\u5047\u4eba\u5145\u6570\uff0c\u90a3\u8fd9\u4e2a\u5047\u4eba\u662f\u524d\u9762\u8003\u8651\u8fc7\u7684\uff0c\u8fd8\u662f\u540e\u9762\u6ca1\u8003\u8651\u7684\uff0c\u8fd8\u662f\u628a\u5df2\u7ecf\u6ee1\u8db3\u7684\u64a4\u4e86\n\n\u4f60\u4e0d\u77e5\u9053\uff0c\u4f1a\u5f71\u54cd\u51b3\u7b56\n\n\u6211\u7684\u601d\u8def\u8f6c\u4e86\u4e00\u5708\u4e4b\u540e\uff0c\u627e\u4e0d\u5230\u4ec0\u4e48\u6709\u53ef\u80fd\u7684\u505a\u6cd5\uff0c\u518d\u56de\u6765\u7814\u7a76\u8fd9\u6837\u505a\uff0c\u53d1\u73b0\u5404\u79cd\u7ec6\u8282\u7f8e\u597d\u5f97\u4e0d\u6b63\u5e38\n\n\u4e8e\u662f\u51b3\u5b9a\u968f\u4fbf\u5199\u5199\u8bd5\u8bd5\n\n\u7136\u540e\u5c31ac\u4e86\n\n\u6211\u5c3b![](https://img2018.cnblogs.com/i-beta/1746505/201912/1746505-20191211180621056-567986158.png)\u8fd9\u90fd\u884c\n\n\u73b0\u5728\u518d\u6765\u8003\u8651\u7b97\u6cd5\u5f97\u6b63\u786e\u6027\uff0c\u53ef\u4ee5\u53d1\u73b0\u521a\u624d\u5f97\u987e\u8651\u662f\u591a\u4f59\u7684\n\n\u56e0\u4e3a\u6240\u6709\u6ca1\u6ee1\u8db3\u8981\u6c42\u7684\u5047\u4eba\u90fd\u662f\u4e00\u6837\u7684\uff0c\u800c\u6613\u8bc1\u5047\u4eba\u662f\u5145\u8db3\u7684\uff0c\u56e0\u4e3a\u5982\u679c\u5047\u4eba\u4e0d\u591f\u5219\u4e0e\u603b\u4eba\u6570\u51b2\u7a81\n\n\u6240\u4ee5\u6211\u4eec\u5b8c\u5168\u4e0d\u7528\u8003\u8651\u5047\u4eba\u4ece\u54ea\u6765\uff0c\u53ea\u9700\u8981\u76f4\u5230\u524d\u8fb9\u5df2\u7ecf\u6709i\u4e2a\u4eba\u88ab\u5b89\u6392\u4e86\u5c31\u884c\n\n\u6700\u540e\u6574\u7406\u4e00\u4e0b\u601d\u8def\n\n\u9996\u5148\u4ee4xi=ai\uff0cyi=n-ai-bi\uff0czi=\u9700\u8981\u8865\u7684\u5047\u4eba\n\n\u7136\u540e\u6309xi\u9012\u589e\u6392\u5e8f\uff0c\u8d70\u9012\u63a8\n\nf[i]\u521d\u503c\u4e3ai\uff0c\u5305\u62ecf[0]=0\n\n\u9012\u63a8\u516c\u5f0f\u4e3af[a[i].x+a[i].y]=min(f[a[i].x+a[i].y],f[a[i].x]+a[i].z)\n\n\u9700\u8981\u6ce8\u610fa[i].x\u548ca[i-1].x\u4e2d\u95f4\u53ef\u80fd\u9694\u4e86\u51e0\u4e2a\u6570\uff0c\u800c\u8fd9\u4e9b\u72b6\u6001\u5b9e\u9645\u53d7f[a[i-1].x]\u7684\u5f71\u54cd\n\n\u56e0\u4e3a\u4e2d\u95f4\u53ef\u4ee5\u76f4\u63a5\u4e22\u4e00\u4e2a\u5047\u4eba\u8fc7\u53bb\u628a\u4e4b\u524d\u7684\u66f4\u4f18\u51b3\u7b56\u7ee7\u627f\u8fc7\u6765\n\n\u4e5f\u5c31\u662f\u8bf4f[a[i-1].x+j]\u5e94\u8be5\u7b49\u4e8ef[a[i-1].x]+j\uff0cf[a[i].x]\u5e94\u8be5\u7b49\u4e8emin(f[a[i].x],f[a[i-1].x]+a[i].x-a[i-1].x)\n\n\u6211\u7684\u5199\u6cd5\u662f\u7528\u4e00\u4e2atemp\u8ddf\u7740a[i].x\u8d70\uff0c\u6bcf\u6b21\u8ba9temp++\u5c31\u4ee4f[temp]=min(f[temp],f[temp-1]+1)\n\n-----------------------------\n\u4ee3\u7801\uff1a\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nstruct nds{int x,y,z;}a[110000],b[110000];  int m=0;\nint n;\nint f[110000];\nbool cmp(nds x,nds y){  return x.x==y.x ? x.y<y.y : x.x<y.x;}\nint main(){\n\tfreopen(\"ddd.in\",\"r\",stdin);\n\tcin>>n;\n\tint l,r;\n\tfor(int i=1;i<=n;++i){\n\t\tscanf(\"%d%d\",&l,&r);\n\t\ta[i].x=l,a[i].y=n-l-r;\n\t}\n\tsort(a+1,a+n+1,cmp);\n\tfor(int i=1;i<=n;++i)if(a[i].y>0){\n\t\tif(a[i].x!=b[m].x || a[i].y!=b[m].y){\n\t\t\tb[++m]=a[i];\n\t\t\tb[m].z=a[i].y-1;\n\t\t}\n\t\telse  b[m].z=(b[m].z ? b[m].z-1 : 0);\n\t}\n\tfor(int i=1;i<=n;++i)  f[i]=i;\n\tf[0]=0;\n\tint tmp=0;\n\tfor(int i=1;i<=m;++i){\n\t\twhile(tmp<b[i].x){\n\t\t\t++tmp;\n\t\t\tf[tmp]=min(f[tmp],f[tmp-1]+1);\n\t\t}\n\t\tf[b[i].x+b[i].y]=min(f[b[i].x+b[i].y],f[b[i].x]+b[i].z);\n\t}\n\twhile(tmp<n){\n\t\t++tmp;\n\t\tf[tmp]=min(f[tmp],f[tmp-1]+1);\n\t}\n\tprintf(\"%d\\n\",f[n]);\n\treturn 0;\n}\n\n\n```",
        "postTime": 1576059704,
        "uid": 26087,
        "name": "cdcq",
        "ccfLevel": 9,
        "title": "\u3010HAOI2011\u3011problem a"
    },
    {
        "content": "\u633a\u5999\u7684\u4e00\u9053\u9898.\n\n\u8bbe$l_i=a_i+1,r_i=n-b_i$\uff0c\u90a3\u4e48\u4e00\u4e2a\u9650\u5236\u7b49\u4ef7\u4e8e\u7b2c$l_i$\u5230$r_i$\u4e2a\u4eba\u7684\u5206\u6570\u90fd\u76f8\u7b49.\n\n\u7136\u540e\u8865\u96c6\u8f6c\u5316\u6210\u8bf4\u771f\u8bdd\u7684\u4eba\u6700\u591a.\u5bf9\u67d0\u4e2a\u4eba\u7684$l,r$\uff0c\u5982\u679c$l>r$\u90a3\u4e48\u4ed6\u4e00\u5b9a\u662f\u5047\u7684\uff1b\u5982\u679c\u6709\u591a\u4e8e$r-l+1$\u4e2a\u4eba\u7684$l,r$\u90fd\u4e00\u6837\u90a3\u4e48\u8fd9\u4e9b\u4eba\u4e2d\u6700\u591a\u53ea\u80fd\u6709$r-l+1$\u4e2a\u8bf4\u771f\u8bdd.\n\n\u4e8e\u662f\u95ee\u9898\u8f6c\u5316\u6210\u6709$n$\u4e2a\u533a\u95f4\uff0c\u4e00\u4e2a\u533a\u95f4$[l,r]$\u7684\u6743\u503c\u662f$\\min(r-l+1,\\text{\u533a\u95f4[l,r]\u51fa\u73b0\u7684\u6b21\u6570}$.\u8981\u6c42\u9009\u51fa\u5c3d\u91cf\u591a\u7684\u4e0d\u76f8\u4ea4\u533a\u95f4\u4f7f\u5f97\u6743\u503c\u548c\u6700\u5927.\n\n\u5bf9\u8fd9\u4e2a\u95ee\u9898\u6211\u4eec\u5df2\u7ecf\u6709\u6210\u719f\u7684\u89e3\u51b3\u529e\u6cd5.\u6309$r$\u6392\u5e8f\uff0c\u7136\u540e\u8bbe$f[i]$\u8868\u793a\u524d$i$\u4e2a\u4eba\u9009\u82e5\u5e72\u4e2a\u7684\u6700\u5927\u6743\u503c\u548c\uff0c\u6709$f[i]=\\max\\limits_{0\\leq j<i,r_j<l_i}\\{f[j]\\}+w[i]\\}$.\u53ef\u4ee5\u4e8c\u5206\u4e00\u4e2a\u4f4d\u7f6e\u7136\u540e\u8f6c\u79fb\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5bf9\u5750\u6807\u505a\u4e00\u4e2a\u524d\u7f00$\\max$.\u5199\u7ebf\u6bb5\u6811\u7684\u4e0d\u77e5\u9053\u662f\u51fa\u4e8e\u4ec0\u4e48\u5fc3\u7406.....\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<cstring>\n#include<algorithm>\nusing namespace std;\nconst int N=5e5;\nint n,f[N];\nstruct Node{int x,y,w;}a[N];\nint cmp(const Node &a,const Node &b){return a.y!=b.y?a.y<b.y:a.x<b.x;}\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)scanf(\"%d%d\",&a[i].x,&a[i].y),a[i].x++,a[i].y=n-a[i].y;\n\tsort(a+1,a+n+1,cmp);\n\tint nn=0;\n\tfor(int i=1,x=0,y=0;i<=n;i++)\n\t{\n\t\tif(a[i].x==x&&a[i].y==y)a[nn].w++;\n\t\telse if(a[i].x<=a[i].y)a[++nn]=(Node){a[i].x,a[i].y,1},x=a[i].x,y=a[i].y;\n\t}\n\tfor(int i=1;i<=nn;i++)a[i].w=min(a[i].w,a[i].y-a[i].x+1);\n\tint j=1;\n\tfor(int i=1;i<=nn;i++)\n\t{\n\t\twhile(j<=a[i].y)f[j]=max(f[j],f[j-1]),++j;//\u524d\u7f00max\n\t\tf[a[i].y]=max(f[a[i].y],f[a[i].x-1]+a[i].w);\n\t}\n\tcout<<n-f[a[nn].y]<<endl;\n}\n```\n",
        "postTime": 1561619669,
        "uid": 22136,
        "name": "qwaszx",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "\u628a\u81ea\u5df1\u7684\u5206\u6570\u53d8\u6210\u7ebf\u6bb5\uff0c\u53bb\u91cd+\u6392\u5e8f\uff0c\u4e8e\u662f\u5c31\u5316\u4e3a\u4e86\u6c42\u6700\u5927\u6743\u7684\u4e0d\u4ea4\u5b50\u6bb5\u3002\u4e8c\u5206\u67e5\u627e\u8f6c\u79fb\u70b9\u3002\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\ninline int read(){\n\tint x=0,f=1; char c=getchar();\n\twhile (c<'0'||c>'9') {\n\t\tif (c=='-') f=-1;\n\t\tc=getchar();\n\t}\n\twhile (c>='0'&&c<='9'){\n\t\tx=x*10+c-'0';\n\t\tc=getchar();\n\t}\n\treturn x*f;\n}\nvoid write(int x){\n\tif (x<0){\n\t\tputchar('-');\n\t\tx=-x;\n\t}\n\tif (x>9) write(x/10);\n\tputchar(x%10+'0');\n}\ninline void writeln(int x){\n\twrite(x); puts(\"\");\n} \nconst int N=2e5+5;\nstruct node{\n\tint l,r,v;\n}a[N];\nint n,cnt,dp[N],res;\ninline bool cmp(node A,node B){\n\treturn A.l<B.l||(A.l==B.l&&A.r<B.r);\n}\ninline void init(){\n\tn=read(); res=n;\n\tfor (int i=1;i<=n;i++){\n\t\tint L=read()+1,R=n-read();\n\t\tif (L<=R) a[++cnt]=(node){L,R,0};\n\t}\n}\ninline int find(int L,int R,int x){\n\twhile (L<R){\n\t\tint mid=(L+R+1)>>1;\n\t\tif (a[mid].r<x) L=mid;\n\t\t\telse R=mid-1;\n\t}\n\treturn L;\n}\ninline void solve(){\n\tn=cnt;\n\tsort(a+1,a+1+n,cmp); cnt=0;\n\tfor (int i=1;i<=n;i++){\n\t\tif (a[i].l!=a[cnt].l||a[i].r!=a[cnt].r){\n\t\t\ta[++cnt]=a[i];\n\t\t}\n\t\ta[cnt].v++;\n\t}\n\tn=cnt;\n\tfor (int i=1;i<=n;i++){\n\t\ta[i].v=min(a[i].v,a[i].r-a[i].l+1);\n\t}\n\tdp[1]=a[1].v;\n\tfor (int i=2;i<=n;i++){\n\t\tint nxt=find(1,i-1,a[i].l);\n\t\tdp[i]=max(dp[i-1],dp[nxt]+a[i].v);\n\t}\n\twriteln(res-dp[n]);\n}\nint main(){\n\tinit();\n\tsolve();\n\treturn 0;\n}\n```",
        "postTime": 1531121611,
        "uid": 34444,
        "name": "\u5927\u83dc\u9e21fks",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "\uff0c\uff0c\u672c\u6765\u60f3\u7528\u8d2a\u5fc3\u505a\uff0c\u7ed3\u679c\u53d1\u73b0\u53bb\u91cd\u540e\u6743\u503c\u4e0d\u518d\u90fd\u662f1\u4e86\uff0c\u6240\u4ee5\u8f6c\u800c\u5199DP\n\u53ef\u80fd\u7565\u957f\uff0c\u65e0STL\uff08sort\u4e0d\u7b97\uff09\uff0c\u65e0\u4e8c\u5206\n\u901f\u5ea6\u4e00\u822c\u822c\u5427\u4e09\u767ems\u5de6\u53f3\n\u603b\u4f53\u601d\u8def\u5dee\u4e0d\u591a\uff0c\n\u5c06\u6700\u5c11\u8bf4\u8c0e\u4eba\u6570\u8f6c\u5316\u4e3a\u6700\u591a\u8bf4\u771f\u8bdd\u7684\u4eba\u6570\n\n\t#include<bits/stdc++.h//\u8c01\u80fd\u544a\u8bc9\u6211\u8fd9\u91cc\u4e3a\u4ec0\u4e48\u628a\u53f3\u8fb9\u62ec\u8d77\u6765\u5c31\u4f1a\u6d88\u5931\uff1f\uff1f\uff1f\n\tusing namespace std;\n\t#define AC 101000\n\t#define R register int\n\t#define INF 999999999\n\tstruct abc{\n\t\tint l,r;\n\t}p[AC];\n\tint w[AC],n,ans,tot,now,cnt,f[AC];\n\tint Next[AC],date[AC],Head[AC];\n\tinline int read()//\u8bfb\u5165\u4f18\u5316\n\t{\n\t\tint x=0;char c;\n\t\twhile(isspace(c=getchar()));\n\t\twhile(c>='0' && c<='9')x=x*10+c-'0',c=getchar();\n\t\treturn x;\n\t}\n\n\n\tbool cmp(abc a,abc b)//\u91cd\u8f7d\n\n\t{\n  \n\t  if(a.l!=b.l)return a.l<b.l;\n  \n  \tif(a.r!=b.r)return a.r<b.r;\n\n\t}\n\n\tinline int Max(int a,int b)//\u6c42\u6700\u5927\u503c\n\t{\n\t\tint c=(a-b)>>31;\n\t\treturn (a &~ c) | (b & c);\n\t}\n\n\tinline int Min(int a,int b)//\u6c42\u6700\u5c0f\u503c\n\t{\n\t\tint c=(b-a)>>31;\n\t\treturn (a &~ c) | (b & c);\n\t}\n\n\tinline void add(int f,int w)//\u5229\u7528\u94fe\u5f0f\u524d\u5411\u661f\uff08\u5927\u6982\u662f\u4e0d\u4f1avector\uff09\n\t{\n\t\tdate[++tot]=w;\n\t\tNext[tot]=Head[f];\n\t\tHead[f]=tot;\n\t}\n\n\tvoid pre()\n\t{\n\t\tR a,b,have=0;\n\t\tn=read();\n\t\tfor(R i=1;i<=n;i++)\n\t\t{\n\t\t\ta=read(),b=read();\n\t\t\tif(a+b<n)\tp[++cnt].l=a+1,p[cnt].r=n-b;//\u8fd9\u91cc\u5148\u53d6\u95ed\u533a\u95f4\uff0c\u7136\u540e\u7aef\u70b9\u4e0d\u53ef\u91cd\u5408\n\t\t}//\u53ea\u6709\u5408\u6cd5\u624d\u53c2\u4e0e\u8fd0\u7b97\n\t\tsort(p+1,p+cnt+1,cmp);\n\t\tfor(R i=1;i<=cnt;i++)//\u4e0a\u9762\u53d6\u95ed\u533a\u95f4\u5c31\u662f\u4e3a\u4e86\u65b9\u4fbf\u5224\u91cd\n\t\t{\n\t\t\tif(p[i].l==INF)continue;\n\t\t\tif(p[i].l==p[i+1].l && p[i].r==p[i+1].r)//\u5982\u679c\u4e0e\u524d\u9762\u7684\u76f8\u540c\n\t\t{\n\t\t\t//p[i].l=INF;\n\t\t\thave++;//\u8bb0\u5f55\u6709\u51e0\u4e2a\u91cd\u590d\u7684\u4e86\uff08\u4e0d\u5305\u62ec\u81ea\u5df1)\n\t\t}\n\t\telse//\u5982\u679c\u5df2\u7ecf\u4e0d\u91cd\u590d\u4e86\uff0c\u90a3\u4e48\u66f4\u65b0w[i]\n\t\t{\n\t\t\tw[i]=Min(have+1,p[i].r-p[i].l+1);//\u5728\u533a\u95f4\u548c\u91cd\u590d\u91cc\u9762\u53d6min\uff0c\u56e0\u4e3a\u8d85\u51fa\u533a\u95f4\u7684\u80af\u5b9a\u662f\u5047\u8bdd\n\t\t\tadd(p[i].r,i);//\u63a5\u5230\u4ee5\u53f3\u8fb9\u754c\u4e3a\u7ec8\u70b9\u7684\u96c6\u5408\u91cc\u9762\u53bb\n\t\t\thave=0;//error!!! \u8981\u91cd\u7f6ehave\n\t\t}\n\t}\n}\n\n\tvoid work()\n\t{\n\t\tR now;\n\t\tfor(R i=1;i<=n;i++)//\u867d\u7136\u53bb\u6389\u4e86\u4e00\u4e9b\uff0c\u4f46\u662f\u53f3\u8fb9\u754c\u8fd8\u662f\u6709\u90a3\u4e48\u591a\n\t\t{\n\t\t\tf[i]=f[i-1];//\u8fd9\u91cci\u7684\u610f\u4e49\u662f\u53f3\u8fb9\u754c\n\t\t\tfor(R j=Head[i]; j ;j=Next[j])\n\t\t\t{\n\t\t\t\tnow=date[j];//error!!!date\u624d\u662f\u5bf9\u5e94\u4e0b\u6807\n\t\t\t\tf[i]=Max(f[i],w[now]+f[p[now].l-1]);//\u548c\u5df2\u7ecf\u5904\u7406\u597d\u7684\u6743\u503c\u53d6max,\u53d6\u4e86\u8fd9\u6761\u8fb9\u540e\u5c31\u53ea\u80fd\u53d6\u5b83\u5de6\u8fb9\u754c\u4e4b\u524d\u7684\u4e86\n\t\t\t}\n\t\t}\n\t\tprintf(\"%d\\n\",n-f[n]);\n\t}\n\n\tint main()\n\t{\n\t\tfreopen(\"in.in\",\"r\",stdin);\n\t\tpre();\n\t\twork();\n\t\tfclose(stdin);\n\t\treturn 0;\n\t}",
        "postTime": 1517577533,
        "uid": 47136,
        "name": "ww3113306",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "[P2519 [HAOI2011]problem a ](https://www.luogu.com.cn/problem/P2519)\n\n* \u8bbe $[l_i,r_i] $\u8868\u793a\u7b2c $i$ \u4e2a\u4eba\u7684\u6392\u540d\u5728 $l_i$ \u5230 $r_i$ \u4e4b\u95f4\uff0c\u5373 $[l_i,r_i]$ \u7684\u4eba\u5206\u6570\u6392\u540d\u4e00\u6837\u3002\u663e\u7136 $l_i=b_i+1,r_i=n-a_i$\u3002\n\n* \u5148\u53bb\u6389\u4e00\u4e9b\u5fc5\u5047\u7684\u8bdd\u3002\n  * \u5982\u679c $l_i>r_i$\uff0c\u90a3\u4e48\u7b2c $i$ \u4e2a\u4eba\u8bf4\u7684\u8bdd\u5fc5\u5047\u3002\n  * \u5982\u679c $l_i$ \u548c $r_i$ \u90fd\u76f8\u7b49\u7684\u4eba\u51fa\u73b0\u4e86\u8d85\u8fc7 $r_i-l_i+1$ \u4e2a\uff0c\u90a3\u4e48\u6700\u591a\u53ea\u6709\u5176\u4e2d\u7684 $r_i-l_i+1$ \u4e2a\u4eba\u8bf4\u4e86\u771f\u8bdd\uff0c\u8d85\u51fa $r_i-l_i+1$ \u90e8\u5206\u7684\u4eba\u8bf4\u7684\u8bdd\u5fc5\u5047\u3002\n  * \u5982\u679c\u6709\u4e24\u4e2a\u533a\u95f4\u76f8\u4ea4\u5374\u4e0d\u76f8\u540c\uff0c\u8fd9\u4e24\u4e2a\u533a\u95f4\u7684\u4eba\u5fc5\u6709\u4e00\u4e2a\u8bf4\u5047\u8bdd\u3002\u8fd9\u4e0e $[l_i,r_i] $\u7684\u4eba\u5206\u6570\u6392\u540d\u4e00\u6837\u76f8\u8fdd\u80cc\u3002\u7279\u522b\u5730\uff0c\u5982\u679c\u4e24\u6bb5\u533a\u95f4**\u5b8c\u5168\u91cd\u5408**\u662f\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a\u4ed6\u4eec\u53ef\u80fd\u5206\u6570\u76f8\u540c\u3002\n\n* \u53bb\u6389\u6240\u6709\u5fc5\u5047\u7684\u8bdd\u4e4b\u540e\uff0c\u628a $l$ \u548c $r$ \u90fd\u76f8\u7b49\u7684\u4eba\u5408\u5e76\u6210\u4e00\u4e2a\u533a\u95f4\uff08\u5de6\u53f3\u7aef\u70b9\u4e0d\u53d8\uff09\uff0c\u5e76\u7ed9\u533a\u95f4\u5b9a\u4e49\u4e00\u4e2a\u4ef7\u503c\uff0c\u4ef7\u503c\u5373\u4e3a\u5408\u5e76\u4e4b\u524d\u6ee1\u8db3 $l_i$ \u7b49\u4e8e\u8be5\u533a\u95f4\u5de6\u7aef\u70b9\u4e14 $r_i$ \u7b49\u4e8e\u8be5\u533a\u95f4\u53f3\u7aef\u70b9\u7684\u4eba\u6570\u3002\n\n* \u4e8e\u662f\u6211\u4eec\u53ef\u4ee5\u628a\u95ee\u9898\u8f6c\u5316\u4e3a\u6c42\u6700\u591a\u6709\u591a\u5c11\u4eba\u8bf4\u771f\u8bdd\uff0c\u5c31\u53d8\u6210\u4e86\u8fd9\u4e00\u4e2a\u95ee\u9898\uff1a$m$ \u4e2a\u533a\u95f4\uff0c\u6bcf\u4e2a\u533a\u95f4\u4e3a $[l_i,r_i]$\uff0c\u4ef7\u503c\u4e3a $v_i$\uff0c\u4ece\u4e2d\u9009\u51fa\u82e5\u5e72\u4e2a\u6ca1\u6709\u4ea4\u96c6\u7684\u533a\u95f4\uff0c\u6c42\u9009\u51fa\u533a\u95f4\u7684\u6700\u5927\u4ef7\u503c\u548c\u3002\n\n* \u6211\u4eec\u53ef\u4ee5\u8fdb\u884cdp\u3002\u5148\u628a\u533a\u95f4\u6309 $r_i$ \u6392\u5e8f\uff0c\u8bbe $f_i$ \u4e3a\u5230\u7b2c $i$ \u4e2a\u533a\u95f4\u7684\u6700\u4f18\u89e3\u3002\u8fb9\u754c $f_1=v_1$\u3002\n\n* \u8f6c\u79fb\uff1a\u5148\u4e8c\u5206\u67e5\u627e\u5f53 $k\\in [1,i\u22121]$ \u65f6\u6ee1\u8db3 $r_k<l_i$ \u7684\u6700\u5927\u7684 $k$ \u503c\uff0c\u8f6c\u79fb\u65b9\u7a0b\u4e3a\uff1a$f_i=\\max(f_{i-1},f_k+v_i)$\u3002\u6700\u540e\u7b54\u6848\u5c31\u662f $n-f_m$\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct ren{\n\tint l,r,v;\n}a[100005],b[100005];\nint f[100005];\nint n,cnt;\nint read()\n{\n\tint s=0,w=1;\n\tchar ch=getchar();\n\twhile(ch<'0'||ch>'9')\n\t{\n\t\tif(ch=='-')w=-w;\n\t\tch=getchar();\n\t}\n\twhile(ch>='0'&&ch<='9')\n\t{\n\t\ts=s*10+ch-'0';\n\t\tch=getchar();\n\t}\n\treturn s*w;\n }\nbool cmp1(ren x,ren y)\n{\n\treturn x.l==y.l? x.r<y.r:x.l<y.l;\n } \nbool cmp2(ren x,ren y)\n{\n\treturn x.r==y.r? x.l<y.l:x.r<y.r;\n}\nint find(int i)\n{\n\tint l=1,r=i-1;\n\twhile(l<=r)\n\t{\n\t\tint mid=(l+r)>>1;\n\t\tif(b[mid].r<b[i].l)l=mid+1;\n\t\telse r=mid-1;\n\t}\n\treturn r;\n}\nint main()\n{\n\n\tn=read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint r=n-read(),l=read()+1;\n\t\tif(l<=r)\n\t\t{\n\t\t\ta[++cnt].r=r;\n\t\t\ta[cnt].l=l;\n\t\t}\t\n\t}\n\tint num=0;\n\tsort(a+1,a+cnt+1,cmp1);\n\tfor(int i=1;i<=cnt;i++)\n\t{\n\t\tif(i==1||a[i].l!=a[i-1].l||a[i].r!=a[i-1].r)\n\t\t{\n\t\t\tb[++num]=a[i];\n\t\t\tb[num].v=1;\n\t\t } \n\t\telse if(b[num].v<b[num].r-b[num].l+1)b[num].v++;\n\t}\n\tsort(b+1,b+num+1,cmp2);\n\tf[1]=b[1].v;\n\tfor(int i=2;i<=num;i++)\n\t{\n\t\tint k=find(i);\n\t\tf[i]=max(f[i-1],f[k]+b[i].v);\n\t}\n\tint ans=n-f[num];\n\tprintf(\"%d\",ans);\n\treturn 0;\n}\n```",
        "postTime": 1606661612,
        "uid": 224403,
        "name": "\u6728xx\u6728\u5927",
        "ccfLevel": 9,
        "title": "P2519 [HAOI2011]problem a\uff08\u57fa\u4e8e\u8d2a\u5fc3\u601d\u60f3\u7684dp\uff09"
    },
    {
        "content": "\u3010\u9898\u610f\u3011\n```\n\t       \u4e00\u6b21\u8003\u8bd5\u5171\u6709n\u4e2a\u4eba\u53c2\u52a0\uff0c\u7b2ci\u4e2a\u4eba\u8bf4\uff1a\u201c\u6709ai\u4e2a\u4eba\u5206\u6570\u6bd4\u6211\u9ad8\uff0cbi\u4e2a\u4eba\u5206\u6570\u6bd4\u6211\u4f4e\u3002\u201d\u95ee\u6700\u5c11\u6709\u51e0\u4e2a\u4eba\u6ca1\u6709\u8bf4\u771f\u8bdd(\u53ef\u80fd\u6709\u76f8\u540c\u7684\u5206\u6570)\n```\n\u3010\u5206\u6790\u3011\n```\n\t       \u5148\u8fdb\u884c\u8865\u96c6\u8f6c\u5316\uff0c\u8f6c\u5316\u6210\u6c42\u6700\u591a\u591a\u5c11\u4eba\u8bf4\u771f\u8bdd\u3002\u6bcf\u4e2a\u4eba\u8bf4\u7684\u8bdd\u7684\u610f\u601d\u5176\u5b9e\u5c31\u662f\u6392\u5b8c\u5e8f\u540e\u7b2cbi+1\u4e2a\u4eba\u5230\u7b2cn-ai\u4e2a\u4eba\u5206\u6570\u76f8\u540c\uff0c\u6211\u4eec\u628a\u5b83\u770b\u505a\u4e00\u6761\u7ebf\u6bb5\uff0c\u90a3\u4e48\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u6c42\u6700\u591a\u7684\u4e0d\u76f8\u4ea4\u6216\u8005\u5b8c\u5168\u91cd\u5408\u7684\u7ebf\u6bb5\u7684\u6761\u6570\uff0c\u76f4\u63a5DP\uff0c\u4f46\u662f\u6ce8\u610f\u4e00\u6761\u7ebf\u6bb5\u91cd\u5408\u7684\u6b21\u6570\u4e0d\u80fd\u5927\u4e8e\u5b83\u7684\u957f\u5ea6\u3002\n\t       \u5bf9\u4e86\u3002\u3002\u6570\u636e\u6bd2\u7624\u3002\u3002\u8fd8\u8981\u628aai+bi>=n\u7684\u60c5\u51b5\u6392\u9664\u6389\u3002\u3002\u3002\n\t       \u660e\u660e\u53ef\u4ee5O(N)\u505a\uff0c\u4e3a\u4ec0\u4e48\u7f51\u4e0a\u6e05\u4e00\u8272\u7684O(NlogN)\u3002\u3002\u3002\n```\n\u3010\u4ee3\u7801\u3011\n```\n\t#include<bits/stdc++.h>\n\t#define For(i,a,b) for(register int i=(a);i<=(b);++i)\n\t#define Rof(i,a,b) for(register int i=(a);i>=(b);--i)\n\t#define LL long long\n\t#define MaxN 100111\n\tusing namespace std;\n\tint N,a,b,Tot,Now,Opt[MaxN];\n\tstruct Xjh{int X,Y,Cnt;}A[MaxN],B[MaxN];\n\tbool Cmp(Xjh a,Xjh b){return a.Y!=b.Y?a.Y<b.Y:a.X<b.X;}\n\tint main(){\n\t\tscanf(\"%d\",&N);For(i,1,N)scanf(\"%d%d\",&a,&b),A[i].X=b+1,A[i].Y=N-a;\n\t\tsort(A+1,A+1+N,Cmp);\n\t\tFor(i,1,N){\n\t\t\tif(A[i].X>A[i].Y)continue;\n\t\t\tif(A[i].X!=A[i-1].X||A[i].Y!=A[i-1].Y)B[++Tot].X=A[i].X,B[Tot].Y=A[i].Y,B[Tot].Cnt=1;\n\t\t\telse B[Tot].Cnt=min(B[Tot].Cnt+1,B[Tot].Y-B[Tot].X+1);\n\t\t}\n\t\tFor(i,1,N){\n\t\t\tOpt[i]=Opt[i-1];\n\t\t\twhile(B[Now].Y<i&&Now<=Tot)++Now;\n\t\t\twhile(B[Now].Y==i&&Now<=Tot)Opt[i]=max(Opt[i],Opt[B[Now].X-1]+B[Now].Cnt),++Now;\n\t\t}\n\t\tprintf(\"%d\\n\",N-Opt[N]);\n\t\treturn 0;\n\t}\n```",
        "postTime": 1564960619,
        "uid": 24518,
        "name": "\u5047\u88c5\u601d\u8003",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "\u65e2\u7136\u6709\u7528\u7ebf\u6bb5\u6811\u7684\uff0c\u90a3\u6211\u5c31\u7528\u6811\u72b6\u6570\u7ec4~~\u6c34\u4e00\u6ce2~~\n\n~~\u5e76\u634e\u5e26\u5b66\u4e60\u4e86\u4e00\u4e0b\u6811\u72b6\u6570\u7ec4~~\n\n\u8003\u8651\u6c42\u51fa\u6700\u591a\u6709\u591a\u5c11\u4eba\u8bf4\u771f\u8bdd\n\n\u9996\u5148\u8f6c\u5316\u95ee\u9898\uff1a\u5982\u679c\u4e00\u4e2a\u4eba\u8bf4\u7684\u662f\u771f\u8bdd\uff0c\u90a3\u4e48\u8fd9\u4e2a\u4eba\u5bf9\u5e94\u533a\u95f4\u5206\u6570\u76f8\u540c\uff0c\u4e14\u4e24\u7aef\u5206\u6570\u90fd\u4e0e\u8fd9\u4e2a\u533a\u95f4\u5185\u90e8\u4e0d\u540c\n\n\u628a\u76f8\u540c\u533a\u95f4\u5408\u5e76\uff0c\u6839\u636e\u4eba\u6570\u7ed9\u4e00\u4e2a\u6743\u503c\uff0c\u5982\u679c\u8fc7\u5927\u5c31\u628a\u5b83\u53d8\u5c0f\n\n\u95ee\u9898\u53d8\u4e3a\uff1a\u7ed9\u5b9a\u82e5\u5e72\u6709\u6743\u503c\u7684\u533a\u95f4\uff0c\u53d6\u51fa\u4e00\u4e9b\u4e24\u4e24\u4e0d\u76f8\u4ea4\u7684\u533a\u95f4\uff0c\u4f7f\u6743\u503c\u548c\u6700\u5927\n\n\u53ef\u4ee5\u5217\u51fadp\u65b9\u7a0b\uff08\u8fd9\u91cc\u662f\u7528\u4e00\u4e2adp\u503c\u66f4\u65b0\u540e\u9762\u7684dp\u503c\uff09\n\n$dp[p_{i}.r]=max(dp[p_{i}.r],max\\{1..(p_{i}.l-1)\\}+v{_i}])$\n\n\u610f\u601d\u5c31\u662f\uff1a\u5982\u679c\u9009\u4e00\u4e2a\u533a\u95f4\uff0c\u4ece\u80fd\u4fdd\u8bc1\u4e0e\u5b83\u4e0d\u76f8\u4ea4\u7684dp\u503c\u4e2d\u53d6\u51fa\u6700\u5927\u7684\uff0c\u52a0\u4e0a\u6743\u503c\uff0c\u66f4\u65b0\u53f3\u7aef\u70b9\n\n\u4f46\u662f\uff0c\u6811\u72b6\u6570\u7ec4\u4f3c\u4e4e\u4e0d\u80fd\u7ef4\u62a4\u8fd9\u4e2a\u6700\u5927\u503c\n\n\u4e0d\u8fc7\u8003\u8651\u4e00\u4e0b\uff1a\n\n1.\u5355\u70b9\u4fee\u6539\uff0c\u524d\u7f00\u8be2\u95ee\n\n2.\u6570\u503c\u53ea\u4f1a\u53d8\u5927\n\n\u8fd9\u6837\uff0c\u5728\u6811\u72b6\u6570\u7ec4\u4e0a\u66f4\u65b0\u65f6\uff0c\u5982\u679c\u67d0\u4e2a\u8282\u70b9\u9700\u8981\u88ab\u66f4\u65b0\n\n1.\u8be5\u8282\u70b9\u5bf9\u5e94\u6700\u5927\u503c\u4e0d\u662f\u88ab\u4fee\u6539\u7684\u70b9\n    \n\u8fd9\u6837\u5982\u679c\u88ab\u4fee\u6539\u7684\u70b9\u6570\u8db3\u591f\u5927\uff0c\u5c31\u53ef\u4ee5\u66f4\u65b0\uff0c\u5426\u5219\u4e0d\u4f1a\u66f4\u65b0\n\n\u8fd9\u4e24\u79cd\u60c5\u51b5\u7ed3\u679c\u90fd\u662f\u6b63\u786e\u7684\n\n2.\u8be5\u8282\u70b9\u5bf9\u5e94\u6700\u5927\u503c\u662f\u88ab\u4fee\u6539\u7684\u70b9\n\n\u7531\u4e8e\u6570\u503c\u53ea\u4f1a\u53d8\u5927\uff0c\u6240\u4ee5\u8be5\u8282\u70b9\u6570\u503c\u4e5f\u4f1a\u53d8\u5927\n\n\u8fd9\u6837\u4e5f\u662f\u6b63\u786e\u7684\n\n\u6240\u4ee5\uff0c\u53ef\u4ee5\u7528\u6811\u72b6\u6570\u7ec4\u4f18\u5316dp\n\n\u65f6\u95f4\u590d\u6742\u5ea6$O(n\\log n)$\n\n\u800c\u4e14\u5e38\u6570\u5e94\u8be5\u6bd4\u7ebf\u6bb5\u6811\u5c0f\n\n\u4e0d\u5f00O2\u7528\u65f6387ms\n\n\u5982\u679c\u6392\u5e8f\u6362\u6210\u57fa\u6570\u6392\u5e8f\uff0c\u53ef\u80fd\u4f1a\u66f4\u5feb\n\n\u6700\u540e\u662f\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\n#include<algorithm>\n#define lowbit(x) (x&(-x))\nusing namespace std;\nconst int N=100007;\nint dp[N];\nstruct range{\n\tint l,r;\n};\nbool operator<(range a,range b){\n\tif(a.l>a.r)return false;\n\tif(b.l>b.r)return true;\n\tif(a.l==b.l)return a.r<b.r;\n\treturn a.l<b.l;\n}\nbool operator==(range a,range b){\n\treturn a.l==b.l&&a.r==b.r;\n}\nrange list[N];\nrange nlist[N];\nint val[N];\nint arr[131076];\nint query(int n){\n\tint ans=0;\n\tfor(;n;n=n-lowbit(n)){\n\t\tans=max(ans,arr[n]);\n\t}\n\treturn ans;\n}\nint n;\nvoid updata(int nn){\n\tif(nn==0)return;//\u5982\u679c\u53bb\u6389\u8fd9\u91cc\uff0c\u4f1aT\u6389\u4e00\u4e2a\u70b9\uff0c\u539f\u56e0\u4e0d\u660e\n\tfor(int x=nn;x<=n;x=x+lowbit(x)){\n\t\tarr[x]=max(arr[x],dp[nn]);\n\t}\n}\n\nint a,b;\nint main(){\n\tios::sync_with_stdio(false);\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a>>b;\n\t\tlist[i].l=b+1;\n\t\tlist[i].r=n-a;\n\t}\n\tsort(list+1,list+n+1);\n\tint t=1;\n\twhile(t<=n){\n\t\tif(list[t].l<=list[t].r)break;\n\t\tt++;\n\t}\n\tif(t==n+1){\n\t\tcout<<n<<endl;\n\t\treturn 0;\n\t}\n\tint r=2;\n\tnlist[1]=list[t];\n\tval[1]=1;\n\tfor(t++;t<=n;t++){\n\t\tif(list[t]==nlist[r-1]){\n\t\t\tval[r-1]++;\n\t\t}else{\n\t\t\tnlist[r]=list[t];\n\t\t\tval[r]=1;\n\t\t\tr++;\n\t\t}\n\t}\n\tfor(int i=1;i<r;i++){\n\t\tif(val[i]>nlist[i].r-nlist[i].l+1)val[i]=nlist[i].r-nlist[i].l+1;\n\t}\n\tfor(int i=1;i<r;i++){\n\t\tdp[nlist[i].r]=max(dp[nlist[i].r],query(nlist[i].l-1)+val[i]);\n\t\tupdata(nlist[i].r);\n\t}\n\tcout<<n-query(n)<<endl;\n}\n```",
        "postTime": 1554196486,
        "uid": 86649,
        "name": "Hope2075",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "## Solution\n\n### \u8f6c\u5316\n\n\u4e00\u773c\u770b\u6ca1\u6709\u60f3\u6cd5\uff0c\u540e\u6765yy\u51fa\u4e86\u5f88\u591a\u5947\u602a\u89e3\u6cd5\uff0c\u540e\u6765\u88ab\u6211\u5426\u6389\u3002\n\n\u95ee\u9898\u7684\u5173\u952e\u5728\u4e8e\u5982\u4f55\u8f6c\u5316\u8fd9\u4e2a\u95ee\u9898\u3002\n\n\u6709a\u4e2a\u4eba\u6bd4\u4ed6\u4f4e\u548c\u6709b\u4e2a\u4eba\u6bd4\u4ed6\u9ad8\u7b49\u540c\u4e8e\u548c\u4ed6\u76f8\u540c\u7684\u6392\u5728\u7b2ca+1\u5230n-b\u4f4d\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e2a\u8f93\u5165\u91cd\u65b0\u7406\u89e3\u4e00\u4e0b\uff0c\u5347\u5e8f\u6392\u5e8f\u540e\uff0c\u7b2ca+1\u5230n-b\u4f4d\u76f8\u540c\uff0c\u533a\u95f4[l,r]\u76f8\u540c\u3002\n\n### \u6ce8\u610f\n\n\u6709\u4e24\u4e2a\u9700\u8981\u662f\u77db\u76fe\u7684\u9700\u8981\u7279\u6b8a\u5904\u7406\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u533a\u95f4\n\n1. l>r,\u77db\u76fe\n2. \u540c\u6837\u7684\u533a\u95f4\u51fa\u73b0\u6b21\u6570\u8d85\u8fc7\u533a\u95f4\u957f\u5ea6\uff0c\u8d85\u51fa\u7684\u80af\u5b9a\u662f\u77db\u76fe\u7684\n\n### \u5b9e\u73b0\n\n1. \u8bfb\u5165\uff0c\u8f6c\u5316\u4e3a\u533a\u95f4\n2. \u6392\u5e8f\uff0c\u5408\u5e76\u91cd\u590d\u7684\u3002\n3. \u5224\u65ad\uff0c\u628a\u4e0d\u5408\u6cd5\u7684\u53bb\u6389\n4. DP\n\n### DP\n\nDP\u65b9\u6cd5\u5f88\u7b80\u5355\uff0c\u6211\u4eec\u8ba1\u7b97\u6700\u591a\u80fd\u6ee1\u8db3\u7684\u4eba\u7684\u4e2a\u6570\uff0c\u548cn\u505a\u5dee\uff0c\u5c31\u662f\u7b54\u6848\u3002\n\n\u8bbef[i]\u4e3a\u524di\u4f4d\u4e2d\uff0c\u6700\u591a\u80fd\u6ee1\u8db3\u591a\u5c11\u4eba\u3002\n\n\u533a\u95f4\u4ee5\u53f3\u7aef\u70b9\u6392\u5e8f\u540e\uff0c\n\nf[i]=max(f[\u5de6\u7aef\u70b9-1]+\u540c\u4e00\u533a\u95f4\u51fa\u73b0\u6b21\u6570\uff0cf[i-1])\n\nO(n)\u5373\u53ef\u6c42\u89e3\n\n### \u603b\u590d\u6742\u5ea6\u4e3aO(n)\n\n## Code\n\n```c++\n#include <cstdio>\n#include <cstdlib>\n#include <cstring>\n#include <algorithm>\n#include <cmath>\n#include <map>\n#define MAXN 100005\nusing namespace std;\n\nstruct line{\n    int l,r;\n    bool operator<(const line a)const\n    {\n        if(r==a.r) return l<a.l;\n        return r<a.r;\n    }\n    bool operator==(const line a)const\n    {\n        return a.l==l && a.r==r;\n    }\n}a[MAXN],b[MAXN];\nint c[MAXN],f[MAXN];\nint n,cnt=0;\n\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n    {\n        int x,y;\n        scanf(\"%d%d\",&x,&y);\n        a[i].l=y+1;\n        a[i].r=n-x;\n    }\n    sort(a+1,a+n+1);\n    for(int i=1;i<=n;i++)\n    {\n        if(a[i].l>a[i].r)continue;\n        if(!(a[i]==a[i-1]))\n            b[++cnt]=a[i];\n        c[cnt]++;\n    }\n    for(int i=1;i<=cnt;i++)\n    {\n        if(c[i]>b[i].r-b[i].l+1)\n            c[i]=b[i].r-b[i].l+1;\n    }\n    int l=0;\n    for(int i=1;i<=n;i++)\n    {\n        f[i]=f[i-1];\n        while(l<cnt && b[l+1].r==i)\n        {\n            l++;\n            f[i]=max(f[i],f[b[l].l-1]+c[l]);\n        }\n    }\n    printf(\"%d\",n-f[n]);\n    return 0;\n}\n```\n\n",
        "postTime": 1550316968,
        "uid": 63925,
        "name": "joe19025",
        "ccfLevel": 0,
        "title": "DP\u2014\u2014P2519 [HAOI2011]problem a"
    },
    {
        "content": "\u5728\u6709$n$\u4e2a\u4eba\u53c2\u52a0\u8003\u8bd5\u65f6\uff0c\u82e5\u6709\u4eba\u58f0\u79f0$a_i$\u4e2a\u4eba\u8003\u5f97\u6bd4\u81ea\u5df1\u9ad8\uff0c$b_i$\u4e2a\u4eba\u8003\u5f97\u6bd4\u81ea\u5df1\u4f4e\uff0c\u5176\u5b9e\u9645\u4e0a\u662f\u5728\u8bf4\u81ea\u5df1\u8003\u8bd5\u7684\u6392\u540d\u5728\u533a\u95f4$[b_{i}+1,n-a_{i}]$\u4e0a\uff0c\u4e14\u8fd9\u4e2a\u533a\u95f4\u4e2d\u7684\u4eba\u8003\u8bd5\u5206\u6570\u5747\u76f8\u7b49\uff0c\u533a\u95f4\u5de6\u8fb9\u7684\u4eba\u8003\u8bd5\u5206\u6570\u4e25\u683c\u5c0f\u4e8e\u8be5\u533a\u95f4\u4e2d\u4eba\u7684\u8003\u8bd5\u5206\u6570\uff0c\u53f3\u8fb9\u5219\u4e25\u683c\u5927\u4e8e\u3002\u82e5\u4e24\u4e2a\u4eba\u7684\u8bf4\u6cd5\u4ea7\u751f\u77db\u76fe\uff0c\u5f53\u4e14\u4ec5\u5f53\u8fd9\u4e24\u4eba\u58f0\u79f0\u7684\u5206\u6570\u533a\u95f4\u76f8\u4ea4\u4e14\u4e0d\u91cd\u53e0\u3002\u4e8e\u662f\u8be5\u95ee\u9898\u8f6c\u5316\u6210\u4e00\u4e2a\u533a\u95f4\u89c4\u5212\u7684\u95ee\u9898\uff0c\u5373\u627e\u5230\u6700\u591a\u7684\u533a\u95f4\u4f7f\u5f97\u8fd9\u4e9b\u533a\u95f4\u4e4b\u95f4\u4e24\u4e24\u6216\u91cd\u53e0\u6216\u4e0d\u76f8\u4ea4\u3002\n\n\u6b64\u9898\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5f88\u5bb9\u6613\u60f3\u5230\uff0c\u8bbe\u5728\u533a\u95f4$[0,i]$\u4e0a\u7684\u6700\u5927\u975e\u77db\u76fe\u533a\u95f4\u4e2a\u6570\u4e3a$f[i]$\uff0c\u5219$f[s[i].r]=max \\left\\{f[k]\\right\\}$ $(k<s[i].l)+w[i]$ \u5176\u4e2d$w[i]$\u4e3a\u4e0e$i$\u533a\u95f4\u91cd\u5408\u7684\u533a\u95f4\u6570\u3002\u7ef4\u62a4\u524d\u7f00\u6700\u5927\u503c\u53ef\u4ee5\u5229\u7528\u6811\u72b6\u6570\u7ec4\u3002\n\n\u6b64\u5916\u8981\u6ce8\u610f\uff0c\u82e5\u533a\u95f4\u957f\u5ea6\u5c0f\u4e8e\u91cd\u5408\u533a\u95f4\u6570\uff0c\u5219\u5e94\u9009\u53d6\u533a\u95f4\u957f\u5ea6\u4f5c\u4e3a$w[i]$\u3002\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nconst int maxn = 100001;\nstruct seg{\n\tint l,r;\n\tseg(){\n\t\tl = 0; r = 0;\n\t}\n\tbool operator <(const seg &a) const{\n\t\tif (l == a.l) return r < a.r;\n\t\treturn l < a.l; \n\t}\n\tbool operator ==(const seg &a) const {return (a.l == l)&&(a.r == r);}\n}s[maxn];\nint x,y,n, ans = 0, tot = 0;\nint c[maxn], f[maxn], w[maxn];\ninline int lowbit(int x){return x&(-x);}\nint qui(int x){\n\tint ret = 0;\n\tfor(int i = x; i; i -= lowbit(i))\n\t\tret = max(ret, c[i]);\n\treturn ret;\n}\nvoid upd(int pos, int val){\n\tfor (int i = pos; i <= n; i += lowbit(i))\n\t\tc[i] = max(c[i], val);\n}\nint main(){\n\tcin >> n;\n\tfor (int i = 1; i <= n; i ++){\n\t\tcin >> x >> y;\n\t\tif (x + y < n){\n\t\ts[++ tot].l = y + 1;\n\t\ts[tot].r = n - x;\n\t\t}else ans ++;\n\t}\n\tsort(s + 1, s + 1 + tot);\n\tint j = 1,ini = 1;\n\tfor (int i = 1; i <= tot; i ++){\n\t\tif (s[i] == s[j]) continue;\n\t\tw[j] = min(i - ini, s[j].r - s[j].l + 1);\n\t\ts[++j] = s[i]; ini = i;\n\t}\n\tw[j] = min(tot - ini + 1, s[j].r - s[j].l + 1);\n\tint ttot = tot;\n\ttot = j;\n\tfor (int i = 1; i <= tot; i ++){\n\t\tf[s[i].r] = qui(s[i].l - 1) + w[i];\n\t\tupd(s[i].r, f[s[i].r]);\n\t}\n\tint ma = 0;\n\tfor (int i = 1; i <= n; i ++)\n\t\tif (f[i] > ma) ma = f[i];\n\tans += (ttot - ma);\n\tcout << ans << endl;\n\treturn 0;\n} \n```",
        "postTime": 1550140625,
        "uid": 113188,
        "name": "yxchar",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "### Comprehension:\n\u6709\u4e2a\u4e0d\u4e25\u683c\u5355\u8c03\u4e0a\u5347\u7684n\u5143\u5e8f\u5217\uff0c\u7ed9\u5b9an\u4e2a\u533a\u95f4($l_i$,$r_i$),\u8868\u793a\u8fd9\u533a\u95f4\u7684\u4f4d\u7f6e\u662f\u3002\u4f46\u662f\u6570\u5b57\u662f\u6709\u9650\u5e76\u4e14\u975e\u4e25\u683c\u5355\u8c03\u7684\uff0c\u56e0\u6b64\u67d0\u4e9b\u533a\u95f4\u548c\u524d\u9762\u7684\u533a\u95f4\u77db\u76fe\uff0c\u6c42\u8fd9\u4e9b\u77db\u76fe\u533a\u95f4\u7684\u6700\u5c0f\u4e2a\u6570\u3002\n\n### Analysis\uff1a\n\u5f88\u5bb9\u6613\u53d1\u73b0\u8fd9\u9053\u9898\u7ed9\u5b9a\u7684\u76f8\u5f53\u4e8e\u662f\u4e24\u4e2a\u5f00\u533a\u95f4($0$,$l_i$)\u548c($r_i$,$n$)\u3002\u7531\u4e8e\u524d\u540e\u90fd\u662f\u4e0d\u7b49\u5173\u7cfb\uff0c\u8fd9\u4e2a\u4e1c\u897f\u5f88\u8ba9\u4eba\u5934\u75bc\u3002\u6211\u4eec\u7ed9\u4ed6\u6539\u4e00\u4e0b\uff0c\u53d8\u6210\u4e00\u4e2a\u95ed\u533a\u95f4[$l_i$,$r_i$].\u76f8\u5f53\u4e8e\u662f\u4e00\u6761\u7ebf\u6bb5\uff0c\u8fd9\u6761\u7ebf\u6bb5\u4e2d\u6240\u6709\u7684\u6570\u90fd\u5e94\u8be5\u662f\u76f8\u7b49\u7684\u3002\n\n\u518d\u6765\u8003\u8651\uff0c\u5982\u679c\u6211\u4eec\u76f4\u63a5\u6c42\u4e92\u65a5\u7684\u4e2a\u6570\uff0c\u4f3c\u4e4e\u6bd4\u8f83\u96be\u4ee5\u7ef4\u62a4\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u53d6\u820d\u4e0d\u592a\u597d\u505a\u3002\u60f3\u60f3\u6211\u4eec\u5b66\u8fc7\u4e00\u4e2a\u6a21\u578b\uff0c\u5c31\u662f\u7ebf\u6bb5\u8986\u76d6\u95ee\u9898\uff0c\u8fd9\u4e2a\u4e1c\u897f\u5c31\u53ef\u4ee5\u7528\u52a8\u6001\u89c4\u5212\u53bb\u641e\u4e00\u641e\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u628a\u8fd9\u4e2a\u95ee\u9898\u8f6c\u5316\u6210\u4e3a\uff1an\u4e2a\u7b49\u503c\u533a\u95f4\uff0c\u6c42\u6700\u591a\u7684\u4e0d\u77db\u76fe\u7684\u533a\u95f4\u4e2a\u6570\u3002\n\n### Consideration:\n\u5b9a\u4e49\u53d8\u91cf\u5982\u4e0b\uff1a\n```cpp\nint dp[maxn];//dp[i]\u8868\u793a\u4ece\u7b2c1\u540d\u5230\u7b2ci\u540d\uff0c\u6392\u5728\u8fd9\u4e9b\u540d\u6b21\u7684\u4eba\u6700\u591a\u6709\u591a\u5c11\uff0c\u4e5f\u5c31\u662f\u8fd9\u8303\u56f4\u5185\u6700\u591a\u6709\u591a\u5c11\u4e2a\u4eba\u8bf4\u4e86\u771f\u8bdd \nint n;\nmap<pair<int,int>,int> qwq;//\u7528\u6765\u7edf\u8ba1\u533a\u95f4\u51fa\u73b0\u6b21\u6570 \nvector<int> clm[maxn];//\u7528\u6765\u8bb0\u5f55\u6bcf\u4e2a\u533a\u95f4\u3002 \n```\n\u5bf9\u4e8e\u6574\u4e2a\u8fc7\u7a0b\uff0c\u6211\u4eec\u5927\u81f4\u505a\u4e00\u4e2a\u5b8f\u89c2\u7684\u6982\u8ff0\uff1a\n\n1. \u5c06\u6bcf\u4e2a\u7ea6\u675f\u6761\u4ef6\u8f6c\u6362\u4e3a\u95ed\u533a\u95f4\uff0c\u95ed\u533a\u95f4\u8868\u793a\u5e76\u5217\u540d\u6b21\n2. \u5bf9\u4e8e\u6bcf\u4e2a\u70b9$i$\uff0c\u6709\u591a\u5c11\u4e2a\u70b9\u843d\u5728\u8fd9\u4e2a\u70b9\u4e0a\uff0c\u7528\u52a8\u6001\u6570\u7ec4clm\uff08\u5373claim\uff09\u6765\u7ef4\u62a4\uff1b\u5bf9\u4e8e\u6bcf\u4e2a\u533a\u95f4[$l_i$,$r_i$],\u7edf\u8ba1\u51fa\u73b0\u7684\u6b21\u6570\uff0c\u7528\u4e00\u4e2a\u6620\u5c04qwq\u6765\u7ef4\u62a4\n3. \u5347\u5e8f\u626b\u63cf\u6bcf\u4e2a\u70b9\uff08\u4e5f\u5c31\u662f\u6392\u540d\uff09\uff0c\u9996\u5148\u4ee4$dp[i]$\u7ee7\u627f$dp[i-1]$\u7684\u7b54\u6848\uff0c\u56e0\u4e3a\u6211\u4eec\u7528dp\u6570\u7ec4\u7edf\u8ba1\u7684\u662f\u4eba\u6570\uff0c\u4ece\u5b9a\u4e49\u4e0a\u6765\u770b\u5c31\u5e94\u8be5\u662f\u4e0d\u4e0b\u964d\u7684\uff0c\u56e0\u6b64\u6211\u4eec\u7ee7\u627f\u3002\n4. (1)\u5bf9$dp[i]$\u8f6c\u79fb\u3002\u8f6c\u79fb\u7684\u5bf9\u8c61\u662f\u4ee5\u5f53\u524d\u8282\u70b9i\u7ed3\u5c3e\u7684\u6240\u6709\u533a\u95f4\u3002\u4f46\u662f\u5982\u679c\u67d0\u533a\u95f4\u51fa\u73b0\u6b21\u6570\u5927\u4e8e\u533a\u95f4\u957f\u5ea6\u90a3\u80af\u5b9a\u6709\u95ee\u9898\uff0c\u53d6min\u3002\n(2)\u4ee4$s=clm[i][j]$\u8868\u793a\u533a\u95f4\u5de6\u7aef\uff0c\u8fd9\u533a\u95f4\u662f$[s,i]$.\u4ece$s-1$\u53f7\u70b9\u8f6c\u79fb\uff0c$[s,i]$\u7684\u51fa\u73b0\u6b21\u6570(qwq\u7edf\u8ba1)\u5168\u90e8\u7b97\u4f5c\u771f\u8bdd\uff0c\u7d2f\u52a0.(3)\u662f\u5426\u9700\u8981\u8003\u8651\u5176\u4ed6\u533a\u95f4\u5462\uff1f\u4e0d\u9700\u8981\u7684\u3002\u56e0\u4e3a\u90a3\u4e9b\u66f4\u5c0f\u6216\u8005\u66f4\u5927\u7684\u533a\u95f4\uff0c\u5982\u679c\u4e5f\u4ee5$s$\u4e3a\u8d77\u70b9\u6216\u8005\u4ee5$i$\u4e3a\u7ec8\u70b9\uff0c\u4e00\u5b9a\u4f1a\u88ab\u53e6\u884c\u8f6c\u79fb\u3002\u53ea\u8003\u8651\u5f53\u524d\u7684\u5c31\u597d\u4e86\u3002 \n\n### Explanation:\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u72b6\u6001\u8f6c\u79fb\u65b9\u7a0b\u5982\u4e0b\uff1a\n```cpp\nint limit=clm[i].size();\nif(limit==0) continue;\nfor(register int j=0;j<limit;++j)\n   \tdp[i]=max(dp[clm[i][j]-1]+min(i-clm[i][j]+1,qwq[make_pair(clm[i][j],i)]),dp[i]);\n```\n\u5bf9\u8fd9\u4e2a\u65b9\u7a0b\u8fdb\u884c\u89e3\u91ca\uff1a\n$min(i-clm[i][j]+1,qwq[make$_$pair(clm[i][j],i)])$\u524d\u8005\u662f\u5f53\u524d\u533a\u95f4\u7684\u957f\u5ea6\uff0c\u540e\u8005\u662f\u8fd9\u4e2a\u533a\u95f4\u88abclaim\u4e86\u591a\u5c11\u6b21\u3002\u4e3a\u4e86\u9632\u6b62\u4e0a\u9762\u63d0\u5230\u7684\u5c0f\u95ee\u9898\uff0c\u53d6\u6700\u5c0f\u503c\uff0c\u591a\u51fa\u6765\u7684\u4e00\u5b9a\u6ca1\u8bf4\u771f\u8bdd\u3002\n\n$max(dp[clm[i][j]-1]+$\u4e0a\u5f0f$,dp[i])$\uff0c\u524d\u8005\u8868\u793a\u5f53\u524d\u533a\u95f4\u524d\u6bb5\u70b9\u518d\u524d\u9762\u7684\u4e00\u4e2a\u8282\u70b9\uff0c\u8fd9\u662f\u7528\u6765\u4f5c\u8f6c\u79fb\u7684\u3002\n\n\u6700\u540e\u5f97\u51fa\u7684$dp[n]$\u8868\u793a\u4ecerank1\u5230rankn\u4e2d\u6700\u591a\u7684\u8bf4\u771f\u8bdd\u7684\u4eba\u6570\u3002\u90a3\u4e48\u6211\u4eec\u6240\u9700\u8981\u7684\u7b54\u6848\u5c31\u662f$n-dp[n]$\u3002\n\n### Completed Code:\n```cpp\n// luogu-judger-enable-o2\n#include<bits/stdc++.h>\n#define maxn 200200\nusing namespace std;\ninline int read()\n{\n    int n=0,k=1;\n    char c=getchar();\n    while(c>'9'||c<'0') {if(c=='-') k=-1; c=getchar();}\n    while(c<='9'&&c>='0') n=(n<<1)+(n<<3)+(c^48),c=getchar();\n    return n*k;\n}\nint dp[maxn];//dp[i]\u8868\u793a\u4ece\u7b2c1\u540d\u5230\u7b2ci\u540d\uff0c\u6392\u5728\u8fd9\u4e9b\u540d\u6b21\u7684\u4eba\u6700\u591a\u6709\u591a\u5c11\uff0c\u4e5f\u5c31\u662f\u8fd9\u8303\u56f4\u5185\u6700\u591a\u6709\u591a\u5c11\u4e2a\u4eba\u8bf4\u4e86\u771f\u8bdd \nint n,m;\nmap<pair<int,int>,int> qwq;//\u7528\u6765\u7edf\u8ba1\u533a\u95f4\u51fa\u73b0\u6b21\u6570 \nvector<int> clm[maxn];//\u7528\u6765\u8bb0\u5f55\u6bcf\u4e2a\u533a\u95f4\u3002 \nint main()\n{\n    n=read();\n    for(register int i=1;i<=n;++i)\n    {\n        int l=read()+1,r=n-read();//\u5c06(0,l)\u548c(r,n)\u5f00\u533a\u95f4 \u8f6c\u5316\u4e3a\u7ef4\u62a4\u5e76\u5217\u540d\u6b21\u7684 [l,r]\u95ed\u533a\u95f4\uff0c\u5373\u53ef\u7528\u7ebf\u6bb5\u8986\u76d6\u6a21\u578b \n        if(l>r) continue;\n        ++qwq[make_pair(l,r)];//\u7edf\u8ba1\u6b21\u6570 \n        if(qwq[make_pair(l,r)]==1) clm[r].push_back(l);\n    }\n    memset(dp,0,sizeof(dp));\n    for(register int i=1;i<=n;++i)\n    {\n        dp[i]=dp[i-1];//\u7ee7\u627f\u7b54\u6848,\u663e\u7136\u8fd9\u7b54\u6848\u5177\u6709\u5355\u8c03\u6027 \n        int limit=clm[i].size();\n        if(limit==0) continue;\n        for(register int j=0;j<limit;++j)\n            dp[i]=max(dp[clm[i][j]-1]+min(i-clm[i][j]+1,qwq[make_pair(clm[i][j],i)]),dp[i]);\n    }\n    printf(\"%d\\n\",n-dp[n]);//\u8981\u6c42\u6700\u5c11\u8bf4\u5047\u8bdd\u7684\u4eba\uff0c\u90a3\u4e48\u603b\u4eba\u6570\u51cf\u53bb\u6700\u591a\u8bf4\u771f\u8bdd\u7684\u4eba\u5373\u53ef \n    return 0;\n}\n```\n\n### Moreover:\n\u5173\u4e8e\u65f6\u95f4\u590d\u6742\u5ea6\uff1adp\u4e2d\u4e00\u91cd\u5916\u5faa\u73af$O(n)$,\u5185\u90e8\u867d\u7136\u6709j\u4f46\u662f\u6bcf\u4e2a\u533a\u95f4\u53ea\u88ab\u8bbf\u95ee\u4e00\u6b21\uff0c\u4e5f\u662f$O(n)$,\u800c\u5185\u90e8\u8c03\u7528$qwq$\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(log_2n)$\uff0c\u56e0\u6b64\u603b\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(nlog_2n)$\u3002\u5b9e\u6d4b\u6700\u5927\u6570\u636e75ms\uff08\u6211\u5e38\u6570\u5de8\u5927\u6c42\u8f7bd\uff09",
        "postTime": 1544667093,
        "uid": 32234,
        "name": "\u66ff\u7f6a\u7f8a\u6811",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    },
    {
        "content": "\u5f88\u7b80\u5355\u7684\u4e00\u9053dp\u9898\u3002\n\u4e00\uff1a\n\u9898\u610f\u8f6c\u5316:\u6700\u591a\u8bf4\u771f\u8bdd\u7684\u4eba,\u4e3a\u5728\u8bf4\u771f\u8bdd\u7684\u524d\u63d0\u4e0b\u9009\u5c3d\u91cf\u591a\u7684\u4eba\u3002\n\n****\u4e8c\uff1a****\n\n\u5bf9\u4e8ea[i]\u548cb[i],\u6307>i\u7684\u5206\u6570\u548c<i\u7684\u5206\u6570\u7684\u4eba\u7684\u4e2a\u6570(\u6ca1\u6709\u7b49\u4e8e,\u6b64\u9898\u7684\u5173\u952e\u70b9)\u3002\n\n\u76f8\u5f53\u4e8e\u7ed9\u6240\u6709\u4eba\u5206\u6570\u90fd\u6392\u597d\u5e8f\u7684\u6570\u7ec4\u4e2di\u8fd9\u4e2a\u4eba\u7684\u53ef\u53d6\u503c\u4e0b\u6807\u8303\u56f4\u5c31\u662fb[i]+1\u5230n-a[i]\u3002\n\u9009\u62e9\u4ed6\u8bf4\u771f\u8bdd,\u90a3\u4e48bi+1\u5230n-ai\u5206\u6570\u5e94\u5f53\u76f8\u540c\u3002\n\n****\u4e8e\u662f\u9898\u76ee\u8f6c\u5316\u4e3a\u7ed9\u5b9an\u4e2a\u533a\u95f4,\u8ba9\u6211\u4eec\u4f7f\u5c3d\u91cf\u591a\u7684\u533a\u95f4\u88ab\u9009\u3002****\n(\u5f53\u7136\u53ea\u662f\u6cdb\u6307,\u8fd8\u6709\u9650\u5236\u6761\u4ef6,\u4e14\u533a\u95f4\u6709\u6743\u503c....)\n\u4e09\uff1a(\u9650\u5236\u6761\u4ef6)\n\u5f88\u5bb9\u6613\u53d1\u73b02\u4e2a\u6027\u8d28\uff1a1.\u5bf9\u4e8e\u5b8c\u5168\u91cd\u5408\u7684\u533a\u95f4,\u5982\u679c\u8981\u9009\u8fd9\u4e2a\u533a\u95f4,\u90a3\u4e48\u5bf9\u4e8e\u6240\u6709\u76f8\u540c\u533a\u95f4\u4e00\u5b9a\u662f\u80fd\u9009\u591a\u5c11\u9009\u591a\u5c11(\u76f8\u540c\u533a\u95f4\u5206\u6570\u76f8\u540c);2.\u5bf9\u4e8e\u4e0d\u76f8\u540c\u4e14\u6ca1\u6709\u516c\u5171\u90e8\u5206\u7684\u533a\u95f4,\u662f\u4e92\u76f8\u72ec\u7acb\u7684\u30023.\u5bf9\u4e8e\u4e0d\u5b8c\u5168\u91cd\u5408\u4e14\u6709\u516c\u5171\u90e8\u5206\u7684\u533a\u95f4,\u6700\u591a\u53ea\u80fd\u9009\u62e9\u4e00\u4e2a\u3002\u60f3\u4e00\u60f3\u4e3a\u4ec0\u4e48\uff1f\n\u56db:\u89e3\u6cd5\u3002\n\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a\u89e3\u6cd5,\u628aai.bi\u8f6c\u5316\u4e3a\u533a\u95f4,\u76f8\u540c\u7684\u533a\u95f4\u7d2f\u52a0\u6210\u4e00\u4e2a,\u6b21\u6570\u8bb0\u4e3acnt[i]\u3002min(cnt[i],r-l+1)\u4e3a\u8fd9\u4e2a\u8fd9\u4e2a\u533a\u95f4\u7684\u8d21\u732e,\u8bb0\u4e3aw[i]\u3002\n\n\u6309r\u5347\u5e8f\u6392\u5e8f,\u4ee4dp[i]\u4e3a\u524di\u4e2a\u533a\u95f4\u4e14\u7b2ci\u4e2a\u533a\u95f4\u5fc5\u9009\u7684\u6700\u5927\u771f\u8bdd\u6570\u3002dp[i]=dp[j]+w[i](j.r<i.l),\u56e0\u6b64\u4e8c\u5206\u67e5\u627e\u6700\u540e\u4e00\u4e2aj,\u4f7fj.r<i.l,\u7528\u6811\u72b6\u6570\u7ec4\u7ef4\u62a4\u524d\u7f00dp\u6700\u5927\u503c\u3002\u5b8c\u4e86\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#define lowb(x) x&(-x)\nusing namespace std;\nconst int N=100010;//\u8f6c\u5316\u4e00\u4e0b\u6c42\u6700\u591a\u8bf4\u771f\u8bdd,\u6bcf\u4e00\u4e2a\u4eba,\u76f8\u5f53\u4e8e\u539f\u6570\u7ec4\u6392\u5b8c\u5e8f\u540e\u6709\u4e00\u4e2a\u9009\u62e9\u7684\u533a\u95f4,\u5bf9\u4e8e\u91cd\u590d\u7684\u533a\u95f4\u53ef\u4ee5\u540c\u6837\u7684\u5206\u6570,\u4e0d\u540c\u7684\u533a\u95f4\u4e00\u5b9a\u4e0d\u80fd\u9009\u91cd,\u7b80\u5355dp\u3002 \nstruct nod{\n\tint l,r;\n\tint cnt;\n}a[N],b[N];\nint n,m;\nint dp[N];\nint tot,t[N];\nbool comp1(nod p1,nod p2){return p1.l!=p2.l?p1.l<p2.l:p1.r<p2.r;}\nbool comp2(nod p1,nod p2){return p1.r!=p2.r?p1.r<p2.r:p1.l>p2.l;}\nvoid add(int x,int val)\n{\n\tfor(int i=x;i<=tot;i+=lowb(i)) t[i]=max(t[i],val);\n}\nint q(int x)\n{\n\tint tmp=0;\n\tfor(int i=x;i;i-=lowb(i))tmp=max(tmp,t[i]);\n\treturn tmp;\n}\nint main()\n{\n\tscanf(\"%d\",&n);\n\ttot=m=0;\n\tfor(int i=1,x,y;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d\",&y,&x);\n\t\ty=n-y;x++;\n\t\tif(x>y||x<=0||y>n) continue;\n\t\ta[++m].l=x;a[m].r=y;a[m].cnt=1;\n\t}\n\tsort(a+1,a+m+1,comp1);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tb[++tot].cnt=1;b[tot].l=a[i].l;b[tot].r=a[i].r;\n\t\twhile(i+1<=m&&a[i+1].l==a[i].l&&a[i+1].r==a[i].r) b[tot].cnt++,i++;\n\t}\n\tsort(b+1,b+tot+1,comp2);\n\tfor(int i=1;i<=tot;i++) b[i].cnt=min(b[i].cnt,b[i].r-b[i].l+1);\n\tint ans;\n\tans=dp[1]=b[1].cnt;\n\tadd(1,dp[1]);\n\tfor(int i=2,pos,l,r,mid;i<=tot;i++)\n\t{\n\t\tpos=0;\n\t\tl=1,r=i-1;\n\t\twhile(l<=r)\n\t\t{\n\t\t\tmid=(l+r)>>1;\n\t\t\tif(b[mid].r<b[i].l) pos=mid,l=mid+1;\n\t\t\telse r=mid-1;\n\t\t}\n\t\tdp[i]=q(pos)+b[i].cnt;ans=max(ans,dp[i]);\n\t\tadd(i,dp[i]);\n\t}printf(\"%d\",n-ans);\n\treturn 0;\n}\n```",
        "postTime": 1539346743,
        "uid": 85752,
        "name": "\u4e36Cyanide",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2519 \u3010[HAOI2011]problem a\u3011"
    }
]