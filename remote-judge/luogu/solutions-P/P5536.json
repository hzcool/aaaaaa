[
    {
        "content": "# \u8fd9\u9053\u9898\u770b\u5f97\u6655\uff1f\u5927\u4f6c\u4eec\u7684\u9898\u89e3\u770b\u4e0d\u61c2\uff1f\n# \u5feb\u770b\u8fc7\u6765~\n\n## \u770b\u5b8c\u8fd9\u7bc7\u9898\u89e3\u4f60\u53ef\u4ee5\u83b7\u5f97\u4ec0\u4e48\uff1f\n#### 1.\u6811\u4e0a\u76f4\u5f84\u6c42\u6cd5\u7684\u8be6\u7ec6\u6613\u61c2\u7684\u8bc1\u660e\u3002\n#### 2.\u4e00\u7bc7\u542f\u53d1\u5f0f\u7684\u9898\u89e3\u5e2e\u52a9\u4f60\u601d\u8003\u3002\n\n#### \u4e00.\u9898\u610f\n\n\u9996\u5148\u770b\u660e\u767d\u8fd9\u9053\u9898\u7684\u9898\u610f\uff0c\u5728\u4e00\u68f5\u6811\u4e0a\u53d6k\u4e2a\u70b9\u4f5c\u4e3a\u6838\u5fc3\u57ce\u5e02\uff08\u7fa4\uff09\uff0c\u5176\u4ed6\u70b9\u5230\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u4e3a\u4ed6\u4eec\u5230\u8fd9\u4e9b\u57ce\u5e02\u7684\u6700\u77ed\u8ddd\u79bbsi\u3002\u8fd9\u4e9b\u6700\u77ed\u8ddd\u79bb\u4e2d\u6709\u4e00\u4e2a\u6700\u5927\u8ddd\u79bb\uff0c\u4f60\u53ef\u4ee5\u628a\u8fd9\u4e2a\u6700\u5927\u8ddd\u79bb\u4f5c\u4e3a\u8fd9\u4e2a\u6838\u5fc3\u57ce\u5e02\u7fa4\u7684\u53c2\u8003\u503cans\uff0c\u8981\u4f60\u6c42\u6240\u6709\u4e0d\u540c\u6838\u5fc3\u57ce\u5e02(\u7fa4)\u4e2dans\u6700\u5c0f\u7684\u3002\uff08\u662f\u771f\u7684\u5f88\u7ed5\uff0c\u597d\u597d\u7406\u89e3\u4e00\u4e0b\u5427\uff09\n\n#### \u4e8c.\u601d\u8def\n\n\u770b\u61c2\u9898\u76ee\u540e\uff0c\u6211\u4eec\u4f1a\u53d1\u73b0\u903b\u8f91\u6709\u70b9\u590d\u6742\uff0c\u9996\u5148\u4e0d\u77e5\u9053k\u4e2a\u57ce\u5e02\u8981\u53d6\u5728\u54ea\u91cc\uff0c\u5176\u6b21\u53c8\u4e0d\u77e5\u9053\u53c2\u8003\u503cans\u600e\u4e48\u6c42\u3002~~\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u653e\u5f03\u8fd9\u9053\u9898\u4e86~~\n\n\u6ca1\u5173\u7cfb\uff0c\u4e00\u6b65\u4e00\u6b65\u6765\u3002\u67d0\u5927\u4f6c\u66fe\u7ecf\u8bf4\u8fc7\uff0c**\u9047\u5230\u590d\u6742\u7684\u9898\uff0c\u5148\u5c1d\u8bd5\u628a\u5b83\u53d8\u5f97\u7b80\u5355\u4e9b\u3002**\n\u6bd4\u5982\u8bf4\uff0c\u6709k\u4e2a\u57ce\u5e02\u9700\u8981\u8003\u8651\uff0c\u662f\u4e0d\u662f\u5f88\u70e6\uff1f\u90a3\u4e48\u6211\u4eec\u5148\u5316\u7b80\u4e00\u4e0b\uff0c\u53ea\u8003\u8651\u4e00\u4e2a\u57ce\u5e02\uff0c\u90a3\u4e48\u8fd9\u4e2a\u57ce\u5e02\u4f1a\u5728\u54ea\u91cc\u5462\uff1f\u4e3a\u4ec0\u4e48\uff1f\uff08**\u53ef\u4ee5\u5148\u9002\u5f53\u7684\u601d\u8003\u4e00\u4e0b\u518d\u7ee7\u7eed\u770b\u9898\u89e3**\uff09\n\n\u53d6\u4e00\u4e2a\u70b9\uff0c\u8981\u6c42\u5176\u4ed6\u6240\u6709\u7684\u70b9\u5230\u8fd9\u4e2a\u70b9\u7684\u6700\u5927\u8ddd\u79bb\u6700\u5c0f\uff0c\u90a3\u6211\u4eec\u5c31\u8981\u8003\u8651\u4ec0\u4e48\u65f6\u5019\u51fa\u73b0\u8fd9\u4e2a\u6700\u5927\u8ddd\u79bb\u3002**\u4efb\u53d6\u4e00\u4e2a\u70b9a\uff0c\u5b83\u7684\u6700\u8fdc\u7aef\u70b9\u662f\u76f4\u5f84\u7684\u7aef\u70b9**\uff0c\u90a3\u4e48\u6700\u5927\u8ddd\u79bb\u4e5f\u5c31\u662fa\u4e0e\u4e24\u76f4\u5f84\u7aef\u70b9\u7684\u8ddd\u79bb\u4e2d\u7684\u8f83\u5927\u503cd\uff08\u4ec0\u4e48\uff1f\u4f60\u8ddf\u6211\u8bf4\u4e0d\u61c2\u6811\u7684\u76f4\u5f84\uff1f\u53bb\u770b\u4e0b\u9762\u7684\u6c42\u6cd5\u4e0e\u8bc1\u660e\u5427\uff09**\u90a3\u4e48\u5f53a\u4f5c\u4e3a\u76f4\u5f84\u7684\u4e2d\u70b9\u65f6**\uff0c\u53ef\u4ee5\u4fdd\u8bc1d\u4fdd\u6301\u6700\u5c0f\u503c\u3002\n\uff08\u4e0d\u61c2\u5c31\u753b\u56fe~\uff09\n\n\u597d\uff0c\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u4e00\u4e2a\u70b9\u7684\u65f6\u5019\u8981\u9009\u76f4\u5f84\u7684\u4e2d\u70b9\u4e86\uff0c\uff08**\u591a\u4e2a\u70b9\u7684\u65f6\u5019\u4e5f\u8981\u9009\u4e2d\u70b9\uff0c\u8bf7\u81ea\u884c\u601d\u8003**\uff09\u90a3\u4e48\u63a5\u4e0b\u6765\u8981\u786e\u5b9a\u5176\u4ed6k-1\u4e2a\u70b9\u3002\u6ca1\u5934\u7eea\uff1f\u6211\u4e5f\u6ca1\u6709\u5934\u7eea\uff0cLnn\u849f\u84bb\u66fe\u8bf4\u8fc7\uff0c\u6ca1\u5934\u7eea\u5c31\u753b\u56fe\u3002\n\n![\u6811](https://cdn.luogu.com.cn/upload/image_hosting/5snmtcf0.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u597d\uff0c\u5bf9\u4e8e\u8fd9\u4e2a\u56fe\uff0c\u9009\u4e864\u4ee5\u540e\uff0c\u8981\u9009\u54ea\u4e2a\u70b9\uff1f\u9996\u5148\u8fd9\u4e2a\u70b9\u8981\u4e0e4\u76f8\u8fde\uff0c\u5c31\u53ea\u526910\u53f7\uff0c5\u53f7\uff0c3\u53f7\u4e09\u4f4d\u9009\u624b\u4e86\u3002\u4f60\u53ef\u4ee5\u90fd\u8bd5\u8bd5\uff0c\u9009\u4e8610\u53f7\u540e\uff08\u975e\u6838\u5fc3\u57ce\u5e02\u5230\u6838\u5fc3\u57ce\u5e02\u6700\u5c0f\u8ddd\u79bb\u7684\u6700\u5927\u503c\uff09ans\u4e3a5\uff084\u523011\uff09\uff0c\u9009\u4e865\u53f7\u4e4b\u540eans\u4e3a5\uff084\u523011\uff09\uff0c\u90093\u53f7\u4e4b\u540eans\u4e3a4\uff083\u523011\u6216\u80054\u523012\uff09\u3002**\u9009\u4e86\u4e09\u53f7\u4e4b\u540eans\u53d8\u5c0f\u4e86**\uff0c\u6240\u4ee5\u6211\u4eec\u8981\u9009\u7684\u70b9\u662f3\u53f7\u3002\u597d\uff0c\u51ed\u4f60\u7684\u76f4\u89c9\u548c\u5b9e\u9645\u8ddd\u79bb\u4f60\u7ee7\u7eed\u9009\uff0c\u4f60\u5e94\u8be5\u80fd\u53d1\u73b0\u4ec0\u4e48\u3002**\u6bcf\u4e00\u6b21\u9009\u7684\u65f6\u5019\u90fd\u6709\u4e00\u79cd\u8d2a\u5fc3\u7684\u601d\u60f3\u5728\u91cc\u9762\uff0c\u5c3d\u91cf\u5728\u9009\u5b8c\u4e4b\u540e\u4f7f\u5f97ans\u53d8\u5c0f\u3002**\n\n\u7ecf\u8fc7\u8fd9\u4e9b\u601d\u8003\uff0c\u4f60\u5e94\u8be5\u80fd\u660e\u767d\u8981\u9009\u7684\u70b9\u7684\u6027\u8d28\u4e86\uff0c\u603b\u7ed3\u4e00\u4e0b\u5c31\u662f\u6309\u7167\u5f53\u524d\u70b9\u80fd\u8d70\u5230\u7684\u6700\u8fdc\u8ddd\u79bbdis**\u964d\u5e8f\u6392\u5e8f**\u4e4b\u540e\uff0c\u5728\u4e00\u4e2a\u4e00\u4e2a\u9009\u3002\u5176\u4e2d\u8bbed[i]\u4e3a\u5f53\u524d\u6df1\u5ea6\uff0cmaxd[i]\u4e3ai\u80fd\u8d70\u5230\u7684\u6700\u6df1\u7684\u6df1\u5ea6\u3002\u90a3\u4e48dis[i]=maxd[i]-d[i]\u3002\n\n\u6309\u7167dis\u6392\u5e8f\u4e4b\u540e\uff0c\u524dk\u4e2a\u70b9\u662f\u6838\u5fc3\u57ce\u5e02\uff0c\u8fd9\u6837\u5b50\u6838\u5fc3\u57ce\u5e02\u786e\u5b9a\u4f60\u8981\u627e\u7684ans\u5c31\u662f\u5176\u4ed6\u70b9\u5230\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u7684\u6700\u5c0f\u8ddd\u79bb\u6700\u5927\u503c\u3002\u90a3\u4e48ans\u5982\u4f55\u6c42\u5f97\uff1f\u6bd4\u5982k==3\uff0c\u8fd8\u662f\u6309\u7167\u4e0a\u9762\u90a3\u4e2a\u56fe\uff0c**\u6392\u5e8f\u4e4b\u540e**\uff0cdis[1]=5,dis[2]=4,dis[3]=3\u3002\u6b63\u786e\u7b54\u6848\u662f4\uff0c\u662f4\u523012\u90a3\u6761\u8def\uff0c**\u5982\u679c\u6b64\u65f6\u4f60\u4ece\u6838\u5fc3\u57ce\u5e02\u4e0b\u624b\uff0c\u4f1a\u53d1\u73b0\u5f88\u96be\u6c42\uff0c\u4f46\u662f\u5982\u679c\u4f60\u6362\u4e00\u4e0b\u601d\u8def\uff0c\u4ece\u975e\u6838\u5fc3\u57ce\u5e02\u4e0b\u624b**\uff0c\u53ea\u8981\u627e\u5230\u975e\u6838\u5fc3\u57ce\u5e02\u4e2ddis\u6700\u5927\u7684\u90a3\u4e2a\u503c\uff0cdis[k+1]+1\u5c31\u662f\u4f60\u8981\u7684\u7b54\u6848\u3002\n\n\u4e0b\u9762\u7ed9\u51fa\u76f4\u5f84\u6c42\u6cd5\u548c\u8bc1\u660e\u3002\n\n#### \u4e09.\u6811\u7684\u76f4\u5f84\n\n\u6c42\u6cd5\uff1a**\u4efb\u9009**\u4e00\u70b9a\uff0c\u4fdd\u5b58\u5176dfs\u904d\u5386\u5230\u6700\u8fdc\u7684\u4e00\u70b9b\u3002b\u4e3a\u76f4\u5f84\u7684\u4e00\u4e2a\u7aef\u70b9\u3002\n\t  \u518d\u4ee5b\u70b9dfs\u5230\u6700\u8fdc\u7684\u4e00\u70b9c\u3002**bc\u5373\u4e3a\u76f4\u5f84**\u3002\n      \n\u8bc1\u660e\uff1a\u4e09\u79cd\u60c5\u51b5\uff0c\u89c1\u56fe\n\n**1.\u8bbexy\u4e3a\u6811\u4e0a\u76f4\u5f84\uff0ca\u4e3a\u76f4\u5f84\u4e0a\u4e00\u70b9\uff0cb\u4e3aa\u627e\u5230\u7684\u6700\u8fdc\u7aef\u70b9\u3002**\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pm3fa55l.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n**\u65e2\u7136a\u627e\u5230\u7684\u6700\u8fdc\u7aef\u70b9\u4e0d\u662fx\u6216\u8005y**\uff0c\u90a3\u4e48ab>=ax,ab>=ay\u3002\n\u6240\u4ee5\u53ea\u6709\u4e24\u79cd\u53ef\u80fd\uff1a1.\uff08\u7b49\u4e8e\u65f6\uff09yb\u4e0exy\u540c\u4e3a\u76f4\u5f84\uff0c\u6240\u4ee5b\u4e3a\u76f4\u5f84\u7aef\u70b9\u30022.\uff08\u5927\u4e8e\u65f6\uff09yb>xy\uff0cxy\u4e0d\u662f\u76f4\u5f84\uff0c\u4e0e\u5047\u8bbe\u6709\u8bef\u3002\n\n2.\u8bbexy\u4e3a\u76f4\u5f84\uff0ca\u4e3a\u76f4\u5f84\u5916\u4e00\u70b9\uff0ca\u5728\u5ef6\u7533\u65f6\u7ecf\u8fc7xy\u4e0a\u4e00\u70b9b\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/y3i9zbdk.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n**\u7531\u8bc1\u660e1\u77e5**\uff0cb\u7ee7\u7eed\u5ef6\u7533\u4e00\u5b9a\u4f1a\u5ef6\u7533\u5230x\u6216\u8005y\uff08\u76f4\u5f84\u7aef\u70b9\uff09\uff0c\u5f97\u8bc1\u3002\n\n3.\u8bbexy\u4e3a\u76f4\u5f84\uff0ca\u5ef6\u7533\u5230b\u7aef\u70b9\uff0c\u5e76\u4e14\u4e0d\u7ecf\u8fc7xy\uff0c\u53d6ab\u4e0a\u4e00\u70b9o\uff0cxy\u4e0a\u4e00\u70b9c\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/dv0jfhrr.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n**\u65e2\u7136a\u5ef6\u7533\u7684\u6700\u8fdc\u70b9\u4e3ab\uff0c\u90a3\u4e48ob>=oc+cy**\uff0c\u8fd9\u6761\u5f0f\u5b50\u6539\u4e00\u4e0b\uff0c\u6709\n\nco+ob>cy\n\nxc+co+ob>xc+cy\n\n\u5f97xb>xy\uff0cxy\u4e0d\u662f\u76f4\u5f84\uff0c\u4e0e\u5047\u8bbe\u6709\u8bef\u3002\n\n**\u8bc1\u660e\u5b8c\u6bd5\uff0c\u6811\u4e0a\u4e00\u70b9\u5ef6\u7533\u5230\u6700\u8fdc\u7684\u70b9\u662f\u76f4\u5f84\u7aef\u70b9\u3002**\n\n\u4e3b\u8981\u662f\u5229\u7528\u53cd\u8bc1\u6cd5\u8bc1\u660e\u5982\u679c\u5ef6\u7533\u5230\u7684\u7aef\u70b9\u4e0d\u662f\u76f4\u5f84\u7aef\u70b9\u7684\u8bdd\uff0c\u5c31\u4e0e\u5047\u8bbe\u6709\u8bef\u3002\u5982\u679c\u8fd8\u4e0d\u61c2\u7684\u8bdd\u53ef\u4ee5\u53c2\u8003\u5176\u4ed6\u5927\u4f6c\u7684\u3002\n\n\u81f3\u4e8e\u4ee3\u7801\u7684\u8bdd\u53ef\u4ee5\u53c2\u8003\u5176\u4ed6\u5927\u4f6c\u7684\uff0c\u601d\u8def\u662f\u5dee\u4e0d\u591a\u7684\u3002~~\u6211\u7684\u592a\u5dee\u4e86\u5c31\u4e0d\u62ff\u51fa\u6765\u4e86~~\n\n#### \u5982\u679c\u89c9\u5f97\u6211\u83dc\u7684\u8bdd\u8bf7\u5728\u8bc4\u8bba\u533a\u5237Lnnnb\n\n#### \u5982\u679c\u5bf9\u4f60\u6709\u5e2e\u52a9\u7684\u8bdd\u8bf7\u7ed9\u6211\u70b9\u8d5e~\n\n\n",
        "postTime": 1585710617,
        "uid": 269411,
        "name": "SCAU_Lnn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "update 2020.10.04\n\n\u66f4\u65b0\u56fe\u7247\n\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n# \u6811\u7684\u76f4\u5f84\u677f\u5b50\u9898\n\n~~QwQ\u5927\u4f6c\u7684\u9898\u89e3\u6211\u90fd\u770b\u4e0d\u61c2\u554a~~\n\n~~\u6240\u4ee5\u81ea\u5df1\u53d1\u4e00\u7bc7\u5427~~\n\n# \u6811\u7684\u76f4\u5f84\n\n\u6811\u7684\u76f4\u5f84\u6709\u4e24\u79cd\u65b9\u6cd5\n\n## \u6811\u5f62DP\u6c42\u6811\u7684\u76f4\u5f84\n\n```\nvoid dp(int x,int fa){//x\u8868\u793a\u5f53\u524d\u7684\u8282\u70b9\uff0cfa\u662fx\n\u7684\u7236\u8282\u70b9\n\tfor(int i=head[x];i;i=next[i]){//\u524d\u5411\u661f\n\t\tint y=ver[i],z=w[i];//y\u662f\u4e0b\u4e00\u4e2a\u8282\u70b9\uff0cz\u662fx\uff0cy\u7684\u8ddd\u79bb\uff0c\u5728\u672c\u9898\u5c31\u662f1\n\t\tif(y==fa)continue;//\u53ea\u7528\u904d\u5386\u4e00\u6b21\uff0c\u4e0d\u7528\u56de\u5230\u7236\u8282\u70b9\n\t\tdp(y);\n\t\tans=max(ans,dis[x]+dis[y]+z);\n\t\tdis[x]=max(dis[x],dis[y]+z);\n        //dis[x]\u8868\u793a\u4ece\u8282\u70b9x\u51fa\u53d1\u8d70\u5230\u4ee5x\u4e3a\u6839\u7684\u5b50\u6811\n        //\u80fd\u591f\u5230\u7684\u6700\u8fdc\u8ddd\u79bb\n\t}\n}\n```\n\u6811\u5f62DP\u96be\u4ee5\u6c42\u51fa\u76f4\u5f84\u4e0a\u7684\u8282\u70b9\n\n~~\u53cd\u6b63\u6211\u4e0d\u4f1aQwQ~~\n\n\u987a\u4fbf\u63d0\u4f9b\u51e0\u9053\u6811\u5f62DP\u7684\u9898\u76ee\n\n[P1352 \u6ca1\u6709\u4e0a\u53f8\u7684\u821e\u4f1a](https://www.luogu.org/problem/P1352)\n\n[P1273 \u6709\u7ebf\u7535\u89c6\u7f51](https://www.luogu.org/problem/P1273)\n\n[P2014 \u9009\u8bfe](https://www.luogu.org/problem/P2014)\n\n## \u4e24\u6b21DFS\u6c42\u6811\u7684\u76f4\u5f84\n\n\u5176\u5b9e\u4e24\u6b21BFS\u4e5f\u53ef\u4ee5\uff0c\u8fd9\u91cc\u4ecb\u7ecdDFS\u7684\n\n\u7b2c\u4e00\u6b21DFS\u6211\u4eec\u4ece\u4efb\u610f\u4e00\u4e2a\u8282\u70b9\u5f00\u59cb\u8d70\n\n\u8bb0\u5f55\u4e0b\u79bb\u5b83\u6700\u8fdc\u7684\u8282\u70b9\n\n\u5b83\u5c31\u662f\u76f4\u5f84\u7684\u4e00\u7aef\u4e86\n\n\u4e3a\u4ec0\u4e48\u5462\n\n#### \u6211\u4eec\u5047\u8bbe\u5b83\u4e0d\u662f\u76f4\u5f84\u4e00\u7aef\u4e0a\u7684\u70b9\n\n\u53ef\u662f\u8fd9\u6837\u5c31\u8fdd\u80cc\u4e86\u76f4\u5f84\u7684\u5b9a\u4e49\n\n\u76f4\u5f84\u662f\u6811\u7684\u6700\u957f\u94fe\n\n\u5982\u679c\u5b83\u4e0d\u662f\u76f4\u5f84\u4e00\u7aef\u4e0a\u7684\u8282\u70b9\n\n\u90a3\u4e48\u5c31\u80af\u5b9a\u4f1a\u6709\u4e00\u6761\u6bd4\u76f4\u5f84\u66f4\u957f\u7684\u94fe\n\n\u6240\u4ee5\u4e0d\u6210\u7acb\n\n#### \u8bc1\u6bd5\n\n\u7136\u540e\u7528\u8fd9\u4e2a\u70b9\u518d\u4e00\u6b21DFS\uff0c\u8bb0\u5f55\u4e0b\u8def\u5f84\u5c31ok\n\n```\nvoid dfs1(int x,int fa){\n\tif(deep[x]>zj){\n\t\tzj=deep[x];\n\t\tnum=x;\n\t}\n\tfor(int i=head[x];i;i=next[i]){\n\t\tint y=ver[i];\n\t\tif(y==fa)continue;\n\t\tdeep[y]=deep[x]+1;\n\t\tdfs1(y,x);\n\t}\n}\nvoid dfs2(int x,int fa){\n\tif(deep[x]>zj){\n\t\tzj=deep[x];\n\t\tnum=x;\n\t}\n\tfor(int i=head[x];i;i=next[i]){\n\t\tint y=ver[i];\n\t\tif(y==fa)continue;\n\t\tdeep[y]=deep[x]+1;\n\t\tf[y]=x;//\u8bb0\u5f55\u8def\u5f84\uff0c\u8868\u793ay\u7684\u7236\u8282\u70b9\u4e3ax\n\t\tdfs2(y,x);\n\t}\n}\n```\n\n\n\u7136\u540e\u6211\u4eec\u6765\u770b\u9898\u610f\n\n\u8fd9 kk \u5ea7\u57ce\u5e02\u53ef\u4ee5\u901a\u8fc7\u9053\u8def\uff0c\u5728\u4e0d\u7ecf\u8fc7\u5176\u4ed6\u57ce\u5e02\u7684\u60c5\u51b5\u4e0b**\u4e24\u4e24\u76f8\u4e92\u5230\u8fbe**\n\n\u5b9a\u4e49\u67d0\u4e2a\u975e\u6838\u5fc3\u57ce\u5e02\u4e0e\u8fd9k\u5ea7\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u4e3a\uff0c\u8fd9\u5ea7\u57ce\u5e02\u4e0ek\u5ea7\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u7684\u6700\u5c0f\u503c\u3002\u90a3\u4e48\u6240\u6709\u975e\u6838\u5fc3\u57ce\u5e02\u4e2d\uff0c**\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5927\u7684\u57ce\u5e02\uff0c\u5176\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5c0f**\u3002\u4f60\u9700\u8981\u6c42\u51fa\u8fd9\u4e2a\u6700\u5c0f\u503c\u3002\n\n\u663e\u7136\uff0ck\u5ea7\u57ce\u5e02\u7684\u6838\u5fc3\u57ce\u5e02\u4e3a\u76f4\u5f84\u4e2d\u95f4\u90a3\u4e2a\u57ce\u5e02\n\n\u7136\u540e\u7528\u8fd9\u4e2a\u57ce\u5e02\u5411\u4e0b\u641c\u5c31ok\u8fbd\n\n\u7528\u6837\u4f8b\u89e3\u91ca\u4e0b\n\n\u8fd9\u662f\u5df2\u7ecf\u627e\u4e86\u76f4\u5f84\u4e2d\u70b91\u7684\u6811\n\n\u9ed1\u8272\u662fdeep\uff0c\u8868\u793a\u6811\u7684\u6df1\u5ea6\n\n\u7eff\u8272\u8868\u793amaxdeep\uff0c\u8868\u793a\u8fd9\u4e2a\u70b9\u53ef\u4ee5\u5230\u8fbe\u7684\u6700\u6df1\u7684\u6df1\u5ea6\n\n\u5bf9\u4e8e\u8282\u70b9x\uff0c\u79bb\u4ed6\u6700\u8fdc\u7684\u8282\u70b9\u76f8\u8ddd\u663e\u7136\u4e3amaxdeep[x]-deep[x]\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/ocjummj5.png?x-oss-process=image/resize,m_lfit,h_170,w_225)\n\n\u663e\u7136k\u5ea7\u57ce\u5e02\u8981\u53d6\u4e0a\u9762\u7684\n\n\u5373maxdeep[x]-deep[x]\u524dk\u5927\u7684\n\n\u6392\u5e8f\u4e00\u4e0b\n\n\u90a3\u4e48\u5269\u4e0b\u6700\u5927\u8ddd\u79bb\u7684\u6700\u5c0f\u503c\u5c31\u4e00\u4e2a\u4e00\u4e2a\u6bd4\u8f83\u5c31\u597d\u4e86\n```\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<cstdio>\n#include<algorithm>\n#include<vector>\nusing namespace std;\n#define N 100010\nint n,k,zj,num,ans_k;\nint cut,head[N],ver[2*N],next[2*N];\nint deep[N],f[N],maxdeep[N],ans[N];\nbool cmp(int a,int b){\n\treturn a>b;\n}\nvoid add(int x,int y){\n\tver[++cut]=y;next[cut]=head[x];head[x]=cut;\n}\n//\u6c42\u76f4\u5f84\nvoid dfs1(int x,int fa){\n\tif(deep[x]>zj){\n\t\tzj=deep[x];\n\t\tnum=x;\n\t}\n\tfor(int i=head[x];i;i=next[i]){\n\t\tint y=ver[i];\n\t\tif(y==fa)continue;\n\t\tdeep[y]=deep[x]+1;\n\t\tdfs1(y,x);\n\t}\n}\nvoid dfs2(int x,int fa){\n\tif(deep[x]>zj){\n\t\tzj=deep[x];\n\t\tnum=x;\n\t}\n\tfor(int i=head[x];i;i=next[i]){\n\t\tint y=ver[i];\n\t\tif(y==fa)continue;\n\t\tdeep[y]=deep[x]+1;\n\t\tf[y]=x;\n\t\tdfs2(y,x);\n\t}\n}\n//\nvoid dfs_k(int x,int fa){\n\tmaxdeep[x]=deep[x];\n\tfor(int i=head[x];i;i=next[i]){\n\t\tint y=ver[i];\n\t\tif(y==fa)continue;\n\t\tdeep[y]=deep[x]+1;\n\t\tdfs_k(y,x);\n\t\tmaxdeep[x]=max(maxdeep[x],maxdeep[y]);\n\t}\n}\nint main(){\n    scanf(\"%d%d\",&n,&k);\n    for(int i=1;i<n;++i){\n    \tint x,y;\n    \tscanf(\"%d%d\",&x,&y);\n    \tadd(x,y);\n    \tadd(y,x);\n\t}\n    //\u76f4\u5f84\n\tdfs1(1,0);\n\tmemset(deep,0,sizeof(deep));\n\tzj=0;\n\tdfs2(num,0);\n    //\n\tint kkk=num;\n    //\u627e\u76f4\u5f84\u7684\u4e2d\u70b9\n\tfor(int i=1;i<=(deep[num]+1)/2;++i)kkk=f[kkk];\n\tmemset(deep,0,sizeof(deep));\n    //\u518d\u641c\u4e00\u6b21\n\tdfs_k(kkk,0);\n\tfor(int i=1;i<=n;++i)ans[i]=maxdeep[i]-deep[i];\n\tsort(ans+1,ans+n+1,cmp);\n    //QwQ\u7ed3\u5408\u56fe\u7247\u4e0d\u96be\u60f3\n\tfor(int i=k+1;i<=n;++i)ans_k=max(ans_k,ans[i]+1);\n\tprintf(\"%d\\n\",ans_k);\n    return 0;\n}\n```\n\u518d\u6765\u51e0\u9053\u6811\u7684\u76f4\u5f84\u7684\u9898\u76ee\u5427\n\n[P1099 \u6811\u7f51\u7684\u6838](https://www.luogu.org/problem/P1099)\n\n[P3629 [APIO2010]\u5de1\u903b](https://www.luogu.org/problem/P3629)\n\n[P2195 HXY\u9020\u516c\u56ed](https://www.luogu.org/problem/P2195)\n\nQwQ\u52a0\u4e00\u4e2a\u9898\u5355\u5427\n\n[\u4e00\u4e2a\u52a8\u6001\u66f4\u65b0\u7684\u6d1b\u8c37\u7efc\u5408\u9898\u5355](https://studyingfather.blog.luogu.org/luogu-problem-list?tdsourcetag=s_pcqq_aiomsg)",
        "postTime": 1569326282,
        "uid": 103023,
        "name": "AvA_sleeper",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "[P5536 \u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02](https://www.luogu.com.cn/problem/P5536)\n\n\n## \u89e3\u6cd5\n\n\u770b\u4e86\u4e0b\u597d\u50cf\u9898\u89e3\u90fd\u662f\u5199\u4ee5\u76f4\u5f84\u4e3a\u57fa\u7840\u7684\u7b97\u6cd5\uff0c\u6211\u6765\u8bb2\u4e00\u4e0b\u9119\u4eba\u81ea\u5df1\u5bf9\u4e8e\u8fd9\u9053\u9898\u7684\u8ba4\u8bc6\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/vsr4sayg.png)\n\n\u5982\u56fe\uff0c\u8fd9\u662f\u4e00\u9897\u6ee1\u8db3\u9898\u76ee\u8981\u6c42\u7684\u65e0\u6839\u6811\n\n\u8fd9\u65f6\uff0c\u5982\u679c $k=2$ \u90a3\u4e48\u663e\u7136 2 \u53f7\u57ce\u5e02\u548c 4 \u53f7\u57ce\u5e02\u4f1a\u6210\u4e3a\u6838\u5fc3\u57ce\u5e02\uff0c\u539f\u56e0\u662f\u6b64\u65f6\u6240\u6709\u975e\u53f6\u5b50\u8282\u70b9\u90fd\u662f\u975e\u6838\u5fc3\u57ce\u5e02\uff0c\u7b54\u6848\u4e3a 1\u3002\n\n\u90a3\u4e48\u6765\u770b\u770b\u4e0b\u9762\u8fd9\u4e2a\u56fe\uff1a\n![](https://cdn.luogu.com.cn/upload/image_hosting/4m5xd9he.png)\n\n\u5148\u8bbe\u5b83\u7684\u6839\u4e3a 1 \u53f7\u8282\u70b9\u3002\n\n\u8ba9\u6211\u4eec\u770b\u770b $k=13$ \u65f6\u662f\u600e\u6837\u7684\uff0c\u5f88\u660e\u663e\uff0c\u6240\u6709\u7684\u57ce\u5e02\u90fd\u53ef\u4ee5\u6210\u4e3a\u6838\u5fc3\u57ce\u5e02\uff0c\u6240\u4ee5\u7b54\u6848\u4e3a0\u3002\n\n\u90a3\u5f53 $k=7$ \u65f6\u5462\uff08\u6709 6 \u4e2a\u57ce\u5e02\u88ab\u6392\u51fa\u5728\u5916\u65f6\uff09\uff1f\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/n3dtbz8i.png)\n\n\u4f60\u53ef\u4ee5\u8fd9\u6837\uff0c\u6b64\u65f6\u7b54\u6848\u662f1\u4e14\u6700\u4f18\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/xoysopvt.png)\n\n\u4f60\u4e5f\u53ef\u4ee5\u8fd9\u6837\uff0c\u6b64\u65f6\u7b54\u6848\u662f1\u4e14\u6700\u4f18\u3002\n\n\u591a\u753b\u51e0\u4e2a\u56fe\uff0c\u4e0d\u96be\u53d1\u73b0\uff0c\u5f53 $5 \\leq k \\leq 12$ \u65f6\uff0c\u7b54\u6848\u90fd\u662f1\uff0c\u6b64\u65f6\u6240\u6709\u975e\u6838\u5fc3\u57ce\u5e02\u90fd\u6709\u4e00\u4e2a\u5171\u540c\u70b9\uff1a\u90fd\u662f\u53f6\u5b50\u8282\u70b9\uff08\u5982\u4e0b\u56fe\uff09\u3002\n![](https://cdn.luogu.com.cn/upload/image_hosting/q8s6wtlr.png)\n\n\u4e8e\u662f\u6211\u4eec\u5c31\u53ef\u4ee5\u60f3\u5230\u7531\u53f6\u5b50\u8282\u70b9\u4e00\u5c42\u5c42\u5f80\u5185\u63a8\u7edf\u8ba1\u57ce\u5e02\u4e2a\u6570\uff0c\u6700\u540e\u7b54\u6848\u5c31\u662f\u6240\u6709\u975e\u6838\u5fc3\u57ce\u5e02\u7684\u6df1\u5ea6\u7684\u6700\u5927\u503c\uff0c\u8fd9\u91cc\u7684\u6df1\u5ea6\u662f\u7531\u53f6\u5b50\u8282\u70b9\u4e3a\u4e3a\u7b2c\u4e00\u5c42\u5f80\u6839\u4e0a\u63a8\u7684\uff0c\u800c\u6839\u662f\u4ec0\u4e48\u6839\u672c\u65e0\u6240\u8c13\u3002\n\n\u7528\u62d3\u6251\u6392\u5e8f\u5373\u53ef\u60f3\u6cd5\u5f88\u50cf\u3002\n\n## \u4ee3\u7801\n\n```cpp\n# include <bits/stdc++.h>\nusing namespace std;\n\nconst int maxn = 100005;\nconst int maxe = 200005;\n\nstruct reader {\n\ttemplate <typename Type>\n\treader&operator>> (Type&ret) {\n\t\tregister int f = 1; ret = 0; register char ch = getchar ();\n\t\tfor (;!isdigit (ch); ch = getchar ()) if (ch=='-') f=-f;\n\t\tfor (; isdigit (ch); ch = getchar ()) ret = (ret << 1) + (ret << 3) + ch - '0';\n\t\tret *= f; return *this;\n\t}\n}fin;\n\nint N, K, x, y, du[maxn], ans;\nint lnk[maxn], nxt[maxe], son[maxe], tot;\nvoid add_e (register int x, register int y) {\n\tson[++tot] = y; nxt[tot] = lnk[x];\n\tlnk[x] = tot; du[y]++; return;\n} // \u90bb\u63a5\u8868\u5b58\u56fe\nint que[maxn], dep[maxn], L, R; bool vis[maxn];\n//\u8fd9\u91cc\u7684\u53d8\u91cf\u548c\u6570\u7ec4\u90fd\u662f\u5b57\u9762\u610f\u601d\uff0c\u521d\u4e2d\u7684\u6559\u7ec3\u4e00\u76f4\u8981\u6c42\u4ee3\u7801\u8981\u53ef\u4ee5\u671b\u6587\u751f\u4e49\nvoid topo () {\n\twhile (L ^ R) {\n\t\tL++;\n\t\tfor (register int j = lnk[que[L]]; j; j = nxt[j]) {\n\t\t\tif (--du[son[j]] != 1) continue\n\t\t\tif (vis[son[j]]) continue; vis[son[j]] = true;\n\t\t\tdep[son[j]] = dep[que[L]] + 1; ans = max (ans, dep[son[j]]);\n\t\t\t//\u8fd9\u91cc\u968f\u65f6\u5237\u65b0 ans \u7684\u6700\u5927\u503c\n\t\t\tque[++R] = son[j]; K--; if (K < 1) return;\n\t\t}\n\t}\n\treturn;\n} //\u5176\u4ed6\u7684\u5c31\u662f\u666e\u901a\u7684 topo \u5199\u6cd5\u4e86\n\nint main () {\n\tfreopen(\"P5536.in\",\"r\",stdin);\n\tfreopen(\"P5536.out\",\"w\",stdout);\n\tfin >> N >> K; K = N - K; // \u5c06 K \u7684\u542b\u4e49\u8f6c\u4e3a\u975e\u6838\u5fc3\u57ce\u5e02\u7684\u4e2a\u6570\n\tfor (register int i = 2; i <= N; i++) {\n\t\tfin >> x >> y;\n\t\tadd_e (x, y); add_e (y, x);\n\t}\tL = R = 0; ans = 0; // \u5efa\u56fe\n\tfor (register int i = 1; i <= N; i++) if (du[i] == 1 && K >= 1)\n\tque[++R] = i, vis[i] = true, K--, ans = 1, dep[i] = 1;\n\t//\u8fd9\u4e00\u5757\u539f\u672c\u662f\u5e94\u8be5\u653e\u5728topo\u51fd\u6570\u4e2d\u7684\uff0c\u4f46\u662f\u56e0\u4e3a\u52a0\u4e86\u4e2a\u7279\u5224\uff0c\u6240\u6709\u5199\u5728\u4e3b\u51fd\u6570\u91cc\n\tif (K) topo (); cout << ans << endl;\n\treturn 0;\n}\n```\n\n\u6700\u540e\uff0c\u5b89\u5229\u4e00\u6ce2[\u8fd9\u4e2a\u753b\u56fe\u7f51\u7ad9\uff0c\u771f\u7684\u8d85\u7ea7\u597d](https://csacademy.com/app/graph_editor/)\uff01",
        "postTime": 1615175257,
        "uid": 189351,
        "name": "wheneveright",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5536 \u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02"
    },
    {
        "content": "\u6211\u53d1\u73b0\u4e86\u4e00\u79cd\u5947\u5947\u602a\u602a\u7684\u505a\u6cd5\n\n\u5927\u4f6c\u4eec\u90fd\u7528\u7684\u662f\u6811\u7684\u76f4\u5f84\uff0c\u8003\u8651\u9009\u51fa\u8fd9k\u4e2a\u57ce\u5e02\n\n\u672c\u849f\u84bb\u505a\u9898\u65f6\u4ece\u53cd\u9762\uff0c\u4e5f\u5c31\u662f\u5269\u4e0b\u7684n-k\u4e2a\u57ce\u5e02\u51fa\u53d1\u601d\u8003\n\n\u7528du\u3010i\u3011\u8868\u793a\u4e0ei\u53f7\u70b9\u76f8\u8fde\u7684\u8fb9\u6570\uff0c\u6bcf\u6b21\u53d6du\u4e3a1\u7684\u70b9\u4f5c\u4e3an-k\u4e2a\u57ce\u5e02\u4e4b\u4e00\uff0c\u7136\u540e\u518d\u4ece\u8fd9\u4e2a\u70b9\u51fa\u53d1\u66f4\u65b0\u4e0e\u4e4b\u76f8\u8fde\u7684\u57ce\u5e02\u7684du\uff0c\u77e5\u9053\u53d6\u5b8cn-k\u4e2a\u57ce\u5e02\n\n\u5c31\u6709\u70b9\u7c7b\u4f3c\u62d3\u8865\u6392\u5e8f\u7684\u6837\u5b50\u3002\u3002\uff08\u5b9e\u5728\u662f\u592a\u83dc\u4e86\u6ca1\u60f3\u5230\u6811\u7684\u76f4\u5f84\uff09\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define fir(a, b, c) for(register int a = b; a <= c; a ++)\n#define ll long long\nusing namespace std;\n\ninline int read(){\n\tint x = 0; bool flag = 1; char c = getchar();\n\tfor(; !isdigit(c); c = getchar())  if(c == '-') flag = 0;\n\tfor(; isdigit(c); c = getchar()) x = x * 10 + c - '0';\n\treturn flag ? x : -x;\n}\n\nqueue <int> q1, q2; \nconst int N = 5e5 + 10;\nint n, k, head[N], ans;\nstruct node {\n\tint v, nxt;\n}edge[N];\n\nint tot = 0;\ninline void add(int x, int y) {\n\ttot ++;\n\tedge[tot].v = y;\n\tedge[tot].nxt = head[x];\n\thead[x] = tot;\n}\n\nint du[N];\n\nint main(){\n\t//freopen(\".in\",\"r\",stdin);\n\t//freopen(\".out\",\"w\",stdout);\n\tn = read(); k = read();\n\tfir (i, 1, n) head[i] =-1;\n\tfir (i, 1, n-1) {\n\t\tint x, y;\n\t\tx = read(); y = read();\n\t\tadd(x, y); add(y, x);\n\t\tdu[x] ++; du[y] ++;\n\t}\n\tint sum = n;\n\tfir (i, 1, n) {\n\t\tif (du[i] == 1) {\n\t\t\tq1.push(i);\n\t\t\tdu[i] --;\n\t\t}\n\t}\n\twhile(sum > 0) {\n\t\tans ++;\n\t\twhile (!q1.empty()) {\n\t\t\tint x = q1.front();\n\t\t\tq1.pop();\n\t\t\tsum --;\n\t\t\tif (sum ==  k) {\n\t\t\t\tcout<<ans<<endl;\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tfor (int i = head[x]; i != -1; i = edge[i].nxt) {\n\t\t\t\tint y = edge[i].v;\n\t\t\t\tdu[y] --;\n\t\t\t\tif (du[y] == 1) q2.push(y);\n\t\t\t}\n\t\t}\n\t\tswap(q1, q2);\n\t}\n\treturn 0;\n}\n\n\n\n```\n",
        "postTime": 1598279600,
        "uid": 51871,
        "name": "\u795e\u4e4b\u849f\u84bbxyk",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u653e$n-k$\u4e2a\u8282\u70b9\u7136\u540e\u4f7f\u6df1\u5ea6\u6700\u5927\u7684\u6700\u5c0f\n\n\n\n\u4e00\u5f00\u59cb\u7684\u65f6\u5019\u53ef\u4ee5\u53cd\u8fc7\u6765\u60f3\uff1a\u6811\u91cc\u9762\u957f\u5ea6\u6700\u5927\u7684\u8def\u5f84\u5c31\u662f\u6811\u7684\u76f4\u5f84\uff0c\u5b83\u7684\u4e24\u4e2a\u7aef\u70b9\u7684\u5ea6\u90fd\u662f$1$\uff08\u4e5f\u5c31\u662f\u53f6\u5b50\u8282\u70b9\uff09\n\n\n\n\u6211\u4eec\u53ef\u4ee5\u4ece\u6bcf\u4e2a\u53f6\u5b50\u7ed3\u70b9\u5f00\u59cb\uff0c\u5411\u4e2d\u5fc3\u5305\u56f4\u3002\u53ef\u4ee5\u7528\u961f\u5217\u7684\u65b9\u5f0f\u5b9e\u73b0\u3002\n\n\uff08\u4ee3\u7801\u5f88\u77ed\uff09\n\n```cpp\n#include<bits/stdc++.h>\nnamespace ZDY{\n    #pragma GCC optimize(3)\n    #define il __inline__ __attribute__ ((always_inline))\n    #define rg register\n    #define ll long long\n    #define ull unsigned long long\n    #define db double\n    #define sht short\n    #define MB template <class T>il\n    #define Fur(i,x,y) for(int i=x;i<=y;++i)\n    #define Fdr(i,x,y) for(int i=x;i>=y;--i)\n    #define fl(i,x) for(int i=head[x],to;to=e[i].to,i;i=e[i].nxt)\n    #define clr(x,y) memset(x,y,sizeof(x))\n    #define cpy(x,y) memcpy(x,y,sizeof(x))\n    #define fin(s) freopen(s\".in\",\"r\",stdin)\n    #define fout(s) freopen(s\".out\",\"w\",stdout)\n    #define fcin ios::sync_with_stdio(false)\n    #define l2(n) (int(log2(n)))\n    #define inf 0x3f3f3f3f\n    MB T ABS(T x){return x>0?x:-x;}\n    MB T MAX(T x,T y){return x>y?x:y;}\n    MB T MIN(T x,T y){return x<y?x:y;}\n    MB T GCD(T x,T y){return y?GCD(y,x%y):x;}\n    MB void SWAP(T &x,T &y){T t=x;x=y;y=t;}\n}using namespace ZDY;using namespace std;\nnamespace IO{const char* ln=\"\\n\";const int str=1<<20;struct IN{char buf[str],*s,*t;bool _;IN():s(buf),t(buf),_(0){}il char gc(){return s==t&&((t=(s=buf)+fread(buf,1,str,stdin))==s)?EOF:(*s++);}IN&operator>>(char&ch){if(_)return *this;char c;while((c=gc())!=EOF&&isspace(c));if(c==EOF)_=1;else ch=c;return *this;}IN& operator>>(char* ch){clr(ch,0);if(_)return *this;char c;while((c=gc())!=EOF&&isspace(c));if(c==EOF)return _=1,*this;*ch=c;ch++;while((c=gc())!=EOF&&!isspace(c))*ch=c,ch++;if(c==EOF)_=1;return *this;}IN& operator>>(string& ch){if(_)return *this;char c;while((c=gc())!=EOF&&isspace(c));if(c==EOF)return _=1,*this;ch+=c;while((c=gc())!=EOF&&!isspace(c))ch+=c;if(c==EOF)_=1;return *this;}template<typename T>IN&operator>>(T&x){if(_)return *this;char c=gc();bool ff=0;while(c!=EOF&&(c<'0'||c>'9'))ff^=(c=='-'),c=gc();if(c==EOF){_=1;return *this;}x=0;while(c!=EOF&&'0'<=c&&c<='9')x=(x<<3)+(x<<1)+c-48,c=gc();if(c==EOF)_=1;if(ff)x=-x;return *this;}}in;struct OUT{char buf[str],*s,*t;OUT():s(buf),t(buf+str){}~OUT(){fwrite(buf,1,s-buf,stdout);}void pt(char c){(s==t)?(fwrite(s=buf,1,str,stdout),*s++=c):(*s++=c);}OUT&operator<<(const char*s){while(*s)pt(*s++);return *this;}OUT&operator<<(char*s){while(*s)pt(*s++);return *this;}OUT&operator<<(string s){for(int i=0;s[i];i++)pt(s[i]);return *this;}template<typename T>OUT&operator<<(T x){if(!x)return pt('0'),*this;if(x<0)pt('-'),x=-x;char a[30],t=0;while(x)a[t++]=x%10,x/=10;while(t--)pt(a[t]+'0');return *this;}}out;}using namespace IO;\n#define N 100001\nint n,cnt(0),k,head[N],q[N],c[N],d[N];\nstruct edge{\n\tint to,nxt;\n}e[N*2];\nil void add(int x,int y){\n\te[++cnt].to=y;e[cnt].nxt=head[x];head[x]=cnt;\n}\nint main(){\n\tfin(\"in\");\n\tin>>n>>k;\n\tint x,y;\n\tFur(i,1,n-1)\n\t\tin>>x>>y,\n\t\tadd(x,y),add(y,x),c[x]++,c[y]++;\n\t\n\tint h=0,t=0,cnt=n-k;\n\tFur(i,1,n)if(c[i]==1)q[t++]=i,d[i]=1;\n\twhile(h<t){\n\t\tx=q[h++];\n\t\tif(!--cnt)return out<<d[x]<<ln,0;\n\t\tfl(i,x)if(--c[to]==1)\n\t\t\td[to]=d[x]+1,q[t++]=to;\n\t}\n}\n```",
        "postTime": 1568614812,
        "uid": 36532,
        "name": "localhost",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "\u6211\u4eec\u77e5\u9053\uff0c\u76f4\u5f84\u662f\u6811\u91cc\u9762\u6700\u957f\u7684\u8def\u5f84\u3002\n\n\u8981\u60f3\u627e\u5230k\u4e2a\u70b9\uff0c\u8fd9k\u4e2a\u70b9\u4e2d\u5fc5\u7136\u6709\u76f4\u5f84\u7684\u4e2d\u70b9\u3002\n\n\u7136\u540e\u6211\u4eec\u4ee5\u8fd9\u4e2a\u76f4\u5f84\u7684\u4e2d\u70b9\u4e3a\u6839\uff0c\u628a\u5176\u4ed6\u8282\u70b9\u6309\u7167`\u4ee5\u8fd9\u4e2a\u8282\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u4e2d\u8282\u70b9\u7684\u6700\u5927\u6df1\u5ea6-\u8fd9\u4e2a\u70b9\u7684\u6df1\u5ea6`\u6392\u5e8f\n\n\u9009\u524d$k-1$\u4e2a\u8282\u70b9\uff0c\u6613\u8bc1\u5b83\u4eec\u4e92\u76f8\u8fde\u901a\n\n\u4ee3\u7801\u8f83\u4e11\uff0c\u52ff\u55b7qwq\n\n```cpp\n#include <bits/stdc++.h>\n\nusing namespace std;\n\nstruct edge {\n\tint t, nxt;\n} e[200010];\n\nstruct qwqqwq {\n\tint a, b;\n} qwqwqwq[100010];\n\nbool cmp(qwqqwq a, qwqqwq b) {\n\treturn a.a > b.a;\n}\n\nint head[100010], ep, dis[100010], father[100010], n, k, maxdis[100010], vis[100010], cnt, qqwq[100010];\n// queue < int > q;\n\nvoid add_edge(int s, int t) {\n\tep++;\n\te[ep].t = t;\n\te[ep].nxt = head[s];\n\thead[s] = ep;\n}\n\nvoid dfs1(int now, int fa) {\n\tfor(int i = head[now]; i; i = e[i].nxt) {\n\t\tif(e[i].t == fa) continue;\n\t\tdis[e[i].t] = dis[now] + 1;\n\t\tdfs1(e[i].t, now);\n\t}\n}\n\nvoid dfs2(int now, int fa) {\n\tfor(int i = head[now]; i ; i = e[i].nxt) {\n\t\tif(e[i].t == fa) continue;\n\t\tfather[e[i].t] = now;\n\t\tdis[e[i].t] = dis[now] + 1;\n\t\tdfs2(e[i].t, now);\n\t}\n}\n\nvoid dfs3(int now, int fa) {\n\tmaxdis[now] = dis[now];\n\tfor(int i = head[now]; i; i = e[i].nxt) {\n\t\tif(e[i].t == fa) continue;\n\t\tdis[e[i].t] = dis[now] + 1; \n\t\tfather[e[i].t] = now;\n\t\tdfs3(e[i].t, now);\n\t\tmaxdis[now] = max(maxdis[now], maxdis[e[i].t]);\n\t} \n}\n\nint main() {\n\tcin >> n >> k;\n\tfor(int i = 1; i < n; i++) {\n\t\tint s, t;\n\t\tcin >> s >> t;\n\t\tadd_edge(s, t);\n\t\tadd_edge(t, s); \n\t}\n\tdfs1(1, 0);\n\tint qwq = 0, pwp = 1;\n\tfor(int i = 1; i <= n; i++) {\n\t\tif(dis[i] > qwq) {\n\t\t\tpwp = i, qwq = dis[i];\n\t\t}\n\t}\n\tmemset(dis, 0, sizeof(dis));\n\tdfs2(pwp, 0);\n\tint qvq = 0; qwq = 1;\n\tfor(int i = 1; i <= n; i++) {\n\t\tif(dis[i] > qvq) {\n\t\t\tqwq = i, qvq = dis[i];\n\t\t}\n\t}\n\tint pos1 = qwq;\n\tfor(int i = 1; i <= (dis[qwq] + 1) / 2; i++) {\n\t\tpos1 = father[pos1];\n\t}\n\tmemset(father, 0, sizeof(father));\n\tmemset(dis, 0, sizeof(dis));\n\tdfs3(pos1, 0);\n\t// q.push(qwq);\n\tfor(int i = 1; i <= n; i++) {\n\t\tqwqwqwq[i].a = maxdis[i] - dis[i];\n\t\t//cout << qwqwqwq[i].a << endl;\n\t\tqwqwqwq[i].b = i;\n\t\tqqwq[i] = qwqwqwq[i].a;\n\t}\n\tsort(qwqwqwq + 1, qwqwqwq + n + 1, cmp);\n\tfor(int i = 1; i <= k; i++) {\n\t\tvis[qwqwqwq[i].b] = 1;\n\t}\n\t// cout << pos1 << endl;\n\tint ans = 0; \n\tfor(int i = 1; i <= n; i++) {\n\t\tif(!vis[i]) ans = max(qqwq[i] + 1, ans);\n\t}\n\tcout << ans << endl;\n\treturn 0;\n}\n```\n\n\u8bf4\u53e5\u95f2\u8bdd\uff1a\u968f\u673a\u62bd\u5230\u7684\u7b2c85\u540d\u6709\u5956\u54c1\uff0c\u7ed3\u679c\u6211\u8fd9\u4e2a\u8521\u9e21\u7b2c86\u540dQAQ",
        "postTime": 1567157858,
        "uid": 108185,
        "name": "Acanthe",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "\u9996\u5148\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u4ec0\u4e48\u662f\u6811\u7684\u76f4\u5f84,\u7b80\u5355\u6765\u8bf4\u76f4\u5f84\u5c31\u662f\u6811\u4e2d**\u6700\u957f\u4e00\u6761\u8def\u5f84**(\u4e0d\u552f\u4e00)\n\n\u81f3\u4e8e\u6c42\u76f4\u5f84\u6211\u8fd9\u91cc\u662f\u7528@e_e_thinker\u5927\u4f6c\u7684\u65b9\u6cd5,\u5148\u4ece\u4efb\u610f\u70b9\u641c\u7d22\u641c\u5230\u7684\u6700\u8fdc\u70b9\u4f4d\u76f4\u5f84\u7684\u4e00\u7aef,\u518d\u91cd\u4e00\u6bb5\u5f00\u59cb\u641c\u641c\u5230\u7684\u6700\u8fdc\u70b9\u5373\u4e3a\u53e6\u4e00\u7aef,\u518d\u627e\u5b8c\u6574\u8def\u5f84\u5c31\u53ef\u4ee5\u4e86\n\n\u6ce8\u610f\u5230\u6700\u957f\u8def\u5f84,\u6211\u4eec\u518d\u770b\u770b\u9898\u76ee\u8981\u6c42\u6211\u4eec**\u4f7f\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5927\u7684\u57ce\u5e02**\uff0c\u5176\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684**\u8ddd\u79bb\u6700\u5c0f**\n\n###### (\u6ce8:\u4e0b\u6587\u5982\u679c\u51fa\u73b0\u7c7b\u4f3c\u4e00\u4e2a\u70b9\u5230\u591a\u4e2a\u70b9\u7684\u8ddd\u79bb,\u6307\u4e00\u4e2a\u70b9\u5230\u591a\u4e2a\u70b9\u7684\u8ddd\u79bb\u4e2d\u7684\u6700\u5927\u503c)\n\n\u7531\u4e8e\u76f4\u5f84\u662f\u6700\u957f\u7684\u8def\u5f84,\u6211\u4eec\u53ef\u4ee5\u5148\u8003\u8651\u89e3\u51b3\u5b83,\u90a3\u4e48\u6211\u4eec\u9996\u5148\u6765\u770b\u90a3\u4e2a\u70b9\u4f5c\u4e3a\u6838\u5fc3\u57ce\u5e02\u53ef\u4ee5\u4f7f\u76f4\u5f84\u7684\u4e24\u7aef\u70b9\u5230\u5176\u7684\u8ddd\u79bb\u7684\u8f83\u5927\u503c\u6700\u5c0f,\u4e0d\u96be\u77e5\u9053\u662f\u76f4\u5f84\u7684\u4e2d\u70b9(\u76f4\u5f84\u7684\u4e2d\u70b9,\u5982\u679c\u76f4\u5f84\u4e0a\u67091~n\u53f7\u8282\u70b9,**n\u4e3a\u5947\u6570\u65f6,\u4e2d\u70b9\u4e3a(n+1)/2\u53f7,\u4e3a\u5076\u6570\u65f6\u4e3a(n/2)\u53f7**)\n\n\u7136\u540e\u6211\u4eec\u518d\u6765\u770b\u5176\u4ed6\u70b9\u5230\u4e2d\u70b9\u7684\u8ddd\u79bb,\u7531\u4e8e\u76f4\u5f84\u7684\u5b9a\u4e49\u5176\u4ed6\u70b9\u5230\u4e2d\u70b9\u7684\u8ddd\u79bb\u4e00\u5b9a\u4e0d\u5927\u4e8e\u76f4\u5f84\u4e24\u7aef\u5230\u4e2d\u70b9\u7684\u8ddd\u79bb(\u56e0\u4e3a\u5982\u679c\u5927\u4e8e,\u5c31\u4e00\u5b9a\u80fd\u627e\u5230\u4e00\u6761\u6bd4\u76f4\u5f84\u66f4\u957f\u7684\u8def\u5f84,\u5982\u4e0b\u56fe)\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g5qqmxdh.png)\n\n\n\u6240\u4ee5\u76f4\u5f84\u4e2d\u70b9\u4e00\u5b9a\u662f\u6838\u5fc3\u57ce\u5e02(\u5176\u4ed6\u70b9\u5230\u76f4\u5f84\u4e24\u7aef\u7684\u5927\u4e8e\u76f4\u5f84\u4e2d\u70b9),\u7531\u9898\u610f\u5f97\u5176\u4ed6\u6838\u5fc3\u57ce\u5e02\u4e00\u5b9a\u548c\u4e2d\u70b9\u76f8\u8fde,\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5**\u4ee5\u4e2d\u70b9\u4e3a\u6839\u5efa\u4e00\u9897\u6709\u6839\u6811**(\u4ee3\u7801\u4e2d\u53ea\u662f\u6539\u53d8\u4e86\u641c\u7d22\u7684\u8d77\u70b9\u7f62\u4e86)\n\n\u6211\u4eec\u5148\u6765\u770b\u9898\u76ee\u4e2d\u7684\u4e00\u53e5\u8bdd,\u5b9a\u4e49\u67d0\u4e2a\u975e\u6838\u5fc3\u57ce\u5e02\u4e0e\u8fd9k\u5ea7\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u4e3a\uff0c\u8fd9\u5ea7\u57ce\u5e02**\u4e0ek\u5ea7\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u7684\u6700\u5c0f\u503c**\u3002\n\n###### warning:\u540e\u9762\u53ef\u80fd\u4f1a\u6709\u70b9\u7ed5,\u53ef\u4ee5\u76f4\u63a5\u770b\u7ed3\u8bba\u52a0\u56fe\u98df\u7528\n\n\u5efa\u6811\u6709\u4ec0\u4e48\u7528\u5462,\u4e00\u5f00\u59cb\u6211\u4eec\u53ea\u786e\u5b9a\u4e86\u4e00\u4e2a\u6838\u5fc3\u57ce\u5e02,\u5c31\u662f\u76f4\u5f84\u7684\u4e2d\u70b9(\u6839),\u7531\u4e8e\u6838\u5fc3\u57ce\u5e02\u90fd\u662f\u76f8\u90bb\u7684,\u6240\u4ee5\u91cc\u6838\u5fc3\u57ce\u5e02\u6700\u8fdc\u7684\u8282\u70b9\u4e00\u5b9a\u662f\u53f6\u5b50\u8282\u70b9(\u53ef\u4ee5\u753b\u56fe\u770b\u770b),\u6839\u636e\u5b9a\u4e49,\u4e14\u5176\u5230\u6838\u5fc3\u57ce\u5e02\u7684**\u8ddd\u79bb**\u4e00\u5b9a\u662f\u5176**\u5230\u5b83\u7b2c\u4e00\u4e2a\u4e3a\u6838\u5fc3\u57ce\u5e02\u7684\u7956\u5148\u8282\u70b9\u7684\u8ddd\u79bb**,\u7531\u4e8e\u6811\u4e0a\u8def\u5f84\u957f\u4e3a1,\u6240\u4ee5\u8ddd\u79bb\u4e5f\u5c31\u662f**\u5b83\u7684\u6df1\u5ea6\u51cf\u4e00\u4e2a\u4e3a\u6838\u5fc3\u57ce\u5e02\u7684\u7956\u5148\u8282\u70b9\u7684\u6df1\u5ea6**\n\n\u6240\u4ee5\u5982\u679c\u4e00\u4e2a\u975e\u6838\u5fc3\u57ce\u5e02\u4ed6\u5230\u5b83\u5f80\u4e0b\u8d70\u5230\u7684\u53f6\u5b50\u8282\u70b9\u7684\u8ddd\u79bb\u5f88\u5927,\u90a3\u4e48\u5b83\u4e00\u5b9a\u8981\u4f5c\u4e3a\u6838\u5fc3\u57ce\u5e02(**\u5982\u679c\u4e0d\u505a,\u90a3\u4e2a\u53f6\u5b50\u8282\u70b9\u5230\u5176\u4ed6\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u66f4\u5927**)\n\n\u6240\u4ee5\u5f97\u51fa**\u7ed3\u8bba**\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u6bcf\u4e2a\u975e\u6838\u5fc3\u57ce\u5e02\u5230**\u53ef\u4ee5\u5230\u8fbe\u7684\u6700\u6df1\u53f6\u5b50\u8282\u70b9\u7684\u6df1\u5ea6\u51cf\u5176\u81ea\u8eab\u7684\u6df1\u5ea6**\u7684\u503c$k[i]$\u8fdb\u884c\u6392\u5e8f,\u503c\u5927\u7684\u4f18\u5148\u6210\u4e3a\u6838\u5fc3\u57ce\u5e02(\u6613\u8bc1\u503c\u4ece\u5927\u5230\u5c0f\u52a0\u5165\u6838\u5fc3\u57ce\u5e02\u4ed6\u4eec\u90fd\u662f\u76f8\u8fde\u7684),\u7136\u540e\u7b54\u6848\u5c31\u662f\u6700\u5927\u975e\u6838\u5fc3\u57ce\u5e02$j$\u7684$k[j]$+1(\u56e0\u4e3a$k[j]$\u6700\u5927,\u6240\u4ee5\u5b83\u4e00\u5b9a\u548c\u6838\u5fc3\u57ce\u5e02\u76f8\u8fde,\u5b83\u5230\u5176\u6700\u8fdc\u53f6\u8282\u70b9\u7684\u8ddd\u79bb\u4e3a$k[j]$\u90a3\u548c\u5b83\u76f8\u8fde\u7684\u6838\u5fc3\u57ce\u5e02\u5230\u4e5f\u8282\u70b9\u7684\u8ddd\u79bb\u4e3a$k[j]+1$),\u5982\u56fe\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/cw5u2q3j.png)\n\n\n\u5177\u4f53\u770b\u4ee3\u7801\u5427\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nconst int N=2e6+5;\nint n,k,zj[N],yd,zjs,maxn,ryd,ft[N],nx[N],to[N],gx[N];//zj[i]\u4e3a\u76f4\u5f84\u8def\u5f84\u4e0ai\u7b2ci\u70b9,n,k\u770b\u9898\u76ee,yd\u4e3a\u4e00\u7aef,ryd\u4e3a\u53e6\u4e00\u7aef(lyd???),ft,nx,to\u5efa\u56fe,gx[i]\u4e3a\u4e0a\u6587\u7684k[i]\nint cnt;//add\u51fd\u6570\u7528\nstruct hh{int dep,mep;}d[N];\nvoid f1(int,int,int);\nvoid f2(int,int,int);\nbool f3(int,int,int);\nvoid add(int,int);\nint fd(int x,int sd,int f)//f\u4e3a\u9632\u6b62\u5f80\u7236\u4eb2\u8282\u70b9\u91cd\u590d\u8d70\n{\n\td[x].dep=sd;\n\tint b=0;bool ok=0;\n\tfor(int i=ft[x];i;i=nx[i]) if(to[i]!=f) ok=1,b=max(b,fd(to[i],sd+1,x));//\u6700\u5927\u6df1\u5ea6\n\tif(!ok) b=sd;//\u5982\u679c\u6ca1\u8def\u8d70(\u53f6\u8282\u70b9),\u53ef\u4ee5\u8d70\u5230\u7684\u6700\u5927\u6df1\u5ea6\u4e3a\u81ea\u751f\n\td[x].mep=b;\n\treturn b;\n}\nint cmp(int s1,int s2){return s1>s2;}//\u4ece\u5927\u5230\u5c0f\ninline int read()\n{\n    char c=getchar();int sum=0,f=1;\n    while(!(c>='0'&&c<='9')) {if(c=='-') f=-1;c=getchar();}\n    while(c>='0'&&c<='9') {sum=((sum<<1)+(sum<<3))+(c-'0');c=getchar();}\n    return sum*f;\n}\nint main()\n{\n\tn=read();k=read();\n\tfor(int i=1;i<n;i++)\n\t{\n\t\tint x=read(),y=read();\n\t\tadd(x,y);add(y,x);\n\t}\n\tf1(1,1,0);//\u7b2c\u4e00\u6b21\u641c\n\tmaxn=0;//\u7531\u4e8emaxn\u662f\u516c\u7528\u7684,\u6240\u4ee5\u8981\u6e05\u96f6\n\tf2(yd,1,0);//\u7b2c\u4e8c\u6b21\n\tmaxn=0;\n\tf3(yd,1,0);//\u627e\u76f4\u5f84\u7684\u5b8c\u6574\u8def\u5f84\n\tfd(zj[(zjs+1)/2],1,0);//\u4ece\u4e2d\u70b9\u5f00\u59cb\u6c42\u53ef\u4ee5\u5230\u8fbe\u7684\u6700\u6df1\u53f6\u5b50\u8282\u70b9\u7684\u6df1\u5ea6\u548c\u5176\u81ea\u8eab\u7684\u6df1\u5ea6\n\tfor(int i=1;i<=n;i++) gx[i]=d[i].mep-d[i].dep;//\u6c42gx\n\tsort(gx+1,gx+n+1,cmp);//\u6392\u5e8f\n\tint ans=0;\n\tfor(int i=k+1;i<=n;i++) ans=max(ans,gx[i]+1);//\u975e\u6838\u5fc3\u57ce\u5e02\u91cc\u627e\u6700\u5927\u503c\n\tprintf(\"%d\\n\",ans);\n\treturn 0;\n}\nvoid f1(int x,int st,int f)\n{\n    bool ok=0;\n\tfor(int i=ft[x];i;i=nx[i]) if(to[i]!=f) ok=1,f1(to[i],st+1,x);\n\tif(!ok) //\u5982\u679c\u6ca1\u8def\u8d70,\u5224\u65ad\u662f\u4e0d\u662f\u6700\u5927\u503c\n\t{\n\t\tif(st>maxn) yd=x,maxn=st;\n\t\treturn;\n\t}\n\treturn;\n}\nvoid f2(int x,int st,int f)\n{\n\tbool ok=0;\n\tfor(int i=ft[x];i;i=nx[i])\n\t{\n\t  if(to[i]!=f) ok=1;\n    }\n\tif(!ok) //\u5982\u679c\u6ca1\u8def\u8d70,\u5224\u65ad\u662f\u4e0d\u662f\u6700\u5927\u503c\n\t{\n\t\tif(st>maxn) ryd=x,maxn=st;\n\t\treturn;\n\t}\n\tfor(int i=ft[x];i;i=nx[i]) if(to[i]!=f) f2(to[i],st+1,x);\n\treturn;\n}\nbool f3(int x,int st,int f)//\u7528bool\u7684\u539f\u56e0\u770b\u4e0b\u9762\n{\n\tif(x==ryd)\n\t{\n\t\tzj[st]=x;\n\t\tzjs=st;\n\t\treturn 1;//\u8d70\u5230\u53e6\u4e00\u7aef\u8fd4\u56de1\n\t}\n\tfor(int i=ft[x];i;i=nx[i])\n\tif(to[i]!=f)\n\tif(f3(to[i],st+1,x))//\u5982\u679c\u8fd4\u56de1\u8bf4\u660e\u8fd9\u6837\u8d70\u53ef\u4ee5\u8d70\u5230\u53e6\u4e00\u7aef,\u53ef\u4ee5\u8bb0\u5f55\u8def\u5f84,\u8fd9\u6837\u5c31\u4e0d\u5bb9\u6613\u8bb0\u9519\n\t{\n\t\tzj[st]=x;//\u8bb0\u5f55\n\t\treturn 1;//\u8fd4\u56de1\n\t}\n\treturn 0;//\u600e\u4e48\u90fd\u627e\u4e0d\u5230\u8fd4\u56de0\n}\nvoid add(int x,int y)\n{\n    nx[++cnt]=ft[x];\n    ft[x]=cnt;\n    to[cnt]=y;\n    return ;\n}\n```\n\n\n\n",
        "postTime": 1584778505,
        "uid": 199270,
        "name": "Y_B_Y",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "### Preface\n\nCSP AFO \u9009\u624b\u62a5\u5230\uff0c\u505a\u9053\u6811\u8bba\u9898\u5e73\u590d\u4e0b\u5fc3\u60c5~~\u5dee\u70b9\u964d\u667a\u81ea\u95ed~~\u3002\n\n### Solution\n\n\u9898\u76ee\u8981\u6c42\u6700\u5927\u503c\u7684\u6700\u5c0f\u503c\uff0c\u50cf\u6781\u4e86\u4e8c\u5206\u7684\u5957\u8def\u3002\u673a\u623f\u540c\u5b66\u53e3\u80e1\u4e86\u4e00\u4e0b\u8c8c\u4f3c\u53ef\u505a\u3002\u4e0d\u591f\u7ec6\u8282\u548c\u5b9e\u73b0\u7565\u96be\u4e5f\u6ca1\u7801\uff0c\u7559\u7ed9\u8bfb\u8005\u601d\u8003\u3002\n\n\u4e0d\u8fc7\u4e8c\u5206\u7684\u89e3\u6cd5\u662f\u9488\u5bf9\u4e8e\u8fb9\u6743\u4efb\u610f\u7684\uff0c\u4f46\u8fd9\u9898\u8fb9\u6743\u5747\u4e3a $1$\uff0c\u56e0\u6b64\u5e94\u8be5\u6709\u4e9b\u5f88\u597d\u7684\u6027\u8d28\u3002\n\n\u4ece\u66f4\u597d\u7684\u89d2\u5ea6\u5207\u5165\u627e\u601d\u8def\uff0c\u56e0\u6b64\u907f\u5f00\u4e86\u6811\u7684\u76f4\u5f84\uff0c\u4e5f\u5c31\u662f\u76f4\u63a5\u601d\u8003 $k$ \u4e2a\u6838\u5fc3\u57ce\u5e02\u7684\u7b56\u7565~~\u8fd9\u5bf9\u6211\u6765\u8bf4\u6b63\u786e\u6027\u548c\u52a8\u673a\u4e0d\u592a\u663e\u7136~~\u3002\n\n\u601d\u8003\u5bf9\u4e8e\u8fd9 $n-k$ \u4e2a\u975e\u6838\u5fc3\u57ce\u5e02\u5bf9\u4e8e\u7b54\u6848\u7684\u8d21\u732e\u3002\u663e\u7136\uff0c\u6bcf\u6b21**\u4ece\u53f6\u5b50\u8282\u70b9\u5f00\u59cb**\uff0c\u5411\u4e0a\u5b89\u6392\u4e3a\u975e\u6838\u5fc3\u57ce\u5e02\uff0c\u9009\u6ee1 $n-k$ \u4e2a\u3002\u5269\u4e0b $k$ \u4e2a\u6838\u5fc3\u57ce\u5e02\u5c31\u90fd\u96c6\u4e2d\u5728\u6811\u7684\u6df1\u5ea6\u6d45\u7684\u5730\u65b9\u3002\n\n\u5177\u4f53\u5730\u8bf4\uff0cBFS \u6bcf\u6b21\u9009\u53d6\u5ea6\u4e3a $1$ \u7684\u8282\u70b9\uff0c\u5411\u4e0a\u6269\u5c55\uff0c\u8fdb\u884c\u7c7b\u4f3c\u62d3\u6251\u6392\u5e8f\u7684\u64cd\u4f5c\u3002\n\n\u7b54\u6848\u5c31\u662f BFS \u7684\u5c42\u6570\u3002\u8fd9\u53ef\u4ee5\u7528\u4e00\u4e2a\u4e34\u65f6\u7684\u961f\u5217\u5b58\u4e0b\u4e00\u5c42\u7684\u8282\u70b9\u3002\u5177\u4f53\u770b\u4ee3\u7801\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $\\Theta(n)$\u3002\u4ee3\u7801\u91cf\u548c\u7a0b\u5e8f\u6548\u7387\u90fd\u5f88\u4f18\u79c0\u3002\n\n### Code\n\n**\u672c\u4ee3\u7801\u9700\u8981 C++11\u3002**\n\n```cpp\n#include <iostream>\n#include <cstdio>\n#include <algorithm>\n#include <cctype>\n#include <vector>\n#include <queue>\nusing namespace std;\n\ntemplate<typename tp>\nvoid read(tp& a)\n{\n    register tp num=0;register int f=1;register char ch=getchar();\n    while(!isdigit(ch) && ch!='-') ch=getchar();\n    if(ch=='-') f=-1,ch=getchar();\n    do\n        num=num*10+int(ch-'0'),ch=getchar();\n    while(isdigit(ch));\n    a=num*f;\n}\ntemplate<typename tp,typename...Args>\nvoid read(tp& a,Args&...args){\tread(a);read(args...);\t}\n\ntypedef const int cint;\ncint MAXN=1e5+5;\nint n,k,cnt,ans;\nvector<int> edge[MAXN];\nint deg[MAXN];\n\nvoid solve(void)\n{\n    queue <int> q;\n    for(int i=1;i<=n;i++)\n        if(deg[i]==1)\n        {\n            q.emplace(i);\n            deg[i]=0;//\u6e05\u96f6\u662f\u56e0\u4e3a\u907f\u514d\u7236\u8282\u70b9\u518d\u6b21\u9009\u4e2d\u8fd9\u4e2a\u8282\u70b9\u3002\u5f53\u7136\u4e5f\u53ef\u4ee5\u7528 visit[] \u6765\u5b9e\u73b0\n        }\n    while(cnt<=n-k)\n    {\n        ans++;\n        queue<int> tmp;//\u4e34\u65f6\u5b58\u50a8 bfs \u4e0b\u4e00\u5c42\u7684\u8282\u70b9\n        while(!q.empty())\n        {\n            cint u=q.front();\n            q.pop();\n            cnt++;\n            if(cnt==n-k)    return;\n            for(const auto& v:edge[u])\n            {\n                deg[v]--;\n                if(deg[v]==1)\n                {\n                    deg[v]=0;\n                    tmp.emplace(v);\n                }\n            }\n        }\n        q=tmp;\n    }\n}\n\nint main()\n{\n    read(n,k);\n    for(int i=1;i<=n-1;i++)\n    {\n        int u,v;read(u,v);\n        edge[u].emplace_back(v);\n        edge[v].emplace_back(u);\n        deg[u]++;deg[v]++;\n    }\n    solve();\n    cout<<ans<<endl;\n    return 0;\n}\n```",
        "postTime": 1605621486,
        "uid": 80049,
        "name": "Hexarhy",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "### \u9898\u76ee\u601d\u8def\uff1a\n\n\u4ee5\u6811\u7684\u76f4\u5f84\u4e2d\u70b9\u4e3a\u6839\uff0c\u8bbe\u6bcf\u4e2a\u8282\u70b9\u7684\u6df1\u5ea6\u4e3a $dep_i$\uff0c\u5176\u540e\u4ee3\u8282\u70b9\u6700\u5927\u6df1\u5ea6\u4e3a $Maxdep_i$\uff0c\u5219 $k$ \u4e2a\u6838\u5fc3\u8282\u70b9\u4e3a $Maxdep_i - dep_i$ \u6700\u5c0f\u7684 $k$ \u4e2a\u70b9\u3002\n\n\u5148\u6c42\u51fa\u6811\u7684\u76f4\u5f84\uff0c\u8fc7\u7a0b\u4e2d\u8bb0\u5f55\u6bcf\u4e2a\u8282\u70b9\u7684\u7236\u4eb2\u4ee5\u53ca\u6811\u7684\u76f4\u5f84\u7684\u53f6\u5b50\u8282\u70b9\u3002\u7136\u540e\u9012\u5f52\u904d\u5386\u627e\u4e2d\u70b9\u3002\u6700\u540e\u8d2a\u5fc3\u6c42\u7b54\u6848\u5373\u53ef\u3002\n\n### Code\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nconst int NR = 2e5 + 5;\n\nint tot = 0, x, y, len, ans, h[NR], dep[NR], father[NR], Maxdep[NR], deplen[NR];\n\nstruct Edge\n{\n    int u, v, w, next;\n}e[NR];\n\nvoid add(int u, int v, int w)\n{\n    tot++;\n    e[tot].u = u, e[tot].v = v, e[tot].w = w;\n    e[tot].next = h[u], h[u] = tot;\n}\n\nvoid dfs(int u, int f)\n{\n    if(len < dep[u]) len = dep[u], y = u;\n    for(int i =  h[u]; i; i = e[i].next)\n    {\n        int v = e[i].v, w = e[i].w;\n        if(f != v) \n        {\n            dep[v] = dep[u] + 1;\n            father[v] = u;\n            dfs(v, u);\n        }\n    }\n}\n\nvoid dfs2(int u, int f)\n{\n    Maxdep[u] = dep[u];\n    for(int i = h[u]; i; i = e[i].next)\n    {\n        int v = e[i].v, w = e[i].w;\n        if(f != v)\n        {\n            dep[v] = dep[u] + 1;\n            father[v] = u;\n            dfs2(v, u);\n            Maxdep[u] = max(Maxdep[u], Maxdep[v]);\n        }\n    }\n}\n\nbool cmp(int a, int b) {return a > b;}\n\nint main()\n{\n    int n, k;\n    scanf(\"%d %d\", &n, &k);\n    for(int i = 1; i <= n; i++)\n    {\n        int u, v;\n        scanf(\"%d %d\", &u, &v);\n        add(u, v, 1);\n        add(v, u, 1);\n    }//\u8f93\u5165\n    \n    x = 1, y = 0, len = 0;\n    dfs(x, -1);\n    memset(father, 0, sizeof(father));\n    memset(dep, 0, sizeof(dep));\n    len = 0;\n    dfs(y, -1);//\u6c42\u76f4\u5f84\n    \n    int pos = y;\n    for(int i = 1; i <= (dep[y] + 1) / 2; i++, pos = father[pos])\n        ;//\u627e\u4e2d\u70b9\n    \n    memset(father, 0, sizeof(father));\n    memset(dep, 0, sizeof(dep));\n    dfs2(pos, -1);\n    for(int i = 1; i <= n; i++)\n        deplen[i] = Maxdep[i] - dep[i];//\u6c42\u6df1\u5ea6\u4e0e\u540e\u4ee3\u6df1\u5ea6        \n        \n    sort(deplen + 1, deplen + n + 1, cmp);\n    for(int i = k + 1; i <= n; i++) \n        ans = max(ans, deplen[i] + 1);//\u8d2a\u5fc3\n    cout << ans;\n    \n    return 0;\n}\n```\n",
        "postTime": 1620961467,
        "uid": 384035,
        "name": "Mysterious_Cat",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "\u6839\u636e\u9898\u76ee\u8fd9\u6bb5\u8bdd\uff1a\n\n```\n\u5b9a\u4e49\u67d0\u4e2a\u975e\u6838\u5fc3\u57ce\u5e02\u4e0e\u8fd9 kk \u5ea7\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u4e3a\uff0c\u8fd9\u5ea7\u57ce\u5e02\u4e0e kk \u5ea7\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u7684\u6700\u5c0f\u503c\u3002\u90a3\u4e48\u6240\u6709\u975e\u6838\u5fc3\u57ce\u5e02\u4e2d\uff0c\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5927\u7684\u57ce\u5e02\uff0c\u5176\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5c0f\u3002\u4f60\u9700\u8981\u6c42\u51fa\u8fd9\u4e2a\u6700\u5c0f\u503c\u3002\n```\n\u6211\u4eec\u53ef\u4ee5\u5f97\u51fa\u8fd9\u662f\u4e00\u9053\u6c42**\u6811\u7684\u76f4\u5f84**\u7684\u9898\u3002\n\n\u4e00\u822c\u7684\uff0c\u6c42\u6811\u7684\u76f4\u5f84\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f**\u6811\u5f62$DP$**\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nvoid Dp_Tree(int x,int before)\n{\n    for(int i=head[x];i;i=e[i].nxt)//\u524d\u5411\u661f\u5b58\u8fb9\uff0c\u81f3\u4e8e\u7ed3\u6784\u4f53\u5927\u5bb6\u5e94\u8be5\u90fd\u80fd\u770b\u61c2\u662f\u4ec0\u4e48\u610f\u601d\n    {\n        if(e[i].to==before) continue;//Check \u662f\u5426\u56de\u6eaf\u4e86\n        Dp_Tree(e[i].to,before);\n        maxx=max(maxx,dep[x]+dep[e[i].to]+e[i].dis);//\u66f4\u65b0\u76f4\u5f84\u7684\u503c\n        dep[x]=max(dep[x],dep[e[i].to]+e[i].dis);//dep[x]\u8868\u793a\u4ee5x\u4e3a\u6839\u5176\u5b50\u6811\u7684\u6df1\u5ea6\n    }\n}\n```\n\u8fd9\u4e2a\u65b9\u6cd5\u4ee3\u7801\u7b80\u6d01\uff0c\u4f46\u6709\u4e00\u4e2a\u574f\u5904\uff0c\u5c31\u662f\u6211\u4eec\u96be\u4ee5\u8bb0\u5f55**\u76f4\u5f84\u4e0a\u7684\u8282\u70b9**\uff08\u53cd\u6b63\u6211\u662f\u4e0d\u4f1a\uff09\n\n\u7136\u540e\u6211\u4eec\u60f3\u5230\u4e00\u79cd\u6734\u7d20\u7684\u505a\u6cd5\uff0c\u4f46\u662f\u5b83\u53ef\u4ee5\u8bb0\u5f55\u76f4\u5f84\u4e0a\u7684\u8282\u70b9\uff1a\n\n### \u4e24\u904d$DFS$ \uff08\u5176\u5b9e\u8fd9\u624d\u662f\u5927\u66b4\u529b\u597d\u5427\uff09\n\n\u6211\u4eec\u5c31\u5047\u5b9a\u8282\u70b9\u7f16\u53f7\u4e3a$1$\u7684\u8282\u70b9\u662f\u7b2c\u4e00\u6b21\u904d\u5386\u7684\u6839\u7b97\u4e86\uff0c\u7136\u540e\u627e\u5230\u4ee5$1$\u4e3a\u6839\u7684\u6811\u7684\u6df1\u5ea6\u6700\u5927\u7684\u8282\u70b9\uff0c\u663e\u7136\uff0c\u5b83\u4e3a\u6811\u7684\u76f4\u5f84\u7684\u4e00\u7aef\u3002\n\n\u7136\u540e\u4ee5\u8fd9\u4e2a\u8282\u70b9\u4e3a\u6839\uff0c\u518d\u904d\u5386\u4e00\u904d\uff0c\u4ee5\u5b83\u4e3a\u6839\u7684\u6811\u7684\u6df1\u5ea6\u6700\u5927\u7684\u8282\u70b9\u4e0e\u5b83\u672c\u8eab\u8fde\u901a\u7684\u8def\u5f84\u5c31\u662f\u8fd9\u4e2a\u6811\u7684\u76f4\u5f84\u4e86\uff0c\u8fd9\u662f\u663e\u800c\u6613\u89c1\u7684\uff08\u4e0d\u660e\u767d\u7684\u8bdd\u53ef\u4ee5\u624b\u753b\u4e00\u5f20\u56fe\uff0c\u5176\u5b9e\u5bf9\u4e8e\u6211\u8fd9\u4e2a\u624d\u5b66OI\u4e09\u4e2a\u6708\u7684\u840c\u65b0\u6765\u8bf4\uff0c\u521a\u5b66\u90a3\u51e0\u5929\u542cXK\u6307\u5bfc\u8bb2\u8fd9\u4e2a\u5b8c\u5168\u542c\u4e0d\u61c2\u3002\u3002\u3002\u5982\u679c\u4e0d\u61c2\u7684\u53ef\u4ee5\u53bb\u627e [Xukuan](https://www.luogu.org/space/show?uid=27924) \u95ee\uff09\u3002\n\n\u4e24\u6b21$DFS$\u7684\u597d\u5904\u5c31\u662f\u6211\u4eec\u53d1\u73b0\u8fd9\u4e2a\u76f4\u5f84\u7684\u8def\u5f84\u662f\u5f88\u597d\u8bb0\u5f55\u7684\u3002\n\n\u77e5\u9053\u4e86\u6811\u7684\u76f4\u5f84\u4ee5\u53ca\u5176\u8def\u5f84\u4e0a\u7684\u8282\u70b9\u540e\uff0c\u518d\u89c2\u5bdf\u672c\u6587\u5f00\u5934\u90a3\u4e00\u6bb5\u9898\u76ee\u6587\u672c\u6587\u5b57\uff0c\u6211\u4eec\u6613\u77e5\u9053\u8fd9$k$\u4e2a\u6838\u5fc3\u57ce\u5e02\u4e2d\u4e00\u5b9a\u6709\u6811\u7684\u76f4\u5f84\u7684\u4e2d\u70b9\uff08\u56e0\u4e3a\u6811\u7684\u76f4\u5f84\u662f\u6811\u4e0a\u6700\u957f\u7684\u4e00\u6761\u94fe\uff09\u3002\n\n#### \u90a3\u4e48\uff0c\u6211\u4eec\u628a\u8fd9\u6811\u7684\u76f4\u5f84\u7684\u4e2d\u70b9\u4f5c\u4e3a\u5efa\u7684\u65b0\u6811\u7684\u6839\uff0c\u5176\u4ed6\u8282\u70b9\u4ee5\uff1a\n\n### \u4ee5\u6811\u7684\u76f4\u5f84\u7684\u4e2d\u70b9\u4e3a\u6839\u7684\u8fd9\u8bfe\u6811\u7684\u6700\u5927\u6df1\u5ea6$-$\u8fd9\u4e2a\u8282\u70b9\u7684\u6df1\u5ea6\uff0c\u5373$maxdep[x]-dep[x]$\n\n\u7136\u540e\u6211\u4eec\u53d6\u5176\u524d$k$\u5927\u7684\u503c\u5373\u53ef\u4f5c\u4e3a\u8fd9$k$\u4e2a\u6838\u5fc3\u57ce\u5e02\uff0c\u5269\u4e0b\u57ce\u5e02\u6392\u4e2a\u5e8f\u53d6\u4e2a\u6700\u5927\u503c\u5c31\u884c\u4e86\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\nconst int N=210000;\nint n,k,head[N],maxE,d[N],maxd,stx;\nint p,f[N],vd[N],pro[N],maxx;\nstruct Edge{int nxt,to;}e[N];\ninline void Add(int u,int v)\n{\n\te[++maxE].nxt=head[u];\n\thead[u]=maxE;\n\te[maxE].to=v;\n}\nbool cp(int x,int y){return x>y;}\nvoid DFSFind1(int x,int before)\n{\n\tif(d[x]>maxd) maxd=d[x],stx=x;\n\tfor(int i=head[x];i;i=e[i].nxt) \n\t{\n\t\tif(e[i].to==before) continue;\n\t\td[e[i].to]=d[x]+1;\n\t\tDFSFind1(e[i].to,x);\n\t}\n}\nvoid DFSFind2(int x,int before)\n{\n\tif(d[x]>maxd) maxd=d[x],stx=x;\n\tfor(int i=head[x];i;i=e[i].nxt) \n\t{\n\t\tif(e[i].to==before) continue;\n\t\td[e[i].to]=d[x]+1;f[e[i].to]=x;\n\t\tDFSFind2(e[i].to,x);\n\t}\n}\nvoid DFSFind3(int x,int before)\n{\n\td[x]=d[before]+1;vd[x]=d[x];\n\tfor(int i=head[x];i;i=e[i].nxt)\n\t{\n\t\tif(e[i].to==before) continue;\n\t\tDFSFind3(e[i].to,x);\n\t\tvd[x]=max(vd[x],vd[e[i].to]);\n\t}\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&k);\n\tfor(int i=1,u,v;i<n;i++)\n\t{\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tAdd(u,v);Add(v,u);\n\t}\n    DFSFind1(1,0);memset(d,0,sizeof(d));\n    maxd=0;DFSFind2(stx,0);p=stx;\n    for(int i=1;i<=(d[stx]+1)/2;i++) p=f[p]; \n\tmemset(d,0,sizeof(d));\n\tDFSFind3(p,0);\n\tfor(int i=1;i<=n;i++) pro[i]=vd[i]-d[i];\n\tsort(pro+1,pro+1+n,cp);\n\tfor(int i=k+1;i<=n;i++) maxx=max(maxx,pro[i]+1);\n\tprintf(\"%d\\n\",maxx);\n\treturn 0;\n}\n```\n",
        "postTime": 1570528096,
        "uid": 98618,
        "name": "Provicy",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P5536"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P5536)\n## \u524d\u7f6e\u77e5\u8bc6\n\u6811\u7684\u76f4\u5f84\u5b9a\u4e49\uff1a\n\u6211\u4eec\u5c06\u4e00\u68f5\u6811T = ( V\uff0cE )\u7684\u76f4\u5f84\u5b9a\u4e49\u4e3a**max\u03b4 ( u\uff0cv ) ( u\uff0cv \u2208 V )**\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u6811\u4e2d\u6240\u6709**\u6700\u77ed\u8def\u5f84\u8ddd\u79bb\u7684\u6700\u5927\u503c**\u5373\u4e3a\u6811\u7684\u76f4\u5f84\u3002\n\n\u505a\u6cd5\uff1a\n### 1. \u4e24\u6b21dfs(\u6216bfs)\n\n\u5148\u4ece\u4efb\u610f\u4e00\u70b9P\u51fa\u53d1\uff0c\u627e\u79bb\u5b83\u6700\u8fdc\u7684\u70b9Q\uff0c\u518d\u4ece\u70b9Q\u51fa\u53d1\uff0c\u627e\u79bb\u5b83\u6700\u8fdc\u7684\u70b9W\uff0cW\u5230Q\u7684\u8ddd\u79bb\u5c31\u662f\u662f\u7684\u76f4\u5f84\u3002\n### 2. \u6811\u5f62DP\n\u5bf9\u4e8e\u6bcf\u4e2a\u8282\u70b9\u6211\u4eec\u8981\u8bb0\u5f55\u4e24\u4e2a\u503c\uff1a\n\nf1[i] \u8868\u793a\u4ee5 i \u4e3a\u6839\u7684\u5b50\u6811\u4e2d\uff0ci \u5230\u53f6\u5b50\u7ed3\u70b9\u8ddd\u79bb\u7684\u6700\u5927\u503c\n\nf2[i] \u8868\u793a\u4ee5 i \u4e3a\u6839\u7684\u5b50\u6811\u4e2d\uff0ci \u5230\u53f6\u5b50\u7ed3\u70b9\u8ddd\u79bb\u7684\u6b21\u5927\u503c\n\n\u5bf9\u4e8e\u4e00\u4e2a\u8282\u70b9\uff0c\u5b83\u5230\u53f6\u5b50\u7ed3\u70b9\u8ddd\u79bb\u7684\u6700\u5927\u503c\u548c\u6b21\u5927\u81f4\u6240\u7ecf\u8fc7\u7684\u8def\u5f84\u80af\u5b9a\u662f\u4e0d\u4e00\u6837\u7684\n\n\u82e5j\u662fi\u7684\u513f\u5b50\uff0c\u90a3\u4e48\uff08\u4e0b\u9762\u7684 w [ i ][ j ] \u8868\u793a i \u5230 j \u7684\u8def\u5f84\u957f\u5ea6\uff09\uff1a\n\n\u82e5 f1 [ i ] < f1 [ j ] + w [ i ][ j ]\uff0cf2 [ i ] = f1 [ i ]\uff0cf1 [ i ] = f1 [ j ] + w [ i ][ j ]\uff1b\n\n\u5426\u5219\uff0c\u82e5 f2 [ i ] < f1 [ j ] + w [ i ][ j ]\uff0cf2 [ i ] = f1 [ j ] + w [ i ][ j ]\uff1b\n\n## \u9898\u76ee\u5927\u610f\uff1a\n\u627e\u5230\u4e00\u79cd\u9009\u70b9\u7684\u65b9\u6cd5\uff0c\u4f7f\u5f97\u6240\u6709\u975e\u6838\u5fc3\u57ce\u5e02\u4e2d\u79bb\u6838\u5fc3\u57ce\u5e02\u7684\u6700\u5927\u8ddd\u79bb\u6700\u5c0f\u3002\n\n\u601d\u8def1\uff1a\u4e8c\u5206 \u4f46\u662f\u6211\u4eec\u80fd\u53d1\u73b0\u9898\u76ee\u4e2d\u7684\u8fb9\u6743\u90fd\u4e3a1\uff0c\u8003\u8651\u5176\u4ed6\u7b97\u6cd5\u3002\n\n\u82e5k=1\uff0c\u90a3\u4e48\u663e\u7136\u5e94\u8be5\u653e\u5728\u6811\u7684\u76f4\u5f84\u7684\u4e2d\u70b9\u5904\uff0ck\u5982\u679c\u518d\u52a0\uff0c\u5c31\u5c3d\u53ef\u80fd\u8ba9\u7b54\u6848\u5c0f\u4e00\u4e9b\u3002\t\u5b9a\u4e49dep\u4e3a\u6df1\u5ea6\uff0cmdep\u4e3a\u5411\u4e0b\u80fd\u5230\u7684\u6700\u5927\u6df1\u5ea6\uff0c\u90a3\u4e48\u5c31\u628amdep-dep\u5f53\u505a\u5173\u952e\u5b57\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u524dk\u4e2a\u53ef\u4ee5\u653e\u5165\u6838\u5fc3\u57ce\u5e02 \u90a3\u4e48\u7b54\u6848\u5c31\u662fmdep[k+1]-dep[k+1]+1\u3002\n\n## \u4ee3\u7801\n```\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\nconst int N =5e5+1;\nusing namespace std;\nint n,m,x,y,ru[N],f[N];\nint dep[N],mdep[N],maxx,maxx2,zj1,zj2,root,ans[N];\nint fir[N],nex[N<<1],poi[N<<1],w[N<<1],sum;\nvoid add(int x,int y)\n{\n\tnex[++sum]=fir[x];\n\tpoi[sum]=y;\n\tfir[x]=sum;\n}\nvoid dfs(int x,int fa)\n{\n\tdep[x]=dep[fa]+1;\n\tfor(int i=fir[x];i;i=nex[i])\n\t{\n\t\tif(fa==poi[i]) continue;\n\t\tdfs(poi[i],x);\n\t}\n}\nvoid dfss(int x,int fa)\n{\n\tmdep[x]=dep[x];\n\tfor(int i=fir[x];i;i=nex[i])\n\t{\n\t\tint p=poi[i];\n\t\tif(fa==p) continue;\n\t\tdfss(p,x);\n\t\tmdep[x]=max(mdep[p],mdep[x]);\n\t}\n}\nvoid dfs_1(int x,int fa,int d)\n{\n\tif(d>maxx)\n\t{\n\t\tzj1=x;\n\t\tmaxx=d;\n\t}\n\tfor(int i=fir[x];i;i=nex[i])\n\t{\n\t\tint p=poi[i];\n\t\tif(p==fa)  continue;\n\t\tdfs_1(p,x,d+1);\n\t\tf[poi[i]]=x;\n\t}\n}\nvoid dfs_2(int x,int fa,int d)\n{\n\tif(d>maxx2)\n\t{\n\t\tzj2=x;\n\t\tmaxx2=d;\n\t}\n\tfor(int i=fir[x];i;i=nex[i])\n\t{\n\t\tint p=poi[i];\n\t\tif(p==fa) continue;\n\t\tdfs_2(p,x,d+1);\n\t}\n}\nbool cmp(int a,int b)\n{\n\treturn a>b;\n}\nint main()\n{\n\tscanf(\"%d%d\",&n,&m);\n\tfor(int i=1;i<=n-1;i++)\n\t{\n\t\tint x,y,z;\n\t\tscanf(\"%d%d\",&x,&y);\n\t\tadd(x,y);\n\t\tadd(y,x);\n\t}\n\tdfs_1(1,0,0);\n\tdfs_2(zj1,0,0);\n\troot=zj1;\n\tint pan=maxx2;\n\tfor(int i=1;i<=(maxx2)/2;i++)\n\troot=f[root];\t\n\tdfs(root,0);\n\tdfss(root,0);\n\tfor(int i=1;i<=n;i++)\n\tans[i]=mdep[i]-dep[i];\n\tsort(ans+1,ans+1+n,cmp);\n\tprintf(\"%d\\n\",ans[m+1]+1);\n}\n/*\n6 3\n1 2\n2 3\n2 4\n1 5\n5 6*/\n```\n\n",
        "postTime": 1618735071,
        "uid": 300372,
        "name": "_Aghost",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5536\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02"
    },
    {
        "content": "# \u5f80\u8fd9\u770b\uff0c\u5f80\u8fd9\u770b\uff0c\u6700\u7b80\u5355\u7684\u9898\u89e3\n\n\u4e3b\u4f53\u601d\u8def\u548c\u524d\u9762\u7684\u662f\u4e00\u6837\u7684\uff1b\n\n**\u4f46\u662f\u6c42\u4ee5\u76f4\u5f84\u4e2d\u70b9\u4e3a\u6839\u7684\u6bcf\u4e2a\u5b50\u8282\u70b9\u7684\u5b50\u6811\u6700\u5927\u6df1\u5ea6\u4e0d\u4e00\u6837**\n\n\u524d\u9762\u9898\u89e3\u90fd\u662f\u6c42\u4ec0\u4e48\u5dee\u503c\uff0c\u660e\u663e\u4e0d\u8981\u8fd9\u4e48\u590d\u6742\uff1b\n\n\u76f4\u63a5\u4e0a\u4ee3\u7801\uff1b\n\n```cpp\n#include<bits/stdc++.h>\n#define LL long long\n#define pa pair<int,int>\n#define ls k<<1\n#define rs k<<1|1\n#define inf 0x3f3f3f3f\nusing namespace std;\nconst int N=100010;\nconst int M=2000100;\nconst LL mod=1e9+7;\nint n,k,cnt,head[N],ans=0;\nint st1,st2,max1,max2,len1[N],len2[N],len3[N],pre[N];\nvector<int>ve;\nbool cmp(int x,int y){return x>y;} \nstruct Node{\n\tint to,nex;\n}edge[M];\nvoid add(int p,int q){\n\tedge[cnt].to=q;\n\tedge[cnt].nex=head[p];\n\thead[p]=cnt++;\n}\nvoid dfs1(int sn,int fa){\n\tif(len1[sn]>=max1){\n\t\tmax1=len1[sn];\n\t\tst1=sn;\n\t}\n\tfor(int i=head[sn];~i;i=edge[i].nex){\n\t\tint v=edge[i].to;\n\t\tif(v!=fa) len1[v]=len1[sn]+1,dfs1(v,sn);\n\t}\n}\nvoid dfs2(int sn,int fa){\n\tif(len2[sn]>=max2){\n\t\tmax2=len2[sn];\n\t\tst2=sn;\n\t}\n\tfor(int i=head[sn];~i;i=edge[i].nex){\n\t\tint v=edge[i].to;\n\t\tif(v!=fa){\n\t\t\tpre[v]=sn;\n\t\t\tlen2[v]=len2[sn]+1;\n\t\t\tdfs2(v,sn);\n\t\t}\n\t}\n}\nvoid dfs3(int sn,int fa){\n\tlen3[sn]=0;\n\tfor(int i=head[sn];~i;i=edge[i].nex){\n\t\tint v=edge[i].to;\n\t\tif(v!=fa){\n\t\t\tdfs3(v,sn);\n\t\t\tlen3[sn]=max(len3[sn],len3[v]+1);\n\t\t}\n\t}\n}\nint main(){\n\tmemset(head,-1,sizeof(head));\n\tscanf(\"%d%d\",&n,&k);\n\tfor(int i=1;i<n;i++){\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tadd(u,v),add(v,u);\n\t}\t\n\tdfs1(1,-1);\n\tdfs2(st1,-1);\n\tfor(int i=1;i<=(max2+1)/2;i++) st2=pre[st2];//\u627e\u5230\u76f4\u5f84\u4e2d\u70b9 \n\tdfs3(st2,-1);\n\tfor(int i=1;i<=n;i++) ve.push_back(len3[i]);\n\tsort(ve.begin(),ve.end(),cmp); \n\tcout<<ve[k]+1<<endl;//\u7b2ck+1\u4e2a\u70b9\u660e\u663e\u6700\u5927 \n\treturn 0;\n}\n\n```\n",
        "postTime": 1585491091,
        "uid": 211144,
        "name": "waOooo",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    },
    {
        "content": "\u8fd9\u9898\u7684\u524d\u7f6e\u77e5\u8bc6\u662f\u4f1a\u6c42\u76f4\u5f84\u3002\n\n\u6211\u4eec\u53ef\u4ee5~~\u663e\u7136~~\u8bc1\u660e\uff0c\u76f4\u5f84\u7684\u4e2d\u70b9\u80af\u5b9a\u662f $k$ \u5ea7\u6838\u5fc3\u57ce\u5e02\u4e4b\u4e00\u3002\n\n---\n\n~~\u4f2a\u8bc1~~\u8bc1\u660e\uff1a  \n\u6211\u4eec\u53ef\u4ee5\u5047\u8bbe\u4e00\u4e2a\u8282\u70b9 $x$ \u662f\u76f4\u5f84\u5916\uff0c\u79bb\u76f4\u5f84\u6700\u8fd1\u7684\u4e00\u4e2a\u70b9\u3002\n\n\u663e\u7136\uff0c\u76f4\u5f84\u4e0a\u7684\u4efb\u610f\u4e00\u4e2a\u70b9\u5230\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\uff0c\u5c31\u662f\u4ed6\u5230 $x$ \u7684\u8ddd\u79bb\u3002\n\n\u5e76\u4e14\u7531\u4e8e\u76f4\u5f84\u662f\u6811\u4e2d\u6700\u957f\u7684\u4e00\u6761\u8def\u5f84\uff0c\u6240\u4ee5\u6ca1\u6709\u5176\u4ed6\u70b9\u5230 $x$ \u7684\u8ddd\u79bb\u5927\u4e8e\u76f4\u5f84\u7aef\u70b9\u5230 $x$ \u7684\u8ddd\u79bb\u3002\n\n\u6240\u4ee5 $x$ \u5728\u76f4\u5f84\u7684\u65f6\u5019\uff0c\u53ef\u4ee5\u4f7f\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5927\u7684\u57ce\u5e02\uff0c\u5176\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5c0f\u3002\n\n\u518d\u8bc1\u660e $x$ \u5fc5\u987b\u4e3a\u76f4\u5f84\u7684\u4e2d\u70b9\u3002\n\n\u5f53 $x$ \u4e0d\u4e3a\u76f4\u5f84\u7684\u4e2d\u70b9\u65f6\uff0c\u5fc5\u5b9a\u6709\u4e00\u4e2a\u76f4\u5f84\u7aef\u70b9\u5230 $x$ \u7684\u8ddd\u79bb\u7a0d\u7a0d\u7684\u5927\u90a3\u4e48\u4e00\u70b9\u70b9\uff0c\u53ea\u6709\u5f53 $x$ \u4e3a\u76f4\u5f84\u4e2d\u70b9\u65f6\uff0c\u4e24\u4e2a\u76f4\u5f84\u7aef\u70b9\u5230 $x$ \u7684\u6700\u5927\u503c\u624d\u4f1a\u6700\u5c0f\u3002\n\n---\n\n\u5728\u627e\u76f4\u5f84\u7684\u65f6\u5019\uff0c\u8bb0\u5f55\u6bcf\u4e2a\u70b9\u7684\u7236\u4eb2\uff0c\u627e\u5230\u7aef\u70b9\u540e\uff0c\u8fdb\u884c\u56de\u6eaf\uff0c\u627e\u5230\u76f4\u5f84\u7684\u4e2d\u70b9\u3002\n\n\u7136\u540e\u8d2a\u5fc3\u7684\u601d\u60f3\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8282\u70b9 $i$\uff0c\u6309\u7167\uff0c\u4ee5\u76f4\u5f84\u7684\u4e2d\u70b9\u4e3a\u6839\uff0c\u8bbe $deep_i$ \u4e3a $i$ \u8282\u70b9\u7684\u6df1\u5ea6\uff0c$maxdeep_i$ \u8868\u793a $i$ \u80fd\u5230\u7684\u6700\u5927\u6df1\u5ea6\u3002\n\n\u6309\u7167\u80fd\u5230\u8fbe\u7684\u6700\u5927\u6df1\u5ea6\u51cf\u8be5\u8282\u70b9\u7684\u6df1\u5ea6\u6392\u5e8f\uff0c\u53d6\u524d $k$ \u4e2a\u6570\uff0c\u5c31\u53ef\u4ee5\u4fdd\u8bc1\uff0c\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5927\u7684\u57ce\u5e02\uff0c\u5176\u4e0e\u6838\u5fc3\u57ce\u5e02\u7684\u8ddd\u79bb\u6700\u5c0f\u3002\n\n\u800c\u4e14\u6240\u9009\u7684\u70b9\u80af\u5b9a\u662f\u8054\u901a\u7684\u3002\n\n---\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define rint register int\nusing namespace std;\nint read(){\n    int s=0,f=1;char c=getchar();\n    while(c<'0'||c>'9'){if(c=='-')f=0;c=getchar();}\n    while(c>='0'&&c<='9')s=(s<<1)+(s<<3)+(c^48),c=getchar();\n    return f?s:-s;\n}\nint n,k,dis[100010],vis[100010],point,faq;\nint tot,head[200010],ver[200010],nxt[200010];\nint pl[100010],maxdeep[100010],deep[100010];\nint ans[100010],minn=-1;\nbool cmp(int x,int y){\n    return x>y;\n}\nvoid add(int x,int y){\n    nxt[++tot]=head[x]; ver[tot]=y;\n    head[x]=tot;\n}\nvoid bfs(int s){ //\u627e\u76f4\u5f84\n    memset(dis,0,sizeof dis);\n    memset(vis,0,sizeof vis);\n    queue<int>q; q.push(s); vis[s]=1;\n    while(q.size()) {\n        int x=q.front(); q.pop();\n        for(rint i=head[x];i;i=nxt[i]){\n            int y=ver[i];\n            if(!vis[y]){\n                pl[y]=x;\n                dis[y]=dis[x]+1;\n                q.push(y); vis[y]=1;\n            }\n        }\n    }\n    faq=0;\n    for(rint i=1;i<=n;++i)\n        if(dis[i]>faq) faq=dis[i],point=i;\n}\nvoid dfs(int x,int fa){ //\u5904\u7406\u6df1\u5ea6\n    maxdeep[x]=deep[x];\n    for(rint i=head[x];i;i=nxt[i]){\n        int y=ver[i];\n        if(y==fa) continue;\n        deep[y]=deep[x]+1; dfs(y,x);\n        maxdeep[x]=max(maxdeep[x],maxdeep[y]);\n    }\n}\nint main(){\n    n=read(); k=read();\n    for(rint i=1,x,y;i<n;++i){\n        x=read(); y=read();\n        add(x,y); add(y,x);\n    }\n    bfs(1); bfs(point);\n    int mid_point=point;\n    for(rint i=1;i<=faq+1>>1;++i) mid_point=pl[mid_point];\n    dfs(mid_point,0);\n    for(rint i=1;i<=n;++i) ans[i]=maxdeep[i]-deep[i];\n    sort(ans+1,ans+1+n,cmp);\n    for(rint i=k+1;i<=n;++i) minn=max(ans[i]+1,minn);\n    printf(\"%d\",minn);\n    return 0;\n}\n```",
        "postTime": 1584145589,
        "uid": 187259,
        "name": "v\u679c\u5b9dv",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P5536 \u3010\u3010XR-3\u3011\u6838\u5fc3\u57ce\u5e02\u3011"
    }
]