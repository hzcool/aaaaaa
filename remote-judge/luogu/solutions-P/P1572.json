[
    {
        "content": "\u8fd9\u91cc\u4f3c\u4e4e\u6ca1\u6709\u697c\u4e0a\u7684\u51e0\u4f4d\u60f3\u7684\u90a3\u6837\u70e6\uff0c\u53ef\u4ee5\u4e0d\u9700\u8981\u7ba1\u7684\uff0c\u7b80\u5355\u7684\u6a21\u62df\uff0c\u6ce8\u610f\u8bfb\u5165\u53ef\u4ee5\u5c06\u8d1f\u53f7\u4e00\u8d77\u8bfb\u5165\uff0c\u52a0\u51cf\u90fd\u53ef\u4ee5\u4e0d\u8003\u8651\u3002\u5229\u7528gcd\u6765\u901a\u5206\u548c\u7ea6\u5206\uff0c\u6700\u540e\u68c0\u67e5\u4e00\u4e0b\u5206\u6bcd\u662f\u4e0d\u662f\u8d1f\u6570\u5c31\u884c\u4e86\u3002\n\n\u8fd9\u91cc\u8d34\u4e0a\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\nint a,b,c,d;\nint gcd(int x,int y)\n{\n    if(y==0)\n        return x;\n    return gcd(y,x%y);\n}\nint main()\n{\n    scanf(\"%d/%d\",&a,&b);\n    while(scanf(\"%d/%d\",&c,&d)!=EOF)\n    {\n        int m=gcd(b,d);\n        a*=d/m;\n        c*=b/m;\n        a+=c;\n        b*=d/m;\n        m=gcd(a,b);\n        a/=m;\n        b/=m;\n    }\n    if(b<0)\n    {\n        a=-a;\n        b=-b;\n    }\n    if(b==1)\n        printf(\"%d\\n\",a);\n    else\n        printf(\"%d/%d\\n\",a,b);\n    return 0;\n}\n\n```",
        "postTime": 1497772245,
        "uid": 17502,
        "name": "Jouna_Kasa_Hasinele",
        "ccfLevel": 9,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "~~\u770b\u4e86\u4e00\u904d\u9898\u89e3\uff0c\u53d1\u73b0\u7a9d\u592a\u83dc\u4e86~~\n\n~~\u5efa\u8bae\u964d\u6a59~~\n\n\u8fd9\u9898\u5982\u679c\u7528\u5b57\u7b26\u4e32\u5904\u7406\uff0c\u4f1a\u975e\u5e38\u7e41\u7410\n\n\u6240\u4ee5\uff0c\u53ef\u4ee5\u8fb9\u8bfb\u8fb9\u505a\n\n\u7b97\u5f0f\u7ed3\u6784\uff1a\n\n```\na/b \u7b26\u53f7 c/d \u7b26\u53f7\u2026\u2026n/m\n```\n\u53ef\u4ee5\u7b2c\u4e00\u6b21\u5148\u628a\u548c\u7684\u5206\u5b50\u548c\u5206\u6bcd\u8bfb\u5165\uff08\u6ce8\u610f\u8981\u7528\u4e00\u4e2achar\u628a\u4e2d\u95f4\u7684\u5206\u6570\u7ebf\u5403\u6389\uff09\n\n```cpp\ncin>>fz>>t>>fm;\n```\n\u7136\u540e\u6bcf\u6b21\u8bfb\u5165\u7b26\u53f7\u548c\u4e00\u4e2a\u5206\u6570\n\n```cpp\nwhile(cin>>p)\n\t{\n\t\tcin>>a>>t>>b;\n\t\t\u2026\u2026\n\t}\n```\n\u4e0b\u9762\u5c31\u662f\u5206\u6570\u8ba1\u7b97\n\n> $a/b+c/d=(ad+bc)/bd$\n\n> $a/b-c/d=(ad-bc)/bd$\n\nemmm\u7136\u540e\u5c31\u53ef\u4ee5\u6109\u5feb\u5730\u5199\u51fa\u5206\u6570\u8ba1\u7b97\u7684\u4ee3\u7801\u4e86\uff0c\u6ce8\u610f\u8981\u5316\u7b80\n\n```cpp\nif(p=='+') fz=fz*b+fm*a;\nelse fz=fz*b-fm*a;\t\nfm*=b,c=gcd(fz,fm),fz/=c,fm/=c;\n```\n\u8f93\u51fa\u6ce8\u610f\uff1a\n\n* \u5982\u679c\u5206\u6bcd\u662f1\uff0c\u5219\u76f4\u63a5\u8f93\u51fa\u5206\u5b50\n\n* \u5982\u679c\u5206\u6bcd\u662f\u8d1f\u6570\uff0c\u5219\u5c06\u5206\u5b50\u3001\u5206\u6bcd\u540c\u65f6\u53d8\u53f7\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint gcd(int a,int b)\n{\n\treturn b?gcd(b,a%b):a;\n}\nint main()\n{\n\tint a,b,fz,fm,c;\n\tchar p,t;\n\tcin>>fz>>t>>fm;\n\twhile(cin>>p)\n\t{\n\t\tcin>>a>>t>>b;\n\t\tif(p=='+') fz=fz*b+fm*a;\n\t\telse fz=fz*b-fm*a;\t\n\t\tfm*=b,c=gcd(fz,fm),fz/=c,fm/=c;\n\t}\n\tif(fm==1) cout<<fz;\n\telse if(fm<0) cout<<-fz<<'/'<<-fm;\n\telse cout<<fz<<'/'<<fm;\n}\n```\n\n",
        "postTime": 1573364540,
        "uid": 203623,
        "name": "Ntokisq",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u8fd9\u91cc\u6709\u4e00\u4efd\u66f4\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u53ea\u670919\u884c\u3002\u800c\u601d\u8def\u4e5f\u975e\u5e38\u7b80\u5355\u3002\n\n\u8003\u8651\u79bb\u7ebf\u5904\u7406\u3002\u9996\u5148\u5c06\u6240\u6709\u5206\u6bcd\u53d6\u6700\u5c0f\u516c\u500d\u6570\uff0c\u7136\u540e\u5c06\u6240\u6709\u5206\u5b50\u8c03\u6574\u4e00\u4e0b\uff08\u5373\u901a\u5206\uff09\u3002\u7136\u540e\u6c42\u51fa\u5206\u5b50\u7684sum\uff0c\u4e0e\u5206\u6bcd\u8fdb\u884c\u7ea6\u5206\u3002\u6ce8\u610f\uff0c\u5982\u679c\u6708\u4efd\u540e\u5206\u6bcd\u4e3a1\uff0c\u662f\u8981\u6309\u7167\u6574\u6570\u8f93\u51fa\u7684\u3002\n\n\u53e6\u5916\uff0c\u8f93\u5165\u540c\u5f88\u591a\u8fd0\u7b97\u9898\u76ee\u4e00\u6837\uff0c\u90fd\u662f\u76f4\u63a5%d%c%d\u8f93\u5165\u5c31\u884c\u4e86\u3002\n\n\u4e0b\u9762\u4ecb\u7ecd\u4e00\u79cd\u4e1c\u897f\uff0c\u53eb\u4e09\u76ee\u8fd0\u7b97\u7b26\uff0c\u4e5f\u662f\u6211\u4ee3\u7801\u5982\u6b64\u7cbe\u7b80\u7684\u539f\u56e0\u4e4b\u4e00\u3002\u683c\u5f0f\u5982\u4e0b\uff1aa?b:c\u3002\u5373a\u662f\u771f\u7684\uff0c\u5219\u6267\u884cb\uff0c\u5426\u5219\u6267\u884cc\u3002\u7136\u540e\uff0c\u8fd9\u4efd\u4ee3\u7801\u4e5f\u5f88\u597d\u7684\u5229\u7528\u4e86C++\u7684\u7075\u6d3b\u6027\u548c\u517c\u5bb9\u6027\u3002\u5c31\u8bb2\u8fd9\u4e48\u591a\u5566\uff01\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\nusing namespace std;\nlong long gcd(long long a,long long b){return !(a%b)?b:gcd(b,a%b);}//\u53d6gcd\nint main()\n{\n    int gs=0;\n    bool wl;\n    long long num,gcdn=1,fs[200][2];\n    while(scanf(\"%lld%c%lld\",&fs[gs][0],&wl,&fs[gs][1])!=EOF)gs++;//\u76f4\u63a5\u8fd9\u6837\u8bfb\u5165\uff0c\u8d1f\u53f7\u4e5f\u53ef\u4ee5\u88ab\u8bfb\u5165\n    for(int i=0;i<gs;i++)gcdn=gcdn/gcd(max(gcdn,fs[i][1]),min(gcdn,fs[i][1]))*fs[i][1];//\u53d6\u6240\u6709\u5206\u6bcd\u7684\u6700\u5c0f\u516c\u500d\u6570\uff08\u5229\u7528(a,b)=a*b/[a,b]\uff09\u3002\u6ce8\u610f\u4e00\u4e2a\u5c0f\u6280\u5de7\uff0c\u53ef\u4ee5\u5148\u9664\u518d\u4e58\uff08\u4e00\u5b9a\u8981\u4fdd\u8bc1\u6574\u9664\uff09\uff0c\u53ef\u4ee5\u4fdd\u8bc1\u4e0d\u7206\u7c7b\u578b\n    long long sum=0;//\u6c42\u5206\u5b50\u548c\n    for(int i=0;i<gs;i++)sum+=gcdn/fs[i][1]*fs[i][0];//\u66f4\u65b0\u5206\u5b50\uff0c\u7136\u540e\u6c42\u548c\n    sum/=num=gcd(abs(sum),gcdn),gcdn/=num;//\u7ea6\u5206\uff0c\u5229\u7528c++\u8bed\u8a00\u7cbe\u7b80\u6027\n    gcdn==1?printf(\"%lld\",sum):printf(\"%lld/%lld\",sum,gcdn);//\u4e09\u76ee\u8fd0\u7b97\uff0c\u5224\u65ad\u662f\u5426\u4ee5\u5206\u6570\u5f62\u5f0f\u8f93\u51fa\n    return 0;\n}\n```",
        "postTime": 1507479585,
        "uid": 32275,
        "name": "KesdiaelKen",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u4e00\u9053\u6a21\u62df\uff0c\u6309\u7167\u9898\u76ee\u8981\u6c42\u624b\u6a21\u5c31\u884c\uff0c\u5f88\u5bb9\u6613\u61c2\n\n---\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<algorithm>\n#include<queue>\n#include<iostream>\n#include<string>\n#include<stack>\nusing namespace std;\nint a[101],b[101];//a\u4ee3\u8868\u5206\u5b50\uff0cb\u4ee3\u8868\u5206\u6bcd\nint ans;\nlong long p=1,t,gp;\nchar o;\nstring s;\nstack<char>q;\nbool flag,chck;\nint f=1,num;\nint main() {\n    cin>>s;//\u5b57\u7b26\u4e32\u5f62\u5f0f\u8bfb\u5165\n    for(int i=s.size()-1; i>=0; i--)\n        q.push(s[i]);//\u5012\u5e8f\u538b\u5165\u6808\uff0c\u56e0\u4e3a\u6808\u662f\u5148\u8fdb\u5148\u51fa\uff0c\u4f60\u4e5f\u53ef\u4ee5\u628a\u5b83\u6b63\u5e8f\u538b\u5165\u961f\u5217\n    while(!q.empty()) {\n        o=q.top();\n        if(o=='+') f=1,flag=0;//\u5904\u7406\u52a0\u53f7\n        if(o=='-') f=-1,flag=0;//\u5904\u7406\u51cf\u53f7\n        if(o=='/') flag=1,a[num]*=f;//\u5206\u5b50\u8bfb\u5b8c\uff0c\u5904\u7406\u6b63\u8d1f\n        if(o<='9'&&o>='0') {\n            if(flag==0) \n            {\n                if(chck==0)//\u4e00\u4e2a\u65b0\u5206\u5b50\uff0cnum\u52a0\u4e00\n                num++,chck=1;\n                a[num]=a[num]*10+o-'0';//\u5c06\u5b57\u7b26\u8f6c\u6362\u4e3a\u6574\u6570\uff0c\u7c7b\u4f3c\u4e8e\u8bfb\u5165\u4f18\u5316\n            }\n            else b[num]=b[num]*10+o-'0',chck=0;//\u5904\u7406\u5206\u6bcd\uff0cchck\u6e05\u96f6\uff0c\u51c6\u5907\u8bfb\u53d6\u4e0b\u4e00\u4e2a\u5206\u5b50\n        }\n        q.pop();\n    }\n    for(int i=1;i<=num;i++)\n    p*=b[i];//\u6c42\u5206\u6bcd\u7684\u4e58\u79ef\uff0c\u901a\u5206\n    for(int i=1;i<=num;i++)\n    {\n        t+=a[i]*(p/b[i]);//\u8ba1\u7b97\u5206\u5b50\u7684\u548c\uff0c\u4e58\u4ee5p/b[i]\u662f\u56e0\u4e3a\u5206\u6bcd\u5df2\u901a\u5206\n    }\n    if(t<0) \n    {\n        putchar('-');//\u5c06\u5206\u5b50\u8f6c\u6362\u6210\u6574\u6570\uff0c\u56e0\u4e3agcd\u4e0d\u652f\u6301\u8d1f\u6570\u6700\u5927\u516c\u56e0\u6570\uff08~~\u672c\u849f\u84bb\u4e0d\u6e05\u695a~~\uff09\n        t=-t;\n    }\n    if(t%p==0) //\u5982\u679ct%p==0\u8bf4\u660e\u5206\u6570\u53ef\u5316\u4e3a\u6574\u6570\uff0c\u8f93\u51fat/p\n    {\n        cout<<t/p;\n        return 0;\n    }\n    gp=__gcd(t,p);//STL\u81ea\u5e26\u6c42\u6700\u5927\u516c\u56e0\u6570\n    t/=gp;\n    p/=gp;//\u7ea6\u5206\n    printf(\"%lld\",t);\n    printf(\"/\");\n    printf(\"%lld\",p);\n    return 0;//\u534e\u4e3d\u7684\u7ed3\u675f\n}\n```\n---\n\u7ba1\u7406\u5927\u5927\u6c42\u8fc7",
        "postTime": 1544261302,
        "uid": 113773,
        "name": "\u516c\u4e3b\u6bbf\u4e0bMIKU",
        "ccfLevel": 0,
        "title": "\u8ba1\u7b97\u5206\u6570"
    },
    {
        "content": "\u7c7b\u548c\u5bf9\u8c61\u7684\u89e3\u6cd5\n\n\u9762\u5411\u5bf9\u8c61\u5927\u6cd5\u597d\n\n\u57fa\u672c\u601d\u8def\uff1a\n\n\u5c06\u5206\u6570\u5b9a\u4e49\u4e3a\u4e00\u4e2a\u7c7b\n\n\u7136\u540e\u5199\u6784\u9020\u65b9\u6cd5\n\n\u6700\u540e\u91cd\u8f7d\u8fd0\u7b97\u7b26\n\n\u7136\u540e\u4f60\u53ea\u7ba1\u8c03\u7528\u5c31\u597d\u4e86\n\n\u8fd9\u91cc\u7ed9\u4e00\u4e2a\u7c7b\u6a21\u677f\uff0c\u56e0\u4e3a\u6211\u600e\u4e48\u8f93\u5165\u90fd\u4e0d\u5bf9\uff0823333\uff09\u4f46\u662f\u8fd9\u4e2a\u7c7b\u662f\u6b63\u786e\u6ef4\u563b\u563b\n\n```cpp\n#include<cstdio>\n#include<cassert>\n\nclass Fraction{\nprivate:\n\tint numerator;//\u5206\u5b50 \n\tint denominator;//\u5206\u6bcd \n\tint gcd(int x,int y)const;//\u6700\u5927\u516c\u7ea6\u6570 \n\tint lcm(int x,int y)const;//\u6700\u5c0f\u516c\u500d\u6570 \n\tvoid fixup();//\u7ef4\u62a4\u5206\u6bcd\u59cb\u7ec8\u4e3a\u6b63\u6570 \n\t \npublic:\n\t//\u6784\u9020\u51fd\u6570 \n\tFraction();//\u7f3a\u7701\u6784\u9020\u51fd\u6570 \n\tFraction(int numerator); //\u5206\u6bcd\u9ed8\u8ba4\u503c\u4e3a1 \n\tFraction(int numerator,int denominator);  \n\t\n\t//\u8fd0\u7b97\u7b26\u91cd\u8f7d\n\tfriend const Fraction operator +(const Fraction &x,const Fraction &y);\n\tfriend const Fraction operator -(const Fraction &x,const Fraction &y);\n\tfriend const Fraction operator *(const Fraction &x,const Fraction &y);\n\tfriend const Fraction operator /(const Fraction &x,const Fraction &y);\n\tconst Fraction operator -();\n\t\n\tconst Fraction simplify()const; //\u5316\u7b80 \n\tconst Fraction reciprocal()const;//\u5012\u6570 \n\t\n\tfriend bool operator >(const Fraction &x,const Fraction &y);\n\tfriend bool operator >=(const Fraction &x,const Fraction &y);\n\tfriend bool operator <(const Fraction &x,const Fraction &y);\n\tfriend bool operator <=(const Fraction &x,const Fraction &y);\n\tfriend bool operator !=(const Fraction &x,const Fraction &y);\n\tfriend bool operator ==(const Fraction &x,const Fraction &y);\n\tFraction& operator =(const Fraction &x);\n\t//\u8f93\u51fa \n\tvoid print()const;\t\n};\n\n//\u7528\u521d\u59cb\u5316\u5217\u8868\u5199\u6784\u9020\u51fd\u6570 \nFraction::Fraction(int x,int y):numerator(x),denominator(y){\n    assert(y!=0);//\u786e\u4fdd\u5206\u6bcd\u4e0d\u4e3a0\uff0c\u5426\u5219\u5728\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u62a5\u9519 \n}\n\nFraction::Fraction(int x):numerator(x),denominator(1){ }\n\nFraction::Fraction(){ }\n\n//\u6700\u5c0f\u516c\u500d\u6570 \nint Fraction::lcm(int x,int y)const {\n\t//\u6b27\u51e0\u91cc\u5f97\u7b97\u6cd5 \n\twhile(y){\n\t\tint t=y;\n\t\ty=x%y;\n\t\tx=t;\n\t}\n\treturn x;\n} \n\n//\u6700\u5927\u516c\u7ea6\u6570 \nint Fraction::gcd(int x,int y)const{\t\n\tint n=lcm(x,y);\n\treturn x*y/n;\n}\n\n//\u7ef4\u62a4\u5206\u6bcd\u4e3a\u6b63 \nvoid Fraction::fixup(){\n\t//\u5982\u679c\u5206\u6bcd\u4e3a\u8d1f\uff0c\u5c06\u5206\u5b50\u5206\u6bcd\u540c\u65f6\u53d6\u8d1f \n\tif(denominator<0){ \n\t\tdenominator=-denominator;\n\t\tnumerator=-numerator;\n\t}\n\tassert(denominator!=0);\n}\n\n//\u5316\u7b80 \nconst Fraction Fraction::simplify()const\t{\n\tFraction ans;\n\tint n=lcm(numerator,denominator);//\u5f97\u5230\u6700\u5c0f\u516c\u500d\u6570 \n\tans.denominator=denominator/n;//\u5206\u5b50\u5206\u6bcd\u540c\u65f6\u9664\u4ee5\u6700\u5c0f\u516c\u500d\u6570 \n\tans.numerator=numerator/n;\n\treturn ans;\n}\n\nconst Fraction operator +(const Fraction &x,const Fraction &y){\n\tint n=x.gcd(x.denominator,y.denominator);//\u5f97\u5230\u6700\u5927\u516c\u7ea6\u6570 \n\tFraction ans;\n\t//\u5c06\u5206\u6bcd\u5316\u4e3a\u76f8\u540c\u7684\u518d\u5bf9\u5206\u5b50\u8fdb\u884c\u52a0\u6cd5\u8fd0\u7b97 \n\tans.numerator=n/x.denominator*x.numerator+n/y.denominator*y.numerator;\n\tans.denominator=n; \n\treturn ans.simplify();\t\n}\n\nconst Fraction operator -(const Fraction &x,const Fraction &y){\n\tint n=x.gcd(x.denominator,y.denominator);//\u5f97\u5230\u6700\u5927\u516c\u7ea6\u6570 \n\tFraction ans;\n\t//\u5c06\u5206\u6bcd\u5316\u4e3a\u76f8\u540c\u7684\u518d\u5bf9\u5206\u5b50\u8fdb\u884c\u51cf\u6cd5\u8fd0\u7b97 \n\tans.numerator=n/x.denominator*x.numerator-n/y.denominator*y.numerator;\n\tans.denominator=n;\n\treturn ans.simplify();\t\t\n}\n\nconst Fraction operator *(const Fraction &x,const Fraction &y){\n\tFraction ans;\n\tFraction tmp_x=x.simplify();\n\tFraction tmp_y=y.simplify();\n\t//\u5206\u5b50\u5206\u6bcd\u5bf9\u5e94\u76f8\u4e58 \n\tans.numerator=tmp_x.numerator*tmp_y.numerator;\n\tans.denominator=tmp_x.denominator*tmp_y.denominator;\n\treturn ans.simplify();\n}\n\nconst Fraction operator /(const Fraction &x,const Fraction &y){\n\tFraction ans;\n\tFraction tmp_x=x.simplify();\n\tFraction tmp_y=y.simplify();\n\tassert(tmp_y.denominator!=0);//\u5206\u5b50\u4e3a0\u4e0d\u80fd\u4f5c\u4e3a\u9664\u6570\n\t//\u5206\u5b50\u4e58\u5206\u6bcd\uff0c\u5206\u6bcd\u4e58\u5206\u5b50 \n\tans.numerator=tmp_x.numerator*tmp_y.denominator; \n\tans.denominator=tmp_x.denominator*tmp_y.numerator;\n\tans=ans.simplify();\n\tans.fixup();\n\treturn ans;\n}\n\nconst Fraction Fraction::operator -(){\n\t//\u5206\u5b50\u53d8\u4e3a\u76f8\u53cd\u6570 \n\tFraction x;\n\tx.numerator=-numerator;\n\tx.denominator=denominator;\n\treturn x;\n}\n \nFraction& Fraction::operator =(const Fraction &x){\n    if(this!=&x){\n\t    numerator=x.numerator;\n\t    denominator=x.denominator;\n    }\n    return *this;\n}\n\nbool operator >(const Fraction &x,const Fraction &y){\n\tif((x-y).numerator>0)return true;\n\telse return false;\n}\n\nbool operator >=(const Fraction &x,const Fraction &y){\n\tif((x-y).numerator>=0)return true;\n\telse return false;\n}\n\nbool operator <(const Fraction &x,const Fraction &y){\n\tif((x-y).numerator<0)return true;\n\telse return false;\n}\n\nbool operator <=(const Fraction &x,const Fraction &y){\n\tif((x-y).numerator<=0)return true;\n\telse return false;\n}\n\nbool operator !=(const Fraction &x,const Fraction &y){\n\tif((x-y).numerator!=0)return true;\n\telse return false;\n}\n\nbool operator ==(const Fraction &x,const Fraction &y){\n\tif((x-y).numerator==0)return true;\n\telse return false; \n}\n\nconst Fraction Fraction::reciprocal()const{\n\treturn 1/(*this);\n}\n\t\nvoid Fraction::print()const{ \n\tif(numerator%denominator)printf(\"%d/%d\\n\",numerator,denominator);\n\telse printf(\"%d\\n\",numerator/denominator);\n}\n\n```",
        "postTime": 1519654930,
        "uid": 77211,
        "name": "i9_7980XE",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\n\u8fd9\u9053\u9898\u8868\u9762\u4e0a\u662f\u4e00\u9053\u666e\u53ca/\u63d0\u9ad8-\u7684\u9898\u76ee\uff0c\u5b9e\u9645\u4e0a\uff0c\u5b83\u4f30\u8ba1\u4e5f\u5c31\u666e\u53ca-\u7684\u96be\u5ea6\uff0c\u81f3\u4e8e\u5b83\u4e3a\u4ec0\u4e48\u4f1a\u88ab\u6d1b\u8c37\u8bc4\u4e3a\u8fd9\u6837\u7684\u96be\u5ea6\uff0c\u4f30\u8ba1\u662f\u56e0\u4e3a\u5b83\u7684\u5751\u70b9\u5b9e\u5728\u662f\u592a\u591a\u3001\u592a\u591a\u3001\u592a\u591a\u4e86\uff01\uff01\uff01\uff08\u91cd\u8981\u7684\u4e8b\u60c5\u8bf4\u4e09\u904d\uff0c\u4e0d\u4e3a\u4ec0\u4e48\uff0c\u53ea\u56e0\u4e3a\u6211\u7ecf\u5386\u4e86\u4e00\u4e2a30-50-70-90-100\u7684\u8fc7\u7a0b\uff0c\u4e5f\u8bb8\u662f\u6211\u592a\u83dc\u4e86\u5427\u2026\u2026\uff09\n\n\u7c97\u7c97\u5730\u770b\u4e86\u770b\u9898\u89e3\uff0c\u53d1\u73b0\u6709\u7528\u5b57\u7b26\u4e32\uff0c\u4e5f\u6709\u7528\u5faa\u73af\u8bfb\u5165\u7684\uff0c\u8fd9\u4e24\u79cd\u5176\u5b9e\u672c\u8d28\u4e0a\u90fd\u4e00\u6837\uff0c\u8981\u7528\u901a\u5206\u7684\u65b9\u6cd5\uff0c\u6240\u4ee5\u5c31\u65e0\u6240\u8c13\u4e86\uff0c\u8fd9\u91cc\u6211\u7528\u7684\u662f\u5faa\u73af\u8bfb\u5165\uff0c\u611f\u89c9\u53ef\u80fd\u4ee3\u7801\u597d\u61c2\u4e00\u4e9b\u3002\n\n\u5728\u770b\u4ee3\u7801\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u6765\u770b\u770b\u8fd9\u9898\u6709\u54ea\u4e9b\u5751\u70b9\uff1a\n#### 1\n~~\u8fd9\u9898\u8981\u8f93\u51fa\u5206\u6570\uff0c\u6240\u4ee5\u4e0d\u80fd\u7528\u5c0f\u6570\uff0c\u800c\u8981\u8fd0\u7528\u5c0f\u5b66\u901a\u5206\u5927\u6cd5~~\uff08\u5e9f\u8bdd\uff09\n#### 2\n\u9898\u76ee\u4e2d\u8bf4\u53ea\u4f1a\u8f93\u5165\u6700\u7b80\u5206\u6570\uff0c\u4f46\u662f\uff0c\u5206\u5b50\u5206\u6bcd\u4e0d\u4e00\u5b9a\u662f\u4e2a\u4f4d\u6570\uff0c\u6240\u4ee5\u8981\u5904\u7406\uff08\u8fd9\u70b9\u53ef\u4ee5\u5f53\u4f5c\u5c41\u8bdd\uff0c\u89c9\u5f97\u4e5f\u6ca1\u6709\u8c01\u4f1a\u5728\u8fd9\u91cc\u683d\u8ddf\u5934\uff09\u3002\n#### 3\n\u9898\u76ee\u8981\u6c42\u8f93\u51fa\u662f\u6574\u6570\u6216\u6700\u7b80\u5206\u6570\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6700\u540e\u8981\u5224\u65ad\u4e00\u4e0b\uff0c\u7b97\u5b8c\u4e4b\u540e\u4e0d\u4ec5\u8981\u7ea6\u5206\uff0c\u800c\u4e14\u7ea6\u5206\u4e4b\u540e\uff0c\u53ef\u80fd\u662f\u6574\u6570\u3002\n#### 4\n\u4f17\u6240\u5468\u77e5\uff0c\u5206\u6570\u7684\u5206\u6bcd\u4e0d\u80fd\u662f\u8d1f\u6570\uff0c\u6240\u4ee5\uff0c\u8fd8\u8981\u5224\u65ad\u3002\n\n\n\u7136\u540e\u518d\u770b\u770b\u4ee3\u7801\uff0c\u4e5f\u8bb8\u4f1a\u66f4\u6709\u6240\u5e2e\u52a9\u3002\n\n#### \u4ee3\u7801\u5e26\u6ce8\u91ca\uff1a\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint a[1005],b[1005];  //a\uff0cb\u7528\u6765\u50a8\u5b58\u6bcf\u4e2a\u5206\u5b50\u5206\u6bcd\u3002 \nchar d;\nint gcd(int a,int  b)  //\u6700\u5927\u516c\u7ea6\u6570\u9012\u5f52\u5b9e\u73b0\u3002 \n{\n\tif (a%b==0)\n\t\treturn b;\n\telse\n\t\treturn gcd(b,a%b);\n}\nint main()\n{\n\tint x=1,cnt=0,sum=0,t=0,flag=1;  \n\t//x\u7528\u6765\u4fdd\u5b58\u6240\u6709\u5206\u6bcd\u7684\u6700\u5c0f\u516c\u500d\u6570\u3002 \n\t//cnt\u7528\u6765\u4fdd\u5b58\u5206\u6570\u4e2a\u6570\u3002\n\t//sum\u7528\u6765\u4fdd\u5b58\u901a\u5206\u5b8c\u6240\u6709\u5206\u5b50\u4e4b\u548c\u3002\n\t//t\u7528\u6765\u4fdd\u5b58\u5206\u5b50\u6216\u5206\u6bcd\u3002\n\t//flag\u7528\u6765\u8bb0\u5f55\u8fd9\u4e2a\u5206\u6570\u662f\u6b63\u662f\u8d1f\u3002 \n\twhile (cin>>d)  //\u8fd9\u91cc\u662f\u5faa\u73af\u8bfb\u5165\u7684\u65b9\u6cd5\u3002 \n\t{\n\t\tif (d>='0' && d<='9')\n\t\t\tt=t*10+d-'0';\n\t\tif (d=='/')  //\u5206\u5b50\u8bfb\u5b8c\u4e86\uff0c\u5b58\u4e00\u4e0b\uff0c\u63a5\u7740\u53bb\u8bfb\u5206\u6bcd\u3002 \n\t\t\ta[++cnt]=t*flag,t=0;\n\t\tif (d=='+')  //\u5b58\u5206\u6bcd\u3002 \n\t\t\tb[cnt]=t,t=0,flag=1;\n\t\tif (d=='-')  //\u8d1f\u6570\u5224\u65ad\u4e00\u4e0b\uff0c\u7528flag\u6539\u53d8\u4e0b\u4e2a\u5206\u6570\u7b26\u53f7\u3002 \n\t\t\tb[cnt]=t,t=0,flag=-1;\n\t}\n\tb[cnt]=t;  //\u6700\u540e\u4e00\u4e2a\u5206\u6570\u662fa/b\u7684\u683c\u5f0f\uff0c\u540e\u9762\u6ca1\u6709\u52a0\u53f7\u6216\u51cf\u53f7\uff0c\u6240\u4ee5\u8fd8\u5f97\u518d\u5b58\u4e0b\u5206\u6bcd\u3002 \n\tfor (int i=1;i<=cnt;++i)\n\t\tx=x*b[i]/gcd(x,b[i]);  \n\t//\u4f17\u6240\u5468\u77e5\uff0c\u6700\u5c0f\u516c\u500d\u6570LCM\uff08a\uff0cb\uff09=a*b/GCD\uff08a\uff0cb\uff09\uff08\u5c0f\u5b66\u77e5\u8bc6\uff09\u3002\n\t//LCM\u4e3a\u6700\u5c0f\u516c\u500d\u6570\uff0cGCD\u4e3a\u6700\u5927\u516c\u7ea6\u6570\u3002 \n\tfor (int i=1;i<=cnt;++i)\n\t\ta[i]*=x/b[i],sum+=a[i];\n\t//\u901a\u5206\u8ba1\u7b97\u8fc7\u7a0b\uff08\u5206\u5b50\u5206\u6bcd\u540c\u65f6\u4e58\u4ee5\u4e00\u4e2a\u975e0\u81ea\u7136\u6570\uff0c\u5206\u6570\u5927\u5c0f\u4e0d\u53d8\u3002\u5c0f\u5b66\u77e5\u8bc6\uff09\u3002 \n\tint z=gcd(sum,x);  //\u6700\u7ec8\u7ed3\u679c\u5206\u5b50\u5206\u6bcd\u7684\u6700\u5927\u516c\u7ea6\u6570\u3002 \n\tint m=sum/z,n=x/z;  //\u6700\u540e\u7684\u7ea6\u5206\u3002 \n\tif (n<0)  //\u5224\u65ad\u5206\u6bcd\u4e3a\u8d1f\u6570\u7684\u60c5\u51b5\u3002 \n\t\tm=-m,n=-n;\n\tif (m%n==0)  //\u5224\u65ad\u7ed3\u679c\u4e3a\u6574\u6570\u7684\u60c5\u51b5\u3002 \n\t\tcout<<m/n<<endl;\n\telse\n\t\tcout<<m<<\"/\"<<n<<endl;\n\treturn 0;\n}\n```\n\n\u672c\u849f\u84bb\u77e5\u9053\u7684\u5c31\u8fd9\u4e48\u591a\u4e86\uff0c\u7531\u4e8e\u624d\u8bc6\u758f\u6d45\u9519\u4e86\u5f88\u591a\u6b21\uff0c\u5e0c\u671b\u5927\u5bb6\u5f15\u4ee5\u4e3a\u6212\u3002",
        "postTime": 1545536586,
        "uid": 91780,
        "name": "Herkezi",
        "ccfLevel": 0,
        "title": "\u8ba1\u7b97\u5206\u6570"
    },
    {
        "content": "# \u5b57\u7b26\u4e32\u597d\u9898\uff01\u5176\u4ed6\u9898\u89e3~~\u53ef\u8bfb\u6027\u4e0d\u9ad8~~\u6211\u6765\u7528\u6700\u7b80\u5355\u7684\u601d\u8def\u8bb2\u89e3\u4e00\u904d\u5427\n\u5206\u6790\uff1a\n- \u5982\u679c\u4e00\u4e2a\u4e00\u4e2a\u5b57\u7b26\u4e32\u7684\u8bfb\u5165\u7684\u8bdd\uff0c\u5904\u7406\u8d77\u5206\u5b50\u5206\u6bcd\u5c31\u4f1a\u5f88\u9ebb\u70e6\uff0c\u800c\u8bfb\u5165\u65f6\u7528scanf(\"%d/%d\",&a,&b)\u7684\u8bdd\u5c31\u80fd\u8f7b\u677e\u5904\u7406\u6b63\u8d1f\u53f7\u7684\u95ee\u9898\n- \u901a\u5206\uff1a\u7531a*b=lcm(a,b)*gcd(a,b)\uff0c\u5f97lcm(a,b)=a * b/gcd(a,b)\n\n## \u672c\u9898\u5751\u70b9\n- \u5206\u6bcd\u4e3a1\u65f6\u9700\u7279\u5224\n- \u7ed3\u679c\u5316\u6210\u6700\u7b80\u6574\u6570\u6bd4\uff1a\u6211\u4eec\u53ef\u4ee5\u7b97\u6bcf\u4e00\u6b21\u7684\u65f6\u5019\u90fd\u53d6\u4e00\u904d__gcd(a,b)  <---\u8fd9\u662f\u5e93\u51fd\u6570\uff0c\u4e0d\u7528\u624b\u6253\u4e00\u904dgcd\uff0c~~\u867d\u7136\u4e5f\u6ca1\u6709\u8282\u7701\u591a\u5c11\u65f6\u95f4~~\n- **\u6700\u5751\u7684\u4e00\u70b9\uff1a** \u5f53\u5206\u6bcd\u4e3a\u8d1f\u65f6\uff0ce.g.2/-3 \u53d8\u6210 -2/3\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define rep(i,a,b) for(ll i=a;i<=b;++i)\n#define dwn(i,a,b) for(ll i=a;i>=b;--i) \n \ntemplate <typename T> inline void rd(T &x){\n\tx=0;char c=getchar();int f=0;\n\twhile(!isdigit(c)){f|=c=='-';c=getchar();}\n\twhile(isdigit(c)){x=(x<<1)+(x<<3)+(c^48);c=getchar();}\n\tx=f?-x:x;\n}\n#define mem(a,b) memset(a,b,sizeof(a))\n\nint a,b,c,d;\nint ans1;//\u5206\u5b50 \nint ans2;//\u5206\u6bcd \n\nint main(){\n    scanf(\"%d/%d\",&a,&b);\n    while(scanf(\"%d/%d\",&c,&d)!=EOF){\n        int gcd=__gcd(b,d);\n        int lcm=b*d/gcd;\n        ans2=lcm;//\u5f53\u524d\u5206\u6bcd\n        ans1=a*(lcm/b)+c*(lcm/d);//\u5f53\u524d\u5206\u5b50\uff0c\u8bf7\u8bfb\u8005\u81ea\u4e3b\u6a21\u62df\u4e00\u4e0b\n        a=ans1/(__gcd(ans1,ans2));//\u4e0b\u4e00\u6b21\u8ba1\u7b97\u65f6\uff0ca\u548cb\u4ee3\u8868\u7684\u662f\u4e0a\u4e00\u6b21\u8ba1\u7b97\u7684\u5206\u5b50\u5206\u6bcd\uff0c\u987a\u4fbf\u7ea6\u4e2a\u5206\n        b=ans2/(__gcd(ans1,ans2));\n    }\n    ans1=a;//\u6700\u540e\u4e00\u6b21\u5904\u7406\u540ea\u5c31\u662fans1,\u8fd9\u91cc\u8d4b\u503c\u7684\u539f\u56e0\u662fa\u4e0eb\u7ea6\u8fc7\u4e00\u6b21\u5206\u4e86\n    ans2=b;//\u6700\u540e\u4e00\u6b21\u5904\u7406\u540eb\u5c31\u662fans2\n    \n    if(ans2<0){//\u5904\u7406 2/-3 -> -2/3\u7684\u60c5\u51b5 \n        ans1=-ans1;\n        ans2=-ans2;\n    }\n    if(ans2==1)printf(\"%d\\n\",ans1);//\u5904\u7406\u5206\u6bcd\u4e3a1\u7684\u60c5\u51b5\n    else printf(\"%d/%d\\n\",ans1,ans2);\n    return 0;\n}\n```\n",
        "postTime": 1563438521,
        "uid": 109419,
        "name": "\u8bbe\u8ba1\u6d89\u53ca\u793e\u7a37",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u8fd9\u4e2a\u9898\u561b~\u662f\u4e00\u9053\u5f88\u4f18\u79c0\u7684**\u5b57\u7b26\u4e32**\u548c**\u6570\u5b66**\u7684\u7efc\u5408\u9898\u76ee\n\n\u603b\u4f53**\u601d\u7ef4\u96be\u5ea6\u4e0d\u5927**\uff0c\u8fd9\u91cc\u6211\u5c31\u5173\u952e\u8bb2\u8bb2**\u4ee3\u7801\u5b9e\u73b0**\u90e8\u5206\n\n\u9996\u5148\u65e2\u7136\u662f**\u5206\u6570**\u7684\u9898\u561b\uff0c\u80af\u5b9a\u4f1a\u6d89\u53ca\u5230**\u7ea6\u5206\u548c\u901a\u5206**\uff0c\u90a3\u54b1\u4eec\u5148\u628a**\u6c42\u6700\u5927\u516c\u56e0\u6570\u548c\u6700\u5c0f\u516c\u500d\u6570\u7684\u51fd\u6570**\u641e\u51fa\u6765\uff0c\u8fd9\u90fd\u662f\u57fa\u7840\u5185\u5bb9\uff0c\u5927\u5bb6\u5e94\u8be5\u90fd\u4f1a\n```cpp\nint gcd(int a,int b){   //\u6700\u5927\u516c\u56e0\u6570\n\tif(b==0)return a;  \n\telse return gcd(b,a%b);   //\u9012\u5f52\u5b9e\u73b0\u8f97\u8f6c\u76f8\u9664\u6cd5\uff0c\u4e0d\u89e3\u91ca\n}\nint zxgbs(int a,int b){  //\u6700\u5c0f\u516c\u500d\u6570\uff08\u62fc\u97f3\u5927\u6cd5\u597d\uff09\n\treturn a*b/gcd(a,b); //\u6700\u5927\u516c\u56e0\u6570*\u6700\u5c0f\u516c\u500d\u6570=\u4e24\u6570\u4e58\u79ef\n}\n```\n\u63a5\u4e0b\u6765\uff0c\u56e0\u4e3a\u662f**\u5b57\u7b26\u4e32**\u7684\u9898\uff0c\u54b1\u518d\u641e\u4e00\u4e2a**\u628a\u6570\u5b57\u5b57\u7b26\u4e32\u53d8\u6210\u6570\u7684\u51fd\u6570**\n```cpp\nint getnum(int l,int r){  //l,r\u8868\u793a\u4ece\u5b57\u7b26\u4e32\u4e2d\u4e0b\u6807\u4e3al\u5230\u4e0b\u6807\u4e3ar\u7684\u90e8\u5206\n\tint cnt=0;\n\tfor(int i=l+1;i<r;i++){\n\t\tcnt=cnt*10+s[i]-'0';\n\t}\n\treturn cnt;\n}\n //\u8fd9\u4e5f\u662f\u57fa\u7840\u5185\u5bb9\uff0c\u76f8\u4fe1\u5927\u5bb6\u6ca1\u95ee\u9898\n```\nNext\uff0c\u56de\u60f3\u4e00\u4e0b\u5c0f\u5b66\u7684\u77e5\u8bc6\uff0c\n\n**\u901a\u5206\u7528\u7684\u516c\u5206\u6bcd\u662f\u5404\u4e2a\u5206\u6bcd\u7684\u6700\u5c0f\u516c\u500d\u6570**\uff0c\n\n\u800c\u591a\u4e2a\u6570\u7684\u6700\u5c0f\u516c\u500d\u6570\uff0c\u662f**\u5148\u4ece\u524d\u4e24\u4e2a\u5f00\u59cb\uff0c\u7136\u540e\u518d\u627e\u5f97\u5230\u7684\u7ed3\u679c\u548c\u4e0b\u4e00\u4e2a\u6570\u7684\u6700\u5c0f\u516c\u500d\u6570**\uff0c\n\n\u7136\u540e\u5206\u5b50\u5c31\u662f**\u5229\u7528\u5206\u6570\u7684\u57fa\u672c\u6027\u8d28\uff0c\u5206\u6bcd\u548c\u516c\u5206\u6bcd\u5dee\u591a\u5c11\uff0c\u54b1\u5c31\u4e58\u591a\u5c11**\n\n\u6700\u540e\u518d\u4e00**\u7ea6\u5206**\uff0c\u7b54\u6848\u5c31\u51fa\u6765\u4e86\n\n\u8fd9\u6837\u4e00\u6765\uff0c\u601d\u8def\u54b1\u5c31\u6709\u4e86\u3002\u540c\u65f6\u54b1\u4e5f\u6478\u6e05\u4e86\u8981\u5b9a\u4e49\u90a3\u4e9b\u53d8\u91cf\uff1a\n\n\u6574\u4e2a**\u5f0f\u5b50**\u7528**\u5b57\u7b26\u4e32**\u5b58\u8d77\u6765\uff0c**\u6700\u540e\u8f93\u51fa\u7684\u5206\u5b50\u548c\u5206\u6bcd**\u4e5f\u8981\u5b58\u4e00\u4e0b\u3002**\u6bcf\u4e2a\u5206\u6570\u7684\u5206\u5b50\u548c\u5206\u6bcd**\u8981\u7528\u6570\u7ec4\u5b58\uff0c\u4e3a\u4e86~~\u88c5\u4e2a13~~\u4f7f\u7528\u65b9\u4fbf\uff0c\u54b1\u5c31\u7528**\u52a8\u6001\u6570\u7ec4vector**\u5427\uff01\n\n\u597d\u591a\u670b\u53cb\u4eec\u90fd\u4e0d\u77e5\u9053vector\u548b\u7528\uff0c\u8fd9\u91cc\u6211\u5148\u4ecb\u7ecd\u4e00\u4e0b\uff1a\n\u5982\u679c\u89c1\u5230**STL**\u5c31\u4e0d\u60f3\u770b\u4e86\uff08\u5f53\u7136\uff0cc\u515a\u548cp\u515a\u6162\u8d70\u4e0d\u9001\uff09\uff0c\u6765\uff0c\u8ddf\u6211\u9ed8\u5ff5\u4e09\u904d\uff1a\n### vector\u53ea\u662f\u4e2a\u6570\u7ec4\uff01\n## vector\u53ea\u662f\u4e2a\u6570\u7ec4\uff01\uff01\n# vector\u53ea\u662f\u4e2a\u6570\u7ec4\uff01\uff01\uff01\n\u6211\u4eec\u7528vector\uff0c\u8fd8\u6709\u4e00\u4e2a\u539f\u56e0\u662f\u5b83\u662f\u4e00\u4e2a ~~\u5946\u4f6c~~ **\u52a8\u6001\u6570\u7ec4**\uff0c**\u957f\u5ea6\u662f\u53ef\u4ee5\u53d8\u7684\uff0c\u53ef\u4ee5\u8282\u7701\u5f88\u591a\u7a7a\u95f4**\u3002\u63a5\u4e0b\u6765\uff0c\u8ba9\u6211\u4eec\u6765\u5b66\u4e60\u4e00\u4e0bvector\u7684\u64cd\u4f5c\u5427\uff01\n|  |  |\n| :----------: | :----------: |\n| vector <int> wyx | \u5b9a\u4e49\u4e00\u4e2aint\uff08\u5f53\u7136\u53ef\u4ee5\u6362\u6210\u522b\u7684\uff09\u7c7b\u578b\u7684vector |\n| wyx[i] |\u8fd9\u4e2a\u548c\u666e\u901a\u6570\u7ec4\u4e00\u6837\uff0c\u4e0d\u89e3\u91ca  |\n| wyx.push_back(x) |\u4ecewyx\u5c3e\u90e8\uff08\u6ce8\u610f\u53ea\u80fd\u4ece\u5c3e\u90e8\uff09\u52a0\u4e00\u4e2a\u6570x  |\n| wyx.pop_back() | \u5220\u6389wyx\u5c3e\u90e8\uff08\u6700\u540e\u4e00\u4e2a\uff09\u7684\u5143\u7d20 |\n| wyx.size() | wyx\u4e2d\u7684\u5143\u7d20\u4e2a\u6570 |\n\n  ```cpp\nstring s;   //\u6574\u4e2a\u8ba1\u7b97\u7684\u5f0f\u5b50\nint fm_ans=1,fz_ans=0;  //\u6700\u540e\u8f93\u51fa\u7684\u5206\u5b50\u548c\u5206\u6bcd\uff0c\u6ce8\u610f\u5206\u6bcd\u521d\u59cb\u5316\u4e3a1\uff08\u540e\u9762\u8981\u627e\u6700\u5c0f\u516c\u500d\u6570\uff09\uff0c\u5206\u5b50\u521d\u59cb\u5316\u4e3a0\uff08\u56e0\u4e3a\u540e\u8fb9\u8981\u7d2f\u52a0\uff09\nvector <int> fz;  //\u6bcf\u4e2a\u5206\u6570\u7684\u5206\u5b50\nvector <int> fm;  //\u6bcf\u4e2a\u5206\u6570\u7684\u5206\u6bcd\n```\n\u63a5\u4e0b\u6765\u5c31\u662f~~\u6700\u96be\u7684~~\u5b57\u7b26\u4e32\u6a21\u62df\u90e8\u5206\u4e86\uff0c\u522b\u6025\uff0c\u8ddf\u6211\u7684\u601d\u8def\u8d70~\n  \n\u9996\u5148\uff0c**\u627e\u5230\u54ea\u4e00\u6bb5\u662f\u6570\u5b57\uff0c\u5e76\u4e14\u5224\u65ad\u662f\u5206\u5b50\u8fd8\u662f\u5206\u6bcd**\n  \n\u8fd9\u4e2a\u5f88\u7b80\u5355\u3002\u6211\u7684\u601d\u8def\u5982\u4e0b\uff1a**\u5728\u201c+\uff08-\uff09\u201d\u548c\u201c/\u201d\u4e2d\u95f4\u7684\u662f\u6570\u5b57\uff0c\u52a0\u51cf\u5728\u524d\u5c31\u662f\u5206\u5b50\uff0c\u5206\u6570\u7ebf\u5728\u524d\u5c31\u662f\u5206\u5b50**\n  \n\u5177\u4f53\u600e\u4e48\u627e\uff0cstring\u91cc\u5185\u7f6e\u7684**find\u51fd\u6570**\u5c31\u6d3e\u4e0a\u4e86\u5927\u7528\u573a\uff0c\u6211\u4eec**\u627e\u5230\u52a0\u51cf\u6216\u5206\u6570\u7ebf\u4e4b\u540e\u5c31\u628a\u5b83\u6362\u6210\u522b\u7684\u5b57\u7b26\uff0c\u65b9\u4fbffind\u518d\u53bb\u627e\u4e0b\u4e00\u4e2a**\u3002\u5faa\u73af\u7ec8\u6b62\u6761\u4ef6\u4e5f\u597d\u5199\u4e86\uff1a**\u5f53\u627e\u4e0d\u7740\u5206\u6570\u7ebf\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u8df3\u51fa\u5faa\u73af\u5566**\uff01\n  \n```cpp\n    cin>>s;\n    if(s[0]!='-')  //\u5982\u679c\u7b2c\u4e00\u4e2a\u6570\u4e0d\u662f\u8d1f\u6570\uff0c\u90a3\u5c31\u52a0\u4e2a\u6b63\u53f7\uff0c\u4ee5\u4fbf\u4ee5\u540e\u5904\u7406\n    s=\"+\"+s;\n    s=s+\"+\";  //\u540c\u7406\uff0c\u5728\u672b\u5c3e\u4e5f\u52a0\u4e2a+\u53f7\n    while(s.find(\"/\")!=-1){ //\u8fd8\u6709\u5206\u6570\u5c31\u5faa\u73af\u63a5\u7740\u627e\uff0c\u6ce8\u610ffind\u627e\u4e0d\u5230\u7684\u6761\u4ef6\u662f-1\n    \tint pos1=min(s.find(\"+\"),s.find(\"-\"));//+\u6216-\u7684\u4e0b\u6807\uff0c\u80af\u5b9a\u8981\u627e\u6700\u9760\u524d\u7684\u4e00\u4e2a\uff0c\u6240\u4ee5\u53d6\u6700\u5c0f\u503c\n    \tint pos2=s.find(\"/\");  //\u5206\u6570\u7ebf\u7684\u4f4d\u7f6e\n    \tint num; //\u627e\u5230\u7684\u6570\u5b57\uff08\u5206\u5b50\u6216\u5206\u6bcd\uff09\n\t\tif(pos1>pos2){ //\u5982\u679c\u5206\u6570\u7ebf\u6bd4\u52a0\u51cf\u53f7\u9760\u524d\n\t\t\tnum=getnum(pos2,pos1);  //\u8bfb\u53d6\u6570\u5b57\uff08\u6ce8\u610f\u54ea\u4e2a\u4f4d\u7f6e\u5728\u524d\uff09\n    \t   \t        fm_ans=zxgbs(fm_ans,num); //\u63a5\u7740\u627e\u516c\u5206\u6bcd\uff08\u524d\u9762\u6240\u6709\u6570\u7684\u6700\u5c0f\u516c\u500d\u6570\u548c\u73b0\u5728\u7684\u6570\u627e\u6700\u5c0f\u516c\u500d\u6570\uff09\n    \t                fm.push_back(num);  //\u628a\u65b0\u5206\u6bcd\u52a0\u8fdb\u53bb\n\t\t\ts[pos2]='%';\t//\u6362\u6210\u5176\u4ed6\u5b57\u7b26\uff0c\u8ba9find\u53bb\u627e\u4e0b\u4e00\u4e2a\n\t\t}\n\t\telse{  //\u5426\u5219\u5462\uff0c\u5c31\u662f\u5206\u5b50\n\t\t\tnum=getnum(pos1,pos2);  //\u8bfb\u53d6\u6570\u5b57\uff08\u6ce8\u610f\u54ea\u4e2a\u4f4d\u7f6e\u5728\u524d\uff09\n\t\t\tif(s[pos1]=='-')  //\u5982\u679c\u524d\u9762\u662f\u51cf\u53f7\u90a3\u4ed6\u5c31\u662f\u4e2a\u8d1f\u6570\n\t\t\tnum*=-1;\n\t\t\tfz.push_back(num);  //\u5206\u5b50\u52a0\u8fdb\u53bb\n\t\t\ts[pos1]='%';   //\u6362\u6210\u5176\u4ed6\u5b57\u7b26\uff0c\u8ba9find\u53bb\u627e\u4e0b\u4e00\u4e2a\n\t\t}\n\t}\n```\n\u8fd9\u6837\u4e00\u8d9f\u4e0b\u6765\uff0c\u6211\u4eec**\u628a\u5206\u5b50\u548c\u5206\u6bcd\u90fd\u5206\u522b\u5b58\u8d77\u6765**\u5566\uff0c\u987a\u9053**get\u5230\u4e86\u516c\u5206\u6bcd**\uff0c\u63a5\u4e0b\u6765\u5c31\u662f**\u628a\u5206\u5b50\u901a\u5206\u4ee5\u53ca\u6700\u540e\u7684\u8f93\u51fa\u5566**\u3002\u4f46\u662f\u5751\u70b9\u6765\u4e86\uff1a\u5206\u6bcd\u4e5f\u53ef\u80fd\u4f1a\u6709\u8d1f\u7684\uff0c\u6240\u4ee5\u8981\u628a\u7b26\u53f7\u8f6c\u79fb\u5230\u5206\u5b50\u4e0a\uff0c\u6211\u8fd9\u91cc\u662f\u8fd9\u6837\u5224\u65ad\u7684\uff1a**\u53ea\u8981\u6709\u8d1f\u53f7\u90a3\u5c31\u5148\u8f93\u51fa\uff0c\u4e4b\u540e\u8f93\u51fa\u5206\u5b50\u5206\u6bcd\u7684\u65f6\u5019\u7ed9\u5b83\u53d6\u4e2a\u7edd\u5bf9\u503c**\uff01\u6ce8\u610f\u5230\u8fd9\u4e00\u70b9\uff0c\u518d\u6839\u636e\u524d\u9762\u603b\u7ed3\u7684\u601d\u8def\uff0c\u4ee3\u7801\u5e94\u8be5\u4e0d\u96be\u5199\uff1a\n  \n```cpp\n\tfor(int i=0;i<fz.size();i++)  \n\tfz_ans+=fz[i]*fm_ans/fm[i];  //\u5206\u6bcd\u548c\u516c\u5206\u6bcd\u5dee\u591a\u5c11\uff0c\u54b1\u5206\u5b50\u5c31\u4e58\u591a\u5c11\n\tint yf=gcd(fz_ans,fm_ans);  //\u7ea6\u5206\u65f6\u8981\u9664\u7684\u6570\uff0c\u4e5f\u5c31\u5c31\u662f\u5206\u5b50\u548c\u5206\u6bcd\u7684\u6700\u5927\u516c\u56e0\u6570\n\tfm_ans/=yf;  //\u7ea6\u5206\u7ea6\u5206\u7ea6\u5206\n\tfz_ans/=yf;  //\u7ea6\u5206\u7ea6\u5206\u7ea6\u5206\n\tif(fz_ans<0||fm_ans<0)  //\u5982\u679c\u662f\u8d1f\u6570\n\tcout<<\"-\";  //\u8f93\u51fa\ufe63\u53f7\n\tcout<<abs(fz_ans);  //\u5206\u5b50\n\tif(fm_ans!=1)  //\u5982\u679c\u5206\u6bcd\u662f1\u5c31\u4e0d\u8f93\u51fa\u4e86\n\tcout<<\"/\"<<abs(fm_ans);  //\u4e0d\u662f1\u5c31\u8f93\u51fa\u5206\u6bcd\u5457\n```\n\u628a\u4ee5\u4e0a\u8fd9\u51e0\u5757\u62fc\u8d77\u6765\uff0c\u5c31\u662f\u5b8c\u6574AC\u4ee3\u7801\u5566\uff01\u8fd9\u91cc\u6211\u5c31\u4e0d\u653e\u4e86......\u7b97\u4e86\uff0c\u6211\u8fd8\u662f\u653e\u4e00\u4e0b\u5427~\n\n ```cpp\n#include<iostream>\n#include<cstring> //\u5b57\u7b26\u4e32\uff01 \n#include<cmath>  //\u53d6\u7edd\u5bf9\u503c\uff01\n#include<vector>  //vector!\nusing namespace std;\n//\u4ee5\u4e0b\u5c31\u4e0d\u5199\u6ce8\u91ca\u4e86\uff0c\u524d\u9762\u6ce8\u91ca\u7684\u5df2\u7ecf\u5f88\u5b8c\u6574\u4e86  \nstring s;\nint fm_ans=1,fz_ans=0;\nvector <int> fz;\nvector <int> fm;\nint gcd(int a,int b){\n\tif(b==0)return a;\n\telse return gcd(b,a%b); \n}\nint zxgbs(int a,int b){\n\treturn a*b/gcd(a,b);\n}\nint getnum(int l,int r){\n\tint cnt=0;\n\tfor(int i=l+1;i<r;i++){\n\t\tcnt=cnt*10+s[i]-'0';\n\t}\n\treturn cnt;\n}\nint main(){\n    cin>>s;\n    if(s[0]!='-')\n    s=\"+\"+s;\n    s=s+\"+\";\n    while(s.find(\"/\")!=-1){\n    \tint pos1=min(s.find(\"+\"),s.find(\"-\"));\n    \tint pos2=s.find(\"/\");\n    \tint num;\n\t\tif(pos1>pos2){\n\t\t\tnum=getnum(pos2,pos1);\n    \t    fm_ans=zxgbs(fm_ans,num);\n    \t    fm.push_back(num); \n\t\t\ts[pos2]='%';\t\n\t\t}\n\t\telse{\n\t\t\tnum=getnum(pos1,pos2);\n\t\t\tif(s[pos1]=='-')\n\t\t\tnum*=-1;\n\t\t\tfz.push_back(num);\n\t\t\ts[pos1]='%'; \n\t\t}\n\t}\n\tfor(int i=0;i<fz.size();i++)\n\tfz_ans+=fz[i]*fm_ans/fm[i];\n\tint yf=gcd(fz_ans,fm_ans);\n\tfm_ans/=yf;\n\tfz_ans/=yf;\n\tif(fz_ans<0||fm_ans<0)\n\tcout<<\"-\";\n\tcout<<abs(fz_ans);\n\tif(fm_ans!=1)\n\tcout<<\"/\"<<abs(fm_ans);\n\treturn 0;\n} \n```\n\nThe  end~\n\n                           \n                           \n\u597d\u5427\u8fd8\u6ca1\u5b8c\uff0c\u7ed9\u5927\u5bb6\u63a8\u8350\u4e00\u9053\u7c7b\u4f3c\u7684\u9898\u76ee\u8ba9\u5927\u5bb6\u7ec3\u7ec3\u6280\u5de7\uff1a\n                           \n\u662f\u5b83\u662f\u5b83\u5c31\u662f\u5b83\uff01[P1022 \u8ba1\u7b97\u5668de\u6539\u826f](https://www.luogu.com.cn/problem/P1022)\n                           \n~~P.S.:\u6211\u7adf\u7136A\u4e86\u4e00\u9053wyx\u5927\u4f6c\uff08\u6682\u65f6\uff09\u8fd8\u6ca1AC\u7684\u9898\uff01\u723d\uff01~~\n\n \u597d\u4e86\u8fd9\u56de\u771f\u7684\u6ca1\u5566~~~",
        "postTime": 1577887946,
        "uid": 239405,
        "name": "yangrunze",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u8fd9\u9898\u53ef\u4ee5\u7528\u6765\u7ec3\u4e60\u5b57\u7b26\u4e32\u3002\u521a\u8f6cC++\u5b57\u7b26\u4e32\u53ef\u80fd\u7528\u7684\u4e0d\u592a\u987a\u8bf7\u5de8\u7237\u4eec\u4e0d\u8981\u5410\u69fd\n\n~~\u8fd9\u9898\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u7528\u5b57\u7b26\u4e32\u8bfb\u8fdb\u6765weisuo\u4e00\u904d\u5c31\u597d\u4e86~~\n\n\u9996\u5148\u5224\u65ad\u7b2c\u4e00\u4e2a\u7b26\u53f7\uff0c\u5982\u679c\u4e0d\u662f\u8d1f\u53f7\u5c31\u52a0\u4e0a\u4e00\u4e2a\u2018+\u2019\u8fd9\u6837\u53ef\u4ee5\u4f7f\u7b2c\u4e00\u4e2a\u4e0e\u5176\u4ed6\u7684\u6ca1\u6709\u533a\u522b\uff0c\u5c31\u4e0d\u7528\u7279\u5224\u4e86\u3002\n\n\u7136\u540e\u53bb\u622a\u5206\u6570\uff0c\u628a\u6bcf\u4e2a\u5206\u6570\u7684\u5206\u6bcd\u548c\u5206\u5b50\u5206\u522b\u622a\u51fa\u3002\u627e\u5230\u7528gcd\u627e\u51fa\u5206\u6bcd\u7684\u6700\u5c0f\u516c\u500d\u6570,\u7136\u540e\u7b97\u51fa\u5206\u522b\u9700\u8981\u4e58\u4ee5\u51e0\uff0c\u628a\u5206\u5b50\u4e58\u4e0a\u8fd9\u4e2a\u6570\uff0c\u90a3\u4e48\u5b83\u4eec\u7684\u5206\u6bcd\u5c31\u4e00\u6837\u4e86\uff0c\u7136\u540e\u518d\u8fdb\u884c\u52a0\u51cf\u6cd5\uff0c\u5c31\u53c8\u5f97\u5230\u4e00\u4e2a\u5206\u6570\uff0c\u7136\u540e\u4e00\u4e00\u548c\u622a\u51fa\u6765\u7684\u5206\u6570\u8fdb\u884c\u52a0\u51cf\u6cd5\u5c31\u597d\u4e86\u3002\n\n\u6700\u540e\u7528gcd\u5316\u6210\u6700\u7b80\u5206\u6570\u5c31\u597d\u4e86 \n\n~~\u6ca1\u6709\u4efb\u4f55\u95ee\u9898~~\n\n\u6709\u51e0\u4e2a\u5751\u70b9\uff0c\u521a\u5f00\u59cb\u90fd\u88ab\u5751\u8fdb\u53bb\u4e86\u3002\n\n### 1 \u5982\u679c\u5206\u6bcd\u4e3a1\u65f6\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u8f93\u51fa\u5206\u6570\uff0c\u76f4\u63a5\u6574\u6570\uff0c\u521a\u5f00\u59cb\u6ca1\u770b\u6e05\u9898\u76ee\u76f4\u63a5\u505a\u4e86\u3002\n### 2 \u5982\u679c\u5206\u6bcd\u4e3a\u8d1f\u6570\u65f6\uff0c\u90a3\u4e48\u628a\u5206\u5b50\u5206\u6bcd\u8f6c\u4e3a\u76f8\u53cd\u6570\u3002\n\n~~\u7136\u540e\u5c31\u666e\u666e\u901a\u901a\u7684\uff21\u4e86~~\n\n```cpp\n//shang\u662f\u4ee3\u8868\u6700\u540e\u7b54\u6848\u7684\u5206\u5b50\n//xia\u662f\u4ee3\u8868\u6700\u540e\u7b54\u6848\u7684\u5206\u6bcd\n//xians\u662f\u4ee3\u8868\u73b0\u5728\u8fd9\u4e2a\u5206\u5f0f\u7684\u5206\u5b50\n//xianx\u662f\u4ee3\u8868\u73b0\u5728\u8fd9\u4e2a\u5206\u5f0f\u7684\u5206\u6bcd\n//chey(chenyuan)\u662f\u4ee3\u8868\u539f\u6765\u8fd9\u4e2a\u7b54\u6848\u5e94\u8be5\u8981\u4e58\u4ee5\u591a\u5c11\n//chex(chenxian)\u662f\u4ee3\u8868\u8fd9\u4e2a\u5206\u5f0f\u5e94\u8be5\u8981\u4e58\u4ee5\u591a\u5c11\n\n#include <cstdio>\n#include <cmath>\n#include <iostream>\n#include <cstring>\n#include <string>//\u849f\u84bb\u4e0d\u6253\u4e07\u80fd\u5934\n\nusing namespace std;\n\nstring s;\n\nint sj(){//\u622a\u51fa\u5206\u5b50\n\tint ans=0;\n\tint i;\n\tfor (i=0;i<=s.length();i++){\n\t\tif (s[i]=='/') break;//\u5982\u679c\u9047\u5230'/'\u4ee3\u8868\u5206\u5b50\u7ed3\u675f\n\t\tans=ans*10+s[i]-'0';\n\t}\n\ts=s.substr(i+1,s.length()-i);//\u628a\u5206\u5b50\u8fd9\u4e00\u90e8\u5206\u53bb\u6389\n\treturn ans;\n}\n\nint sjj(){//\u622a\u51fa\u5206\u6bcd\n\tint ans=0;\n\tint i;\n\tfor (i=0;i<=s.length();i++){\n\t\tif (s[i]=='A') break;\n\t\tif (s[i]=='+') break;\n\t\tif (s[i]=='-') break;//\u5982\u679c\u9047\u5230\u7b26\u53f7\u6216\u8005\u7ed3\u675f\u7b26\u662f\u5c31\u4ee3\u8868\u5206\u6bcd\u7ed3\u675f\n\t\tans=ans*10+s[i]-'0';\n\t}\n\ts=s.substr(i,s.length()-i+1);//\u628a\u5206\u6bcd\u53bb\u4e86\n\treturn ans;\n}\nint gcd(int x,int y){\n\treturn x%y==0?y:gcd(y,x%y);\n}\nint main(){\n\tint shang=0;\n\tint xia=1;\n\tcin >> s;\n\tif (s[0]!='-')\n\t\ts='+'+s;//\u5982\u679c\u521a\u5f00\u59cb\u6ca1\u6709\u7b26\u53f7\u5c31\u6dfb\u4e0a'+'\n\ts=s+'A';//'A'\u4e3a\u7ed3\u675f\u7b26\n\twhile (s!=\"A\"){\n\t\tint f=-1;\n\t\tif (s[0]=='+') {\n\t\t\tf=1;\n\t\t}//f\u4e3a\u7b26\u53f7\uff0c\u6a21\u4eff\u5feb\u8bfb\n\t\ts=s.substr(1,s.length()-1);//\u628a\u7b26\u53f7\u53bb\u6389\n\t\tint xians=f*sj(),xianx=sjj();//\u622a\u5206\u5b50\u5206\u6bcd\n\t\tint k=xianx*xia/gcd(xianx,xia);//\u6700\u5c0f\u516c\u500d\u6570\n\t\tint chey=k/xia,chex=k/xianx;//\u7b97\u51fa\u81f3\u5c11\u9700\u8981\u4e58\u4ee5\u591a\u5c11\n\t\txia=k;\n\t\tshang=chey*shang+chex*xians;//\u5408\u5e76\u5b8c\u6210\n\t\tk=gcd(shang,xia);\n\t\tshang/=k;\n\t\txia/=k;//\u628a\u5206\u5f0f\u5316\u7b80\n\t}\n\tif (xia<0){//\u5206\u6bcd\u4e0d\u80fd\u4e3a\u8d1f\u6570\n\t\tshang*=-1;\n\t\txia*=-1;\n\t}\n\txia==1?printf(\"%d\",shang):printf(\"%d/%d\",shang,xia);//\u5982\u679c\u662f\u6574\u6570\uff0c\u5c31\u4e0d\u8981\u8f93\u51fa\u5206\u6bcd\n}\n```\n\n\u8fd9\u9898\u5176\u5b9e\u662f\u968f\u673a\u8df3\u9898\u5237\u51fa\u6765\u7684\uff0c\u6628\u5929\u521a\u597d\u505a\u8fc7\u4e00\u9898\u548c\u8fd9\u9898\u5dee\u4e0d\u591a\u7684[non hates math](https://www.luogu.org/problemnew/show/P2399)\u7136\u540e\u8fd9\u9898\u5c31\u60f3\u90fd\u6ca1\u60f3\u76f4\u63a5\u505a\u4e86\u3002\u53d1\u9898\u89e3\u7684\u987a\u95f4\u53d1\u73b0\u5176\u5b9e\u53ef\u4ee5\u66f4\u52a0\u7b80\u5355\u8fde\u5b57\u7b26\u4e32\u90fd\u4e0d\u9700\u8981\u3002\u770b\u6765\u81ea\u5df1\u8fd8\u662f\u8981\u591a\u591a\u5b66\u4e60julao\u3002\n\n\u5728\u6b64\u5411\u5404\u4f4djulao\u81f4\u656c",
        "postTime": 1549623272,
        "uid": 46586,
        "name": "to_be_continued",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u5b57\u7b26\u4e32\u5927\u6a21\u62df\u7eaf\u66b4\u529b\u5199\u6cd5QAQ\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\n## \u601d\u8def\uff1a\n### \u2460\u65e2\u7136\u8981\u628a\u8fd9\u4e9b\u5206\u6570\u52a0\u8d77\u6765\u5c31\u8981\u5224\u65ad\u597d\u5206\u6bcd\u5206\u5b50\u3002\n\u5728\u8fd9\u91cc\u6211\u4eec\u628a\u6240\u6709\u6570\u5b58\u5165\u4e00\u4e2a\u4e13\u95e8\u7684\u6570\u7ec4\uff0c\u8f93\u5165\u683c\u5f0f\u5df2\u7ecf\u786e\u5b9a\uff0c\u90a3\u5c31\u662f\n ### \u6570\u5b57---\u2018/\u2019---\u6570\u5b57---\u2018+\u6216-\u2019\u3002\n \u6211\u4eec\u628a\u6240\u6709\u76f8\u8fde\u7684\u6570\u5b57\u770b\u4e3a\u4e00\u4e2a\u7f16\u53f7\uff0c\u2018+\u6216-\u2019\u6240\u5bf9\u5e94\u7684\u7f16\u53f7\u4e00\u5b9a\u662f3+4*n\uff08n>=0\uff09\uff08\u4ece0\u5f00\u59cb\u7f16\u53f7\uff09\u8ba1\u7b97\u662f\u53ea\u9700\u8ba1\u7b97\u2018+\u6216-\u2019\u524d\u9762\u4e24\u4e2a\u6570\u5b57\u4e32\u548c\u540e\u9762\u4e24\u4e2a\u6570\u5b57\u4e32\u6240\u7ec4\u6210\u7684\u5206\u6570\u5373\u53ef\u3002\n### \u2461\u5206\u6570\u8ba1\u7b97\u8981\u901a\u5206\u3002\n\u6211\u91c7\u7528\u7684\u8ba1\u7b97\u65b9\u6cd5\u662f \uff08\u5206\u5b501\u00d7\u5206\u6bcd2+\u5206\u5b502\u00d7\u5206\u6bcd1\uff09/\uff08\u5206\u6bcd1\u00d7\u5206\u6bcd2\uff09\uff0c\u4e5f\u662f\u6700\u76f4\u63a5\u7684\u8ba1\u7b97\u65b9\u6cd5\uff0c\u6700\u540e\u5206\u5b50\u5206\u6bcd\u5728\u540c\u65f6\u9664\u4ee5\u516c\u56e0\u6570\u5373\u53ef\u3002\n### \u2462\u5224\u8d1f\u5f88\u5173\u952e\u3002\n\u56e0\u4e3a\u4e24\u4e2a\u5206\u6570\u8ba1\u7b97\u540e\u4e0d\u4e00\u5b9a\u662f\u6b63\u7684\uff0c\u6240\u4ee5\u8981\u5224\u65ad\u597d\u8d1f\u53f7\u51fa\u73b0\u7684\u60c5\u51b5\u3002\n### \u2463\u6574\u6570\u8f93\u51fa\u3002\n\u5982\u679c\u4e00\u4e2a\u5206\u6570\u7684\u5206\u6bcd==1\uff0c\u90a3\u4e48\u76f4\u63a5\u8f93\u51fa\u5206\u5b50\u5c31\u597d\u4e86\u3002\uff08\u5728\u5206\u6570\u5316\u7b80\u5b8c\u5168\u7684\u60c5\u51b5\u4e0b\uff09\n## \u9644AC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nchar a[101];\nint b[101],num,num1;\nint gcd(int x,int y)\n{\n\treturn y==0?x:gcd(y,x%y);\n}// \u6c42\u6700\u5927\u516c\u56e0\u6570\u3002\nint ans=1;\nint main()\n{\n\tcin>>a;\n\tint lena=strlen(a);\n\tfor(int i=0;i<lena;i++)\n\t{\n\t\tif(a[i]>='0'&&a[i]<='9')\n\t\t{\n\t\t\tb[num]=b[num]*10+a[i]-'0';\n\t\t}\n\t\telse num++;\n\t}// \u628a\u6570\u5b57\u5168\u90fd\u5265\u79bb\u5f00\u6765\uff0c\u5b58\u653e\u5165\u4e00\u4e2a\u65b0\u7684\u6570\u7ec4\u4e2d\u3002\n\tfor(int i=0;i<lena;i++)\n\t{\n\t\tif(a[i]=='+')\n\t\t{\n\t\t\tint p=2*num1;// \u2018+\u2019\u53f7\u548c\u2018-\u2019\u53f7\u4e00\u5b9a\u51fa\u73b0\u5728\u6bcf\u56db\u4e2a\u6570\u5b57\u7684\u4e2d\u95f4\u4f4d\u7f6e\u3002\n\t\t\tnum1++;\n\t\t\tb[p+2]=b[p]*b[p+3]*ans+b[p+2]*b[p+1];\n\t\t\tb[p+3]*=b[p+1];\n            \t// \uff08\u5206\u5b501*\u5206\u6bcd2+\u5206\u5b502*\u5206\u6bcd1\uff09/\uff08\u5206\u6bcd1*\u5206\u6bcd2\uff09,\u8ba1\u7b97\u65b9\u6cd5\u3002 \n\t\t\tif(b[p+2]<0) ans=-1,b[p+2]*=-1;\n\t\t\telse ans=1;// \u5224\u8d1f\u6761\u4ef6\u3002\n\t\t\tint k=gcd(b[p+3],b[p+2]);\n\t\t\twhile(k!=1)\n\t\t\t{\n\t\t\t\tb[p+3]/=k;b[p+2]/=k;\n\t\t\t\tk=gcd(b[p+3],b[p+2]);\n\t\t\t}\n\t\t\t\n\t\t}\n\t\tif(a[i]=='-')\n\t\t{\n\t\t\tint p=2*num1;\n\t\t\tnum1++;\n\t\t\tb[p+2]=b[p]*b[p+3]*ans-b[p+2]*b[p+1];\n\t\t\tb[p+3]*=b[p+1];\n\t\t\tif(b[p+2]<0) ans=-1,b[p+2]*=-1;\n\t\t\telse ans=1;\n\t\t\tint k=gcd(b[p+3],b[p+2]);\n\t\t\twhile(k!=1)\n\t\t\t{\n\t\t\t\tb[p+3]/=k;b[p+2]/=k;\n\t\t\t\tk=gcd(b[p+3],b[p+2]);\n\t\t\t}\n\t\t}\n\t}\n\tif(ans==-1) cout<<'-';// \u5982\u679c\u6700\u7ec8\u7ed3\u679c\u662f\u8d1f\u7684\uff0c\u8981\u5148\u8f93\u51fa\u4e00\u4e2a\u2018-\u2019\u53f7\u3002\n\tint k=gcd(b[2*num1],b[2*num1+1]);\n\tb[2*num1]/=k;b[2*num1+1]/=k;\n\tcout<<b[2*num1];\n\tif(b[2*num1+1]!=1) cout<<'/'<<b[2*num1+1];// \u5224\u65ad\u662f\u5426\u4e3a\u6574\u6570\u8f93\u51fa\u3002\n\treturn 0;\n}// AC\uff01\uff01\n```",
        "postTime": 1544262201,
        "uid": 113368,
        "name": "\u9ad8\u6728\u6728",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "#### \u524d\u8a00\n\n\u8fd9\u9053\u9898\u600e\u4e48\u5c31\u9ec4\u9898\u96be\u5ea6\u4e86\uff1f\u6211\u5bfb\u601d\u8fd9\u9898\u5e94\u8be5\u666e\u53ca-\u96be\u5ea6\u624d\u5bf9\u7684\u5427...\n\n#### \u601d\u8def\n\n\u8fd9\u9898\u7684\u89e3\u9898\u601d\u8def...\u5c31\u5982\u540c\u505a\u5c0f\u5b66\u6570\u5b66\u9898\u5dee\u4e0d\u591a\uff0c\u53ea\u8981\u628a\u5206\u6570\u5168\u90e8\u901a\u5206\u5373\u53ef...\u662f\u4e00\u9053\u7b80\u5355\u7684\u6a21\u62df\n\n#### \u9884\u5904\u7406\n\n\u7531\u9898\u53ef\u77e5\u6211\u4eec\u9700\u8981\u5e94\u5bf9\u52a0\u4e0a\u5206\u6570\u548c\u51cf\u4e0a\u5206\u65702\u79cd\u4e0d\u540c\u7684\u60c5\u51b5\uff0c\u7528\u6570\u7ec4\u8bb0\u5f55\u52a0\u51cf\u60c5\u51b5\u5373\u53ef\u3002\u53e6\u5916\u8bfb\u5165\u6570\u5b57\u7b49\u64cd\u4f5c\u4e5f\u662f\u5b57\u7b26\u4e32\u7684\u57fa\u7840\uff0c\u4e0d\u8fc7\u5f53\u5fc3\u6700\u540e\u4e00\u4e2a\u5206\u6570\u7684\u5206\u6bcd\u53ef\u80fd\u6ca1\u6709\u653e\u8fdb\u6570\u7ec4\u91cc\u9762\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\n\tfor(int i=start;i<s.size();++i)\n\t\tif(isdigit(s[i])) x=x*10+s[i]-'0';\n\t\telse\n\t\t{\n\t\t\tswitch(s[i])\n\t\t\t{\n\t\t\t\tcase '/':fenzi[len]=x; x=0; break;\n\t\t\t\tcase '+':fenmu[len]=x; x=0; len++; c[len]=1; break;\n\t\t\t\tcase '-':fenmu[len]=x; x=0; len++; c[len]=-1; break;\n\t\t\t}\n\t\t}\n       fenmu[len]=x;\n```\n#### \u901a\u5206\n\n\u53ea\u8981\u8ba1\u7b97$LCM( fenmu[1],fenmu[2]...fenmu[len])$\u5c31\u884c\u3002\uff08LCM\u5373\u4e3a\u6700\u5c0f\u516c\u500d\u6570\u7684\u82f1\u6587\u7f29\u5199\uff09\n\n\u800c\u6211\u4eec\u8fd0\u7528\u5c0f\u5b66\u6570\u5b66\u77e5\u8bc6\u5c31\u53ef\u4ee5\u77e5\u9053\uff0c$LCM(x,y)=x*y/gcd(x,y)$ \u8fd0\u7528\u8fd9\u4e00\u70b9\u53ef\u4ee5\u66f4\u5feb\u5730\u7b97\u51fa\u8fd9\u4e00\u5806\u5206\u6bcd\u7684\u6700\u5c0f\u516c\u500d\u6570\uff0c\u5373\u603b\u5206\u6bcd\u3002\n\n\u7136\u540e\u5c31\u53ef\u4ee5\u8fd0\u7528\u5c0f\u5b66\u77e5\u8bc6\u8f7b\u677e\u7b97\u51fa\u603b\u5206\u5b50\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\n\tlong long sum=fenmu[1],zongfenzi=0;\n\tfor(int i=2;i<=len;++i)\n\t\tsum=lcm(sum,fenmu[i]);\n\tfor(int i=1;i<=len;++i)\n\t{\n\t\tzongfenzi+=sum/fenmu[i]*fenzi[i]*c[i];\t\n\t}\n```\n\n#### \u7ea6\u5206\n\n\u6700\u540e\u5c31\u662f\u7ea6\u5206...\u603b\u5206\u6bcd\u4e0e\u603b\u5206\u5b50\u5171\u540c\u9664\u4ee5\u5b83\u4eec\u7684\u6700\u5927\u516c\u7ea6\u6570\u5c31\u53ef\u4ee5\u5b8c\u6210\u4e86\u3002\u4e0d\u8fc7\u8981\u5c0f\u5fc3\u7684\u5c31\u662f\uff0c\u603b\u5206\u6bcd\u6709\u53ef\u80fd\u662f\u8d1f\u6570...\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```\n\tlong long why=gcd(sum,zongfenzi);\n\tif(why==sum)\n\t{\n\t\tcout<<zongfenzi/sum;\n\t\treturn 0;\n\t}\n\tlong long zfz=zongfenzi/why,zfm=sum/why;\n\tif(zfm<0)\n\t\tzfm=0-zfm,zfz=0-zfz;\n\tcout<<zfz<<\"/\"<<zfm;\n```\n\n\n\u7136\u540e\u8fd9\u9053\u6c34\u9898\u5c31\u8fd9\u4e48\u5b8c\u6210\u4e86",
        "postTime": 1545536234,
        "uid": 90285,
        "name": "\u2468baka",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u672c\u6765\u662f\u4e00\u9053\u7b80\u5355\u7684\u6a21\u62df\u9898\uff0c\u5374\u88ab\u697c\u4e3b\u505a\u7684\u6c57\u989c\u554a\u3002\u3002\n\n\u603b\u7ed3\u51e0\u4e2a\u95ee\u9898\uff1a\n\n- \u6c42\u6700\u5927\u516c\u7ea6\u6570\u65f6\u8981\u53d6\u7edd\u5bf9\u503c\n\n- \u5206\u5b50\u5206\u6bcd\u53ef\u80fd\u4e0d\u53ea\u662f\u4e2a\u4f4d\u6570\uff0c\u6ce8\u610f\u5224\u65ad\n\n- \u6574\u6570\u4e0d\u80fd\u4ee5\u5206\u6570\u5f62\u5f0f\u8f93\u51fa\n\n\u5e9f\u8bdd\u4e0d\u591a\u8bf4\uff0c\u4e0a\u4ee3\u7801\uff1a\n\n\uff09\uff09\u9003\uff09\uff09\n\n```cpp\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint ans;\nstruct node{\n    int x;int y;\n}a[105];//x\u4e3a\u5206\u5b50\uff0cy\u4e3a\u5206\u6bcd\uff1b \nint gcd(int a,int b){\n    int minn,maxn;\n     maxn=max(abs(a),abs(b));minn=min(abs(a),abs(b));\n     if(maxn%minn==0)\n          return minn;\n     else\n         return gcd(minn,maxn%minn);\n```\n}//\u6c42\u6700\u5927\u516c\u7ea6\u6570\uff08\u5176\u5b9ea\\*b/gcd\uff08a\uff0cb\uff09\u53ef\u4ee5\u6c42\u51fa\u6700\u5c0f\u516c\u500d\u6570\uff09\n//\u53e6\u5916abs\u662f\u53d6\u7edd\u5bf9\u503c\uff0c\u5fc5\u52a0\uff0c\u5426\u5219\u4f1a\u6709\u7384\u5b66\u95ee\u9898..\n\n```cpp\nint main( ){\n    int  m,n,j,k,i,temp=0,flag=1,x_y=1;\n    char s[1010];int cnt=1,cnt2=1;\n    while(scanf(\"%c\",&s[cnt])!=EOF){\n        if(s[cnt]>=48 && s[cnt]<=57){\n            temp=temp*10+flag*(s[cnt]-48);\n            //temp\u7528\u6765\u6682\u65f6\u5b58\u50a8\u5206\u5b50\u503c\u4e0e\u5206\u6bcd\u503c\uff1b\n            //flag\u8868\u793a\u6b63\u8d1f \n        }\n        else if(s[cnt]=='/'){\n            a[cnt2].x=temp;temp=0;flag=1;\n        }\n        else if(s[cnt]=='-'){\n            a[cnt2].y=temp;\n            temp=0;cnt2++;flag=-1;\n        }\n        else if(s[cnt]=='+'){\n            a[cnt2].y=temp;\n            temp=0;cnt2++;flag=1;\n        }\n        cnt++;\n    }\n    a[cnt2].y=temp;\n    int gcd_max=a[1].y;//\u8fd9\u91cc\u8981\u6ce8\u610f\uff0c\u56e0\u4e3a\u8bfb\u5230EOF\u540e\u5c31\u76f4\u63a5\u8df3\u51fa\uff0c\u6ca1\u6709\u50a8\u5b58\u6700\u540e\u4e00\u4e2a\u5206\u6bcd \n    for(i=2;i<=cnt2;i++){\n        gcd_max=(a[i].y*gcd_max)/gcd(a[i].y,gcd_max);\n    }\n    for(i=1;i<=cnt2;i++){ \n        int p=gcd(a[i].x,a[i].y);\n        a[i].x=a[i].x/p;\n        a[i].y=a[i].y/p;//\u7ea6\u5206 \n        a[i].x*=(gcd_max/a[i].y);//\u901a\u5206\uff1b \n        ans+=a[i].x;\n    }\n    if(gcd_max/gcd(ans,gcd_max)==1)\n        printf(\"%d\\n\",ans/gcd(ans,gcd_max));\n    //\u7279\u5224\u4e3a\u6574\u6570\u7684\u60c5\u51b5 \n    else printf(\"%d/%d\\n\",ans/gcd(ans,gcd_max),gcd_max/gcd(ans,gcd_max));\n    return 0;\n}\n```",
        "postTime": 1497515092,
        "uid": 43252,
        "name": "ABCDXYZ",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "```cpp\n/*\u5f88\u5947\u602a\u7684\u662f\u5f00\u5934\u7684\u90a3\u4e2a\u5206\u6570\u5c45\u7136\u6ca1\u6709\u4e00\u4e2a\u70b9\u52a0\u8d1f\u53f7\uff01\u7ba1\u7406\u5458\uff0c\u6570\u636e\u9700\u8981\u52a0\u5f3a\uff01*/\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint fz[26],fm[26],ans=0,num=0,zz=0,bbb=0,ccc=0;                                           //fz\u5b58\u6240\u6709\u5206\u5b50,fm\u5b58\u6240\u6709\u5206\u6bcd,ans\u662f\u5224\u65ad,num\u662f\u6bcf\u4e2a\u6570\u503c\u7684\u53d6\u503c,zz\u662f\u5206\u6570\u6570\u91cf,bbb\u662f\u6700\u7ec8\u5206\u5b50,ccc\u662f\u6700\u7ec8\u5206\u6bcd. \nchar poj[26];string js;                                                                   //poj\u662f+\u6216-\u7b26\u53f7,js\u5c31\u662f\u8f93\u5165\u5566 \nint z(int a,int b)                                                                        //\u5c0f\u8fc7\u7a0b\uff1a\u6700\u5c0f\u516c\u500d\u6570 \n{\n    int c=a,d=b,r,t;                                                                      //\n    if(a<b)t=a,a=b,b=t;                                                                   //\n    while(r=a%b)a=b,b=r;                                                                  //\u8f97\u8f6c\u76f8\u9664\u6cd5 \n    return c*d/b;                                                                         //\n}\nint p(int k,int y)                                                                        //\u5c0f\u8fc7\u7a0b\uff1a\u66b4\u529b\u6d88\u9664\u56e0\u6570 \n{\n    for(int i=y;i>1;i--)if(k%i==0&&y%i==0)k/=i,y/=i;                                      //\u4ece\u6700\u5927\u5f00\u59cb\u4ee5\u514d\u591a\u6b21\u64cd\u4f5c\uff08\u5e76\u65e0\u5375\u7528\uff09 \n    bbb=k,ccc=y;                                                                          //\u590d\u5236\u51fa\u53bb\uff0c\u65e0\u6cd5\u4f202\u4e2a\u503c\uff08Of course\u8fd9\u662f\u849f\u84bb\u505a\u6cd5\uff09 \n    if(bbb%ccc==0)ans=1,bbb=bbb/ccc;                                                      //\u5f53\u7136\u5982\u679c\u80fd\u6574\u9664\u5c31\u66f4\u6539\u5224\u65ad \n}\nint main()\n{\n    cin>>js;                                                                              //\u8f93\u5165 \n    for(int i=0;i<js.size();i++)                                                          //\u5faa\u73af\u5206\u79bb\u5206\u5b50\u5206\u6bcd \n    {\n        num+=js[i]-48;                                                                    //\u5148\u52a0\u4e2a\u5f00\u5934\u7684\u6570 \n        while(js[++i]!='/')num=num*10+js[i]-48;                                           //\u7ee7\u7eed\u627e\u56de\u6574\u4e2a\u5206\u5b50 \n        fz[++zz]=num,num=0;                                                               //\u5b58\u5728\u5206\u5b50\u4e2d\uff0c\u7f6e\u96f6 \n        num+=js[++i]-48;                                                                  //\u518d\u52a0\u4e2a\u5f00\u5934\uff08\u6ce8\u610f\u9664\u53f7\uff09 \n        while(js[++i]>47&&js[i]<58)num=num*10+js[i]-48;                                   //\u540e\u9762\u4e07\u4e00\u662f\u52a0\u53f7\uff1f\u6216\u662f\u51cf\u53f7\uff1f \n        fm[zz]=num,num=0;                                                                 //\u5b58\u5728\u5206\u6bcd\u4e2d\uff0c\u7f6e\u96f6 \n        poj[zz]=js[i];                                                                    //\u6dfb\u5165\u7b26\u53f7\n    }\n    int zx=fm[1],to=0;for(int i=2;i<=zz;i++)zx=z(zx,fm[i]);                               //zx\u662f\u6240\u6709\u5206\u6bcd\u7684\u6700\u5c0f\u516c\u500d\u6570\uff08\u66b4\u529b\u6c42\u89e3\uff09 \n    to=fz[1]*(zx/fm[1]);                                                                  //\u52a0\u4e0a\u5f00\u5934\u7684\u5206\u5b50 \n    for(int i=2;i<=zz;i++)if(poj[i-1]=='+')to+=fz[i]*(zx/fm[i]);else to-=fz[i]*(zx/fm[i]);//\u52a0\u4e0a\u5206\u5b50\u6216\u8005\u51cf\u53bb \n    p(to,zx);                                                                             //\u8c03\u7528\u66b4\u529b\u6d88\u9664\u56e0\u6570 \n    if(ans)cout<<bbb;else cout<<bbb<<'/'<<ccc;                                            //\u5224\u65ad\uff1a\u6574\u6570or\u5206\u6570\uff1f \n}\n```",
        "postTime": 1490362887,
        "uid": 5880,
        "name": "B_Qu1e7",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u54b3\u54b3\uff0c\u5c0f\u7530\u53c8\u6765\u53d1\u9898\u89e3\u4e86~#\u6194\u60b4#\u6194\u60b4\n\n\n\u672c\u9898\u4e0d\u96be\uff0c\u4f46\u5f88\u7ed5\uff0c\u5f88\u70e6\uff01\n\n\u6211WA\u4e865\u6b21\u624dAC\u3002\u3002\u3002\u4f46\u662f\u5bf9\u4e00\u4e9b\u6b7b\u6d3b\u90fd\u4e0dAC\u7684\u7ae5\u978b\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u501f\u9274\u610f\u4e49\u3002\n\n\n\u521a\u5f00\u59cb\u5fd8\u7ea6\u5206\u4e86\uff0c\u7ed3\u679c\u5f97\u4e86\u53ef\u601c\u768420\u5206\u2014\u2014\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u5f97\u4e8620\u5206\uff0c\u68c0\u67e5\u4e00\u4e0b\uff1a\u81ea\u5df1\u662f\u5426\u7ea6\u5206\u4e86\u3002\n\n\u518d\u540e\u6765\u5fd8\u8bb0\u5224\u65ad\u8d1f\u6570\u4e86\u3002\u7ed3\u679c\u5f97\u4e8660\u5206\u2014\u2014\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u5f97\u4e8660\u5206\uff0c\u68c0\u67e5\u4e00\u4e0b\uff0c\u81ea\u5df1\u662f\u5426\u5fd8\u8bb0\u5224\u65ad\u8d1f\u6570\u4e86\u3002\n\n\n\u8fd9\u91cc\u5c0f\u5c0f\u7684\u8bf4\u660e\u4e00\u4e0b\uff0c\u6309\u7167\u6211\u7684\u7b97\u6cd5\u5199\u7684\uff0c\u6ca1\u6709\u52a0\u5224\u65ad\u8d1f\u6570\u7684\u5224\u65ad\uff0c\u90a3\u4e48\uff1a\n\n1/3-1/2=1/-6\n\n1/4-1/2=1/-4\n\n\u6240\u4ee5\u53ea\u9700\u5224\u65ad\u5206\u6bcd\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\n\u518d\u518d\u540e\u6765\u53ea\u60f3\u7740\u5224\u65ad\u7ed3\u679c\u662f1\u7684\u60c5\u51b5\uff0c\u7ed3\u679c\u9519\u7684\u5f88\u72fc\u72c8\uff08\u4f46\u81f3\u5c11\u6bd4\u4ee5\u524d\u8981\u597d\u4e00\u4e9b\uff0980\u5206\u3002\u7b2c\u5341\u4e2a\u70b9\u8fd8\u662f\u6700\u70e6\u7684\u201ctoo long on ...\u201d\n\n\u6211\u4e8e\u662f\u6f2b\u65e0\u76ee\u7684\u7684\u7ffb\u7740\u4e4b\u524d\u7684\u4ee3\u7801\uff0c\u53d1\u73b0\u7b2c\u5341\u4e2a\u70b9\u7684\u7ed3\u679c\u662f2\n\n\n\u6211\u7acb\u9a6c\u6d4b\u8bd5\u4e86\u4e00\u4e2a\u81ea\u5df1\u8bbe\u7684\u6570\u636e\uff1a\n\n\n\n5/4+3/4 = ?\n\n\u7ed3\u679c\uff0c\u4ed6\u5c45\u7136\u8f93\u51fa\u4e861\uff1f\uff01\n\n\u7ec8\u4e8e\uff0c\u6211\u53d1\u73b0\u4e86\u9519\u8bef\uff0c\u4e8e\u662f\uff0c\u6211\u6539\u8fc7\u6765\u4e86\uff0c\u4e8e\u662f\uff0c\u6211AC\u4e86\uff0c\u4e8e\u662f\uff0c\u6211\u5c31\u5728\u8fd9\u91cc\u6572\u9898\u89e3\u5566~\n\n\n\u9644\u4e0a**\u6700\u7ec8\u6700\u7ec8\u6700\u7ec8**\u7684AC\u4ee3\u7801\uff08\u6c57==\uff09\uff1a\n\n\n\n\n    \n        \n        \n    \n```cpp\n#include <cstdio>\n#include <string>\n#include <iostream>\nusing namespace std;\nint gcd(int a,int b){ return !b?a:gcd(b,a%b); }\nint main(){\n//     freopen(\"Frac.in\",\"r\",stdin);\n    ios::sync_with_stdio(false);\n    int fm = 0,fz = 0,flag = 0,finalfm = 0,finalfz = 0,mark = 0,y,count = 0;\n    string s; char c;\n    cin >> s;\n    for(int i = 0; i < s.size(); i++) if(s[i] == '/') count++;\n    if(count == 1) cout << s << endl;    //\u5224\u65ad\u4e00\u4e2a\u5206\u6570\u7684\u60c5\u51b5\n    else{\n        for(int i = 0; i < s.size(); i++){\n            if(s[i] == '/') flag = 1;\n            else if(s[i] == '+'||s[i] == '-'){\n                if(!mark){ mark = 1; finalfm = fm; finalfz = fz; c = s[i]; flag = 0; fz = fm = 0; continue; }\n    //            if(!finalfm&&!finalfz){ finalfm = fm; finalfz = fz; }\n                else{\n                    int Lcm = finalfm*fm/gcd(finalfm,fm);\n                    finalfz *= Lcm/finalfm,fz *= Lcm/fm;\n                    if(c == '+') finalfz += fz;\n                    else finalfz -= fz;\n                    finalfm = Lcm;\n                }\n                flag = 0; fz = fm = 0; c = s[i];\n            }else{\n                if(!flag) fz = fz*10+(s[i]-'0');\n                else fm = fm*10+(s[i]-'0');\n            }\n        }\n        int Lcm = finalfm*fm/gcd(finalfm,fm);\n        finalfz *= Lcm/finalfm,fz *= Lcm/fm;\n        if(c == '+') finalfz += fz;\n        else finalfz -= fz;\n        finalfm = Lcm;\n        y = gcd(finalfm,finalfz);\n        finalfm /= y; finalfz /= y;        //\u7ea6\u5206 \n        if(finalfz%finalfm == 0) printf(\"%d\\n\",finalfz/finalfm);\n        else if(finalfm == 1) printf(\"%d\\n\",fz);\n        else if(finalfm == 0) printf(\"%d\\n\",fz);\n        else if(finalfm < 0) printf(\"-%d/%d\\n\",finalfz,-finalfm);\n        else printf(\"%d/%d\\n\",finalfz,finalfm);\n    }\n    return 0;\n}\n```",
        "postTime": 1465728608,
        "uid": 17170,
        "name": "Deny_\u5c0f\u7530",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u7eaf\u6a21\u62df\uff0c\u627e\u201c/\u201d\u548c\u201c+\u201d\uff0c\u201c-\u201d\n\n```delphi\n\n\nvar\n  s:string;\n  zi,mu,a,b,g:int64;\n  i,p:longint;\nfunction gcd(a,b:int64):int64;\nbegin\n  if b=0 then\n    gcd:=a\n  else\n    gcd:=gcd(b,a mod b);\nend;\nbegin\n  readln(s);\n  zi:=0;\n  mu:=1;\n  p:=0;\n  while pos('/',s)<>0 do\n  begin\n    a:=0;\n    b:=0;\n    for i:=1 to pos('/',s)-1 do\n      a:=a*10+ord(s[i])-48;\n    delete(s,1,pos('/',s));\n    while (s<>'')and(s[1]>='0')and(s[1]<='9') do\n    begin\n      b:=b*10+ord(s[1])-48;\n      delete(s,1,1);\n    end;\n    if b=0 then b:=1;\n    g:=gcd(mu,b);\n    a:=a*mu div g;\n    mu:=mu*b div g;\n    zi:=zi*b div g;\n    if p=0 then\n      zi:=zi+a\n    else\n      zi:=zi-a;\n    if (s<>'')and(s[1]='+') then\n      p:=0;\n    if (s<>'')and(s[1]='-') then\n      p:=1;\n    if s<>'' then\n      delete(s,1,1);\n  end;\n  g:=gcd(mu,zi);\n  mu:=mu div g;\n  zi:=zi div g;\n  if mu<0 then\n  begin\n    zi:=-zi;\n    mu:=-mu;\n  end;\n\n  if mu=1 then\n    writeln(zi)\n  else\n    writeln(zi,'/',mu);\nend.\n\n```",
        "postTime": 1382272479,
        "uid": 1028,
        "name": "xuyujie",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u5982\u679c\u653e\u5728\u4ee5\u524d\u6211\u53ef\u80fd\u4f1a\u7528\u5b57\u7b26\u4e32\u6a21\u62df\u7684\u529e\u6cd5...\u4f46\u662f\u4f3c\u4e4e\u4e0d\u9700\u8981\u7528\u5b57\u7b26\u4e32\u7684\u8bfb\u5165\u3002\u8fd9\u662f\u4e00\u9053\u5173\u4e8e\u6700\u5c0f\u516c\u500d\u6570\u548c\u6700\u5927\u516c\u7ea6\u6570\u7684\u7ec4\u5408\u95ee\u9898\uff0c\u4e2a\u4eba\u89c9\u5f97\u503c\u5f97\u8bb0\u5f55\u7684\u8f97\u8f6c\u76f8\u9664\u6cd5\u548c\u8bfb\u5165\u7684\u6280\u5de7\n\n\u603b\u7ed3\u5982\u4e0b\uff1a\n\n1.\u5bf9\u4e8e\u4e00\u4e32\u5b57\u7b26\u6765\u8bf4\uff0c\u5982\u679c\u65e2\u6709123\u8fd9\u6837\u7684\u6574\u6570\uff0c\u4e5f\u6709'/'\u8fd9\u6837\u7684\u5b57\u7b26\uff0c\u53ef\u4ee5\u5206\u522b\u4f7f\u7528getchar()\u548ccin\u8bfb\u5165\uff0c\u6bd4\u5982123/12\u8fd9\u6837\u7684\u6570\u636e\uff0c\u7528cin\u8bfb\u5165\u65f6\u81ea\u52a8\u8bfb\u5165\u6570\u5b57\u7684\u7b2c\u4e00\u90e8\u5206123\uff0c\u9047\u5230'/'\u5373\u505c\u6b62\u3002\u540c\u7406\uff0cgetchar()\u53ea\u8bfb\u53d6\u5f53\u524d\u5b57\u7b26\uff0c\u4e0d\u8bfb\u540e\u7eed\u7684\u6570\u5b5712\u3002\u8fd9\u6837\u5c31\u907f\u514d\u4e86\u5b57\u7b26\u4e32\u7684\u5904\u7406\u9ebb\u70e6\u7684\u95ee\u9898\uff0c\u53ea\u9700\u8981\u5f00\u6570\u7ec4\u5206\u522b\u5b58\u53d6\u5206\u5b50\u5206\u6bcd\u548c\u8fd0\u7b97\u7b26\u5373\u53ef\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u5206\u5b50\u5206\u6bcd\u7684\u7b26\u53f7\uff0c\u53ef\u4ee5\u4f7f\u7528**char q=cin.peek()\u6765\u9884\u8bfb\u53d6(\u53ea\u8bfb\u4e0d\u53d6\uff0c\u4ecd\u53ef\u88ab\u540e\u7eed\u8bfb\u5165**)\u7b2c\u4e00\u4e2a\u6570\uff0c\u9ed8\u8ba4\u4e3a\u5b57\u7b26\u578b\uff0c\u518d\u5224\u65adq\u662f\u6570\u5b57\u8fd8\u662f\u7b26\u53f7\u5373\u53ef\uff0c\u8fd9\u6837\u5c31\u786e\u5b9a\u4e86\u9996\u4f4d\u7684\u6b63\u8d1f\u3002\n\n2.\u5bf9\u4e8e\u901a\u5206\uff0c\u6700\u91cd\u8981\u7684\u662f\u4f7f\u7528\u8f97\u8f6c\u76f8\u9664\u6cd5\u6c42\u6700\u5927\u516c\u7ea6\u6570\u3002\u4ee3\u7801\u5982\u4e0b\uff1a\n```c\nlong long gcd(long long a,long long b)\n{\n    return (a?gcd(b%a,a):b);\n}//\u53ef\u4ee5\u53d1\u73b0a\uff0cb\u5927\u5c0f\u5173\u7cfb\u662f\u4efb\u610f\u7684\n```\n**\u7ed9\u51fa\u4e00\u6761\u5b9a\u5f8b\uff1a\u4e24\u6570\u4e4b\u95f4\u7684\u6700\u5927\u516c\u7ea6\u6570\u548c\u6700\u5c0f\u516c\u500d\u6570\u76f8\u4e58\u5bf9\u4e8e\u4e24\u6570\u7684\u4e58\u79ef**\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u5b8c\u6210\u4e86\u901a\u5206\u3002\n\n\u6700\u7ec8\u4ee3\u7801\uff1a\n\n```c\n#include<iostream>\n#include<algorithm>\n#include<cstdio>\n#include<string>\nusing  namespace std;\nlong long gcd(long long a,long long b)\n{\n    return (a?gcd(b%a,a):b);\n}\nlong long fac(long long a,long long b)\n{\n    return a/gcd(a,b)*b;\n}\nlong long son[10000],mom[10000],cul[10000];\nint main()\n{\n    long long a,b;\n    char c,d;\n    int tot=0,k=0;\n    char q=cin.peek();\n    if(q>'9'||q<'0'){cul[k]=q;k++;q=getchar();}//\u8bb0\u5f97\u5224\u65ad\u540e\u8bfb\u53d6\u9996\u4f4d\u4e3a\u8d1f\u53f7\u7684\u60c5\u51b5\uff0c\u56e0\u4e3a\u9884\u8bfb\u53d6\u6ca1\u6709\u8bfb\u5165\u8be5\u7b26\u53f7\n    else {cul[k]='+';k++;}\n    while(cin>>a>>c>>b)\n    {\n        son[tot]=a,mom[tot]=b;\n        tot++;\n        d=getchar();\n        cul[k]=d;\n        k++;\n    }\n    long long f=1,s=0;\n    for(int i=0;i<tot;i++)\n    {\n        f=fac(f,mom[i]);//\u6ce8\u610f\u7406\u89e3\uff1a\u4e00\u7ec4\u6570\u4e4b\u95f4\u7684\u603b\u516c\u500d\u6570 \u4e5f\u662f\u5176\u4e2d\u4efb\u610f\u51e0\u4e2a\u6570\u7684\u516c\u500d\u6570 \u7684\u516c\u500d\u6570\n    }\n    for(int i=0;i<tot;i++)\n    {\n        char t=cul[i];\n        if(t=='+')\n        {\n            s=s+f/mom[i]*son[i];\n        }\n        else if(t=='-')\n        {\n            s=s-f/mom[i]*son[i];\n        }\n    }\n    if(s%f==0)cout<<s/f;//\u6709\u53ef\u80fd\u80fd\u591f\u7ea6\u4e3a\u6574\u6570\n    else\n    {\n        long long h=gcd(abs(s),f);\n        cout<<s/h<<'/'<<f/h;\n    }\n}\n```\n\n\u795dAC\u6109\u5feb",
        "postTime": 1586266563,
        "uid": 298774,
        "name": "itandsoon",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    },
    {
        "content": "\u516c\u5f0f\uff1a$\\Huge{\\frac{a}{b}\\pm\\frac{c}{d}=\\frac{ad\\pm bc}{bd}}$\u3002\n\n\u8003\u8651\u5230\uff1a\u8f93\u5165\u6574\u6570\u65f6\u662f\u53ef\u4ee5\u8fde\u6b63\u8d1f\u53f7\u4e00\u8d77\u8f93\u5165\u7684\u3002\n\n\u601d\u8def\uff1a\u5efa\u7acb\u4e00\u4e2a\u7ed3\u6784\u4f53\u50a8\u5b58\u5206\u6570\uff0c\u5c06\u7ea6\u5206\u548c\u901a\u5206\u8ba1\u7b97\u5168\u90e8\u505a\u6210\u51fd\u6570\u3002\n\n\u5751\u70b9\uff1a\n\n1. \u80fd\u9664\u5c3d\u7684\u8f93\u51fa\u6574\u6570\u3002\n\n2. \u8d1f\u53f7\u8981\u52a0\u5728\u5206\u5b50\u4e0a\u3002\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nstruct node{\n\tint x,y;//\u8bb0\u5f55\u5206\u5b50\u548c\u5206\u6bcd \n}now,ans;//\u8bb0\u5f55\u8f93\u5165\u7684\u4e0e\u7b54\u6848 \nchar c='+';\nnode easy(node a){//\u7ea6\u5206 \n\tint gcd=__gcd(a.x,a.y);//\u8bb0\u5f55\u6700\u5927\u516c\u7ea6\u6570 \n\ta.x/=gcd,a.y/=gcd;//\u8fdb\u884c\u7ea6\u5206 \n\treturn a;\n}\nnode work(node a,node b){//\u901a\u5206\u8ba1\u7b97\uff0c\u89c1\u516c\u5f0f \n\tnode ans;\n\tans.y=a.y*b.y;\n\tans.x=a.x*b.y+a.y*b.x;\n\treturn easy(ans);//\u6700\u540e\u7ea6\u4e2a\u5206\uff0c\u522b\u6ea2\u51fa\u4e86 \n}\nint main(){\n\tscanf(\"%d/%d\",&ans.x,&ans.y);//\u5148\u8bb0\u5f55\uff0c\u6216\u8005\u4e0d\u52a0\u8fd9\u53e5\uff0cans=0/1\uff08\u4e00\u5b9a\u4e0d\u80fd\u662f0/0\uff09 \n\twhile(scanf(\"%d/%d\",&now.x,&now.y)!=-1) ans=work(ans,now);//\u901a\u5206\u8ba1\u7b97 \n\tif(ans.y<0) ans.x*=-1,ans.y*=-1;//\u5751\u70b9\uff1a\u8f93\u51fa\u8d1f\u53f7\u8981\u52a0\u5728\u5206\u5b50\u4e0a \n\tif(ans.x%ans.y==0) printf(\"%d\",ans.x);//\u5751\u70b9\uff1a\u6574\u6570 \n\telse printf(\"%d/%d\",ans.x,ans.y);//\u7167\u5e38\u8f93\u51fa \n\treturn 0;\n}\n\n```",
        "postTime": 1585663065,
        "uid": 247658,
        "name": "HsKr",
        "ccfLevel": 5,
        "title": "\u9898\u89e3 P1572 \u3010\u8ba1\u7b97\u5206\u6570\u3011"
    }
]