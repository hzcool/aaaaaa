[
    {
        "content": "~~\u8ff7\u5bab\u5165\u53e3\u53bb\u54ea\u4e86..~~\n\n\u9898\u610f.\u7ed9\u51fa1\u4e2a\u56fe.\u56fe\u4e0a\u67092\u4eba.\u6bcf\u4e2a\u4eba\u6bcf\u4e2a\u56de\u5408.\u53ef\u4ee5\u9009\u62e9\u79fb\u52a8\u5230\u76f8\u90bb\u70b9.\u6216\u8005\u539f\u5730\u4e0d\u52a8.\n\n\u5f532\u4e2a\u4eba\u76f8\u9047\u5c31\u4f1a\u88ab....\n\n\u5176\u4e2dloidc\u4f1a\u5c3d\u53ef\u80fd\u5ef6\u957f\u56de\u5408\u6570(\u5c31\u662f\u5c3d\u91cf\u4e0d\u76f8\u9047.).\u6216\u8005\u5e72\u8106\u8ba9cony\u8ffd\u4e0d\u4e0a..\n\n\u800ccony\u4f1a\u5c3d\u529b\u8ffd\u8d76loidc.\n\n\u7531loidc\u5148\u624b.2\u4eba\u5747\u4f7f\u7528\u6700\u4f73\u7b56\u7565..\u6c42cony\u80fd\u5426\u8ffd\u4e0a.\u4ee5\u53ca\u80fd\u8ffd\u4e0a\u65f6.\u81f3\u5c11\u7684\u56de\u5408\u6570.\n\n\u7531\u4e8eloidc\u7528\u7684\u6700\u4f73\u7b56\u7565.\u663e\u7136\u4e0d\u4f1a\u53bb\u9001..\u90a3\u4e48\u5bf9\u4e8eloidc\u6765\u8bb2.\u5c31\u662f\u8981\u6c42**\u6700\u591a\u7684\u56de\u5408\u6570.**\n\n\n------------\n\n\n\u660e\u786e\u9898\u610f\u540e.\u6765\u770b\u770b\u53cc\u65b9\u7684\u884c\u52a8\u7b56\u7565.\n\ncony\u662f\u8981\u8ffd\u8d76loidc\u7684.\u4ed4\u7ec6\u60f3\u60f3\u5c31\u80fd\u660e\u767d.cony\u4e0d\u4f1a**\u505c\u7559**\u57281\u4e2a\u70b9\u4e0a.\n\n\u4e3a\u4ec0\u4e48.?\n\n\u82e5cony\u9009\u62e9\u57281\u4e2a\u70b9\u505c\u7559.\u63a5\u4e0b\u6765loidc\u53ef\u4ee5\u7ee7\u7eed\u9003\u8dd1.\u7ed9\u4e88\u4e86**\u8dd1\u6389**\u7684\u53ef\u80fd\u6027.\n\n\u5982\u679cloidc\u53d1\u73b0\u9003\u8dd1\u662f\u4e0d\u884c\u7684.Ta\u4f9d\u7136\u53ef\u4ee5\u9009\u62e9\u505c\u7559\u5728\u539f\u6765\u7684\u70b9\u4e0a.\u76f8\u5f53\u4e8e\u5148\u624b\u6743\u4ecd\u7136\u5728cony\u8fd9\u91cc.\u4f46**\u767d\u767d\u6d6a\u8d39\u4e861\u56de\u5408**.\n\n\u4e0d\u7ba1\u600e\u6837.\u505c\u7559\u57281\u5904\u90fd\u4e0d\u662f\u597d\u65b9\u6cd5.\u6240\u4ee5\u6bcf\u56de\u5408cony\u5fc5\u5b9a**\u79fb\u52a8**.\n\n\n------------\n\n\n\u8fd9\u4e2a\u7ed3\u8bba\u5148\u653e\u57281\u8fb9.\u518d\u770b\u770bloidc\u7684\u7b56\u7565.\n\n\u5982\u679c\u8bf4\u8981cony\u8ffd\u4e0d\u4e0a\u7684\u8bdd.loidc\u552f1\u7684\u529e\u6cd5\u662f.**\u5728\u88abcony\u6293\u5230\u4e4b\u524d\u8dd1\u8fdb\u73af**.\n\n\u73af\u81f3\u5c11\u662f3\u4e2a\u70b9\u5427..2\u4e2a\u70b9\u7684\u660e\u663e\u662f\u9001....\n\n\u8fd9\u4e2a\u597d\u7406\u89e3\u5427..\u5728\u73af\u4e0a1\u8dd11\u8ffd.\u901f\u5ea6\u76f8\u540c.\u662f\u8ffd\u4e0d\u4e0a\u7684...?\n\n\u8fd9\u91cc\u6709\u53cd\u4f8b\u4e86.3\u89d2\u5f62.\n\n ![](https://cdn.luogu.com.cn/upload/pic/13179.png) \n\n(\u9ed1\u8272\u7684\u662f\u70b9..\u7ea2\u8272\u7684\u662f\u8fb9..\u4e11..).\n\n\u53ef\u4ee5\u770b\u5230,\u5982\u679cloidc\u57281\u53f7\u70b9.cony\u57283\u53f7\u70b9.\u5373\u4f7f\u8dd1\u8fdb2\u53f7\u70b9\u4e5f\u65e0\u6d4e\u4e8e\u4e8b.cony\u53ef\u4ee5\u9a6c\u4e0a\u5230\u8fbe2\u53f7\u70b9.loidc\u53ea\u80fd\u88ab\u8feb\u9000\u51fa3\u5143\u73af..\n\n\u53ef\u662f.\u9898\u76ee\u544a\u8bc9\u4f60\u4e86\u6ca1\u67093\u89d2\u5f62...\u90a3\u8fd9\u6761\u5c31\u4e0d\u7528\u7ba1\u4e86..\n\n\u4e5f\u5c31\u662f.\u53ea\u8981loidc\u8dd1\u8fdb**\u81f3\u5c114\u4e2a\u70b9\u7ec4\u6210\u7684\u73af**.loidc\u5c31\u4e0d\u4f1a\u88ab\u6293\u5230.\n\n\n------------\n\n\n\u597d\u4e86.\u7b56\u7565\u5206\u6790\u5b8c\u6bd5.\u90a3\u4e48loidc\u8981\u600e\u6837\u8dd1\u5462.?\n\n\u663e\u7136.\u6211\u4eec\u8981\u5c3d\u5feb\u5230\u8fbe\u73af.\u5f53\u7136\u662f\u8d70**\u6700\u77ed\u8def**\u4e86..\n\n\u4f46\u662f\u8fd8\u6709cony\u554a.\u4e0d\u80fd\u88ab\u6349\u5230.\n\n\u6211\u4eec\u5df2\u7ecf\u77e5\u9053,cony\u4e0d\u4f1a\u4e0d\u52a8.\u90a3\u4e48\u8ba9cony\u4e5f\u8dd1**\u6700\u77ed\u8def**.\u6bd4\u8f831\u4e0b\u5c31\u884c\u4e86..\n\ncony\u96be\u9053\u4e0d\u80fd\u653e\u5f03\u6700\u77ed\u8def.\u53bb\u62e6\u622a\u5728\u534a\u8defloidc.?\n\n\u65e2\u7136\u90fd\u80fd\u62e6\u622a\u4e86.\u90a3\u53bb\u62e6\u622a\u7684\u8fd9\u6761\u8def+lodic\u5269\u4e0b\u7684\u6700\u77ed\u8def.\u53c8\u53ef\u4ee5\u7ec4\u6210\u65b0\u7684\u6700\u77ed\u8def..\n\n\u4e5f\u5c31\u662f\u4e0d\u7ba1\u600e\u6837.cony1\u5b9a\u8dd1\u5728**\u6700\u77ed\u8def**\u4e0a.\n\n\u95ee\u9898\u5c31\u53d8\u6210\u4e86\u6c422\u70b9\u7684\u5355\u5143\u6700\u77ed\u8def.\n\n\u8bbeloidc\u5230\u7b2ci\u4e2a\u70b9\u7684\u6700\u77ed\u8def\u4e3a$d[i]$.cony\u5230\u7b2ci\u4e2a\u70b9\u7684\u6700\u77ed\u8def\u4e3a$e[i]$.\n\n\u5982\u679c\u6709$d[i] < e[i]$,\u5e76\u4e14$i$\u70b9\u5728\u67094\u4e2a\u70b9\u4ee5\u4e0a\u7ec4\u6210\u7684\u73af\u4e0a\u9762.\u7684\u8bdd.\u8f93\u51fa**NO**.\n\n\u90a3\u4e48\u8dd1\u4e0d\u8fdb\u73af\u600e\u4e48\u529e.?\n\n\u53ea\u80fd\u627e\u4e2a\u5730\u65b9\u8eb2\u8d77\u6765\u7b49....\n\n\u5c31\u662f\u8bf4.\u5bf9\u4e8e\u6bcf\u4e2a$d[i] < e[i]$.\u8f93\u51fa$max(e[i])$.\n\n\u5c31\u662fcony\u6700\u6162\u8981\u8dd1\u7684\u65f6\u95f4\u4e86..\n\nDiu\u4ee3\u7801..\n\n```cpp\nprogram P2302;\n uses math;\n type\n  wb=array[0..3001] of longint;\n  wa=record\n   n,t:longint;\n  end;\n var\n  a:array[0..30001] of wa;\n  b,c,h,f,stl,instl,DFS,DFN,t:wb;\n  i,m,n,p,dsum,sumstl,ac,bc,upass,smax,x,y:longint;\n procedure hahainc(x,y:longint);    //\u524d\u5411\u661f\u904d\u5386\u8fb9..\n  begin\n   inc(p);\n   a[p].n:=h[x];\n   a[p].t:=y;\n   h[x]:=p;\n  end;\n procedure hahaDFS(k,lp:longint);  //\u7528tarjan\u6c42\u73af..\n  var\n   j,p,upass:longint;\n  procedure hahaapps;        //\u521d\u59cb\u5316\u5de5\u4f5c..\n   begin\n    inc(dsum);\n    DFS[k]:=dsum;           //DFS\u5e8f.\n    DFN[k]:=dsum;           //\u6700\u9760\u524d\u8bbf\u95ee\u8fc7\u7684\u70b9\u7684DFS\u5e8f.\n    inc(sumstl);            //\u8fdb\u6808.\n    stl[sumstl]:=k;           //.\n    instl[k]:=1;            //\u662f\u5426\u5728\u6808\u5185\u7684\u5224\u65ad..\n    f[k]:=1;                //\u662f\u5426\u8bbf\u95ee\u8fc7\u7684\u5224\u65ad..\n   end;\n  begin\n   hahaapps;\n   j:=h[k];\n   while a[j].n<>-1 do      //\u904d\u5386\u8fb9.\n    begin\n     p:=a[j].t;\n     j:=a[j].n;\n     if p=lp then continue; //\u8fd9\u4e2a\u662f\u8fc7\u6ee42\u70b9\u73af.\u56e0\u4e3a\u8fd9\u662f\u65e0\u5411\u8fb9..\n     if f[p]=0 then\n      begin\n       hahaDFS(p,k);\n       DFN[k]:=min(DFN[k],DFN[p]); //\u73af\u6807\u8bb0\u4f20\u9012.\n      end\n               else if instl[p]=1 then DFN[k]:=min(DFN[k],DFS[p]); //\u6808\u5185\u5f62\u6210\u73af.\n    end;\n   if stl[sumstl]=k then upass:=1 //\u8fd9\u4e2a\u662f\u8fc7\u6ee4\u5355\u70b9\u73af(..)..\n                    else upass:=0;\n   if DFN[k]=DFS[k] then\n    repeat\n     p:=stl[sumstl];\n     if upass=0 then t[p]:=1;     //t\u662f\u73af\u6807\u8bb0.\n     instl[p]:=0;\n     dec(sumstl);\n    until p=k;\n  end;\n procedure hahadij(var b:wb;k:longint); //\u505a2\u904ddij..\n  var\n   i,j,p:longint;\n  begin\n   filldword(b,length(b),1008208820);\n   filldword(f,length(f),0);\n   b[k]:=0;\n   for i:=1 to n do\n    begin\n     p:=0;\n     for j:=1 to n do\n      if (f[j]=0) and (b[j]<b[p]) then p:=j;\n     f[p]:=1;\n     j:=h[p];\n     while a[j].n<>-1 do\n      begin\n       if b[p]+1<b[a[j].t] then b[a[j].t]:=b[p]+1; //\u6743\u503c\u662f1\u4e86..\n       j:=a[j].n;\n      end;\n    end;\n  end;\n begin\n  readln(n,m,ac,bc);\n  filldword(h,length(h),0);\n  p:=0;\n  for i:=1 to m do\n   begin\n    readln(x,y);\n    hahainc(x,y);\n    hahainc(y,x);\n   end;\n  a[0].n:=-1;\n  filldword(f,length(f),0);\n  filldword(t,length(t),0);\n  filldword(instl,length(instl),0);\n  sumstl:=0;\n  dsum:=0;\n  for i:=1 to n do\n   if f[i]=0 then hahaDFS(i,0);\n  {for i:=1 to n do\n   writeln(DFS[i],' ',DFN[i],' ',t[i]);}\n  hahadij(b,ac);\n  hahadij(c,bc);\n  upass:=0;\n  smax:=0;\n  for i:=1 to n do\n   begin\n    if (c[i]>b[i]) and (t[i]=1) then upass:=1;    //\u80fd\u5426\u8dd1\u8fdb\u73af\u7684\u6807\u8bb0.\n    if (c[i]>b[i]) then smax:=max(smax,c[i]);     //\u6700\u957f\u7684\u56de\u5408\u6570..\n   end;\n  if upass=0 then writeln(smax)\n             else writeln('NO');\n end.\n```\n\u6b22\u8fceHack.\n\n(\u0ca1\u03c9\u0ca1).\n",
        "postTime": 1516431500,
        "uid": 20454,
        "name": "BFSBFSBFSBFS",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P2302 \u3010loidc,\u8dd1\u8d77\u6765\u3011"
    },
    {
        "content": "[\u8fd9\u91cc\u770b\u4f53\u9a8c\u66f4\u597d](https://www.cnblogs.com/MYCui/p/13916652.html)\n#### \u626f\u6de1\n\u8fd9\u4e2a\u6e38\u620f\u8ba9\u6211\u60f3\u8d77\u4e86\u5c0f\u5b66\u548c\u540c\u5b66\u73a9\"\u6293\u4eba\"\uff0c\u6709\u8fc7\u6e38\u620f\u7ecf\u9a8c\u7684\u540c\u5b66\u90fd\u77e5\u9053\uff0c\u6211\u4eec\u8981\u627e\u4e00\u4e2a\u5730\u65b9\uff0c\u53ef\u4ee5\u548c\"\u8ffd\u6355\u8005\"\u4e00\u76f4\u8f6c\u5708\u5708\uff0c\u6bd4\u5982\u6709\u4e1c\u897f\u4e24\u4e2a\u697c\u9053\u7684\u6559\u5b66\u697c\u5c31\u662f\u4e0d\u9519\u7684\u5730\u65b9\u3002\n### \u9898\u610f\u7b80\u5316\n\n\u73b0\u5728\u6709\u4e24\u4e2a\u4eba\u5c0f$L$(loidc)\u548c\u5c0f$C$(cony)\uff0c\u90fd\u5904\u4e8e\u4e00\u5f20\u65e0\u5411\u8054\u901a\u56fe\u4e0a\u7684\u67d0\u4e2a\u8282\u70b9(\u7ed9\u51fa\u4ed6\u4eec\u6240\u5728\u7684\u8282\u70b9)\u800c\u4e14\u8fd9\u5f20\u56fe\u4e0d\u5b58\u5728\u4e09\u5143\u73af\uff0c\u6bcf\u6b21\u4e00\u4e2a\u4eba\u6bcf\u56de\u5408\u53ef\u4ee5\u8d70\u4e00\u6b65\uff0c\u5c0f$L$\u5c3d\u91cf\u907f\u514d\u4e0e\u5c0f$C$\u76f8\u9047\uff0c\u800c\u5c0f$C$\u5219\u5c3d\u91cf\u60f3\u8ba9\u4e24\u4e2a\u4eba\u76f8\u9047(\u6709\u6ca1\u6709\u4e00\u70b9\u70b9\u50cf\u72d7\u8840\u7684\u67d0\u79cd\u6545\u4e8b.......)\u4e24\u4e2a\u4eba\u90fd\u9009\u62e9\u6700\u4f73\u7b56\u7565\uff0c\u95ee\u6700\u7ec8\u4f1a\u4e0d\u4f1a\u76f8\u9047\uff0c\u5982\u679c\u76f8\u9047\uff0c\u90a3\u4e48\u6700\u5c11\u7528\u51e0\u56de\u5408\uff1f\u3002\n\n### \u89e3\u9898\u601d\u8def\n\u4f60\u4f1a\u8bf4\uff0c\u6211\u4e00\u5f00\u5934\u8bf4\u7684\u662f\u5e9f\u8bdd\uff0c\u4f46\u662f\u4e8b\u5b9e\u5219\u4e0d\u7136.......\u8fd9\u9053\u9898\u548c\u4e0a\u9762\u7684\u6293\u4eba\u6e38\u620f\u7c7b\u4f3c\u3002\n\n\u62bd\u8c61\u5230\u9898\u76ee\u91cc\u9762\uff0c\u4ec0\u4e48\u5730\u65b9\u662f\u53ef\u4ee5\u548c\"\u8ffd\u6355\u8005\"\u4e00\u76f4\u8f6c\u5708\u5708\u7684\uff1f\u4e0d\u96be\u60f3\uff0c\u662f\u73af\u4e0a\u9762\u3002\u4e00\u5f00\u59cb\u6211\u5f88\u8d39\u89e3\uff0c\u4e3a\u4ec0\u4e48\u7ed9\u51fa\u8fd9\u5f20\u56fe\u4e0d\u542b\u4e09\u5143\u73af\uff0c\u540e\u6765\u6211\u601d\u8003\u4e86\u4e00\u4e0b\uff0c\u4e09\u5143\u73af\u5176\u5b9e\u5e76\u4e0d\u80fd\u6ee1\u8db3\u4e00\u76f4\u8f6c\u5708\u5708\u7684\u6027\u8d28\uff0c\u9898\u89e3\u4e2d\u7684\u7b2c\u4e00\u7bc7\u5c31\u8bb2\u5230\u4e86\u8fd9\u4e00\u70b9\u3002\n\n\u90a3\u6700\u4f18\u7b56\u7565\u5c31\u662f\u5c0f$L$\u5c31\u8981\u8d76\u7d27\u8dd1\u5230\u73af\u4e0a\u9762\uff0c\u5c0f$C$\u8981\u8d76\u7d27\u5835\u4f4f\u5c0f$L$\uff0c\u963b\u6b62\u5c0f$C$\u5230\u73af\u4e0a\u9762\u3002\n\n\u5c0f$L$\u4e3a\u4e86\u5c3d\u5feb\u8dd1\u5230\u73af\u4e0a\u9762\uff0c\u4ed6\u9009\u62e9\u8dd1\u5230\u4e00\u4e2a\u73af\u4e0a\u9762\u7684\u70b9(\u4f46\u662f\u5e76\u975e\u662f\u8ddd\u79bb\u81ea\u5df1\u6700\u8fd1\u7684\uff0c\u60f3\u4e00\u60f3\u4e3a\u4ec0\u4e48)\uff0c\u5047\u8bbe\u8fd9\u4e2a\u70b9\u4e3a$P$\uff0c\u90a3\u4e48\u5c0f$L$\u600e\u4e48\u529e\uff1f\u663e\u7136\u5c0f$L$\u88ab\u8feb\u7684\u4e5f\u8981\u8dd1\u5230$P$\u70b9\uff0c\u4e0d\u7136\u600e\u4e48\u963b\u6b62\u5c0f$L$\u4e0a\u5230\u73af\u4e0a\u9762\u53bb\uff1f\u6240\u4ee5\u89e3\u6cd5\u9010\u6e10\u6d6e\u73b0\u5728\u6211\u4eec\u773c\u524d\u3002\n\n#### \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u5206\u5272\u7ebf\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\n#### \u4e0a\u9762\u7684\u662f\u5bf9\u4e8e\u9898\u76ee\u7684\u5206\u6790\uff0c\u8981\u662f\u4f60\u5df2\u7ecf\u5206\u6790\u8fc7\u4e86\u53ef\u4ee5\u76f4\u63a5\u770b\u4e0b\u9762\u7684\u505a\u6cd5\n\n\u9996\u5148\u6211\u4eec\u8981\u627e\u73af\u554a\uff0c\u4e8e\u662f$tarjan$\u662f\u9996\u9009\uff0c\u7136\u540e\u6211\u4eec\u8981\u786e\u5b9a\u201c\u5c3d\u5feb\u8dd1\u5230\u73af\u4e0a\u7684\u8ddd\u79bb\u5c0f$L$\u6700\u8fd1\u7684\u4e00\u70b9\u6240\u7528\u7684\u65f6\u95f4\u201d\uff0c\u4e8e\u662f\u6211\u4eec\u9700\u8981$Dijkstra$\u6700\u77ed\u8def\u7b97\u6cd5\uff0c\u8ba1\u7b97\u4e00\u4e0b\u5c0f$L$\u5230\u6240\u6709\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u7136\u540e\u8fd8\u9700\u8981\u8ba1\u7b97\u5c0f$C$\u5230\u6bcf\u4e00\u4e2a\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u7136\u540e\u679a\u4e3e\u6bcf\u4e00\u4e2a\u70b9\uff0c\u5148\u5224\u65ad\u5176\u662f\u5426\u5728\u4e00\u4e2a\u73af\u4e0a\u9762\uff0c\u7136\u540e\u5224\u65ad\u4e00\u4e0b\u5c0f$L$\u5230\u8fbe\u5b83\u7684\u65f6\u95f4\u662f\u5426\u5c0f\u4e8e\u5c0f$C$\u5230\u8fbe\u5b83\u7684\u65f6\u95f4\uff0c\u5982\u679c\u5b58\u5728\u4efb\u610f\u4e00\u4e2a\u8fd9\u6837\u7684\u70b9\uff0c\u8f93\u51fa\"No\"\u3002\n\n\u5982\u679c\u4e0d\u5b58\u5728\u8fd9\u4e2a\u70b9\u600e\u4e48\u529e\uff1f\n\n\u53ef\u4ee5\u628a\u5c0f$L$\u548c\u5c0f$C$\u7684\u884c\u8d70\u8fc7\u7a0b\u5206\u4e3a$x$\u4e2a\u56de\u5408\uff0c\u5148\u8ba9\u5c0f$L$\u8d70$x$\u4e2a\u56de\u5408\uff0c\u90a3\u4e48\u4ed6\u6700\u7ec8\u4f1a\u5728\u4e00\u4e2a\u70b9\u505c\u4e0b\u6765\u3002\u65e0\u8bba\u8fd9\u4e2a\u70b9\u662f\u54ea\u4e2a\u70b9\uff0c\u5b9e\u9645\u4e0a\u53ea\u9700\u8981\u8ba1\u7b97\u5c0f$C$\u5230\u8fd9\u4e2a\u70b9\u7684\u6700\u77ed\u8def\u5f84\u5373\u53ef\uff0c\u540c\u65f6\u8bf7\u60f3\uff0c\u5047\u82e5\u5c0f$L$\u5230\u8fbe\u8fd9\u4e2a\u70b9\u6240\u7528\u7684\u65f6\u95f4\u5927\u4e8e\u5c0f$C$\u5230\u8fd9\u4e2a\u70b9\u7684\u65f6\u95f4\uff0c\u90a3\u5c0f$L$\u663e\u7136\u65e0\u6cd5\u5230\u8fbe\u8fd9\u4e2a\u70b9\uff0c\u6240\u4ee5\u6700\u540e\u7684\u7b54\u6848\u4f1a\u662f\u6ee1\u8db3\u8ddd\u79bb\u5c0f$C$\u6700\u8fdc\u7684\u4e14\u6ee1\u8db3\u5c0f$L$\u5230\u8fd9\u4e2a\u70b9\u7684\u8ddd\u79bb\u5c0f\u4e8e\u5c0f$C$\u5230\u8fd9\u4e2a\u70b9\u7684\u8ddd\u79bb\u7684\u70b9\u3002\n\n### \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014end\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\n\u4ee5\u4e0a\u5c31\u662f\u5173\u4e8e\u8fd9\u9053\u9898\u7684\u505a\u6cd5\uff01\n\n\u8d34\u51fa\u4ee3\u7801\n```\n#include <bits/stdc++.h>\nusing namespace std;\n#define INF 100000000\nconst int MAXN = 6000, MAXM = 30005;\nint n,m,s,t,tot = 0,cnt = 0,now = 0,z = 0;\nint dfn[MAXN],low[MAXN],siz[MAXN],color[MAXN];\nint tack[MAXN],vis[MAXN],book[MAXN];//tarjan\u7b97\u6cd5\u7f29\u70b9\u5e38\u7528\u6570\u7ec4\nint start[MAXN],tag[MAXN],dis[MAXN],D1[MAXN],D2[MAXN];\n//D1\u4e3a\u5c0fL\u5230\u5404\u70b9\u7684\u8ddd\u79bb\uff0cD2\u4e3a\u5c0fC\u5230\u5404\u70b9\u7684\u8ddd\u79bb,tag\u8868\u793a\u662f\u5426\u5728\u73af\u4e0a\n\nstruct Edge {\n\tint next,to;\n} edge[MAXM];\n\nstruct data {\n\tint sum,id;\n\tbool operator <(const data& fz) const {\n\t\treturn fz.sum < sum;\n\t}\n};\n\npriority_queue <data> q;//\u4e0a\u9762\u662fDijkstra\u8981\u7528\u5230\u7684\u4e1c\u897f\n\nvoid add(int from,int to);\nvoid tarjan(int x,int fa);\nvoid Dijkstra(int S);\n\nint main()\n{\n\tcin >> n >> m >> s >> t;\n\tfor(int i = 1 ; i <= m ; i ++)\n\t{\n\t\tint u, v;\n\t\tcin >> u >> v;\n\t\tadd(u,v);\n\t\tadd(v,u);\t\n\t}\n\tfor(int i = 1 ; i <= n ; i ++)\n\t\tif(!dfn[i])tarjan(i,i);//tarjan\n\t\n\tfor(int i = 1 ; i <= n ; i ++)\n\t\tif(siz[color[i]] > 1)tag[i] = 1;//\u4e00\u4e2a\u70b9\u5355\u72ec\u6210\u73af\u6ca1\u7528...\n\tDijkstra(s);\n\tfor(int i = 1 ; i <= n ; i ++)D1[i] = dis[i];\n\tDijkstra(t);//\u8dd1\u4e24\u904dDijkstra\n\tint M = -1000000;\n\tfor(int i = 1 ; i <= n ; i ++)D2[i] = dis[i];\n\tint flag = 0;\n\tfor(int i = 1 ; i <= n ; i ++)\n\t\tif(D1[i] < D2[i])\n\t\t{\n\t\t\tM = max(M,D2[i]);\n\t\t\tif(tag[i] )flag = 1;\n\t\t}\n\tif(flag == 1)cout <<\"NO\\n\";\n\telse cout << M << endl;\n\treturn 0;\n}\n\nvoid add(int from,int to)\n{\n\tcnt ++;\n\tedge[cnt].to = to;\n\tedge[cnt].next = start[from];\n\tstart[from] = cnt;\n\treturn ;//\u524d\u5411\u661f\u52a0\u8fb9\n}\n\nvoid tarjan(int x,int fa)//\u6807\u51c6\u7684tarjan\u5373\u53ef\n{\n\tdfn[x] = low[x] = ++now;\n\ttot ++ , vis[tot] = x;\n\tbook[x] = 1;\n\tfor(int i = start[x] ; i ; i = edge[i].next)\n\t{\n\t\tint to = edge[i].to;\n\t\tif(to == fa)continue;//\u65e0\u5411\u8fb9\uff0c\u9632\u6b62\u53cd\u590d\u6a2a\u8df3\n\t\tif(!dfn[to])\n\t\t{\n\t\t\ttarjan(to,x);\n\t\t\tlow[x] = min(low[x],low[to]);\n\t\t}\n\t\telse if(book[to]) low[x] = min(low[x],dfn[to]);\n\t}\n\tif(dfn[x] == low[x])\n\t{\n\t\tz ++;\n\t\twhile(vis[tot + 1] != x && tot > 0)\n\t\t{\n\t\t\tcolor[vis[tot]] = z;\n\t\t\tsiz[z] ++;\n\t\t\tbook[tot] = 0;\n\t\t\ttot --;\n\t\t}\n\t}\n\treturn ;\n}\n\nvoid Dijkstra(int S)//Dijkstra\u6c42\u6700\u77ed\u8def\u5373\u53ef\n{\n\t\n\tfor(int i = 1 ; i <= n ; i ++)dis[i] = INF;\n\tdis[S] = 0;\n\tq.push(data {dis[S],S});\n\tmemset(book,0,sizeof(book));\n\tbook[S] = 1;\n\twhile(!q.empty())\n\t{\n\t\tdata X = q.top();\n\t\tq.pop();\n\t\tif(X.sum != dis[X.id])continue;\n\t\tbook[X.id] = 1;\n\t\tint x = X.id;\n\t\tfor(int i = start[x] ; i ; i = edge[i].next)\n\t\t{\n\t\t\tint to = edge[i].to;\n\t\t\tif(dis[to] > dis[x] + 1)\n\t\t\t{\n\t\t\t\tdis[to] = dis[x] + 1;\n\t\t\t\tif(!book[to])q.push(data {dis[to],to});\n\t\t\t}\n\t\t}\n\t}\n\treturn ;\n}\n```\n\n#### \u8fd9\u4e2a\u9898\u76ee\u6ca1\u6709\u5f88\u591a\u7684\u7ec6\u8282\uff0c\u4f46\u662f\u6ce8\u610f\u5199\u5bf9\u57fa\u7840\u7b97\u6cd5\uff01",
        "postTime": 1604323948,
        "uid": 67817,
        "name": "MuYC",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P2302 \u3010loidc,\u8dd1\u8d77\u6765\u3011"
    },
    {
        "content": "\u8003\u8651loidc\u4ec0\u4e48\u65f6\u5019\u80fd\u9003\u8131\u3002\n\n\u5f53loidc\u5728\u4e00\u4e2a\u73af\u4e0a\u65f6\uff0c\u7531\u4e8e\u8fd9\u5f20\u56fe\u91cc\u6ca1\u6709\u957f\u5ea6\u4e3a3\u7684\u73af\uff0c\u540c\u65f6\u65e0\u5411\u7b80\u5355\u56fe\u4e0d\u5b58\u5728\u957f\u5ea6\u4e3a0\u62161\u7684\u73af\uff0c\u90a3\u4e48cony\u6c38\u8fdc\u6293\u4e0d\u5230\u4ed6\uff0c\u6240\u4ee5loidc\u7684\u7b56\u7565\u5c31\u5e94\u8be5\u662f\u5c3d\u5feb\u8dd1\u5230\u4e00\u4e2a\u73af\u4e0a\uff0c\u5982\u679cloidc\u5230\u8fbe\u4e00\u4e2a\u73af\u6bd4cony\u5feb\uff0c\u90a3\u4e48\u4ed6\u5c31\u9003\u8131\u4e86\u3002\n\n\u8003\u8651loidc\u65e0\u6cd5\u9003\u8131\u7684\u60c5\u51b5\uff0c\u6b64\u65f6\u4ed6\u53ea\u80fd\u627e\u4e00\u4e2a\u79bbcony\u6700\u8fdc\u7684\u5730\u65b9\u7ad9\u7740\u7b49\u6b7b\u3002\n\n\u5982\u4f55\u5904\u7406\u5728\u73af\u4e0a\u7684\u70b9\uff1f\u6ce8\u610f\u5230\u5728\u73af\u4e0a\u7684\u70b9\u5c31\u662f\u53cc\u8054\u901a\u5206\u91cf\u4e0a\u7684\u70b9\uff0c\u6240\u4ee5\u53ea\u9700\u8dd1tarjan\u5904\u7406\u5373\u53ef\u3002\n\n\u4e4b\u540e\u9700\u8981\u5224\u5b9aloidc\u80fd\u5426\u6bd4cony\u5feb\u7684\u5230\u8fbe\u4e00\u4e2a\u73af\uff0c\u53ea\u9700\u8981\u5bf9\u4e8e\u6bcf\u4e2a\u73af\u4e0a\u7684\u70b9\uff0c\u770bloidc\u5230\u5b83\u7684\u6700\u77ed\u8def\u662f\u5426\u6bd4cony\u5230\u5b83\u7684\u6700\u77ed\u8def\u66f4\u77ed\u5373\u53ef\uff0c\u5982\u679c\u5b58\u5728\u8fd9\u6837\u7684\u70b9\u5c31\u8f93\u51faNO\u3002\n\n\u540c\u65f6\uff0c\u5982\u679cloidc\u8dd1\u4e0d\u6389\uff0c\u90a3\u4e48\u4e5f\u53ea\u9700\u8981\u627e\u5230\u4efb\u610f\u4e00\u4e2a\u70b9\uff0c\u4e14loidc\u5230\u5b83\u7684\u6700\u77ed\u8def\u662f\u5426\u6bd4cony\u5230\u5b83\u7684\u6700\u77ed\u8def\u66f4\u77ed\uff0c\u6b64\u65f6cony\u5230\u5b83\u7684\u6700\u77ed\u8def\u5373\u4e3a\u7b54\u6848\u3002\n\n\u81f3\u4e8e\u5982\u4f55\u5904\u7406cony\u548cloidc\u7684\u6700\u77ed\u8def\uff0c\u56fe\u7684\u8fb9\u6743\u4e3a1\uff0c\u53ea\u9700\u8981bfs\u5373\u53ef\u3002\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\ntemplate<typename tn> void read(tn &a){\n\ttn f=1,x=0;char c=' ';\n\tfor(;!isdigit(c);c=getchar()) if(c=='-') f=-1;\n\tfor(;isdigit(c);c=getchar()) x=x*10+c-'0';\n\ta=x*f;\n}\n#define int long long\nconst int N=3005;\nconst int M=15005;\nint m,n,a,b;\nstruct edge{\n\tint nex,to;\n\tbool b;\n}e[M*2];\nint cnt=1,head[N],dfn[N],low[N],num;\nvoid add(int x,int y){\n\te[++cnt].nex=head[x];\n\te[cnt].to=y;\n\thead[x]=cnt;\n}\nvoid tarjan(int x,int in_edge){\n\tdfn[x]=low[x]=++num;\n\tfor(int i=head[x];i;i=e[i].nex){\n\t\tint y=e[i].to;\n\t\tif(!dfn[y]){\n\t\t\ttarjan(y,i);\n\t\t\tlow[x]=min(low[x],low[y]);\n\t\t\tif(low[y]>dfn[x])\n\t\t\t    e[i].b=e[i^1].b=1;\n\t\t}\n\t\telse if(i!=(in_edge^1))\n\t\t    low[x]=min(low[x],dfn[y]);\n\t}\n}\nint c[N],dcc,cntp[N];\nvoid dfsdcc(int x){\n\tc[x]=dcc;\n\tcntp[dcc]++;\n\tfor(int i=head[x];i;i=e[i].nex){\n\t\tint y=e[i].to;\n\t\tif(c[y]||e[i].b) continue;\n\t\tdfsdcc(y);\n\t}\n}\nint d[3][N];\nbool v[N];\nvoid bfs(int s,int type){\n\tmemset(d[type],0x3f,sizeof(d[type]));\n\tmemset(v,0,sizeof(v));\n\tqueue<int> q;\n\tq.push(s);\n\td[type][s]=0;\n\tv[s]=1;\n\twhile(q.size()){\n\t\tint x=q.front();\n\t\tq.pop();\n\t\tfor(int i=head[x];i;i=e[i].nex){\n\t\t\tint y=e[i].to;\n\t\t\tif(v[y]) continue;\n\t\t\tv[y]=1;\n\t\t\td[type][y]=d[type][x]+1;\n\t\t\tq.push(y);\n\t\t}\n\t}\n}\nint ans;\nsigned main(){\n\tread(n);\n\tread(m);\n\tread(a);\n\tread(b);\n\tfor(int i=1;i<=m;i++){\n\t\tint x,y;\n\t\tread(x);\n\t\tread(y);\n\t\tadd(x,y);\n\t\tadd(y,x);\n\t}\n\tfor(int i=1;i<=n;i++)\n\t    if(!dfn[i]) tarjan(i,0);\n\tfor(int i=1;i<=n;i++)\n\t    if(!c[i]){\n\t    \t++dcc;\n\t    \tdfsdcc(i);\n\t\t}\n\tbfs(a,0);\n\tbfs(b,1);\n\tfor(int i=1;i<=n;i++)\n\t\tif(d[0][i]<d[1][i]){\n\t\t\tif(cntp[c[i]]>1){\n\t\t\t\tprintf(\"NO\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t\tif(d[1][i]>ans) ans=d[1][i];\n\t\t}\n\tprintf(\"%lld\\n\",ans);\n\treturn 0;\n}\n```\n",
        "postTime": 1596268887,
        "uid": 297143,
        "name": "Shokuhou_Misaki",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2302 \u3010loidc,\u8dd1\u8d77\u6765\u3011"
    },
    {
        "content": "## \u5148\u8dd1\u4e00\u904d**tarjan**\u5224\u73af \n## \u518d\u8dd1\u4e24\u904d**\u6700\u77ed\u8def**  \n### \u4e3a\u4ec0\u4e48\u8dd1\u6700\u77ed\u8def\u5462\uff08\u9898\u76ee\u4e2d(**\u5047\u8bbe\u4e24\u4e2a\u4eba\u90fd\u8db3\u591f\u806a\u660e**)\uff09 \n#### \u6700\u540e\u679a\u4e3e\u6bcf\u4e2a\u70b9  \n### \u5982\u679cloidc\u5230\u8fd9\u70b9\u7684\u8ddd\u79bb\u5c0f\u4e8econy\u5230\u8fd9\u70b9\u7684\u8ddd\u79bb  \n#### \u90a3\u4e48lodic\u662f\u53ef\u4ee5\u8dd1\u5230\u8fd9\u70b9\u7684 \n### \u5982\u679c\u8fd9\u70b9\u5728\u73af\u4e0a\u8bf4\u660elodic\u5c31\u53ef\u4ee5\u6e9ccony\u4e86 \n#### \u5426\u5219\u5c31\u66f4\u65b0\u7b54\u6848\n```cpp\n#include<bits/stdc++.h>\n#define ll long long\n#define maxn 3010\n#define maxm 15010\nusing namespace std;\nint n,m,a,b;\nvector<int>G[maxn];\nvoid input()\n{\n\tscanf(\"%d%d%d%d\",&n,&m,&a,&b);\n\tfor(int i=1;i<=m;i++)\n\t{\n\t\tint u,v;\n\t\tscanf(\"%d%d\",&u,&v);\n\t\tG[u].push_back(v);\n\t\tG[v].push_back(u);\n\t}\n}\nstack<int>stk;\nbool vis[maxn],tag[maxn];\nint dfn[maxn],low[maxn],cnt;\nvoid tarjan(int u,int fa)\n{\n\tdfn[u]=low[u]=++cnt;\n\tvis[u]=1;\n\tstk.push(u);\n\tint l=G[u].size(); \n\tfor(int i=0;i<l;i++)\n\t{\n\t\tint v=G[u][i];\n\t\tif(v==fa)continue;\n\t\tif(!dfn[v])\n\t\t{\n\t\t\ttarjan(v,u);\n\t\t\tlow[u]=min(low[u],low[v]);\n\t\t}\n\t\telse\n\t\tif(vis[v])\n\t\tlow[u]=min(low[u],dfn[v]);\n\t}\n\tif(low[u]==dfn[u])\n\t{\n\t\tint w,num=0;\n\t\tdo\n\t\t{\n\t\t\tw=stk.top();\n\t\t\tstk.pop();\n\t\t\tvis[w]=0;\n\t\t\ttag[w]=1;\n\t\t\tnum++;\n\t\t}while(w!=u);\n\t\tif(num==1)tag[w]=0;\n\t}\n}\nqueue<int>q;\nint dist1[maxn],dist2[maxn];\nbool b1[maxn];\nvoid spfa1(int u)\n{\n\tmemset(dist1,0x3f,sizeof(dist1));\n\tdist1[u]=0;\n\tq.push(u);\n\tb1[u]=1;\n\twhile(!q.empty())\n\t{\n\t\tint f=q.front();\n\t\tq.pop();\n\t\tb1[f]=0;\n\t\tint l=G[f].size();\n\t\tfor(int i=0;i<l;i++)\n\t\t{\n\t\t\tint v=G[f][i];\n\t\t\tif(dist1[v]>dist1[f]+1)\n\t\t\t{\n\t\t\t\tdist1[v]=dist1[f]+1;\n\t\t\t\tif(!b1[v])\n\t\t\t\t{\n\t\t\t\t\tb1[v]=1;\n\t\t\t\t\tq.push(v);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nbool b2[maxn];\nvoid spfa2(int u)\n{\n\tmemset(dist2,0x3f,sizeof(dist2));\n\tdist2[u]=0;\n\tq.push(u);\n\tb2[u]=1;\n\twhile(!q.empty())\n\t{\n\t\tint f=q.front();\n\t\tq.pop();\n\t\tb2[f]=0;\n\t\tint l=G[f].size();\n\t\tfor(int i=0;i<l;i++)\n\t\t{\n\t\t\tint v=G[f][i];\n\t\t\tif(dist2[v]>dist2[f]+1)\n\t\t\t{\n\t\t\t\tdist2[v]=dist2[f]+1;\n\t\t\t\tif(!b2[v])\n\t\t\t\t{\n\t\t\t\t\tb2[v]=1;\n\t\t\t\t\tq.push(v);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n}\nint ans;\nint main()\n{\n\tinput();\n\tfor(int i=1;i<=n;i++)\n\tif(!dfn[i])tarjan(i,0);\n\tspfa1(a);\n\tspfa2(b);\n\tfor(register int i=1;i<=n;i++)\n\t{\n\t\tif(dist1[i]<dist2[i])\n\t\t{\n\t\t\tans=max(ans,dist2[i]);\n\t\t\tif(tag[i])\n\t\t\t{\n\t\t\t\tprintf(\"NO\");\n\t\t\t\treturn 0;\n\t\t\t}\n\t\t}\n\t}\n\tprintf(\"%d\",ans);\n} \n```\n",
        "postTime": 1571969337,
        "uid": 183444,
        "name": "JohnChan",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P2302 \u3010loidc,\u8dd1\u8d77\u6765\u3011"
    }
]