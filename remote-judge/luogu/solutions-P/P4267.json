[
    {
        "content": "## \u7adf\u7136\u6ca1\u6709\u4eba\u5199\u9898\u89e32333\u90a3\u672c\u849f\u84bb\u5c31\u6765$H_2O$\u4e00\u7bc7\u5427\n\n\u9996\u5148\uff0c\u770b\u5b8c\u9898\u9762\u4e0d\u96be\u60f3\u5230DP\uff0c\u4e4b\u540e\u518d\u770b\u6570\u636e\u8303\u56f4\u8003\u8651$O(N^3)$DP\uff0c\u4e4b\u540e\u778e\u641e\u4e00\u901a\u53ef\u4ee5\u60f3\u5230\n> $f[i][j]$\u8868\u793a\u5728\u524d$i$\u4e2a\u91cc\u9762\u7ecf\u5386$k$\u6b21\u51fa\u9003\u53ef\u4ee5\u53d6\u5230\u6700\u5c11\u7684\u4fee\u6539\u6570\n\n> \u90a3\u4e48\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u53d1\u73b0$f[i][j]$\u53ef\u4ee5\u5f71\u54cd\u7684\u8303\u56f4\u4e3a$f[u][j+1]$($i < u \u2264n$)\uff0c\u7136\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u5199\u51fa\u5982\u4e0b\u7684\u7a0b\u5e8f\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n\nusing namespace std;\n\nint Num[110];\nint Cnt[110][110];\nint f[110][110]; // dp\u6570\u7ec4\n\nint main(){\n\tmemset(f, 127, sizeof(f)); // f\u6570\u7ec4\u521d\u503c\u6781\u5927\n\tint n;\n\tscanf(\"%d\", &n);\n\tfor(int i = 1; i <= n; i++)\n\t\tscanf(\"%d\", &Num[i]);\n    /*\n     * Cnt[i][j]\u8868\u793a\u5982\u679c\u7b2ci\u5929\u51fa\u9003\u90a3\u4e48\u5230\u7b2cj\u5929\u5982\u679c\u6539\u6210\u8f93\u5165\u7684\u5e8f\u5217\u9700\u8981\u4fee\u6539\u7684\u6b21\u6570\n     * \u8fd9\u91cc\u6211\u4eec\u628aCnt\u9884\u5904\u7406\u4ee5\u4e0b\n     */\n\tfor(int i = 0; i <= n; i++){\n\t\tint Cou = 0;\n\t\tfor(int j = i; j <= n; j++){\n\t\t\tif(Num[j] != j - i)\n\t\t\t\tCou++;\n\t\t\tCnt[i][j] = Cou;\n\t\t}\n\t}\n    // dp\n\tf[0][0] = 0;\n\tfor(int i = 0; i <= n; i++)\n\t\tfor(int j = 1; j <= n; j++)\n\t\t\tfor(int u = i+1; u <= n; u++) // \u679a\u4e3ef[i][j]\u53ef\u4ee5\u66f4\u65b0\u7684\u72b6\u6001\n\t\t\t\tif(f[u][j] > f[i][j-1] + Cnt[i+1][u]) // \u5982\u679c\u66f4\u4f18\n\t\t\t\t\tf[u][j] = f[i][j-1] + Cnt[i+1][u];\n    // \u4e0d\u96be\u770b\u51fa\u7b54\u6848\u5c31\u662ff[n][1]\u2026\u2026f[n][n]\n\tfor(int i = 1; i <= n; i++)\n\t\tprintf(\"%d\\n\", f[n][i]);\n}\n```",
        "postTime": 1533041390,
        "uid": 36362,
        "name": "Dilute",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4267 \u3010[USACO18FEB]Taming the Herd\u3011"
    },
    {
        "content": "[\u9898\u9762](https://www.luogu.org/problemnew/show/P4267)\n\nDP\u3002\n\n\u601d\u8def\u597d\u50cf\u548c\u697c\u4e0a\u4e0d\u4e00\u6837\u3002$dp[i][j][k]$\u8868\u793a\u5df2\u7ecf\u5230\u4e86\u7b2c$i$\u5929\uff0c\u9003\u4e86$j$\u6b21\uff0c\u4eca\u5929\u8ba1\u6570\u5668\u8bb0\u7684\u6570\u4e3a$k$\u7684\u6700\u5c0f\u503c\u3002\u90a3\u4e48\u4e24\u79cd\u8f6c\u79fb\uff1a\n\n1\u3001\u5f53$k=0$\u65f6\uff0c$dp[i][j][0]=min(dp[i-1][j-1][p])+(a[i]!=0)$\n\n2\u3001\u5f53$k!=0$\u65f6\uff0c$dp[i][j][k]=dp[i-1][j][k-1]+(a[i]!=k)$\n\n\u5728\u7b2c\u4e00\u6761\u65b9\u7a0b\u91cc\uff0c\u9700\u8981\u679a\u4e3e$p$\u3002\u6240\u4ee5\u590d\u6742\u5ea6\u662f$O(n^4)$\u3002\u7136\u540e\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a$g$\u7ef4\u62a4\u4e00\u4e0b$min(dp[i-1][j-1][p])$\uff0c\u6240\u4ee5\u53d8\u6210\u4e86$O(n^3)$\u3002\n\n\u5176\u5b9e$i$\u548c$j$\u8fd9\u4e24\u7ef4\u90fd\u53ef\u4ee5\u6eda\u6389\uff0c\u4f46\u6211\u61d2\u5f97\u5199\u4e86\u3002\n\ncode:\n```\n//2018.9.28 by ljz\n#include<bits/stdc++.h>\nusing namespace std;\n#define res register int\n#define LL long long\n#define inf 0x3f3f3f3f\n#define eps 1e-15\ninline int read(){\n    res s=0;\n    bool w=0;\n    char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')w=1;ch=getchar();}\n    while(ch>='0'&&ch<='9')s=s*10+ch-'0',ch=getchar();\n    return w?-s:s;\n}\ninline void _swap(res &x,res &y){\n    x^=y^=x^=y;\n}\ninline int _abs(const res &x){\n    return x>0?x:-x;\n}\ninline int _max(const res &x,const res &y){\n    return x>y?x:y;\n}\ninline int _min(const res &x,const res &y){\n    return x<y?x:y;\n}\nconst int N=1e2+10;\nnamespace MAIN{\n    int n;\n    int dp[N][N][N],g[N][N];\n    int a[N];\n    inline void MAIN(){\n        n=read();\n        for(res i=1;i<=n;i++)a[i]=read();\n        memset(g,inf,sizeof(g));\n        memset(dp,inf,sizeof(dp));\n        dp[0][0][0]=0;\n        g[0][0]=0;\n        for(res i=1;i<=n;i++)\n            for(res j=1;j<=i;j++)\n                for(res k=0;k<i;k++){\n                    if(!k)dp[i][j][k]=g[i-1][j-1]+(a[i]!=0),g[i][j]=_min(g[i][j],dp[i][j][k]);\n                    else dp[i][j][k]=dp[i-1][j][k-1]+(a[i]!=k),g[i][j]=_min(g[i][j],dp[i][j][k]);\n                }\n        for(res i=1;i<=n;i++)printf(\"%d\\n\",g[n][i]);\n    }\n}\nint main(){\n    MAIN::MAIN();\n    return 0;\n}\n```",
        "postTime": 1538132974,
        "uid": 32878,
        "name": "foreverlasting",
        "ccfLevel": 7,
        "title": "\u3010USACO18FEB\u3011Taming the Herd"
    },
    {
        "content": "### 1 \u9898\u76ee\u5206\u6790\n\u9898\u76ee\u8bf4\u5728\u4e00\u4e2a\u725b\u68da\u91cc\u6709\u4e00\u4e2a\u8ba1\u6570\u5668\uff0c\u7528\u6765\u8bb0\u5f55\u6bcf\u4e00\u5929\u6709\u6ca1\u6709\u5976\u725b\u9003\u8dd1\u3002  \n\u5047\u8bbe\u4eca\u5929\u662f\u7b2c $i$ \u5929\uff0c\u5982\u679c\u4eca\u5929\u6709\u5976\u725b\u9003\u8dd1\uff0c\u90a3\u4e48\u8ba1\u6570\u5668\u5c31\u4e3a $0$  \u3002   \n\u5982\u679c\u5728\u7b2c $i-j$ \u5929\u6709\u5976\u725b\u9003\u8dd1\uff0c\u90a3\u4e48\u8ba1\u6570\u5668\u5c31\u4e3a $j$   \u3002  \n\u4f46\u662f\u8bb0\u5f55\u6709\u53ef\u80fd\u88ab\u7be1\u6539\uff0c\u7ed9\u5b9a\u4e00\u4e2a\u8bb0\u5f55\u7684\u6570\u5217\uff08\u6709\u53ef\u80fd\u88ab\u7be1\u6539\u8fc7\uff09\uff0c\u6c42\u5728\u6709 $i$ \u4e2a\u5976\u725b\u9003\u8dd1\u65f6\u7684\u6700\u5c0f\u88ab\u7be1\u6539\u91cf\u3002  \n### 2 \u601d\u8def\n\u56e0\u4e3a\u6c42\u7684\u662f\u6700\u5c0f\u503c\uff0c\u6211\u4eec\u53ef\u4ee5\u60f3\u5230 dp \u3002  \n\u6211\u4eec\u53ef\u4ee5\u7528 $dp[i][j]$ \u8868\u793a\u5230\u7b2c $i$ \u5929\u4e3a\u6b62\u6709 $j$ \u5934\u5976\u725b\u9003\u8dd1\u65f6\u7684\u6700\u5c0f\u88ab\u7be1\u6539\u6570\u91cf  \u3002  \n\u5bb9\u6613\u5f97\u51fa\uff0c\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $u(i<u<=n)$ \uff0c\u6709 $dp[u][j]=min(dp[u][j],f[i][j-1]+$ \u7b2c $i+1$ \u5230\u7b2c $u$ \u5929\u7684\u7be1\u6539\u91cf)  \u3002  \n\u5982\u679c\u5728\u5faa\u73af\u5185\u6c42\u51fa\u7b2c $i+1$ \u5230\u7b2c $u$ \u5929\u7684\u7be1\u6539\u91cf\uff0c\u90a3\u4e48\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^4)$ \uff0c\u6709\u70b9\u618b\u5c48\u3002\u90a3\u4e48\u6211\u4eec\u8003\u8651\u4f18\u5316  \u3002  \n\u65b0\u5f00\u4e00\u4e2a\u6570\u7ec4 $sum$ \uff0c $sum[i][j]$ \u8868\u793a\u5982\u679c\u7b2c $i$ \u5929\u6709\u4eba\u51fa\u9003\u90a3\u4e48\u5230\u7b2c $j$ \u5929\u4f4d\u7f6e\u6709\u51e0\u4e2a\u5730\u65b9\u88ab\u7be1\u6539\u8fc7  \u3002   \n\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5 $n^2$\u6c42\u51fa\u6bcf\u4e00\u4e2a $sum$ \uff0c\u72b6\u6001\u8f6c\u79fb\u4e5f\u53d8\u6210\u4e86 $f[u][j]=min(f[u][j],f[i][j-1]+sum[i+1][u])$ \u3002    \n\n\u6700\u7ec8\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$ \u3002  \n### 3 code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint a[110];\nint sum[110][110];\nint f[110][110];//f\u5373dp\nint main(){\n    memset(f,127,sizeof(f));//\u521d\u59cb\u503c\u65e0\u7a77\u5927\n    int n;\n    cin>>n;\n    for(int i=1;i<=n;i++) cin>>a[i];\n    for(int i=0;i<=n;i++){//n^2\u9884\u5904\u7406\n        int cnt=0;\n        for(int j=i;j<=n;j++){\n            if(a[j]!=j-i) cnt++;//\u5982\u679c\u4e0d\u4e00\u6837\u8ba1\u6570\n            sum[i][j]=cnt;\n        }\n    }\n    f[0][0]=0;\n    for(int i=0;i<=n;i++)//\u679a\u4e3ei\n        for(int j=1;j<=n;j++)//\u679a\u4e3ej\n            for(int u=i+1;u<=n;u++)//\u5bf9\u4e8e\u6bcf\u4e00\u4e2au\n                if(f[u][j]>f[i][j-1]+sum[i+1][u])  f[u][j]=f[i][j-1]+sum[i+1][u];//\u72b6\u6001\u8f6c\u79fb\n    for(int i=1;i<=n;i++)cout<<f[n][i]<<endl;//\u8f93\u51fa\n    return 0;//\u5b8c\u7ed3\u6492\u82b1\uff01\uff01\uff01\n}\n```\n",
        "postTime": 1621069717,
        "uid": 343251,
        "name": "heaksicn",
        "ccfLevel": 5,
        "title": "P4267\t[USACO18FEB]Taming the Herd G"
    },
    {
        "content": "\u88f8DP\u9898\n\n\n\u8bbe$f[i][j]$\u4e3a\u5728\u7b2c$i$\u5929\u5f00\u59cb\u51fa\u9003\uff0c\u5230\u7b2c$j$\u5929\u65f6\u6709\u591a\u5c11\u4e2a\u4e0d\u540c\u7684\u8bb0\u5f55\u6761\u6570\u3002\n\n$dp[i][j]$\u4e3a\u524d$i$\u5929\u4e2d\uff0c\u51fa\u9003$j$\u6b21\u7684\u4e0d\u540c\u7684\u8bb0\u5f55\u6761\u6570\u7684\u6700\u5c0f\u503c\u3002\n\u7b54\u6848\u4e3a$dp[n][1] dp[n][n]$\n\n\u8f6c\u79fb\u65b9\u7a0b $dp[i][j]=min(dp[k-1][j]+dp[k])$\n\n**code**\n``` cpp\n\n//love yjl forever\n#include<bits/stdc++.h>\nusing namespace std;\n#define ll long long  \nconst int INF=0x3f3f3f3f,MAX=100+5;\nint n;\nint a[MAX],f[MAX][MAX],dp[MAX][MAX];\nint main()\n{\n/*\tfreopen(\"\",\"r\",stdin);\n\tfreopen(\"\",\"w\",stdout);*/\n\tint i,j;\n\tcin>>n;\n\tfor(i=1;i<=n;i++)\n\t\tcin>>a[i];\n\tfor(i=1;i<=n;i++)\n\t\tfor(j=i;j<=n;j++)\n\t\t\tf[i][j]=f[i][j-1]+(a[j]!=(j-i));\n\t\n\tmemset(dp,INF,sizeof(dp));\n\tfor(i=0;i<=n;i++)\n\t\tdp[0][i]=0;\n\t\n\tdp[1][1]=(a[1]!=0);\n\tfor(i=2;i<=n;i++)\n\t{\n\t\tfor(j=1;j<=i;j++)\n\t\t\tfor(int k=max(1,j);k<=i;k++)\n\t\t\t{\n\t\t\t\tdp[i][j]=min(dp[i][j],dp[k-1][j-1]+f[k][i]);\n\t\t\t}\n\t}\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tcout<<dp[n][i]<<endl;\n\t}\n\treturn 0;\n}\n```",
        "postTime": 1568899107,
        "uid": 20338,
        "name": "zhmshitiancai",
        "ccfLevel": 7,
        "title": "USACO18 Feb G T3"
    },
    {
        "content": "## \u597d\u50cf\u6ca1\u6709 $O(n^2)$ \u7684\u9898\u89e3\uff0c\u63d0\u4f9b\u4e00\u4e2a $O(n^2)$ \u505a\u6cd5\n\n\u8bbe $dp[i][j]$ \u8868\u793a\u524d $i$ \u5929\u51fa\u9003 $j$ \u6b21\u7684**\u6700\u5927\u7b26\u5408\u5929\u6570**\uff08\u4e0d\u662f\u6700\u5c0f\u4e0d\u7b26\u5408\u5929\u6570\uff09\u3002\n\n\u5bf9\u4e8e\u6bcf\u4e00\u4e2a $i$ \u90fd\u6709\u4e24\u79cd\u60c5\u51b5\uff1a\n\n1. \u5f53\u5929\u7684\u8ba1\u6570\u5668\u662f\u4e0d\u6b63\u786e\u7684\uff0c\u5219\u76f4\u63a5\u4ece\u4e0a\u4e00\u5929\u8f6c\u79fb\u5373\u53ef\uff1b\n\n2. \u5f53\u5929\u7684\u8ba1\u6570\u5668\u662f\u6b63\u786e\u7684\uff0c\u90a3\u4e48\u4e0a\u6b21\u51fa\u9003\u7684\u65e5\u5b50\u662f\u53ef\u4ee5\u7b97\u51fa\u6765\u7684\uff0c\u5373 $i - a_i$ \u3002\n\n$i - a_i$ \u5230 $i$ \u4e4b\u95f4\u7684\u8d21\u732e\u53ef\u4ee5\u63d0\u524d\u9884\u5904\u7406\u51fa\u6765\u3002\n\n\u4e8e\u662f\u5c31\u6709\u4e86\u4e24\u79cd\u8f6c\u79fb\uff08 $sum$ \u662f\u533a\u95f4\u8d21\u732e\uff09\uff1a\n\n$$dp[i][j] = \\max(dp[i - 1][j], dp[i - a[i] - 1][j - 1] + sum[i - a[i]][i])$$\n\n\u7136\u540e\u7531\u4e8e\u7b2c\u4e00\u5929\u4e00\u5b9a\u662f\u51fa\u9003\u7684\uff0c\u9884\u5904\u7406\u53ea\u6709\u4e00\u6b21\u51fa\u9003\u7684\u60c5\u51b5\u5373\u53ef\u3002\n\n**\u8fd8\u6709\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5**\uff0c \u5c31\u662f\u51fa\u9003\u6b21\u6570\u5f88\u591a\u7684\u65f6\u5019\u5c31\u8981\u7b97\u6bcf\u5929\u51fa\u9003\u7684\u60c5\u51b5\uff0c\u5c31\u662f\u591a\u7b97\u4e00\u79cd\u60c5\u51b5\uff1a\n\n$$dp[i][j] = \\max(dp[i][j], dp[i - 1][j - 1])$$\n\n\u6700\u540e\u522b\u5fd8\u4e86\u628a\u6700\u5927\u7b26\u5408\u6362\u7b97\u6210\u6700\u5c0f\u4e0d\u7b26\u5408\u3002\n\ncode\uff1a\n\n```\n#include<bits/stdc++.h>\nusing namespace std;\nint n, a[110], qc[110][110];\nint dp[110][110], dp0[110][110], jc[110][110];\nsigned main(){\n\tmemset(dp, -1, sizeof(dp));\n\tscanf(\"%d\", &n);\n\tfor(int i = 1; i <= n; i++)\n\t\tscanf(\"%d\", &a[i]);\n\tfor(int i = 1; i <= n; i++){//\u9884\u5904\u7406\u533a\u95f4\u8d21\u732e\n\t\tqc[i][i] = (a[i] == 0);\n\t\tint qwq = 1;\n\t\tfor(int j = 1; j <= a[i] && i - j >= 1; j++){\n\t\t\tif(a[i - j] == a[i] - j)\n\t\t\t\tqwq++;\n\t\t\tqc[i][i - j] = qwq;\n\t\t}\n\t}\n\tdp[1][1] = (a[1] == 0);\n\tdp[0][0] = 0;\n\tint js = dp[1][1];\n\tfor(int i = 2; i <= n; i++)//\u9884\u5904\u7406j = 1\u7684\u60c5\u51b5\n\t\tif(a[i] == i - 1)\n\t\t\tdp[i][1] = ++js;\n\t\telse\n\t\t\tdp[i][1] = js;\n\tfor(int i = 2; i <= n; i++)\n\t\tdp[0][i] = dp[1][i] = 0;\n\tfor(int i = 2; i <= n; i++){\n\t\tfor(int j = 2; j <= i; j++){\n\t\t\t\tif(i - a[i] - 1 >= j - 1)\n\t\t\t\t\tdp[i][j] = max(dp[i - a[i] - 1][j - 1] + qc[i][i - a[i]], dp[i - 1][j]);\n\t\t\telse\n\t\t\t\tdp[i][j] = dp[i - 1][j];\n\t\t\tdp[i][j] = max(dp[i][j], dp[i - 1][j - 1]);\n\t\t}\n\t\tfor(int j = i + 1; j <= n; j++)\n\t\t\t\tdp[i][j] = 0;\n\t}\n\tfor(int i = 1; i <= n; i++)\n\t\tcout << n - dp[n][i]<<\"\\n\";\n}\n```\n\n~~\u7136\u540e\u5c31\u4ee5\u590d\u6742\u5ea6\u4f18\u52bf\u8f7b\u8f7b\u677e\u677e\u53d6\u5f97\u6700\u4f18\u89e3\u3002~~",
        "postTime": 1636379103,
        "uid": 169422,
        "name": "v\u0435ctorwyx",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P4267 \u3010[USACO18FEB]Taming the Herd G\u3011"
    },
    {
        "content": "## \u601d\u8def\n### 1\u3001\u5206\u6790\n\u8fd9\u662f\u4e00\u9053 dp \u9898 ~~\uff08\u5927\u6982\u8fd8\u662f\u6bd4\u8f83\u5bb9\u6613\u770b\u51fa\u6765\u7684\u5427\uff09~~\uff0c\u72b6\u6001\u6709\uff1a\u65f6\u95f4\u3001\u51fa\u9003\u60c5\u51b5\u3001\u7be1\u6539\u7684\u8bb0\u5f55\u3002\u65f6\u95f4\u8fd9\u4e2a\u72b6\u6001\u53ef\u4ee5\u7528\u4e00\u4e2a\u7ef4\u5ea6\u8868\u793a\u3002\u51fa\u9003\u60c5\u51b5\u5305\u542b\u51fa\u9003\u603b\u7684\u6b21\u6570\u548c\u6bcf\u6b21\u51fa\u9003\u5206\u522b\u7684\u65f6\u95f4\uff0c\u6bcf\u6b21\u51fa\u9003\u5206\u522b\u7684\u65f6\u95f4\u2014\u2014\u8fd9\u770b\u8d77\u6765\u4e0d\u592a\u597d\u7ef4\u62a4\u3002\u4f46\u662f\u6211\u4eec\u601d\u8003\uff1a\u72b6\u6001\u7684\u8f6c\u79fb\u9700\u8981\u7528\u5230\u6bcf\u4e00\u6b21\u7684\u51fa\u9003\u65f6\u95f4\u5417\uff1f\u5728\u72b6\u6001\u8f6c\u79fb\u65f6\uff0c\u5047\u8bbe\u6211\u4eec\u8981\u8f6c\u79fb\u5230\u7b2c $k$ \u5929\uff0c\u51fa\u9003\u6b21\u6570\u4e3a $j$ \u7684\u72b6\u6001\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u5728\u67d0\u5929\u51fa\u9003\uff0c\u90a3\u4e48\u5c31\u53ea\u8981\u51fa\u9003\u6b21\u6570\u4e3a $j-1$ \u7684\u72b6\u6001\uff1b\u6211\u4eec\u4e5f\u53ef\u4ee5\u9009\u62e9\u4e0d\u51fa\u9003\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u9700\u8981\u5f53\u524d\u51fa\u9003\u6b21\u6570\u4e0b\u7684\u6700\u540e\u4e00\u6b21\u51fa\u9003\u7684\u65f6\u95f4\u3002\n\n\u6700\u540e\u6211\u4eec\u53d1\u73b0\uff1a**\u5bf9\u4e8e\u51fa\u9003\u60c5\u51b5\uff0c\u5176\u5b9e\u72b6\u6001\u7684\u8f6c\u79fb\u53ea\u4f1a\u7528\u5230\u603b\u7684\u51fa\u9003\u6b21\u6570\u548c\u6700\u540e\u4e00\u6b21\u51fa\u9003\u65f6\u95f4\u3002** \u6240\u4ee5\u6211\u4eec\uff1a**\u8bb0 $dp[k][i][j]$ \u8868\u793a\u5230\u7b2c $k$ \u5929\uff0c\u603b\u5171\u51fa\u9003 $i$ \u6b21\uff0c\u6700\u540e\u4e00\u6b21\u51fa\u9003\u662f\u5728\u7b2c $j$ \u5929\u7684\u8fd9\u79cd\u72b6\u6001\u4e0b\uff0c\u6700\u5c11\u7684\u7be1\u6539\u8bb0\u5f55\u6b21\u6570\u3002**\n\n### 2\u3001\u8f6c\u79fb\u65b9\u7a0b\n\n\u8fd9\u5929\u4e0d\u51fa\u9003\uff1a\n$$dp_{k,i,j}=\\min(dp_{k-1,i,j}+opt)$$\n$opt$ \u4e3a $a[k]$ \u662f\u5426\u7b49\u4e8e $k-j$\uff0c\u662f\u5219\u4e3a $0$\uff0c\u5426\u5219\u4e3a $1$\u3002\n\n\u5982\u679c\u4e0d\u51fa\u9003\uff0c\u5c31\u901a\u8fc7\u539f\u6709\u7684\u51fa\u9003 $i$ \u6b21\u7684\u72b6\u6001\u6765\u8f6c\u79fb\uff1b\u6700\u540e\u4e00\u6b21\u51fa\u9003\u662f\u5728\u7b2c $j$ \u5929\uff0c\u90a3\u4e48\u4ece\u7b2c $j$ \u5929\u5f00\u59cb\uff0c\u6b63\u786e\u6570\u636e\u5c31\u662f $0,1,2,3\\dots$\u6240\u4ee5\u5230\u7b2c $k$ \u5929\u65f6\u6b63\u786e\u6570\u636e\u5c31\u5e94\u8be5\u4e3a $k-j$\uff0c\u6211\u4eec\u5c31\u53ea\u9700\u8981\u770b\u7b2c $k$ \u5929\u8ba1\u6570\u5668\u8bfb\u6570\uff08$a[k]$\uff09\u662f\u4e0d\u662f\u7b49\u4e8e\u6b63\u786e\u6570\u636e\uff08$k-j$\uff09\uff0c\u4ee5\u6b64\u51b3\u5b9a\u662f\u5426\u8981\u5728 $k-1$ \u5929\u3001\u51fa\u9003 $i$ \u6b21\u3001\u6700\u540e\u51fa\u9003\u5728\u7b2c $j$ \u5929\u7684\u72b6\u6001\u4e0a\u52a0\u4e00\uff1b\n\n\u8fd9\u5929\u51fa\u9003\uff1a\n$$dp_{k,i,j}=\\min(dp_{j-1,i-1,x}+opt)$$\n$opt$ \u4e3a\u8ba1\u6570\u5668\u8bfb\u6570\u4ece\u7b2c $j$ \u5929\u5230\u7b2c $k$ \u5929\uff0c\u7be1\u6539\u6570\u636e\u7684\u6570\u91cf\u3002\n\n\u9009\u62e9\u51fa\u9003\uff0c\u4e5f\u5c31\u662f\u8bf4\u6700\u540e\u5728\u7b2c $j$ \u5929\u51fa\u9003\uff0c\u90a3\u4e48\u72b6\u6001\u5c31\u9700\u8981\u4ece\u5230\u7b2c $j-1$ \u5929\u3001\u51fa\u9003\u6b21\u6570 $-1$ \u7684\u72b6\u6001\u8f6c\u79fb\u5f97\u6765\uff0c\u5728\u8fd9\u4e9b\u72b6\u6001\u4e2d\u53d6 $min$ \u5373\u53ef\uff1b\u7531\u4e8e\u6700\u540e\u662f\u5728\u7b2c $j$ \u5929\u51fa\u9003\uff0c\u6240\u4ee5\u4ece $j$ \u5f00\u59cb\u6240\u5bf9\u5e94\u7684\u6b63\u786e\u6570\u636e\u5c31\u662f $0,1,2,3\\dots$\u90a3\u4e48\u5c31\u8fd8\u5f97\u770b\u8ba1\u6570\u5668\u5728\u4ece $j$ \u5230 $k$ \u7684\u8fd9\u6bb5\u65f6\u95f4\u7684\u8bb0\u5f55\u5426\u7b49\u4e8e\u6b63\u786e\u6570\u636e\uff1b\u82e5\u4e0d\u662f\u5219\u7be1\u6539\u6b21\u6570\u52a0\u4e00\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^4)$\uff0c$n$ \u5f88\u5c0f\u53ea\u6709 $100$\uff0c~~\u4e0d\u7528\u4f18\u5316\u90fd\u7a33\u7a33\u5f53\u5f53~~\u80fd\u8fc7\uff0c\u4f46\u662f\u53ef\u4ee5\u4f18\u5316\u3002\n\n### 3\u3001\u4f18\u5316\n\u6211\u4eec\u53d1\u73b0\u5728\u9009\u62e9\u51fa\u9003\u72b6\u6001\u8f6c\u79fb\u9700\u8981\u7528\u5230\u4ece\u5230\u7b2c $j-1$ \u5929\u3001\u51fa\u9003\u6b21\u6570 $-1$ \u7684\u72b6\u6001\u6700\u5c0f\u503c\uff08\u8fd9\u91cc\u6700\u540e\u4e00\u6b21\u51fa\u9003\u7684\u65f6\u95f4\u662f\u9700\u8981\u679a\u4e3e\u7684\uff09\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u7528\u4e00\u4e2a\u4e8c\u7ef4\u6570\u7ec4 $ans[i][j]$ \u6765\u5b58\u5230\u7b2c $i$ \u5929\uff0c\u51fa\u9003\u6b21\u6570\u4e3a $j$ \u7684\u6240\u6709\u72b6\u6001\u4e2d\uff0c\u7be1\u6539\u6b21\u6570\u7684\u6700\u5c0f\u503c\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u800c\u4e0d\u9700\u8981\u679a\u4e3e\u3002\n\n\u9664\u6b64\u4e4b\u5916\u5728\u9009\u62e9\u51fa\u9003\u72b6\u6001\u7684\u72b6\u6001\u8f6c\u79fb\u8fd8\u9700\u8981\u7528\u5230\u5f53\u6700\u540e\u4e00\u6b21\u51fa\u9003\u662f\u5728\u7b2c $j$ \u5929\u65f6\uff0c\u8ba1\u6570\u5668\u8bfb\u6570\u4ece\u7b2c $j$ \u5929\u5230\u7b2c $k$ \u5929\uff0c\u7be1\u6539\u6570\u636e\u7684\u6570\u91cf\uff08\u4e5f\u5c31\u662f\u4ece $a[j]$ \u5230 $a[k]$ \u4e0e $0,1,2,3\\dots$\u4e0d\u540c\u7684\u6570\u636e\u7684\u6570\u91cf\uff09\uff0c\u8fd9\u4e2a\u6211\u4eec\u662f\u904d\u5386\u6765\u6c42\u7684\uff0c\u4f46\u662f\u6211\u4eec\u5728\u5f00\u59cb $dp$ \u524d\u53ef\u4ee5\u9884\u5904\u7406\u4e00\u4e0b\uff0c\u7528 $dif[i][j]$ \u6765\u5b58\u5047\u8bbe\u4ece\u7b2c $i$ \u5929\u51fa\u9003\uff0c\u5230\u7b2c $j$ \u5929\u4e0d\u53d1\u751f\u65b0\u7684\u51fa\u9003\u7684\u6570\u636e\u4e0e\u8ba1\u6570\u5668\u8bfb\u6570\u4e0d\u540c\u6570\u636e\u7684\u6570\u91cf\uff0c\u4e5f\u5c31\u662f\u7be1\u6539\u6570\u636e\u7684\u6570\u91cf\uff0c\u8fd9\u6837\u5728\u72b6\u6001\u8f6c\u79fb\u65f6\u5c31\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u5566^_^\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\u3002\n\n## \u53d8\u91cf\n\n$a[i]$\uff1a\u8ba1\u6570\u5668\u7b2c $i$ \u5929\u7684\u8bfb\u6570\uff1b\n\n$dp[k][i][j]$\uff1a\u5230\u7b2c $k$ \u5929\uff0c\u603b\u5171\u51fa\u9003 $i$ \u6b21\uff0c\u6700\u540e\u4e00\u6b21\u51fa\u9003\u662f\u5728\u7b2c $j$ \u5929\u7684\u8fd9\u79cd\u72b6\u6001\u4e0b\uff0c\u6700\u5c11\u7684\u7be1\u6539\u8bb0\u5f55\u6b21\u6570\uff1b\n\n$ans[i][j]$\uff1a\u5230\u7b2c $i$ \u5929\uff0c\u51fa\u9003\u6b21\u6570\u4e3a $j$ \u7684\u6240\u6709\u72b6\u6001\u4e2d\uff0c\u7be1\u6539\u6b21\u6570\u7684\u6700\u5c0f\u503c\uff1b\n\n$dif[i][j]$\uff1a\u4ece\u7b2c $i$ \u5929\u51fa\u9003\uff0c\u5230\u7b2c $j$ \u5929\uff08\u4e0d\u53d1\u751f\u65b0\u7684\u51fa\u9003\uff09\u6570\u636e\u88ab\u7be1\u6539\u4e86\u7684\u6570\u91cf\u3002\n\n## \u4ee3\u7801\n```cpp\n#include<iostream>\n#include<string.h>\nusing namespace std;\nint N,a[108],dp[108][108][108],dif[108][108],ans[108][108];\nint main()\n{\n\tint i,j,k;\n\tcin>>N;\n\tfor(i=1;i<=N;i++) cin>>a[i];\n\tmemset(dp,0x3f,sizeof(dp));\n\tmemset(ans,0x3f,sizeof(ans));\n\tdp[1][1][1]=(a[1]==0?0:1);\n\tfor(i=1;i<=N;i++)\n\t\tfor(j=i;j<=N;j++)\n\t\t\tdif[i][j]=dif[i][j-1]+(a[j]==j-i?0:1);\n\tfor(k=1;k<=N;k++)\n\t{\n\t\tfor(i=1;i<=k;i++)\n\t\t{\n\t\t\tfor(j=i;j<=k;j++)\n\t\t\t{\n\t\t\t\tdp[k][i][j]=min(dp[k][i][j],ans[j-1][i-1]+dif[j][k]);\n\t\t\t\tdp[k][i][j]=min(dp[k][i][j],dp[k-1][i][j]+(a[k]==k-j?0:1));\n\t\t\t\tans[k][i]=min(ans[k][i],dp[k][i][j]);\n\t\t\t}\n\t\t}\n\t}\n\tfor(i=1;i<=N;i++)\n\t\tcout<<ans[N][i]<<endl;\n\treturn 0;\n}\n//2023.5.9 by Jessica2333 ^_^\n```\n",
        "postTime": 1683639883,
        "uid": 444063,
        "name": "Jessica2333",
        "ccfLevel": 0,
        "title": "P4267 [USACO18FEB]Taming the Herd G\u9898\u89e3"
    },
    {
        "content": "\u8fd9\u4e0d\u662f\u975e\u5e38\u663e\u7136\u7684\u4e00\u4e2a DP \u5417\uff08\u771f\u7684\u3002\n\n\u9898\u76ee\u4e2d\u6709 $4$ \u4e2a\u8981\u7d20\uff0c$n$\uff0c\u51fa\u9003\u6b21\u6570\uff0c\u5f53\u524d\u8ddd\u79bb\u4e0a\u4e00\u6b21\u51fa\u9003\u6709\u591a\u5c11\u6b21\uff0c\u6700\u5c11\u7be1\u6539\u6570\u3002\u663e\u7136\u524d $3$ \u4e2a\u90fd\u53ef\u4ee5\u88ab\u8ba1\u5165\u51b3\u7b56\u4e2d\uff0c\u6c42\u6700\u540e\u4e00\u4e2a\u3002\u5c31\u8fd9\u6837\uff1a$f(i,j,k)$ \u4ee3\u8868\u524d $i$ \u5929\u51fa\u9003\u4e86 $j$ \u4e14\u7b2c $i$ \u5929\u663e\u793a\u7684\u8bb0\u5f55\uff08\u672a\u7be1\u6539\uff09\u662f $k$ \u7684\u6700\u5927\u672a\u7be1\u6539\u7684\u6570\u91cf\u3002\u8f6c\u79fb\u65b9\u7a0b\u5c31\u975e\u5e38\u663e\u7136\uff0c\u5982\u679c $k=0$ \u4ee3\u8868\u8fd9\u5929\u6709\u65b0\u7684\u51fa\u9003\uff0c$f(i,j,0)=\\max f(i-1,j-1,x)+[a_i=0]$\u3002\u5982\u679c $k\\neq 0$\uff0c$f(i,j,k)=f(i-1,j,k-1)+[a_i=k]$\u3002\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n^3)$\uff0c\u7a7a\u95f4\u590d\u6742\u5ea6\u628a $i$ \u6eda\u52a8\u6389\u5c31\u662f $O(n^2)$\uff08\u4f46\u4e0d\u6eda\u52a8\u4e5f\u6ca1\u4ec0\u4e48\u95ee\u9898\uff09\u3002\n\n\u4e00\u4e9b\u8fb9\u754c\u548c\u521d\u59cb\u5316\u95ee\u9898\u3002$f$ \u521d\u59cb\u5316\u4e3a $-\\inf$\uff0c$f(1,1,0)=[a_1=0]$\u3002\n\n\u65b9\u7a0b\u4e2d\u6709\u4e00\u4e2a $\\max f(i-1,j-1,x)$\uff0c\u6211\u4eec\u8bb0\u5f55 $g(i,j)=\\max f(i,j,x)$\uff0c\u6240\u4ee5\u7b54\u6848\u5c31\u662f $ans_j=n-g(n,j)$\u3002\n\n```cpp\n#include<bits/stdc++.h>\n#define rep(i,a,b) for(register int i=a;i<=b;i++)\nusing namespace std;\nconst int N=109;\n\nint n,a[N],f[N][N][N],g[N][N];\n\nint main() {\n\tscanf(\"%d\",&n);\n\trep(i,1,n) scanf(\"%d\",&a[i]);\n\tmemset(f,128,sizeof(f)), memset(g,128,sizeof(g));\n\tf[1][1][0]=g[1][1]=(a[1]==0);\n\trep(i,2,n) rep(j,1,i)\n\t\trep(k,0,i) {\n\t\t\tif(k==0) f[i][j][0]=g[i-1][j-1]+(a[i]==0);\n\t\t\telse f[i][j][k]=f[i-1][j][k-1]+(a[i]==k);\n\t\t\tg[i][j]=max(g[i][j],f[i][j][k]);\n\t\t}\n\trep(j,1,n) printf(\"%d\\n\",n-g[n][j]);\n\treturn 0;\n}\n```",
        "postTime": 1594554187,
        "uid": 180652,
        "name": "_lgswdn",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4267 \u3010[USACO18FEB]Taming the Herd G\u3011"
    },
    {
        "content": "**\u524d\u6392\u5410\u69fd**:\u8fd9\u9053\u9898\u7684\u7ffb\u8bd1\u662f\u771f\u7684\u6bd2\u7624.~~(\u4e0d\u770b\u63d0\u793a\u4e0d\u660e\u9898\u610f\u7cfb\u5217~~\n\n\u9644\u4e0a\u63d0\u793a[\u7ffb\u8bd1\u94fe\u63a5](https://www.luogu.org/discuss/show/154229)\n\n\u597d\u4e86,\u770b\u5b8c\u63d0\u793a\u5e76\u7a0d\u52a0\u601d\u7d22\u8fc7\u540e,\u5c31\u77e5\u9053\u8fd9\u9053\u9898\u662f\u4e00\u9053\u88f8\u7684$DP$\u9898\u4e86.\n\n> \u6211\u4eec\u7528$f[i][j]$\u8868\u793a\u4ece\u7b2c$i$\u5929\u5f00\u59cb\u51fa\u9003\uff0c\u5230\u4e86\u7b2c$j$\u5929\u6700\u5c11\u6709\u591a\u5c11\u6b21\u7be1\u6539\u4e86\u7684\u8bb0\u5f55.\n\n>\u7136\u540e\u5c31\u53ef\u4ee5\u5f97\u5230$DP$\u7684\u8f6c\u79fb\u5f0f\u5b50\u4e86.\n\n\u7136\u540e\u5c31\u5f97\u5230\u4ee5\u4e0b\u7a0b\u5e8f:\n\n\n```cpp\n#include<iostream>\n#include<cstring>\n#include<cstdio>\n\nusing namespace std;\n\nconst int MAXX = 100;\n\nint n;\nint a[MAXX+5];\nint f[MAXX+5][MAXX+5];\nint cnt[MAXX+5][MAXX+5];\n\nint main()\n{\n\tmemset(f,0x3f,sizeof(f));\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d\",&a[i]);\n\tfor(int i=0;i<=n;i++)\n\t{\n\t\tint t=0;\n\t\tfor(int j=i;j<=n;j++)\n\t\t{\n\t\t\tif(a[j]!=j-i)\n\t\t\t\tt++;\n\t\t\tcnt[i][j]=t;\n\t\t}\n\t}\n\tf[0][0]=0;\n\tfor(int i=0;i<=n;i++)\n\t\tfor(int j=1;j<=n;j++)\n\t\t\tfor(int u=i+1;u<=n;u++)\n\t\t\t\tf[u][j]=min(f[u][j],f[i][j-1]+cnt[i+1][u]);\n\tfor(int i=1;i<=n;i++)\n\t\tprintf(\"%d\\n\",f[n][i]);\n\treturn 0;\n}\n```\n",
        "postTime": 1571405051,
        "uid": 123055,
        "name": "\u4ea6\u7b19\u7bab",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4267 \u3010[USACO18FEB]Taming the Herd\u3011"
    },
    {
        "content": "\u4e09\u7ef4dp \n\n\n------------\ni \u8868\u793a\u8fc7\u4e86\u591a\u5c11\u5929\uff0cj \u8868\u793a\u51fa\u9003\u4e86\u591a\u5c11\u6b21\uff0ck \u8868\u793a\u4e0a\u6b21\u51fa\u9003\u7684\u5929\u6570\n\n------------\nCode: (JAVA)\n```java\nimport java.io.*;\nimport java.util.*;\npublic class taming {\n\tstatic int INF = (int)(2*Math.pow(10, 9));\n\tpublic static void main(String[] args) throws Exception{\n\t\tBufferedReader br = new BufferedReader(new FileReader(\"taming.in\"));\n\t\tPrintWriter out = new PrintWriter(new BufferedWriter(new FileWriter(\"taming.out\")));\n\t\tint N = Integer.parseInt(br.readLine());\n\t\tint[] log = new int [N+1];\n\t\tStringTokenizer st = new StringTokenizer(br.readLine());\n\t\tfor(int i = 1; i <= N; i++)\n\t\t\tlog[i] = Integer.parseInt(st.nextToken());\n\t\tbr.close();\n\t\t\n\t\tint[][][] dp = new int [N+1][N+1][N+1]; //i: Number of Days, j: Number of breakouts, k: Date of last breakout. i >= k >= j\n\t\t\n\t\t//dp array initialization\n\t\tfor(int i = 1; i <= N; i++) \n\t\t\tfor(int j = 1; j <= N; j++) \n\t\t\t\tfor(int k = 1; k <= N; k++) \n\t\t\t\t\tdp[i][j][k] = INF;\n\t\t\n\t\t//Base Case\n\t\tdp[1][1][1] = (log[1] == 0)?0:1;\n\t\tfor(int i = 1; i <= N; i++)\n\t\t\tdp[i][1][1] = Math.min(dp[i][1][1], dp[i-1][1][1] + ((log[i] == (i-1))?0:1));\n\t\t\n\t\t//Transformation\n\t\tfor(int i = 2; i <= N; i++) {\n\t\t\tfor(int k = 2; k <= N; k++) {\n\t\t\t\tfor(int j = 2; j <= N; j++) {\n\t\t\t\t\tif (i < j) {continue;}\n\t\t\t\t\tif (i < k) {continue;}\n\t\t\t\t\tif (k < j) {continue;}\n\t\t\t\t\tif (i == k) \n\t\t\t\t\t\tfor(int a = j-1; a <= (i-1); a++) \n\t\t\t\t\t\t\tdp[i][j][k] = Math.min(dp[i][j][k], dp[i-1][j-1][a] + ((log[i] == 0)?0:1));\n\t\t\t\t\telse\n\t\t\t\t\t\tdp[i][j][k] = Math.min(dp[i][j][k], dp[i-1][j][k] + ((log[i] == (i-k))?0:1));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\t//output\n\t\tfor(int j = 1; j <= N; j++) { //for each number of breakouts \n\t\t\tint min = INF;\n\t\t\tif (j == 1) \n\t\t\t\tout.println(dp[N][j][1]);\n\t\t\telse {\n\t\t\t\tfor(int k = j; k <= N; k++) \n\t\t\t\t\tmin = Math.min(min, dp[N][j][k]);\n\t\t\t\tout.println(min);\n\t\t\t}\n\t\t}\n\t\tout.close();\n\t}\n}\n```\n",
        "postTime": 1588155604,
        "uid": 313656,
        "name": "OreoTheGreat",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P4267 \u3010[USACO18FEB]Taming the Herd G\u3011"
    }
]