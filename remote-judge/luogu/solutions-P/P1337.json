[
    {
        "content": "# \u6a21\u62df\u9000\u706b\u5b66\u4e60\u7b14\u8bb0\n\n## 1.\u5173\u4e8e\u6a21\u62df\u9000\u706b\n\n  \u5e94\u8be5\u6709\u4e0d\u5c11\u5c0f\u4f19\u4f34\u4eec\u8fd8\u4e0d\u77e5\u9053\u4ec0\u4e48\u662f\u6a21\u62df\u9000\u706b\u5427\uff0c\u90a3\u6211\u4eca\u5929\u5c31\u6765\u7ed9\u5927\u5bb6\u79d1\u666e\u79d1\u666e\u3002\n  ### \u5b9a\u4e49\n  \u6a21\u62df\u9000\u706b\u7b97\u6cd5\uff08Simulate Anneal\uff0cSA\uff09\u662f\u4e00\u79cd\u901a\u7528\u6982\u7387\u6f14\u7b97\u6cd5\uff0c\u7528\u6765\u5728\u4e00\u4e2a\u5927\u7684\u641c\u5bfb\u7a7a\u95f4\u5185\u627e\u5bfb\u547d\u9898\u7684\u6700\u4f18\u89e3\u3002\u6a21\u62df\u9000\u706b\u662f\u7531S.Kirkpatrick, C.D.Gelatt\u548cM.P.Vecchi\u57281983\u5e74\u6240\u53d1\u660e\u7684\u3002V.\u010cern&yacute;\u57281985\u5e74\u4e5f\u72ec\u7acb\u53d1\u660e\u6b64\u6f14\u7b97\u6cd5\u3002\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u662f\u89e3\u51b3TSP\u95ee\u9898\u7684\u6709\u6548\u65b9\u6cd5\u4e4b\u4e00\u3002\n  \n  \u6a21\u62df\u9000\u706b\u7684\u51fa\u53d1\u70b9\u662f\u57fa\u4e8e\u7269\u7406\u4e2d\u56fa\u4f53\u7269\u8d28\u7684\u9000\u706b\u8fc7\u7a0b\u4e0e\u4e00\u822c\u7ec4\u5408\u4f18\u5316\u95ee\u9898\u4e4b\u95f4\u7684\u76f8\u4f3c\u6027\u3002\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u662f\u4e00\u79cd\u901a\u7528\u7684\u4f18\u5316\u7b97\u6cd5\uff0c\u5176\u7269\u7406\u9000\u706b\u8fc7\u7a0b\u7531\u52a0\u6e29\u8fc7\u7a0b\u3001\u7b49\u6e29\u8fc7\u7a0b\u3001\u51b7\u5374\u8fc7\u7a0b\u8fd9\u4e09\u90e8\u5206\u7ec4\u6210\u3002\n            \n                             --------\u6765\u81ea\u767e\u5ea6\u767e\u79d1\n  ### \u8bf4\u660e\n  \u5bf9\u4e8e\u767e\u5ea6\u767e\u79d1\u7684\u5b9a\u4e49\uff0c\u6211\u4e5f\u770b\u4e0d\u5927\u61c2\uff0c\uff08\u53ef\u80fd\u662f\u6211\u592a\u83dc\u4e86\u5427\uff09\u4f46\u5b9e\u9645\u4e0a\u6a21\u62df\u9000\u706b\u662f\u4e00\u4e2a\u5f88\u597d\u7406\u89e3\u7684\u4e1c\u897f\u3002\u7b80\u5355\u5730\u8bf4\uff0c\u5c31\u662f\u5c06\u70ed\u529b\u5b66\u7684\u7406\u8bba\u5957\u7528\u5230\u7edf\u8ba1\u5b66\u4e0a\uff0c\u5c06\u641c\u5bfb\u7a7a\u95f4\u5185\u6bcf\u4e00\u70b9\u60f3\u50cf\u6210\u7a7a\u6c14\u5185\u7684\u5206\u5b50\uff1b\u5206\u5b50\u7684\u80fd\u91cf\uff0c\u5c31\u662f\u5b83\u672c\u8eab\u7684\u52a8\u80fd\uff1b\u800c\u641c\u5bfb\u7a7a\u95f4\u5185\u7684\u6bcf\u4e00\u70b9\uff0c\u4e5f\u50cf\u7a7a\u6c14\u5206\u5b50\u4e00\u6837\u5e26\u6709\u201c\u80fd\u91cf\u201d\uff0c\u4ee5\u8868\u793a\u8be5\u70b9\u5bf9\u547d\u9898\u7684\u5408\u9002\u7a0b\u5ea6\u3002\u6f14\u7b97\u6cd5\u5148\u4ee5\u641c\u5bfb\u7a7a\u95f4\u5185\u4e00\u4e2a\u4efb\u610f\u70b9\u4f5c\u8d77\u59cb\uff1a\u6bcf\u4e00\u6b65\u5148\u9009\u62e9\u4e00\u4e2a\u201c\u90bb\u5c45\u201d\uff0c\u7136\u540e\u518d\u8ba1\u7b97\u4ece\u73b0\u6709\u4f4d\u7f6e\u5230\u8fbe\u201c\u90bb\u5c45\u201d\u7684\u6982\u7387\u3002\n## 2.\u6a21\u62df\u9000\u706b\u7684\u57fa\u672c\u8981\u7d20\n### \u72b6\u6001\u7a7a\u95f4\u4e0e\u72b6\u6001\u4ea7\u751f\u51fd\u6570\n   (1).\u641c\u7d22\u7a7a\u95f4\uff08\u53c8\u53eb\u72b6\u6001\u7a7a\u95f4\uff09\u3002\u4e00\u822c\u8303\u56f4\u6bd4\u8f83\u5927\uff0c\u4e8b\u6211\u4eec\u81ea\u5b9a\u4e49\u7684\u53ef\u884c\u89e3\u7684\u96c6\u5408\u3002\n   \n   (2).\u72b6\u6001\u51fd\u6570\u3002\u72b6\u6001\u51fd\u6570\u5c06\u51b3\u5b9a\u4f60\u662f\u5426\u8981\u9009\u7528\u5f53\u524d\u7684\u89e3\uff0c\u5bf9\u4e8e\u4e00\u4e2a\u597d\u7684\u9000\u706b\u6765\u8bf4\uff0c\u72b6\u6001\u51fd\u6570\u7684\u641c\u7d22\u7a7a\u95f4\u5e94\u8be5\u8db3\u591f\u5927\u3002\n   \n   (3).\u5019\u9009\u89e3\u3002\u4e00\u822c\u91c7\u7528\u968f\u673a\u6570\u6765\u5728\u4e00\u5b9a\u5bc6\u5ea6\u5185\u968f\u673a\u9009\u53d6\u3002\n   \n   (4).\u6982\u7387\u5206\u5e03\u3002\u5927\u591a\u91c7\u53d6\u5747\u5300\u5206\u5e03\u6216\u6307\u6570\u5206\u5e03\u3002\n ### \u72b6\u6001\u8f6c\u79fb\u6982\u7387\n   (1).\u72b6\u6001\u8f6c\u79fb\u6982\u7387\u662f\u6307\u4ece\u4e00\u4e2a\u72b6\u6001\u5411\u53e6\u4e00\u4e2a\u72b6\u6001\u7684\u8f6c\u79fb\u6982\u7387\u3002\n   \n   (2).\u901a\u4fd7\u7684\u7406\u89e3\u662f\u63a5\u53d7\u4e00\u4e2a\u65b0\u89e3\u4e3a\u5f53\u524d\u89e3\u7684\u6982\u7387\u3002\n   \n   (3).\u5b83\u4e0e\u5f53\u524d\u7684\u6e29\u5ea6\u53c2\u6570T\u6709\u5173\uff0c\u968f\u6e29\u5ea6\u4e0b\u964d\u800c\u51cf\u5c0f\u3002\n   \n   (4).\u4e00\u822c\u91c7\u7528Metropolis\u51c6\u5219\u3002\n ## 3.\u6a21\u62df\u9000\u706b\u6a21\u578b\n   \u7b2c\u4e00\u6b65\u662f\u7531\u4e00\u4e2a\u4ea7\u751f\u51fd\u6570\u4ece\u5f53\u524d\u89e3\u4ea7\u751f\u4e00\u4e2a\u4f4d\u4e8e\u89e3\u7a7a\u95f4\u7684\u65b0\u89e3\uff1b\u4e3a\u4fbf\u4e8e\u540e\u7eed\u7684\u8ba1\u7b97\u548c\u63a5\u53d7\uff0c\u51cf\u5c11\u7b97\u6cd5\u8017\u65f6\uff0c\u901a\u5e38\u9009\u62e9\u7531\u5f53\u524d\u65b0\u89e3\u7ecf\u8fc7\u7b80\u5355\u5730\u53d8\u6362\u5373\u53ef\u4ea7\u751f\u65b0\u89e3\u7684\u65b9\u6cd5\uff0c\u5982\u5bf9\u6784\u6210\u65b0\u89e3\u7684\u5168\u90e8\u6216\u90e8\u5206\u5143\u7d20\u8fdb\u884c\u7f6e\u6362\u3001\u4e92\u6362\u7b49\uff0c\u6ce8\u610f\u5230\u4ea7\u751f\u65b0\u89e3\u7684\u53d8\u6362\u65b9\u6cd5\u51b3\u5b9a\u4e86\u5f53\u524d\u65b0\u89e3\u7684\u90bb\u57df\u7ed3\u6784\uff0c\u56e0\u800c\u5bf9\u51b7\u5374\u8fdb\u5ea6\u8868\u7684\u9009\u53d6\u6709\u4e00\u5b9a\u7684\u5f71\u54cd\u3002\n   \n   \u7b2c\u4e8c\u6b65\u662f\u8ba1\u7b97\u4e0e\u65b0\u89e3\u6240\u5bf9\u5e94\u7684\u76ee\u6807\u51fd\u6570\u5dee\u3002\u56e0\u4e3a\u76ee\u6807\u51fd\u6570\u5dee\u4ec5\u7531\u53d8\u6362\u90e8\u5206\u4ea7\u751f\uff0c\u6240\u4ee5\u76ee\u6807\u51fd\u6570\u5dee\u7684\u8ba1\u7b97\u6700\u597d\u6309\u589e\u91cf\u8ba1\u7b97\u3002\u4e8b\u5b9e\u8868\u660e\uff0c\u5bf9\u5927\u591a\u6570\u5e94\u7528\u800c\u8a00\uff0c\u8fd9\u662f\u8ba1\u7b97\u76ee\u6807\u51fd\u6570\u5dee\u7684\u6700\u5feb\u65b9\u6cd5\u3002\n   \n   \u7b2c\u4e09\u6b65\u662f\u5224\u65ad\u65b0\u89e3\u662f\u5426\u88ab\u63a5\u53d7\uff0c\u5224\u65ad\u7684\u4f9d\u636e\u662f\u4e00\u4e2a\u63a5\u53d7\u51c6\u5219\uff0c\u6700\u5e38\u7528\u7684\u63a5\u53d7\u51c6\u5219\u662fMetropolis\u51c6\u5219: \u82e5\u0394t\u2032<0\u5219\u63a5\u53d7S\u2032\u4f5c\u4e3a\u65b0\u7684\u5f53\u524d\u89e3S\uff0c\u5426\u5219\u4ee5\u6982\u7387exp(-\u0394t\u2032/T)\u63a5\u53d7S\u2032\u4f5c\u4e3a\u65b0\u7684\u5f53\u524d\u89e3S\u3002\n   \n   \u7b2c\u56db\u6b65\u662f\u5f53\u65b0\u89e3\u88ab\u786e\u5b9a\u63a5\u53d7\u65f6\uff0c\u7528\u65b0\u89e3\u4ee3\u66ff\u5f53\u524d\u89e3\uff0c\u8fd9\u53ea\u9700\u5c06\u5f53\u524d\u89e3\u4e2d\u5bf9\u5e94\u4e8e\u4ea7\u751f\u65b0\u89e3\u65f6\u7684\u53d8\u6362\u90e8\u5206\u4e88\u4ee5\u5b9e\u73b0\uff0c\u540c\u65f6\u4fee\u6b63\u76ee\u6807\u51fd\u6570\u503c\u5373\u53ef\u3002\u6b64\u65f6\uff0c\u5f53\u524d\u89e3\u5b9e\u73b0\u4e86\u4e00\u6b21\u8fed\u4ee3\u3002\u53ef\u5728\u6b64\u57fa\u7840\u4e0a\u5f00\u59cb\u4e0b\u4e00\u8f6e\u8bd5\u9a8c\u3002\u800c\u5f53\u65b0\u89e3\u88ab\u5224\u5b9a\u4e3a\u820d\u5f03\u65f6\uff0c\u5219\u5728\u539f\u5f53\u524d\u89e3\u7684\u57fa\u7840\u4e0a\u7ee7\u7eed\u4e0b\u4e00\u8f6e\u8bd5\u9a8c\u3002\n   \n   \u6a21\u62df\u9000\u706b\u7b97\u6cd5\u4e0e\u521d\u59cb\u503c\u65e0\u5173\uff0c\u7b97\u6cd5\u6c42\u5f97\u7684\u89e3\u4e0e\u521d\u59cb\u89e3\u72b6\u6001S(\u662f\u7b97\u6cd5\u8fed\u4ee3\u7684\u8d77\u70b9)\u65e0\u5173\uff1b\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u5177\u6709\u6e10\u8fd1\u6536\u655b\u6027\uff0c\u5df2\u5728\u7406\u8bba\u4e0a\u88ab\u8bc1\u660e\u662f\u4e00\u79cd\u4ee5\u6982\u7387\u6536\u655b\u4e8e\u5168\u5c40\u6700\u4f18\u89e3\u7684\u5168\u5c40\u4f18\u5316\u7b97\u6cd5\uff1b\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u5177\u6709\u5e76\u884c\u6027\u3002\n   \n## 4.\u53c2\u6570\u63a7\u5236\n\n  \u6a21\u62df\u9000\u706b\u7b97\u6cd5\u7684\u5e94\u7528\u5f88\u5e7f\u6cdb\uff0c\u53ef\u4ee5\u6c42\u89e3NP\u5b8c\u5168\u95ee\u9898\uff0c\u4f46\u5176\u53c2\u6570\u96be\u4ee5\u63a7\u5236\uff0c\u5176\u4e3b\u8981\u95ee\u9898\u6709\u4ee5\u4e0b\u4e09\u70b9\uff1a\n  \n(1) \u6e29\u5ea6T\u7684\u521d\u59cb\u503c\u8bbe\u7f6e\u95ee\u9898\u3002\n\u6e29\u5ea6T\u7684\u521d\u59cb\u503c\u8bbe\u7f6e\u662f\u5f71\u54cd\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u5168\u5c40\u641c\u7d22\u6027\u80fd\u7684\u91cd\u8981\u56e0\u7d20\u4e4b\u4e00\u3001\u521d\u59cb\u6e29\u5ea6\u9ad8\uff0c\u5219\u641c\u7d22\u5230\u5168\u5c40\u6700\u4f18\u89e3\u7684\u53ef\u80fd\u6027\u5927\uff0c\u4f46\u56e0\u6b64\u8981\u82b1\u8d39\u5927\u91cf\u7684\u8ba1\u7b97\u65f6\u95f4\uff1b\u53cd\u4e4b\uff0c\u5219\u53ef\u8282\u7ea6\u8ba1\u7b97\u65f6\u95f4\uff0c\u4f46\u5168\u5c40\u641c\u7d22\u6027\u80fd\u53ef\u80fd\u53d7\u5230\u5f71\u54cd\u3002\u5b9e\u9645\u5e94\u7528\u8fc7\u7a0b\u4e2d\uff0c\u521d\u59cb\u6e29\u5ea6\u4e00\u822c\u9700\u8981\u4f9d\u636e\u5b9e\u9a8c\u7ed3\u679c\u8fdb\u884c\u82e5\u5e72\u6b21\u8c03\u6574\u3002\n\n(2) \u9000\u706b\u901f\u5ea6\u95ee\u9898\u3002\n\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u7684\u5168\u5c40\u641c\u7d22\u6027\u80fd\u4e5f\u4e0e\u9000\u706b\u901f\u5ea6\u5bc6\u5207\u76f8\u5173\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u540c\u4e00\u6e29\u5ea6\u4e0b\u7684\u201c\u5145\u5206\u201d\u641c\u7d22(\u9000\u706b)\u662f\u76f8\u5f53\u5fc5\u8981\u7684\uff0c\u4f46\u8fd9\u9700\u8981\u8ba1\u7b97\u65f6\u95f4\u3002\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u8981\u9488\u5bf9\u5177\u4f53\u95ee\u9898\u7684\u6027\u8d28\u548c\u7279\u5f81\u8bbe\u7f6e\u5408\u7406\u7684\u9000\u706b\u5e73\u8861\u6761\u4ef6\u3002\n\n(3) \u6e29\u5ea6\u7ba1\u7406\u95ee\u9898\u3002\n\u6e29\u5ea6\u7ba1\u7406\u95ee\u9898\u4e5f\u662f\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u96be\u4ee5\u5904\u7406\u7684\u95ee\u9898\u4e4b\u4e00\u3002\u5b9e\u9645\u5e94\u7528\u4e2d\uff0c\u7531\u4e8e\u5fc5\u987b\u8003\u8651\u8ba1\u7b97\u590d\u6742\u5ea6\u7684\u5207\u5b9e\u53ef\u884c\u6027\u7b49\u95ee\u9898\uff0c\u5e38\u91c7\u7528\u5982\u4e0b\u6240\u793a\u7684\u964d\u6e29\u65b9\u5f0f\uff1a\u5f0f\u4e2dk\u4e3a\u6b63\u7684\u7565\u5c0f\u4e8e1.00\u7684\u5e38\u6570\uff0ct\u4e3a\u964d\u6e29\u7684\u6b21\u6570\u3002\n!\n\n[\u6a21\u62df\u9000\u706b\u6d41\u7a0b\u56fe](https://baike.baidu.com/pic/%E6%A8%A1%E6%8B%9F%E9%80%80%E7%81%AB/8664695/0/7aec54e736d12f2e13f34c9b4ec2d56284356853?fr=lemma&ct=single)\n\n## 5.\u7b97\u6cd5\u6539\u8fdb\n\n\uff081\uff09\u8bbe\u8ba1\u5408\u9002\u7684\u72b6\u6001\u4ea7\u751f\u51fd\u6570\uff0c\u4f7f\u5176\u6839\u636e\u641c\u7d22\u8fdb\u7a0b\u7684\u9700\u8981\u8868\u73b0\u51fa\u72b6\u6001\u7684\u5168\u7a7a\u95f4\u5206\u6563\u6027\u6216\u5c40\u90e8\u533a\u57df\u6027\uff1b\n\n\uff082\uff09\u8bbe\u8ba1\u9ad8\u6548\u7684\u9000\u706b\u7b56\u7565\uff1b\n\n\uff083\uff09\u907f\u514d\u72b6\u6001\u7684\u8fc2\u56de\u641c\u7d22\uff1b\n\n\uff084\uff09\u91c7\u7528\u5e76\u884c\u641c\u7d22\u7ed3\u6784\uff1b\n\n\uff085\uff09\u4e3a\u907f\u514d\u9677\u5165\u5c40\u90e8\u6781\u5c0f\uff0c\u6539\u8fdb\u5bf9\u6e29\u5ea6\u7684\u63a7\u5236\u65b9\u5f0f\uff1b\n\n\uff086\uff09\u9009\u62e9\u5408\u9002\u7684\u521d\u59cb\u72b6\u6001\uff1b\n\n\uff087\uff09\u8bbe\u8ba1\u5408\u9002\u7684\u7b97\u6cd5\u7ec8\u6b62\u51c6\u5219\u3002\n\n## 6.\u5b9e\u6218\u6f14\u7ec3\n\n[P1337 [JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX](https://www.luogu.org/problemnew/show/P1337)\n\n## 7.\u4ee3\u7801\u5b9e\u73b0\n```cpp\n#include <bits/stdc++.h>\n#define down 0.996//\u5f90\u5f90\u964d\u6e29 \n\nusing namespace std;\n\nint n;\nstruct node{\nint x;\nint y;\nint w;\n}object[2005];//\u5b58\u4e0b\u7269\u4f53\u7684\u5750\u6807 \ndouble ansx,ansy,answ;//\u6700\u7ec8\u7b54\u6848 \ndouble energy(double x,double y)//\u6839\u636e\u7269\u7406\u5b66\u77e5\u8bc6,\u80fd\u91cf\u603b\u548c\u8d8a\u5c0f\u8d8a\u7a33\u5b9a \n{\n   double r=0,dx,dy;\n   for (int a=1;a<=n;a++)\n   {\n      dx=x-object[a].x;\n      dy=y-object[a].y;\n      r+=sqrt(dx*dx+dy*dy)*object[a].w;\n   }\n      return r;\n}\nvoid sa()//\u6a21\u62df\u9000\u706b \n{\n   double t=3000;//\u6e29\u5ea6\u8981\u8db3\u591f\u9ad8 \n   while (t>1e-15)//\u7565\u5927\u4e8e0 \n   {\n      double ex=ansx+(rand()*2-RAND_MAX)*t;//\u968f\u673a\u4ea7\u751f\u65b0\u7684\u7b54\u6848 \n      double ey=ansy+(rand()*2-RAND_MAX)*t;\n      double ew=energy(ex,ey);\n      double de=ew-answ;\n      if (de<0)//\u5982\u679c\u6b64\u7b54\u6848\u66f4\u4f18\uff0c\u5c31\u63a5\u53d7 \n      {\n         ansx=ex;\n         ansy=ey;\n         answ=ew;\n      }\n      else if(exp(-de/t)*RAND_MAX>rand())//\u5426\u5219\u6839\u636e\u591a\u9879\u5f0f\u6982\u7387\u63a5\u53d7 \n      {\n         ansx=ex;\n         ansy=ey;\n      }\n      t*=down;\n   }\n}\nvoid solve()//\u591a\u8dd1\u51e0\u904d\u9000\u706b,\u589e\u52a0\u5f97\u5230\u6700\u4f18\u89e3\u7684\u6982\u7387 \n{\n   sa();\n   sa();\n   sa();\n   sa();\n}\nint main() {\ncin>>n;\nfor (int a=1;a<=n;a++)\n{\n   scanf(\"%d%d%d\",&object[a].x,&object[a].y,&object[a].w);\n   ansx+=object[a].x;\n   ansy+=object[a].y;\n}\nansx/=n;//\u4ee5\u5e73\u5747\u6570\u4f5c\u4e3a\u521d\u59cb\u7b54\u6848 \nansy/=n;\nansw=energy(ansx,ansy);\nsolve();\nprintf(\"%.3lf %.3lf\\n\",ansx,ansy);//\u534e\u4e3d\u7684\u8f93\u51fa \n    return 0;\n}\n```",
        "postTime": 1548827167,
        "uid": 76806,
        "name": "99NL",
        "ccfLevel": 4,
        "title": "\u5173\u4e8e\u6a21\u62df\u9000\u706b\u7684\u5b66\u4e60\u7b14\u8bb0"
    },
    {
        "content": "\u6700\u8fd1\u51e0\u5929\u4e00\u76f4\u5728\u603c\u8ba1\u7b97\u51e0\u4f55\u2026\u2026\n\n\u8fd9\u9053\u9898\u4e3a\u4ec0\u4e48\u8981\u7528\u6a21\u62df\u9000\u706b\uff1f\u660e\u660e\u662f\u4e2a\uff1a\n\n## \u4e8c\u5206\uff01\n\n\u5047\u8bbe\u6211\u4eec\u5df2\u7ecf\u786e\u5b9a\u4e86\u5e73\u8861\u70b9\u5728\u4e0b\u9762\u7684\u591a\u8fb9\u5f62\u5185\uff0c\u90a3\u4e48\u5728\u591a\u8fb9\u5f62\u5185\u90e8\u9009\u4e00\u4e2a\u5c3d\u91cf\u9760\u8fd1\u4e2d\u95f4\u7684\u70b9\uff0c\u7136\u540e\u786e\u5b9a\u53d7\u529b\u65b9\u5411\uff1a\n\n![](https://cdn.luogu.com.cn/upload/pic/46086.png)\n\n\u7136\u540e\u6211\u4eec\u53d1\u73b0\uff0c\u5e73\u8861\u70b9\u53ea\u80fd\u5728\u9ec4\u8272\u7684\u65b0\u591a\u8fb9\u5f62\u5185\uff01\n\n\u6240\u4ee5\u601d\u8def\u5c31\u51fa\u6765\u4e86\uff1a\u5148\u52a0\u4e0a\u51e0\u4e2a\u65e0\u7a77\u8fdc\u7684\u70b9\uff0c\u7136\u540e\u4e0d\u65ad\u7528\u4e00\u4e2a\u534a\u5e73\u9762\u53bb\u5207\u5272\u4e00\u4e2a\u51f8\u5305\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u51f8\u5305\uff0c\u8fdb\u884c\u4e8c\u5206\uff0c\u4e8c\u5206\u51e0\u5341\u6b21\u540e\u591a\u8fb9\u5f62\u4f1a\u975e\u5e38\u5c0f\uff0c\u8fd9\u65f6\u4efb\u610f\u9009\u4e00\u4e2a\u9876\u70b9\u5c31\u662f\u7b54\u6848\u4e86\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u5927\u6982\u662f$O(kn)$\uff0c$k$\u662f\u4e8c\u5206\u6b21\u6570\uff0c\u53d6\u523060\u5c31\u80fdAC\u3002\n\n\u5173\u952e\u95ee\u9898\u6709\u4e24\u4e2a\uff1a\u786e\u5b9a\u53d7\u529b\u65b9\u5411\u548c\u534a\u5e73\u9762\u5207\u5272\u51f8\u5305\u3002\n\n\u6bcf\u4e00\u4e2a\u95ee\u9898\u5f88\u7b80\u5355\uff0c\u7528\u6bcf\u4e00\u4e2a\u70b9\u548c\u4e2d\u5fc3\u5f62\u6210\u7684\u5355\u4f4d\u5411\u91cf\u4e58\u8d28\u91cf\uff0c\u7136\u540e\u5411\u91cf\u76f8\u52a0\u5c31\u884c\u4e86\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u95ee\u9898(convexcut)\uff0c\u6211\u4eec\u53ef\u4ee5\u987a\u6b21\u679a\u4e3e\u539f\u51f8\u5305\u4e0a\u7684\u70b9\uff0c\u5982\u679c\u8fd9\u4e2a\u70b9\u5728\u534a\u5e73\u9762\u5185\u90e8\u5c31\u52a0\u5165\u5230\u65b0\u7684\u51f8\u5305\uff0c\u7136\u540e\u770b\u8fd9\u4e2a\u70b9\u548c\u4e0b\u4e00\u4e2a\u70b9\u5f62\u6210\u7684\u7ebf\u6bb5\u548c\u534a\u5e73\u9762\u662f\u5426\u6709\u4ea4\uff0c\u5982\u679c\u6709\u4ea4\u5c31\u628a\u4ea4\u70b9\u52a0\u5230\u65b0\u7684\u51f8\u5305\u91cc\u9762\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u770b\u4ee3\u7801\uff1a\n\n```cpp\n#include<cstdio>\n#include<algorithm>\n#include<cstring>\n#include<cmath>\nusing namespace std;\nconst double eps=1e-9;\nint sign(double a){return a<-eps?-1:a>eps;}//\u5e26eps\u7684\u5b9e\u6570\u6bd4\u8f83\nstruct Point\n{\n    double x,y;\n    Point(double xx=0,double yy=0){x=xx,y=yy;}\n    Point operator+(Point p){return Point(x+p.x,y+p.y);}\n    Point operator-(Point p){return Point(x-p.x,y-p.y);}\n    Point operator*(double d){return Point(x*d,y*d);}\n    Point operator/(double d){return Point(x/d,y/d);}\n    double dot(Point p){return x*p.x+y*p.y;}//\u70b9\u4e58\n    double det(Point p){return x*p.y-y*p.x;}//\u53c9\u4e58\n    double abs2(){return x*x+y*y;}\n    double abs(){return sqrt(abs2());}\n    Point unit(){return sign(abs())==0?Point(0,0):(*this)/abs();}//\u5355\u4f4d\u5411\u91cf\uff0c\u6ce8\u610f0\u5411\u91cf\u7684\u60c5\u51b5\n    Point rot90(){return Point(y,-x);}//\u65cb\u8f6c90\u5ea6\uff0c\u7528\u6765\u628a\u53d7\u529b\u65b9\u5411\u8f6c\u53d8\u6210\u534a\u5e73\u9762\n}p[1005],last[1005],ans[1005];\nint n,w[1005],top_last,top_ans;\ndouble cross(Point p1,Point p2,Point q)\n{\n    return (p2-p1).det(q-p1);\n}\nint crossOp(Point p1,Point p2,Point q){return sign(cross(p1,p2,q));}//\u7528\u4e8e\u5224\u65adq\u662f\u5426\u5728p1p2\u7684\u5de6\u4fa7\nPoint isLL(Point p1,Point p2,Point q1,Point q2)//\u76f4\u7ebf\u4ea4\u70b9\n{\n    double x=(p2-p1).det(q2-p1);\n    double y=(q1-p1).det(p2-p1);\n    return q1+(q2-q1)/(x+y)*y;\n}\nvoid cut(Point q1,Point q2)//\u534a\u5e73\u9762\u5207\u51f8\u5305\n{\n    top_ans=0;\n    int n=top_last;\n    for(int i=1;i<=n;i++)\n    {\n        Point p1=last[i],p2=last[i%n+1];\n        int d1=crossOp(q1,q2,p1),d2=crossOp(q1,q2,p2);//\u770b\u8fd9\u4e24\u4e2a\u70b9\u4e0e\u534a\u5e73\u9762\u7684\u4f4d\u7f6e\u5173\u7cfb\n        if(d1>=0)ans[++top_ans]=p1;\n        if(d1*d2<0)ans[++top_ans]=isLL(p1,p2,q1,q2);\n    }\n    for(int i=1;i<=top_ans;i++)last[i]=ans[i];\n    top_last=top_ans;\n}\nvoid work()\n{\n    int m=top_last;\n    Point o(0,0);\n    for(int i=1;i<=m;i++)o=o+last[i];\n    o=o/m;//\u6c42\u7684\u4e2d\u5fc3\u70b9\uff0c\u4e0d\u77e5\u9053\u6709\u6ca1\u6709\u66f4\u4f18\u7684\u53d6\u6cd5\uff0c\u53cd\u6b63\u8fd9\u6837\u80fdAC\n    Point P(0,0);\n    for(int i=1;i<=n;i++)\n        P=P+(p[i]-o).unit()*w[i];//p\u662f\u53d7\u529b\u65b9\u5411\n    if(P.abs()<=eps)//update\n    {\n    \tprintf(\"%.3lf %.3lf\\n\",o.x,o.y);\n    \texit(0);\n\t}\n    P=o+P.rot90();\n    cut(o,P);\n}\nint main()\n{\n    scanf(\"%d\",&n);\n    for(int i=1;i<=n;i++)\n      scanf(\"%lf%lf%d\",&p[i].x,&p[i].y,&w[i]);\n    last[1]=Point(-10000,-10000);\n    last[2]=Point(10000,-10000);\n    last[3]=Point(10000,10000);\n    last[4]=Point(-10000,10000);\n    top_last=4;\n    for(int i=1;i<=60;i++)//\u4e8c\u5206\n      work();\n    printf(\"%.3lf %.3lf\\n\",last[1].x,last[1].y);\n    return 0;\n}\n```\n\nupdate\uff1a\n\n\u4e00\u5e74\u8fc7\u53bb\u4e86\u7adf\u7136\u53c8\u53d1\u73b0\u4e86\u4e00\u4e2a\u9505\uff08\u5df2\u7ecf\u4fee\u6b63\uff09\n\n\u611f\u8c22\u8bc4\u8bba\u533a\u63d0\u9192\u3002\n\n\u6211\u4eec\u6ce8\u610f\u5230\uff0c\u6bcf\u6b21\u9700\u8981\u6c42\u51fa\u53d7\u529b\u65b9\u5411\u3002\u800c\u5982\u679c\u53d7\u529b\u521a\u597d\u662f $0$ \u90a3\u4e48\u6211\u4eec\u53d1\u73b0\u5c31\u65e0\u6cd5\u5207\u5272\u51f8\u5305\u3002\n\n\u52a0\u4e00\u53e5\u7279\u5224\u5c31\u597d\u4e86\u3002\u5982\u679c\u53d7\u529b\u7b49\u4e8e $0$ \u76f4\u63a5\u8f93\u51fa\u4e2d\u5fc3\u70b9\u3002",
        "postTime": 1544705980,
        "uid": 54214,
        "name": "wucstdio",
        "ccfLevel": 10,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "#### \u4e00\u90532.7K\u901a\u8fc7\u7684\u9898\u6123\u662f\u6ca1\u5565\u65b0\u70b9\u5b50\n\n\u9898\u89e3\u65e0\u975e\u4e24\u7c7b\uff1a\u9000\u706b\u548c\u51e0\u4f55\uff08wustdio\u72ec\u6811\u4e00\u5e1cnb\uff09\u3002\n\n\u90a3\u6211\u6765\u5199\u4e00\u4e2a\u4e09\u5206\u5957\u4e09\u5206\uff1a\u54a6\uff0c\u4e00\u53d1A\u6389\uff1f\uff1f\uff1f\n\n\u60f3\u90a3\u4e2a\u7ecf\u5178\u95ee\u9898\uff1a\u4e8c\u7ef4\u5e73\u9762\u4e0a\u6709n\u4e2a\u70b9\uff0c\u6c42\u5e73\u9762\u4e2d\u7684\u4e00\u4e2a\u70b9\uff08\u8fd9\u4e2a\u70b9\u4e0d\u4e00\u5b9a\u4e0e\u7ed9\u51fa\u7684n\u4e2a\u70b9\u91cd\u5408\uff09\uff0c\u4f7f\u5176\u5230\u6240\u6709\u70b9\u7684\u8ddd\u79bb\u548c\u6700\u5c0f\u3002\n\n#### \u6211\u4e0d\u4f1a\u8bc1\u660e\u4f46\u9700\u8981\u8bb0\u4f4f\u7684\u7ed3\u8bba\uff1a\u786e\u5b9ax\u5750\u6807\u65f6\uff0c\u5173\u4e8ey\u5750\u6807\u7684\u51fd\u6570\u662f\u5355\u5cf0\u51fd\u6570\uff1b\u786e\u5b9ay\u5750\u6807\u65f6\uff0c\u5173\u4e8ex\u7684\u51fd\u6570\u662f\u5355\u5cf0\u7684\u3002\n\n\u5355\u5cf0\u51fd\u6570-->\u4e09\u5206\n\n\u56de\u5230\u672c\u9898\uff0c\u5f53\u8d28\u70b9\u7a33\u5b9a\u65f6\u6211\u4eec\u4e0d\u59a8\u5217\u4e00\u4e2a\u53d7\u529b\u5e73\u8861\u7684\u67ff\u5b50\uff0c\u53d1\u73b0\u5176\u5b9e\u5c31\u662f\u52bf\u80fd\u6700\u5c0f\u65f6\u3002\n\n\u54a6\uff0c\u7ecf\u5178\u95ee\u9898\u662f\u6c42dis,\u73b0\u5728\u662f\u6c42Wi*dis\uff0c\u4e0d\u4e00\u6837\u5427\uff1f\n\n\u4f60\u60f3\u6210\u6709Wi\u4e2a\u70b9\u5750\u6807\u76f8\u540c\u91cd\u5408\u4e0d\u5c31\u5b8c\u4e862333\n\n\u6240\u4ee5\u4e09\u5206\u4e2aX\uff0c\u4e09\u5206\u4e2aY\uff0cAC\u8d70\u4eba~\n\n\u590d\u6742\u5ea6\u6709\u4fdd\u8bc1~\n\n#### \u9274\u4e8e\u6709\u4eba\u62ff\u8fd9\u9053\u9898\u5f53\u6a21\u62df\u9000\u706b\u6a21\u677f\u9898\uff1a\u5355\u5cf0\u51fd\u6570\u771f\u7684\u8bc1\u660e\u4e0d\u4e86\u4f60\u7684\u9000\u706b\u5f3a\u52b2\u4e0e\u5426\u554a\uff01\uff01\uff01\n\n\n\n```cpp\n// luogu-judger-enable-o2\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#include<cmath>\n#include<queue>\ntypedef double DB;\nusing namespace std;\nDB ly,ry,x[1005],y[1005],w[1005];\nint n;\nDB dis(DB a,DB b,DB c,DB d)\n{\n\treturn sqrt((c-a)*(c-a)+(d-b)*(d-b));\n}\nDB work(DB X,DB Y)\n{\n\tDB num=0;\n\tfor (int i=1;i<=n;++i)\n\t  num+=w[i]*dis(X,Y,x[i],y[i]);\n\treturn num;\n}\nDB thre(DB X)//\u4e09\u5206Y\n{\n\tly=-10000.0;\n\try=10000.0;\n\tfor (int i=1;i<=100;++i)\n\t{\n\t\tDB del=(ry-ly)/3.0;\n\t\tDB m1=ly+del;\n\t\tDB m2=ry-del;\n\t\tDB w1=work(X,m1);\n\t\tDB w2=work(X,m2);\n\t\tif (w2<w1) ly=m1;\n\t\telse ry=m2;\n\t}\n\treturn work(X,ly);\n}\n\nint main()\n{\n\tscanf(\"%d\",&n);\n\tfor (int i=1;i<=n;++i)\n\t  scanf(\"%lf%lf%lf\",&x[i],&y[i],&w[i]);\n\tDB lx=-10000.0;\n\tDB rx=10000.0;\n\tfor (int i=1;i<=100;++i)//\u4e09\u5206X\n\t{\n\t\tDB del=(rx-lx)/3.0;\n\t\tDB m1=lx+del;\n\t\tDB m2=rx-del;\n\t\tDB w1=thre(m1);\n\t\tDB w2=thre(m2);\n\t\tif (w2<w1) lx=m1;\n\t\telse rx=m2;\n\t}\n\tprintf(\"%.3lf %.3lf\",lx,ly);\n\treturn 0;\n}\n\n```\nNOI2019 Bless all !",
        "postTime": 1561015041,
        "uid": 41528,
        "name": "jiuguaiwf",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "# [http://blog.csdn.net/fine\\_rose/article/details/78210657](http://blog.csdn.net/fine\\_rose/article/details/78210657)\n\n\n\u6211\u4eec\u53ef\u4ee5\u786e\u5b9a\u4e00\u4e2a\u539f\u70b9\uff0c\u5c06\u6240\u6709\u7684\u529b\u5728\u8fd9\u4e2a\u539f\u70b9\u4e0a\u6b63\u4ea4\u5206\u89e3\uff0c\u6700\u7ec8\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u6240\u6709\u7684\u529b\u7684\u4e00\u4e2a\u5408\u529b\uff0c\u800c\u771f\u6b63\u7684\u5e73\u8861\u70b9\u4e00\u5b9a\u5728\u5408\u529b\u6240\u6307\u5411\u7684\u65b9\u5411\n\n\n\u6bcf\u5f53\u5206\u5f97\u5230\u4e00\u4e2a\u5408\u529b\u4e4b\u540e\uff0c\u5c06\u539f\u70b9\u5728\u5408\u529b\u7684\u65b9\u5411\u4e0a\u4f4d\u79fb\u4e00\u5b9a\u7684\u8ddd\u79bb\u3002\u6bcf\u5f53\u539f\u70b9\u4f4d\u79fb\u7684\u65b9\u5411\u53d1\u751f\u4e86\u6539\u53d8\u7684\u65f6\u5019\uff0c\u7f29\u5c0f\u4ee5\u540e\u64cd\u4f5c\u7684\u4f4d\u79fb\u8ddd\u79bb\u3002\u4f8b\u5982\uff1a\u4e0a\u6b21\u64cd\u4f5c\u662f\u5c06\u539f\u70b9\u50cf x \u8f74\u6b63\u65b9\u5411\u79fb\u52a8\uff0c\u800c\u5f53\u524d\u79fb\u52a8\u662f\u5c06\u539f\u70b9\u50cf x \u8f74\u8d1f\u65b9\u5411\u4e0a\u79fb\u52a8\uff0c\u8fd9\u8bf4\u660e\u539f\u70b9\u7684\u6a2a\u5750\u6807\u4e00\u5b9a\u5728\u8fd9\u4e24\u6b21\u5047\u8bbe\u7684\u539f\u70b9\u7684\u6a2a\u5750\u6807\u4e2d\u95f4\uff0c\u56e0\u6b64\u6211\u4eec\u7f29\u5c0f\u4ee5\u540e\u539f\u70b9\u79fb\u52a8\u7684\u8ddd\u79bb\u3002\n\n\n\u5f53\u4e24\u6b21\u79fb\u52a8\u7684\u5750\u6807\u5dee\u5728\u4e00\u5b9a\u7684\u8303\u56f4\u4e4b\u5185\u65f6\uff0c\u8bf4\u660e\u6211\u4eec\u5f97\u5230\u4e86\u89e3\uff0c\u8f93\u51fa\u5373\u53ef(\u6ce8\u610f\uff1a\u89c4\u5b9a\u7684\u8303\u56f4\u4e00\u5b9a\u8981\u5c0f\u4e8e\u9898\u76ee\u6240\u8981\u6c42\u7684\u7cbe\u5ea6\u8303\u56f4)\n\n\n\u53ef\u4ee5\u901a\u8fc7\u4ee3\u7801\u7406\u89e3\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n```cpp\n#include <iostream>\n#include <cmath>\n#include <cstdio>\n#define abs(x) ((x) >= 0 ? (x) : (-(x)))\nusing namespace std;\nint n;\ndouble x, y;\nbool XF = true, YF = true;//\u539f\u70b9\u79fb\u52a8\u7684\u65b9\u5411 true \u4ee3\u8868\u6b63\u65b9\u5411\uff0cfalse \u4ee3\u8868\u8d1f\u65b9\u5411\nstruct Position {\n    int x;\n    int y;\n    int power;\n} positions[1005];\nvoid solve(double move) {\n    double X, Y, temp;\n    X = Y = 0;\n    for (int i = 1; i <= n; i++) {\n        temp = sqrt((x - positions[i].x) * (x - positions[i].x) + (y - positions[i].y) * (y - positions[i].y));//\u8bb0\u5f55\u8be5\u70b9\u5230\u539f\u70b9\u7684\u6b27\u51e0\u91cc\u5f97\u8ddd\u79bb\n        if (temp == 0)//\u5224\u65ad\u662f\u5426\u4e0e\u539f\u70b9\u91cd\u5408\n            continue;\n        //\u82e5\u4e0d\u91cd\u5408\u5219\u8fdb\u884c\u6b63\u4ea4\u5206\u89e3\n        X += positions[i].power / temp * (positions[i].x - x);\n        Y += positions[i].power / temp * (positions[i].y - y);\n    }\n    temp = sqrt(X * X + Y * Y);//\u8ba1\u7b97\u6b63\u4ea4\u5206\u89e3\u540e\u7684\u5408\u529b\n    //\u5c06\u539f\u70b9\u5728\u5408\u529b\u65b9\u5411\u4e0a\u4f4d\u79fb\u4e00\u5b9a\u8ddd\u79bb\n    x += move / temp * X;\n    y += move / temp * Y;\n}\nint main() {\n    freopen(\"in.txt\", \"r\", stdin);\n    scanf(\"%d\", &n);\n    for (int i = 1; i <= n; i++)\n        scanf(\"%d%d%d\", &positions[i].x, &positions[i].y, &positions[i].power);\n    //move\uff1a\u79fb\u52a8\u7684\u6b65\u957f  tx ty \u4fdd\u5b58\u79fb\u52a8\u524d\u7684\u539f\u70b9\u7684\u4f4d\u7f6e\n    double move = 5000, tx, ty;\n    while (true) {\n        //\u8bb0\u5f55\u79fb\u52a8\u524d\u539f\u70b9\u7684\u4f4d\u7f6e\n        tx = x;\n        ty = y;\n        solve(move);//\u6309\u7167\u6b65\u957f\u79fb\u52a8\u539f\u70b9\n        if (abs(tx - x) < 0.00001 && abs(ty - y) < 0.00001)//\u5224\u65ad\u662f\u5426\u6ee1\u8db3\u8981\u6c42\n            break;\n        if ((XF != (x > tx)) || (YF != (y > ty))) {//\u5982\u679c\u79fb\u52a8\u65b9\u5411\u53d1\u751f\u6539\u53d8\n            //\u8bb0\u5f55\u79fb\u52a8\u65b9\u5411\n            XF = !x > tx;\n            YF = !y > ty;\n            move = move * 0.9;//\u7f29\u5c0f\u79fb\u52a8\u65b9\u5411\n        }\n    }\n    printf(\"%.3f %.3f\", x, y);\n    return 0;\n}\n```",
        "postTime": 1507770861,
        "uid": 25845,
        "name": "Snitro",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI]\u5e73\u8861\u70b9\u3011"
    },
    {
        "content": "# \u76ee\u524d\u6700\u77ed\u4ee3\u7801\uff0c\u6ca1\u6709\u4e4b\u4e00\n(\u5176\u4ed6\u4eba\u884c\u6570\u770b\u4e0d\u5230\uff0c\u4f46**550B**\u7684\u4ee3\u7801\u91cf\u5728\u672c\u9898\u7684AC\u8bb0\u5f55\u91cc\u662f\u59a5\u59a5**rank1**\u7684\uff08\u7edd\u5927\u591a\u6570\u90fd\u57281000B\u4ee5\u4e0a\uff09\uff0c\u800c\u4e14**\u65f6\u6548\u4e5f\u4e0d\u5dee**\uff08**28~29ms**\uff09)\n\n\u597d\u4e86\uff0c\u4e0b\u9762\u6b65\u5165\u6b63\u9898\n\n\u672c\u9898\u7528\u4e0d\u7740\u4efb\u4f55\u7384\u5b66\u7b97\u6cd5\uff0c\u6bcf\u6b21\u7ed9\u7ef3\u7ed3\u7b97\u4e00\u4e0b\u5408\u529b\uff0c\u7136\u540e\u6cbf\u7740\u5408\u529b\u65b9\u5411\u79fb\u52a8\u4e00\u4e0b\u3002\n\n\u56e0\u4e3a\u7ef3\u7ed3\u4e0d\u65ad\u79fb\u52a8\u7684\u8fc7\u7a0b\u4e2d\uff0c\u7cfb\u7edf\u662f\u4e0d\u65ad\u8d8b\u5411\u5e73\u8861\u7684\uff0c\u56e0\u6b64\u6bcf\u6b21\u79fb\u52a8\u7684\u957f\u5ea6\u4f1a\u4e0d\u65ad\u7f29\u5c0f\uff0c\u5f53\u79fb\u52a8\u957f\u5ea6\u7f29\u5c0f\u5230\u65e0\u6cd5\u6539\u53d8\u6700\u7ec8\u7ed3\u679c\u65f6\u8f93\u51fa\u5f53\u524d\u4f4d\u7f6e\uff0c\u7ed3\u675f\n\n\u8fd9\u6837\u4e5f\u7701\u7684\u7b97\u91cd\u529b\u52bf\u80fd\u5565\u7684\u4e86\uff08~~\u4e8b\u5b9e\u4e0a\u521d\u4e8c\u4e0b\u7269\u7406\u90fd\u6ca1\u5b66\u7684\u6211\u4e5f\u4e0d\u4f1a~~\uff09\n\n_\u5f53\u7136\uff0c\u4f60\u8bf4\u4f60\u5389\u5bb3\uff0c\u7528SA,PSO\u8fd9\u4e9b\u7b97\u6cd5\u80fd\u540a\u6253\u6211\u2026\u2026\u600e\u4e48\u8bf4\u5462\uff0c\u4e2a\u4eba\u60f3\u8981\u65f6\u95f4\u590d\u6742\u5ea6\u548c\u7f16\u7a0b\u590d\u6742\u5ea6\u90fd\u5c0f\uff0c\u4f60\u8981\u662f\u89c9\u5f97\u8fd9\u6837\u6709\u610f\u601d\uff0c\u6211\u4e5f\u65e0\u8bdd\u53ef\u8bf4_\n\n\u6700\u540e\uff0c\u9644\u4e0a25\u884c\u7684\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#pragma GCC optimize(2)\n#define E(x) ((x)*(x))\nconst int N=1009;\nint n,px[N],py[N],pw[N];\ndouble x,y,lon=10000.0;//\u521d\u59cb\u79fb\u52a8\u957f\u5ea6\nvoid move(double l){\n\tdouble sx=0,sy=0,g;\n\tfor(int i=1;i<=n;i++){//\u5c06\u7ef3\u7ed3\u4e0a\u7684\u529b\u6b63\u4ea4\u5206\u89e3\uff0c\u6a2a\u5411\u7684\u52a0\u7ed9sx\uff0c\u7eb5\u5411\u52a0\u7ed9sy\n\t\tg=sqrt(E(px[i]-x)+E(py[i]-y));\n\t\tif(g==0)continue;\n\t\tsx+=pw[i]/g*(px[i]-x);\n\t\tsy+=pw[i]/g*(py[i]-y);\n\t}\n\tg=sqrt(sx*sx+sy*sy);//\u7b97\u51fa\u5408\u529b\u5927\u5c0f\n\tx+=l/g*sx,y+=l/g*sy;//\u5411\u5408\u529b\u65b9\u5411\u79fb\u52a8l\n}\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%d%d%d\",&px[i],&py[i],&pw[i]);\n\twhile(lon>4e-4)\n\t\tmove(lon),lon*=0.618;//lon\u4e58\u591a\u5c11\u968f\u4f60\u5b9a\uff0c\u4e0d\u662f\u592a\u5c0f\u90fd\u80fd\u8fc7\n\tprintf(\"%.3f %.3f\\n\",x,y),exit(0);\n}\n```\n_\u544a\u8f9e_",
        "postTime": 1580011870,
        "uid": 109401,
        "name": "\u5b81_\u7f3a",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u524d\u9762\u7684\u51e0\u7bc7\u9898\u89e3\u4f3c\u4e4e\u90fd\u6ca1\u6709\u91cd\u70b9\u8bf4\u6a21\u62df\u9000\u706b\u7684\u7b97\u6cd5\u3002\n\n## \u4e00\u3001\u6a21\u62df\u9000\u706b\u6b65\u9aa4\n\n\u9009\u5b9a\u4e00\u4e2a\u521d\u59cb\u72b6\u6001\uff08\u6bd4\u5982\u9009\u5b9a\u6240\u6709\u70b9\u5750\u6807\u7684\u5e73\u5747\u6570\uff09\uff0c\u9009\u5b9a\u4e00\u4e2a\u521d\u59cb\u6e29\u5ea6T\u3002\n\n\u5f53\u6e29\u5ea6\u5927\u4e8e\u4e00\u4e2a\u8fb9\u754c\u503c\u65f6\uff1a\n```\n{\n\u3000\u3000\u968f\u673a\u53d8\u5316\u5750\u6807\uff0c\u53d8\u5316\u5e45\u5ea6\u4e3a T \u3002\n\n\u3000\u3000\u8ba1\u7b97\u65b0\u89e3\u4e0e\u5f53\u524d\u89e3\u7684\u5dee DE\u3002\n\n\u3000\u3000\u5982\u679c\u65b0\u89e3\u6bd4\u5f53\u524d\u89e3\u4f18(DE > 0)\uff0c\u5c31\u7528\u65b0\u89e3\u66ff\u6362\u5f53\u524d\u89e3\u3002\n\n\u3000\u3000\u5426\u5219\u4ee5 exp(DE / T) \u7684\u6982\u7387\u7528\u65b0\u89e3\u66ff\u6362\u5f53\u524d\u89e3\u3002\n\n\u3000\u3000\u6e29\u5ea6\u4e58\u4e0a\u4e00\u4e2a\u5c0f\u4e8e1\u7684\u7cfb\u6570\uff0c\u5373\u964d\u6e29\u3002\n}\n```\n\u8fd9\u6837\uff0c\u968f\u7740\u6e29\u5ea6\u4e0d\u65ad\u964d\u4f4e\uff0c\u53d8\u5316\u5e45\u5ea6\u4e5f\u8d8a\u6765\u8d8a\u5c0f\uff0c\u63a5\u53d7\u4e00\u4e2a\u66f4\u52a3\u7684\u89e3\u7684\u6982\u7387\u4e5f\u8d8a\u6765\u8d8a\u5c0f\u3002\n\n## \u4e8c\u3001\u6a21\u62df\u9000\u706b\u6ce8\u610f\u4e8b\u9879\n\n1. \u6e29\u5ea6T\u7684\u521d\u59cb\u503c\u8bbe\u7f6e\u95ee\u9898\u3002\n\u521d\u59cb\u6e29\u5ea6\u9ad8\uff0c\u5219\u641c\u7d22\u5230\u5168\u5c40\u6700\u4f18\u89e3\u7684\u53ef\u80fd\u6027\u5927\uff0c\u4f46\u56e0\u6b64\u8981\u82b1\u8d39\u5927\u91cf\u7684\u8ba1\u7b97\u65f6\u95f4\uff1b\u53cd\u4e4b\uff0c\u5219\u53ef\u8282\u7ea6\u8ba1\u7b97\u65f6\u95f4\uff0c\u4f46\u5168\u5c40\u641c\u7d22\u6027\u80fd\u53ef\u80fd\u53d7\u5230\u5f71\u54cd\u3002\n\n2. \u9000\u706b\u901f\u5ea6\u95ee\u9898\u3002\n\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u7684\u5168\u5c40\u641c\u7d22\u6027\u80fd\u4e5f\u4e0e\u9000\u706b\u901f\u5ea6\u5bc6\u5207\u76f8\u5173\u3002\u540c\u4e00\u6e29\u5ea6\u4e0b\u7684\u201c\u5145\u5206\u201d\u641c\u7d22(\u9000\u706b)\u662f\u76f8\u5f53\u5fc5\u8981\u7684\uff0c\u4f46\u8fd9\u9700\u8981\u8ba1\u7b97\u65f6\u95f4\u3002\n\n3. \u6e29\u5ea6\u7ba1\u7406\u95ee\u9898\n\u964d\u6e29\u7cfb\u6570\u5e94\u4e3a\u6b63\u7684\u7565\u5c0f\u4e8e1.00\u7684\u5e38\u6570\u3002\n\n\u5173\u4e8e\u8fd9\u9053\u9898\uff0c\u4e00\u5207\u81ea\u7136\u53d8\u5316\u8fdb\u884c\u7684\u65b9\u5411\u90fd\u662f\u4f7f\u80fd\u91cf\u964d\u4f4e\uff0c\u56e0\u4e3a\u80fd\u91cf\u8f83\u4f4e\u7684\u72b6\u6001\u6bd4\u8f83\u7a33\u5b9a\u3002\n\n\u56e0\u4e3a\u7269\u91cd\u4e00\u5b9a\uff0c\u7ef3\u5b50\u8d8a\u77ed\uff0c\u91cd\u7269\u8d8a\u4f4e\uff0c\u52bf\u80fd\u8d8a\u5c0f\uff0c\u52bf\u80fd\u53c8\u4e0e\u7269\u91cd\u6210\u6b63\u6bd4\uff0c\u6240\u4ee5\uff0c\u53ea\u8981\u4f7f\u5f97$\\sum_{i=1}^ndist[i]*weight[i]$\u4e5f\u5c31\u662f\u603b\u7684\u91cd\u529b\u52bf\u80fd\u6700\u5c0f\uff0c\u5c31\u53ef\u4ee5\u4f7f\u7cfb\u7edf\u5e73\u8861\n\n```\n#include<cstdio>\n#include<cctype>\n#include<cmath>\n#include<cstdlib>\n\nint Read()\n{\n\tint x=0,y=1;\n\tchar c=getchar();\n\twhile(!isdigit(c))\n\t{\n\t\tif(c=='-')\n\t\t{\n\t\t\ty=-1;\n\t\t}\n\t\tc=getchar();\n\t}\n\twhile(isdigit(c))\n\t{\n\t\tx=(x<<3)+(x<<1)+(c^48);\n\t\tc=getchar();\n\t}\n\treturn x*y;\n}\n\nstruct Node\n{\n\tint x,y,weight;\n}node[10005];\nint n;\n\ndouble potential_energy(double nowx,double nowy)\n{\n\tdouble sum=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tdouble delx=nowx-node[i].x;\n\t\tdouble dely=nowy-node[i].y;\n\t\tsum+=(sqrt(delx*delx+dely*dely))*node[i].weight;\n\t\t//\u7269\u91cd\u4e00\u5b9a\uff0c\u7ef3\u5b50\u8d8a\u77ed\uff0c\u91cd\u7269\u8d8a\u4f4e\uff0c\u52bf\u80fd\u8d8a\u5c0f \n\t\t//\u52bf\u80fd\u53c8\u4e0e\u7269\u91cd\u6210\u6b63\u6bd4 \n\t}\n\treturn sum;//\u5728(nowx,nowy)\u5904\u7684\u603b\u52bf\u80fd \n}\n\ndouble xans,yans;//\u6700\u7ec8\u7b54\u6848 \ndouble ans=1e18+7,t;//\u52bf\u80fd\u4e0e\u6e29\u5ea6\nconst double delta=0.993;//\u964d\u6e29\u7cfb\u6570\n\nvoid simulate_anneal()\n{\n\tdouble xx=xans;//\u94a6\u5b9a\u4e00\u4e2a\u521d\u59cb\u4f4d\u7f6e\n\tdouble yy=yans;\n\tt=1926;//t\u662f\u6e29\u5ea6\n\twhile(t>1e-14)\n\t{\n\t\tdouble xtemp=xans+(rand()*2-RAND_MAX)*t;\n\t\tdouble ytemp=yans+(rand()*2-RAND_MAX)*t;\n\t\t//\u968f\u673a\u4e00\u4e2a\u65b0\u7684\u5750\u6807\uff0c\u53d8\u5316\u5e45\u5ea6\u4e3at\n\t\t//\u8fd9\u91cc\u8981\u6ce8\u610frand()\u548crand()*2-RAND_MAX\u7684\u533a\u522b\n\t\t//rand()\u7684\u8303\u56f4\u662f0~RAND_MAX-1\n\t\t//rand()*2-RAND_MAX\u7684\u8303\u56f4\u662f-RAND_MAX\u5230RAND_MAX-1 \n\t\t\n\t\tdouble new_ans=potential_energy(xtemp,ytemp);//\u8ba1\u7b97\u5f53\u524d\u89e3\u7684\u52bf\u80fd \n\t\tdouble DE=new_ans-ans;\n\t\tif(DE<0)//\u5982\u679c\u662f\u4e00\u4e2a\u66f4\u4f18\u89e3\n\t\t{\n\t\t\txx=xtemp;\n\t\t\tyy=ytemp;//\u5c31\u63a5\u53d7\n\t\t\txans=xx;\n\t\t\tyans=yy;\n\t\t\tans=new_ans;\n\t\t}\n\t\telse if(exp(-DE/t)*RAND_MAX>rand())//\u80fd\u5426\u63a5\u53d7\u8fd9\u4e2a\u5dee \n\t\t{\n\t\t\t//\u66f4\u65b0\u5750\u6807\n\t\t\txx=xtemp;\n\t\t\tyy=ytemp;\n\t\t}\n\t\tt*=delta;//\u964d\u6e29 \n\t}\n}\n\nvoid SA()//\u6d17\u628a\u8138\u5c31AC\u4e86 \n{\n\tsimulate_anneal();\n\tsimulate_anneal();\n\tsimulate_anneal();\n}\n\nint main()\n{\n\tn=Read();\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tnode[i].x=Read();\n\t\tnode[i].y=Read();\n\t\tnode[i].weight=Read();\n\t}\n\tSA();\n\tprintf(\"%.3lf %.3lf\",xans,yans);\n\treturn 0;\n}\n```",
        "postTime": 1521702039,
        "uid": 53374,
        "name": "SuperJvRuo",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "**[\u539f\u9898\u94fe\u63a5](https://www.luogu.org/problemnew/show/P1337)**\n\n**\u5173\u4e8e\u6a21\u62df\u9000\u706b\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u53ef\u4ee5[peng-ym](https://www.cnblogs.com/peng-ym/p/9158909.html)\u5173\u4e8e\u6a21\u62df\u9000\u706b\u7684\u4ecb\u7ecd\u3002**\n\n## \u9898\u76ee\u63cf\u8ff0\n- \u5982\u56fe\uff1a\u6709n\u4e2a\u91cd\u7269\uff0c\u6bcf\u4e2a\u91cd\u7269\u7cfb\u5728\u4e00\u6761\u8db3\u591f\u957f\u7684\u7ef3\u5b50\u4e0a\u3002\u6bcf\u6761\u7ef3\u5b50\u81ea\u4e0a\u800c\u4e0b\u7a7f\u8fc7\u684c\u9762\u4e0a\u7684\u6d1e\uff0c\u7136\u540e\u7cfb\u5728\u4e00\u8d77\u3002\u56fe\u4e2dX\u5904\u5c31\u662f\u516c\u5171\u7684\u7ef3\u7ed3\u3002\u5047\u8bbe\u7ef3\u5b50\u662f\u5b8c\u5168\u5f39\u6027\u7684\uff08\u4e0d\u4f1a\u9020\u6210\u80fd\u91cf\u635f\u5931\uff09\uff0c\u684c\u5b50\u8db3\u591f\u9ad8\uff08\u56e0\u800c\u91cd\u7269\u4e0d\u4f1a\u5782\u5230\u5730\u4e0a\uff09\uff0c\u4e14\u5ffd\u7565\u6240\u6709\u7684\u6469\u64e6\u3002\n- \u95ee\u7ef3\u7ed3X\u6700\u7ec8\u5e73\u8861\u4e8e\u4f55\u5904\u3002\n- \u6ce8\u610f\uff1a\u684c\u9762\u4e0a\u7684\u6d1e\u90fd\u6bd4\u7ef3\u7ed3X\u5c0f\u5f97\u591a\uff0c\u6240\u4ee5\u5373\u4f7f\u67d0\u4e2a\u91cd\u7269\u7279\u522b\u91cd\uff0c\u7ef3\u7ed3X\u4e5f\u4e0d\u53ef\u80fd\u7a7f\u8fc7\u684c\u9762\u4e0a\u7684\u6d1e\u6389\u4e0b\u6765\uff0c\u6700\u591a\u662f\u5361\u5728\u67d0\u4e2a\u6d1e\u53e3\u5904\u3002\n\n## \u8f93\u5165\u8f93\u51fa\u683c\u5f0f\n- \u8f93\u5165\u683c\u5f0f\uff1a\n\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u4e3a\u4e00\u4e2a\u6b63\u6574\u6570n\uff081\u2264n\u22641000\uff09\uff0c\u8868\u793a\u91cd\u7269\u548c\u6d1e\u7684\u6570\u76ee\u3002\u63a5\u4e0b\u6765\u7684n\u884c\uff0c\u6bcf\u884c\u662f3\u4e2a\u6574\u6570\uff1aXi.Yi.Wi\uff0c\u5206\u522b\u8868\u793a\u7b2ci\u4e2a\u6d1e\u7684\u5750\u6807\u4ee5\u53ca\u7b2c i\u4e2a\u91cd\u7269\u7684\u91cd\u91cf\u3002(-10000\u2264x,y\u226410000, 0<w\u22641000 )\n- \u8f93\u51fa\u683c\u5f0f\uff1a\n\u4f60\u7684\u7a0b\u5e8f\u5fc5\u987b\u8f93\u51fa\u4e24\u4e2a\u6d6e\u70b9\u6570\uff08\u4fdd\u7559\u5c0f\u6570\u70b9\u540e\u4e09\u4f4d\uff09\uff0c\u5206\u522b\u8868\u793a\u5904\u4e8e\u6700\u7ec8\u5e73\u8861\u72b6\u6001\u65f6\u7ef3\u7ed3X\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\u3002\u4e24\u4e2a\u6570\u4ee5\u4e00\u4e2a\u7a7a\u683c\u9694\u5f00\u3002\n\n## \u89e3\u9898\u601d\u8def\n- \u8fd9\u9898\u6015\u4e0d\u662fOI\u4e2d\u4e3a\u6570\u4e0d\u591a\u7684\u4e0e\u7269\u7406\u6709\u5173\u7cfb\u7684\u9898\u3002~~\uff08233\uff09~~\n- \u9898\u76ee\u8be2\u95ee\u7684\u662f\u7ef3\u7ed3\u6700\u7ec8\u5e73\u8861\u4e8e\u4f55\u5904\uff1f\n- \u6839\u636e\u7269\u7406\u7684\u77e5\u8bc6\uff0c\u5f53\u7cfb\u7edf\u5904\u4e8e\u5e73\u8861\u72b6\u6001\u65f6\uff0c\u7cfb\u7edf\u7684\u603b\u80fd\u91cf\u6700\u5c0f\u3002\n- \u53c8\u6b64\u65f6\u7cfb\u7edf\u7684\u603b\u80fd\u91cf\u662f\u7b49\u4e8e\u5404\u4e2a\u7269\u4f53\u7684\u91cd\u529b\u52bf\u80fd\uff0c\u5728\u8d28\u91cf\u4e00\u5b9a\u65f6\uff0c\u5373\u8981\u6c42\u7269\u4f53\u79bb\u5730\u6700\u8fd1\uff0c\u79bb\u684c\u5b50\u6700\u8fdc\u3002\n- \u90a3\u4e48\uff0c\u4e5f\u5c31\u662f\u7ef3\u5b50\u5728\u684c\u5b50\u4e0a\u7684\u8ddd\u79bb\u5c3d\u91cf\u7684\u5c0f\u3002\u5373\uff1a$\\sum_{i=1}^{n}m_i*dist_{i,x}$\u6700\u5c0f\u3002\n- \u6a21\u62df\u9000\u706b\u8981\u89e3\u51b3\u7684\u95ee\u9898\u5c31\u662f\u627e\u5230\u8fd9\u4e00\u4e2a\u70b9\u7684\u4f4d\u7f6e\u3002\n- \u6a21\u62df\u9000\u706b\u6700\u4e3b\u8981\u7684\u53c2\u6570\u6709\u51e0\u4e2a\uff1a$T_0$\u521d\u59cb\u6e29\u5ea6\uff0c$t$\u6bcf\u4e00\u6b21\u4e0b\u964d\u7684\u6e29\u5ea6\uff0c$ans$\u76ee\u524d\u4e3a\u6b62\u6700\u4f18\u7684\u7b54\u6848\uff0c$now$\u65b0\u7684\u72b6\u6001\uff0c$delta$\u5f53\u524d\u7b54\u6848\u4e0e\u6700\u4f18\u7b54\u6848\u7684\u5dee\u503c\u3002\n- \u5728\u6269\u5c55\u72b6\u6001\u65f6\u6709\u4e00\u4e2a\u5c0f\u65b9\u6cd5\uff1a$(rand()*2-RANDMAX)*T$\u3002\u8fd9\u6837\u7684\u539f\u7406\u662f$(rand()*2-RANDMAX)$\u7684\u8303\u56f4\u662f\u4ece\u8d1f\u6570\u5230\u6b63\u6570\u7684\uff0c\u8fd9\u6837\u5b50\u5728\u6269\u5c55\u5750\u6807\u7684\u65f6\u5019\u5c31\u53ef\u4ee5\u591a\u65b9\u5411\u6269\u5c55\uff0c\u4e0d\u4f1a\u53ea\u5728\u4e00\u4e2a\u65b9\u5411\u4e0a\u66f4\u65b0\u3002\n- \uff08PS\uff1a\u8fd8\u6709\u4e00\u4e2a\u5f88\u91cd\u8981\u7684\u95ee\u9898\uff0c\u7384\u5b66\u8c03\u53c2\u3002\u8fd9\u79cd\u95ee\u9898\u6700\u597d\u5728\u53ef\u4ee5\u770b\u5230\u8bc4\u6d4b\u7ed3\u679c\u7684OJ\u4e0a\u4ea4\uff0c\u4e0d\u7136\u4f60\u4e0d\u4f1a\u77e5\u9053\u662f\u81ea\u5df1\u6253\u9519\u4e86\uff0c\u8fd8\u662f\u53c2\u6570\u6ca1\u8c03\u597d\u3002\u3002\u3002\u3002\u3002\u3002\uff09\n\n## \u76f4\u63a5\u4e0a\u4ee3\u7801\uff1a \n```cpp\n#include<bits/stdc++.h>\n#define N 2000\nusing namespace std;\ntemplate<typename T>inline void read(T &x)\n{\n    x=0;\n    static int p;p=1;\n    static char c;c=getchar();\n    while(!isdigit(c)){if(c=='-')p=-1;c=getchar();}\n    while(isdigit(c)) {x=(x<<1)+(x<<3)+(c-48);c=getchar();}\n    x*=p;\n}\nstruct node\n{\n    double x,y,w;\n}e[N];\nint n;\ndouble ansx,ansy;\nconst double eps=1e-15;\ndouble f(double x,double y)\n{\n    double tot=0;\n    for(int i=1;i<=n;i++)\n    {\n        double delx=x-e[i].x;\n        double dely=y-e[i].y;\n        tot+=sqrt(delx*delx+dely*dely)*e[i].w;\n    }\n    return tot;\n}\nvoid mnth()\n{\n    double T=200;\n    while(T>eps)\n    {\n        double nowx=ansx+(rand()*2-RAND_MAX)*T;\n        double nowy=ansy+(rand()*2-RAND_MAX)*T;\n        double delta=f(nowx,nowy)-f(ansx,ansy);\n        if(delta<0)ansx=nowx,ansy=nowy;\n        else if(exp(-delta/T)*RAND_MAX>rand())ansx=nowx,ansy=nowy;\n        T*=0.998;\n    }\n}\nint main()\n{\n#ifndef ONLINE_JUDGE\n    freopen(\"mnth.in\",\"r\",stdin);\n    freopen(\"mnth.out\",\"w\",stdout);\n#endif\n    srand((int)time(NULL));\n    read(n);\n    for(int i=1;i<=n;i++)\n    {\n        scanf(\"%lf%lf%lf\",&e[i].x,&e[i].y,&e[i].w);\n        ansx+=e[i].x;ansy+=e[i].y;\n    }\n    ansx/=(double)n;ansy/=(double)n;\n    mnth();\n    printf(\"%.3lf %.3lf\\n\",ansx,ansy);\n    return 0;\n}\n```",
        "postTime": 1529117594,
        "uid": 22016,
        "name": "pengym",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u5f88\u53ef\u60dc\uff0c\u5145\u6ee1Mo\u529b\u7684Mo\u62df\u9000\u706b\u5e76\u4e0d\u662f\u6b63\u89e3\u3002\u4e0d\u8fc7\u8fd9\u662f\u4e00\u9053\u6700\u9002\u5408\u5f00\u59cb\u5165\u624bMo\u62df\u9000\u706b\u7684\u597d\u9898\u3002\n\n\u5bf9\u6a21\u62df\u9000\u706b\u8fd8\u4e0d\u662f\u5f88\u6e05\u695a\u7684\u53ef\u4ee5[\u770b\u4e00\u4e0b](http://www.cnblogs.com/flashhu/p/8884132.html)\n\n\u8fd9\u9053\u9898\u8fd8\u771f\u548c\u80fd\u91cf\u6709\u70b9\u5173\u7cfb\u3002\u8fbe\u5230\u5e73\u8861\u7a33\u6001\u7684\u65f6\u5019\uff0c\u7269\u4f53\u7684\u603b\u80fd\u91cf\u5e94\u8be5\u662f\u6700\u5c0f\u7684\u3002\u800c\u603b\u7684\u80fd\u91cf\u6765\u6e90\u4e8e\u6bcf\u4e2a\u7269\u4f53\u7684\u91cd\u529b\u52bf\u80fd\u4e4b\u548c\u3002\u8981\u60f3\u8ba9\u67d0\u4e2a\u7269\u4f53\u52bf\u80fd\u51cf\u5c0f\uff0c\u90a3\u5c31\u8ba9\u62c9\u7740\u5b83\u7684\u7ef3\u5b50\u5728\u684c\u9762\u4e0b\u65b9\u7684\u957f\u5ea6\u5c3d\u53ef\u80fd\u7684\u957f\uff0c\u4e5f\u5c31\u662f\u684c\u9762\u4e0a\u7684\u8981\u5c3d\u53ef\u80fd\u77ed\u3002\u7531\u6b64\u770b\u6765\uff0c\u67d0\u4e2a\u7269\u4f53\u7684\u52bf\u80fd\u4e0e\u684c\u9762\u4e0a\u7684\u7ef3\u5b50\u7684\u957f\u5ea6\u3001\u7269\u4f53\u91cd\u91cf\u90fd\u6210\u6b63\u6bd4\u3002\n\n\u4e8e\u662f\uff0c\u4e3a\u4e86\u627e\u5230\u5e73\u8861\u70b9\uff0c\u6211\u4eec\u8981\u627e\u4e00\u4e2a\u70b9\u4f7f\u5f97$\\sum_{i=1}^n d_i*w_i$\u6700\u5c0f\uff08$d_i$\u4e3a$i$\u70b9\u5230\u8be5\u70b9\u7684\u8ddd\u79bb\uff09\u3002\n\n\u51fd\u6570\u5df2\u7ecf\u6c42\u51fa\u6765\u4e86\uff0c\u63a5\u4e0b\u6765\u5c31\u662f\u6b63\u5e38\u7684\u6a21\u62df\u9000\u706b\u8fc7\u7a0b\u3002\u6ce8\u610f\u4e00\u4e9b\u7ec6\u8282\u5c31\u597d\u4e86\u3002\n\n\u9996\u5148\uff0c\u521d\u59cb\u89e3\u53ef\u4ee5\u8bbe\u6210$({\\sum_{i=1}^n x_i\\over n},{\\sum_{i=1}^n y_i\\over n})$\uff0c\u53ef\u4ee5\u66f4\u63a5\u8fd1\u6b63\u89e3\n\n\u89e3\u53d8\u52a8\u503c\u6700\u597d\u968f\u673a\u4e24\u4e2a\u503c\uff0c$\\Delta x$\u548c$\\Delta y$\u3002\u968f\u673a\u53d8\u52a8\u8ddd\u79bb\u548c\u89d2\u5ea6\u53ef\u80fd\u5e38\u6570\u6709\u70b9\u5927\u3002\n\n\u7136\u540e\u662f\u5199\u6cd5\u95ee\u9898\u3002\u849f\u84bb\u53c8\u5b66\u4e60\u4e86\u4e00\u62db\uff0c\u77e5\u9053\u6709\u4e00\u4e2a\u5e38\u6570\u53ebRAND_MAX\uff0c\u7528\u4e8e\u751f\u6210$[0,1)$\u7684\u968f\u673a\u503c\u8fd8\u662f\u5f88\u65b9\u4fbf\u7684\uff0c\u5728\u4e0d\u540c\u673a\u5b50\u4e0b\u53ef\u79fb\u690d\u6027\u4e5f\u5f88\u5f3a\u3002\uff08\u96be\u602aWindows\u4e0arand\u51fa\u6765\u7684\u90fd\u662f\u77ed\u6574\u5f62\u6570\uff09\n\n\u53e6\u5916\uff0c\u56e0\u4e3a\u9000\u706b\u7684\u65f6\u5019\u6709\u53ef\u80fd\u672c\u6765\u627e\u5230\u4e86\u6700\u4f18\u89e3\uff0c\u4f46\u540e\u6765\u63a5\u53d7\u4e86\u8f83\u52a3\u89e3\u5e76\u9010\u6b65\u964d\u6e29\u7a33\u5b9a\u4e86\uff0c\u90a3\u4e48\u4e5f\u5c31\u662f\u8bf4\u672c\u6765\u627e\u5230\u7684\u6700\u4f18\u89e3\u5230\u6700\u540e\u5374\u7ed9\u5f04\u4e22\u4e86\u3002\n\n\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u849f\u84bb\u53c2\u8003YL\u7684\u505a\u6cd5\uff0c\u8bbe\u4e00\u4e2a\u5168\u5c40\u6700\u4f18\u89e3best\uff0c\u5b83\u53ea\u63a5\u53d7\u6bd4\u81ea\u5df1\u66f4\u4f18\u7684\u89e3\u3002\n\n\u800c\u4e14\u8fd9\u6837\u8fd8\u6709\u4e00\u4e2a\u597d\u5904\uff0c\u5c31\u662f\u8fdb\u884c\u591a\u6b21\u9000\u706b\u7684\u8fc7\u7a0b\u4e2d\uff0c\u4e5f\u80fd\u4fdd\u8bc1best\u662f\u5355\u8c03\u9012\u51cf\u7684\uff0c\u65e0\u8bba\u5982\u4f55\u4e5f\u4e0d\u4f1a\u53d8\u52a3\u3002\n\n\u6700\u540e\u5c31\u662f\u8c03\u53c2\u6570\u7684\u95ee\u9898\u4e86\u3002\n\n\u53d1\u73b0\u81ea\u5df1\u5199\u4e86\u4e2a\u5047\u7684\u6a21\u62df\u9000\u706b\u4ee5\u540e\uff0c\u849f\u84bb\u9a6c\u4e0a\u4e00\u6539\uff0c\u5374\u53d1\u73b0\u53c2\u6570\u53c8\u9700\u8981\u91cd\u65b0\u8c03\u3002\u3002\u3002\u3002\u3002\u3002\uff08YL\u636e\u8001\u4e5f\u80cc\u4e86\u9505\uff09\n\n\u62fc\u547d\u7684\u4e8c\u5206\uff0c\u4e8c\u5206\u3002\u3002\u3002\u3002\u3002\u3002\u53c2\u6570\u5927\u5f97\u90fd\u8981TLE\u4e86\u8fd8\u662f\u4e0d\u80fd\u4fdd\u8bc1\u6b63\u786e\u7387\uff1f\uff01\n\n\u7ed3\u679c\u5c0f\u53f7\u63d0\u4ea4\u8bb0\u5f55\u7b2c\u4e8c\u6b21\u5237\u5c4f\u4e86\uff08\u7b2c\u4e00\u6b21\u8fd8\u662f\u6253\u8868\u8fc7\u6d1b\u8c37\u611a\u4eba\u8282T3\u3002\u3002\u3002\u3002\u3002\u3002\uff09\n\n\u540e\u6765\u7a81\u7136\u731b\u5730\u4e00\u60f3\uff1a$n,x,y,w$\u90fd\u4e0d\u5c0f\uff0c\u4e58\u6765\u4e58\u53bb\u4e0d\u4f1a\u6389\u7cbe\u5ea6\u4e86\u5427\uff1f\n\n\u4e8e\u662f\u6539\u7528long double\u7ee7\u7eed\uff0c\u60c5\u51b5\u597d\u591a\u4e86\n\n\u4e0b\u9762\u7684\u53c2\u6570\u53ef\u4f9b\u53c2\u8003\n\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<ctime>\n#include<cstdlib>\n#define RG register\n#define R RG long double\n#define RD T*(rand()*2-RAND_MAX)//\u751f\u6210\u4e00\u4e2a-T\u5230T\u7684\u968f\u673a\u53d8\u52a8\u8ddd\u79bb\n//\u4ee5\u524d\u5199\u7684\u662fT*((double)rand()/RAND_MAX*2-1)\uff0c\u603b\u662fWA\uff08\u53ef\u80fd\u662f\u5148\u9664\u540e\u4e58\u6389\u7cbe\u5ea6\u4e86\uff09\uff0c\u7136\u540e\u5c31\u53c2\u8003\u4e86YL\u7684\u5199\u6cd5\nconst int N=1009;\nconst long double D=0.97,EPS=1e-14;//\u66f4\u65b0\u540e\u4e8c\u5206\u51fa\u4e86\u4fdd\u8bc1\u6781\u9ad8\u6b63\u786e\u7387\u548c\u8f83\u9ad8\u6548\u7387\u7684\u53c2\u6570\ndouble x[N],y[N],w[N];\nint n;\ninline long double calc(R x0,R y0){\n    R res=0,dx,dy;\n    for(RG int i=1;i<=n;++i){//\u51fd\u6570\u6c42\u503c\n        dx=x[i]-x0;dy=y[i]-y0;\n        res+=sqrt(dx*dx+dy*dy)*w[i];\n    }\n    return res;\n}\nint main(){\n    R T,x0,y0,x1,y1,res,ans,best,bx=0,by=0;\n    RG int i,times=1;//\u4e00\u6b21\u7684\u6b63\u786e\u7387\u5f88\u9ad8\u7684\uff0c\u4e0d\u653e\u5fc3\u4e5f\u53ef\u4ee5\u8c03\u5927\n    scanf(\"%d\",&n);\n    for(i=1;i<=n;++i){\n        scanf(\"%lf%lf%lf\",&x[i],&y[i],&w[i]);\n        bx+=x[i];by+=y[i];\n    }//\u521d\u59cb\u6a2a\u7eb5\u5750\u6807\u5747\u9009\u62e9\u5e73\u5747\u503c\n    best=ans=calc(bx/=n,by/=n);\n    srand(time(NULL));\n    while(times--/*clock()<CLOCKS_PER_SEC*0.9*/){//\u6bd4\u8d5b\u7684\u65f6\u5019\u8bd5\u8bd5\u6ce8\u91ca\u91cc\u5199\u7684\uff0c\u5361\u65f6\u8fd8\u662f\u9760\u8c31\u4e9b\n        ans=best;x0=bx;y0=by;\n        for(T=100000;T>EPS;T*=D){\n            x1=x0+RD;y1=y0+RD;\n            res=calc(x1,y1);\n            if(best>res)\n                best=res,bx=x1,by=y1;//\u66f4\u65b0\u6700\u4f18\u7b54\u6848\n            if(ans>res||exp((ans-res)/T)>(long double)rand()/RAND_MAX)\n                ans=res,x0=x1,y0=y1;//\u63a5\u53d7\u65b0\u89e3\n        }\n    };\n    printf(\"%.3Lf %.3Lf\\n\",bx,by);\n    return 0;\n}\n```",
        "postTime": 1524126815,
        "uid": 61325,
        "name": "FlashHu",
        "ccfLevel": 8,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": ">> \u9898\u76ee\u94fe\u63a5\uff1a[[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX](https://www.luogu.org/problem/P1337)\n\n\u8fd9\u7bc7\u9898\u89e3\u539f\u53d1\u4e8e[\u6211\u7684blog](https://wangjunrui.netlify.com/2019/10/25/%E6%B4%9B%E8%B0%B7-p1337-jsoi2004-%E5%B9%B3%E8%A1%A1%E7%82%B9-%E5%90%8A%E6%89%93xxx/)\n\u636e\u8bf4\u8fd9\u662f\u4e00\u9053\u6a21\u62df\u9000\u706b\u7684\u9898\n\n\u90a3\u6211\u4e5f\u6765\u505a\u4e00\u505a~~\u4e71\u641e~~\n\n\u6a21\u62df\u9000\u706b\u6a21\u677f\n```cpp\nt=\u521d\u59cb\u6e29\u5ea6;\nwhile(t>eps)\n{\n  tmp=\u4ece\u5f53\u524d\u627e\u5230\u7684\u6700\u4f18\u8f6c\u6001\u968f\u673a\u627e\u5230\u7684\u4e00\u4e2a\u8f6c\u6001;\n  d=calc(now)-calc(ans);\n  if(d<0)\n    ans=tmp;\n  else if(exp(d/t)*RAND_MAX>rand())\n    ans=now;\n  t*=cold;\n}\n```\n\u603b\u4e4b\u8fd9\u4e2a\u7b97\u6cd5\u5168\u9760$rp++$\n\n~~\u7406\u8bba\u4e0a\u8fd0\u6c14\u597d\u7684\u8bdd\u4f60\u53ef\u4ee5AK~~\n\n![\u849f\u84bb\u8c03\u8bd5\u4ee3\u7801](https://cdn.luogu.com.cn/upload/image_hosting/4a42etnm.png)\n\n~~\u849f\u84bb\u8c03\u8bd5\u7684\u4ee3\u7801\u4e0d\u582a\u5165\u76ee~~\n\n### \u63a5\u4e0b\u6765\u8ba8\u8bba\u6b64\u9898\uff1a\n\n\u5f53\u89e3\u6700\u4f18\u65f6\n\n\u6240\u7b97\u7684\u52bf\u80fd\n$$\\sum^{n}_{i=1}\\sqrt {(ans_x-x[i])^2+(ans_y-y[i])^2}*w[i]$$\n\n\u4e00\u5b9a\u5c3d\u91cf\u5c0f\n\n\u4e8e\u662f\u4e4e\uff0c\u5c31\u53ef\u4ee5\u8c03\u6a21\u62df\u9000\u706b\u4e86\n\n\u603b\u4e4b\n\u6a21\u62df\u9000\u706b\u662f\u4e00\u4e2a\u6781\u4e3a\u7384\u5b66\u7684\u7b97\u6cd5\uff0c\u5168\u9760$rp$    \uff01\uff01\uff01\n\n\u6700\u540e\u8d34\u4e0a\u4ee3\u7801~~\u77e5\u9053\u4f60\u4eec\u53ea\u770b\u8fd9\u4e2a~~\uff1a\n```cpp\n#include<cstdio>\n#include<cmath>\n#include<cstdlib>\nusing namespace std;\ntemplate<typename T>\ninline void read(T&x)\n{\n\tx=0;\n\tchar s=getchar();\n\tbool f=false;\n\twhile(!(s>='0'&&s<='9'))\n\t{\n\t\tif(s=='-')\n\t\t\tf=true;\n\t\ts=getchar();\n\t}\n\twhile(s>='0'&&s<='9')\n\t{\n\t\tx=(x<<1)+(x<<3)+s-'0';\n\t\ts=getchar();\n\t}\n\tif(f)\n\t\tx=(~x)+1;\n\treturn;\n}\n#define re register\n#define temperature 1e5\n#define cold 0.996 \nconst int N=1e3+10;\nint n;\ndouble ans,ansx,ansy;\nstruct node\n{\n\tint x,y,w;\n} a[N];\ninline double calc(double x,double y)//\u8ba1\u7b97\u52bf\u80fd\uff0c\u52bf\u80fd\u8d8a\u5c0f\u89e3\u8d8a\u4f18\n{\n\tdouble energy=0.0;\n\tfor(re int i=1; i<=n; i++)\n\t\tenergy+=sqrt((x-a[i].x)*(x-a[i].x)+(y-a[i].y)*(y-a[i].y))*a[i].w;\n\treturn energy;\n}\ninline void solve()\n{\n\tdouble t=temperature;\n\twhile(t>1e-18)\n\t{\n\t\tdouble tmpx=ansx+(rand()+rand()-RAND_MAX)*t,tmpy=ansy+(rand()+rand()-RAND_MAX)*t;\n\t\tdouble tmp=calc(tmpx,tmpy);\n\t\tdouble d=tmp-ans;\n\t\tif(d<0.0)\n\t\t\tans=tmp,ansx=tmpx,ansy=tmpy;\n\t\telse if(exp(-d/t)*RAND_MAX>rand())\n\t\t\tansx=tmpx,ansy=tmpy;\n\t\tt*=cold;\n\t}\n}\nint main()\n{\n\tsrand(rand());\n\tread(n);\n\tfor(re int i=1; i<=n; i++)\n\t{\n\t\tread(a[i].x),read(a[i].y),read(a[i].w);\n\t\tansx+=a[i].x;\n\t\tansy+=a[i].y;\n\t}\n\tansx/=n,ansy/=n,ans=calc(ansx,ansy);//\u4e71\u641e\u4e00\u4e2a\u521d\u59cb\u503c\n\tfor(re int i=1; i<=4; i++)//\u591a\u641e\u51e0\u6b21\n\t\tsolve();\n\tprintf(\"%.3lf %.3lf\\n\",ansx,ansy);\n\treturn 0;\n}\n```\n~~\u9a6c\u8702\u5dee\u8bc4~~\n\n~~\u5efa\u8bae\u5927\u5bb6\u8bf7\u522b\u5fd9\u7740\u6284\uff0c\u56e0\u4e3a\u7ba1\u7406\u5458\u53ef\u80fd\u4f1a\u52a0\u5f3a\u6570\u636e\uff0c\u7a0b\u5e8f\u8fd8\u8981\u81ea\u5df1\u6253\uff0c\u4f46\u662f\u6211\u7684\u4ee3\u7801\u786e\u5b9e\u662f$AC$\u4ee3\u7801\u3002~~",
        "postTime": 1572017422,
        "uid": 133322,
        "name": "QwQ\u849f\u84bbwjr",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u6700\u8fd1\u7ec3\u6a21\u62df\u9000\u706bing\uff0c\u53c2\u8003Flash_Hu\u5927\u7287\u7684\u535a\u5ba2\u540e\u6839\u636e\u81ea\u5df1\u7406\u89e3\uff0c\u5bf9\u300a\u5e73\u8861\u70b9/\u540a\u6253XXX\u300b\u8fd9\u4e2a\u9898\u6574\u7406\u51fa\u4e86\u4e00\u4efd\u9898\u89e3\u3002\u81f3\u4e8e\u8bb2\u89e3\u561b\uff0c\u5c31\u7528\u80e1\u7287\u7684\u535a\u5ba2\u5427\uff0c\u5199\u4e0d\u5230\u90a3\u4e48\u597d\u5440\uff08~~\u4e3b\u8981\u662f\u61d2\uff1f~~\uff09\uff0c\u6211\u5c31\u7b80\u5355\u63d0\u4e00\u4e0b\u3002\n\n------------\n\u5f53\u65f6\u89c1\u5230\u8fd9\u4e2a\u9898\u7684\u9898\u5e72\uff0c\u771f\u662f\u5e05\u8138\u61f5B\uff0c\u5728\u60f3\u7b97\u6cd5\u4e4b\u524d\u5c31\u6b7b\u5728\u4e86\u8bfb\u9898\u4e0a\uff08~~\u4f60\u4f53\u4f1a\u8fc7\u7edd\u671b\u5417~~\uff09\u3002\u540e\u6765\u5f97\u9ad8\u4eba\u6307\u70b9\uff0c\u4ed6\u544a\u8bc9\u6211\u8fd9\u662f\u4e00\u9053~~\u7269\u7406~~\u903b\u8f91\u9898\uff0c\u6700\u7ec8\u6211\u5f97\u5230\u5982\u4e0b\u601d\u8def\uff1a\n\n\u5750\u6807\u7a33\u5b9a \u2014\u2014> \u80fd\u91cf\u7a33\u5b9a \u2014\u2014> \u52bf\u80fd\u603b\u548c\u6700\u5c0f \u2014\u2014> E=mgh \u2014\u2014>( \u91cd\u7269\u9ad8\u5ea6 x \u5bf9\u5e94M)\u6700\u4f4e \u2014\u2014> (\u684c\u4e0b\u7684\u7ef3\u5b50\u957f\u5ea6 x \u5bf9\u5e94M)\u6700\u5927 \u2014\u2014> (\u684c\u9762\u4e0a\u7684\u7ef3\u957f x \u5bf9\u5e94M)\u6700\u5c0f\n\n------------\n**\u8bb2\u89e3\u6233\u8fd9\u91cc** \uff1ahttp://www.cnblogs.com/flashhu/p/8884132.html\n\n\n**\u4ee3\u7801\u770b\u4e0b\u9762**\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\n#define RD T*(rand()*2-RAND_MAX)\n//\u751f\u6210[-T*RAND_MAX,T*RAND_MAX)\u7684\u968f\u673a\u53d8\u52a8\u8303\u56f4\uff08rand():[0,RAND_MAX)\uff09\n#define ld long double\n#define il inline\n\nconst ld D = 0.99, EPS = 1e-15;//D:\u6e29\u5ea6\u53d8\u5316\u7387\nconst int N = 1005;\nld best, ans, bx, by, res;//bx:best_x, by:best_y\ndouble x[N], y[N], w[N];\nint n;\n\n\nil ld calc(ld x0, ld y0)  {//\u6c42\u603b\u52bf\u80fd \n  ld dx, dy, res = 0;\n  for(int i = 1; i <= n; ++i)  {\n  \tdx = x[i]-x0;  dy = y[i]-y0;\n  \tres += sqrt(dx*dx+dy*dy)*w[i];//\u4e09\u89d2\u51fd\u6570\u90fd\u4f1a\u5427\n  }\n  return res;\n}\n\n\nint main()  {\n  ld x0, y0, x1, y1;//\u6ce8\u610f\uff1a\u8fd9\u51e0\u4e2a\u51fd\u6570\u540d\u4e0d\u80fd\u7528\u4f5c\u5168\u5c40\u53d8\u91cf\n  \n  scanf(\"%d\", &n);\n  for(int i = 1; i <= n; ++i)  {\n  \tscanf(\"%lf%lf%lf\", x+i, y+i, w+i);\n  \tbx+=x[i], by+=y[i];\n  }\n  best = ans = calc(bx/=n,by/=n);//\u521d\u59cb\u6a2a\u7eb5\u5750\u6807\u5747\u9009\u62e9\u5e73\u5747\u503c\n  \n  srand(20020202);//\u8fd9\u91cc\u6700\u597d\u4e0d\u8981\u7528time(NULL)\uff0c\u5426\u5219\u53ef\u80fd\u540c\u7ec4\u8f93\u5165\u6570\u636e\u5f97\u5230\u4e0d\u540c\u7b54\u6848\uff0c\u88ab\u8bc4\u6d4b\u673aWA\u6389\u3002\n  \n/*******\u795d\u597917\u5c81\u751f\u65e5\u5feb\u4e50*******/\n  \n  int tim = 1;\n//\u4e00\u822c\u6a21\u62df\u9000\u706b\u53ea\u8981\u6e29\u5ea6\u548c\u964d\u6e29\u7387\u5bf9\u4e00\u6b21\u5c31\u591f\u4e86\uff08\u975e\u914b\u9664\u5916\uff09\n  while(tim--)  {\n  \tans = best;\n\tx0 = bx, y0 = by;\n\tfor(ld T=1000000; T>EPS; T*=D)  {\n\t  x1 = x0+RD, y1 = y0+RD;\n\t  res = calc(x1,y1);\n\t  if(best > res)//\u66f4\u65b0\u6700\u4f18\u7b54\u6848\n\t    best = ans, bx = x1, by = y1;\n\t  if(ans>res || exp((ans-res)/T) > (ld)rand()/RAND_MAX)//exp:\u8fd4\u56dee\u7684 n\u6b21\u5e42(e^n)\n        ans = res, x0 = x1, y0 = y1;//\u63a5\u53d7\u65b0\u89e3\n\t}\n  }\n  \n  printf(\"%.3Lf %.3Lf\", bx, by);//\u6ce8\u610f\u7a7a\u683c\u54c8\n  \n  return 0;\n}\n//\u795d\u5404\u4f4dOIer\u4eec\u65b0\u5e74\u5feb\u4e50\uff01\n```",
        "postTime": 1548727906,
        "uid": 149062,
        "name": "\u5e72\u7269\u56fd\u5927\u7687\u5e1d",
        "ccfLevel": 0,
        "title": "P1337 \u5e73\u8861\u70b9/\u540a\u6253XXX  \u6a21\u62df\u9000\u706b\uff08\u8bdd\u8bf4\u540a\u6253\u7684XXX\u5230\u5e95\u662f\u8c01\uff09"
    },
    {
        "content": "/\\*\u819c...\u819c\u62df\u9000\u706b\\*/\n\n\u5173\u952e\u662fesp\u5f80\u5c0f\u91cc\u8bbe\n\nans\u521d\u503c\u5f80\u5927\u91cc\u8bbe\n\n\u5176\u4ed6\u7684\u5dee\u4e0d\u591a\u5c31\u884c\n\n\n\n\n\n\n\n\n\n\n```cpp\n#include<cstdlib>\n#include<cstring>\n#include<iostream>\n#include<cstring>\n#include<cmath>\n#include<cstdio>\nusing namespace std;\nint read()\n{\n    int x=0,f=1;char ch=getchar();\n    while(ch<'0'||ch>'9'){if(ch=='-')f=-1;ch=getchar();}\n    while(ch>='0'&&ch<='9'){x=x*10+ch-'0';ch=getchar();}\n    return x*f;\n}\nconst int MAXN=10005;\nconst int MAXM=8;\nstruct node{int x,y,w;}gty[MAXN];\nint n;\ndouble get_ans(double x_x,double x_y)\n{\n    double sum=0;\n    for(int i=1;i<=n;i++)\n    {\n        double dxx=x_x-gty[i].x;\n        double dyy=x_y-gty[i].y;\n        sum+=(sqrt(dxx*dxx+dyy*dyy))*gty[i].w;\n    }\n    return sum;\n}\ndouble xans=gty[1].x;\ndouble yans=gty[1].y;\ndouble ans=1e18+7;\ndouble t;\nconst double delta=0.993;\nconst double esp=1e-15;\nbool accept(double del)\n{\n    if(del<0)return 1;\n    double rate=exp(-del/t)*RAND_MAX;\n    if(rate>rand())return 1;\n    return 0;\n}\nvoid search()\n{\n    double xx = xans;\n    double yy = yans;\n    t=100;\n    while(t>esp)\n    {\n        double xtemp=xx+(rand()*2-RAND_MAX)*t;\n        double ytemp=yy+(rand()*2-RAND_MAX)*t;\n        double temp=get_ans(xtemp,ytemp);\n        if(accept(temp-ans))\n        {\n            xx=xtemp;\n            yy=ytemp;\n            if(ans>temp)\n            {\n                xans=xx;\n                yans=yy;\n                ans=temp;\n//                    printf(\"%.3lf %.3lf %lf\\n\",xans,yans,t);\n            } \n        }\n        t*=delta;\n    }\n}\nint main()\n{\n    n=read();\n    for(int i=1;i<=n;i++)\n    {\n        gty[i].x=read();\n        gty[i].y=read();\n        gty[i].w=read();\n    }\n    for(int i=1;i<=MAXM;i++)search();\n    printf(\"%.3lf %.3lf\",xans,yans);\n    return 0;\n}\n\n```",
        "postTime": 1510112305,
        "uid": 27179,
        "name": "\u4e09\u6c34",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI]\u5e73\u8861\u70b9\u3011"
    },
    {
        "content": "\u524d\u51e0\u5929\u5fc3\u8840\u6765\u6f6e\uff0c\u5c31~~\u8d81\u8bed\u6587\u8bfe~~\u641e\u4e86\u4e00\u5f20\u4efb\u52a1\u6e05\u5355\uff08\u6de6\uff01\u8fd8\u4e0d\u662f\u56e0\u4e3a\u6211\u627e\u4e0d\u5230$lin $ _ $toto$\u7684\u201c\u6d1b\u5495\u8d85\u7ea7\u4efb\u52a1\u6e05\u5355\u201d $ js $ \u811a\u672c\u4e86\uff09\u7136\u540e\u8111\u5b50\u4e00\u62bd\uff0c\u5c31\u628a**\u6a21\u62df\u9000\u706b**\u5de5\u5de5\u6574\u6574\u7684\u5199\u4e0a\u53bb\u4e86\uff0c\u5b66\u4e86\u597d\u4e45\u770b\u4e86\u597d\u591a\u5916\u56fd\u7684\u89c6\u9891\u624d\u61c2\uff0c\u6211\u592a\u5357\u4e86\u3002\n# \u4e00\u9053\u5c0f\u9898\u76ee\n\u5982\u56fe\uff1a\u6709$n$\u4e2a\u91cd\u7269\uff0c\u6bcf\u4e2a\u91cd\u7269\u7cfb\u5728\u4e00\u6761\u8db3\u591f\u957f\u7684\u7ef3\u5b50\u4e0a\u3002\u6bcf\u6761\u7ef3\u5b50\u81ea\u4e0a\u800c\u4e0b\u7a7f\u8fc7\u684c\u9762\u4e0a\u7684\u6d1e\uff0c\u7136\u540e\u7cfb\u5728\u4e00\u8d77\u3002\u56fe\u4e2d$X$\u5904\u5c31\u662f\u516c\u5171\u7684\u7ef3\u7ed3\u3002\u5047\u8bbe\u7ef3\u5b50\u662f\u5b8c\u5168\u5f39\u6027\u7684\uff08\u4e0d\u4f1a\u9020\u6210\u80fd\u91cf\u635f\u5931\uff09\uff0c\u684c\u5b50\u8db3\u591f\u9ad8\uff08\u56e0\u800c\u91cd\u7269\u4e0d\u4f1a\u5782\u5230\u5730\u4e0a\uff09\uff0c\u4e14\u5ffd\u7565\u6240\u6709\u7684\u6469\u64e6\u3002\n\n\u95ee\u7ef3\u7ed3X\u6700\u7ec8\u5e73\u8861\u4e8e\u4f55\u5904\u3002\n\n\u6ce8\u610f\uff1a\u684c\u9762\u4e0a\u7684\u6d1e\u90fd\u6bd4\u7ef3\u7ed3$X$\u5c0f\u5f97\u591a\uff0c\u6240\u4ee5\u5373\u4f7f\u67d0\u4e2a\u91cd\u7269\u7279\u522b\u91cd\uff0c\u7ef3\u7ed3$X$\u4e5f\u4e0d\u53ef\u80fd\u7a7f\u8fc7\u684c\u9762\u4e0a\u7684\u6d1e\u6389\u4e0b\u6765\uff0c\u6700\u591a\u662f\u5361\u5728\u67d0\u4e2a\u6d1e\u53e3\u5904\u3002\n\n![](https://cdn.luogu.com.cn/upload/pic/148.png)\n\n### \u8f93\u5165\u683c\u5f0f\n\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u4e3a\u4e00\u4e2a\u6b63\u6574\u6570$n$$\uff081\u2264n\u22641000\uff09$\uff0c\u8868\u793a\u91cd\u7269\u548c\u6d1e\u7684\u6570\u76ee\u3002\u63a5\u4e0b\u6765\u7684$n$\u884c\uff0c\u6bcf\u884c\u662f3\u4e2a\u6574\u6570\uff1a$Xi.Yi.Wi$\uff0c\u5206\u522b\u8868\u793a\u7b2ci\u4e2a\u6d1e\u7684\u5750\u6807\u4ee5\u53ca\u7b2c $i$\u4e2a\u91cd\u7269\u7684\u91cd\u91cf\u3002$(-10000\u2264x,y\u226410000, 0<w\u22641000 ) $\n\n### \u8f93\u51fa\u683c\u5f0f\n\u4f60\u7684\u7a0b\u5e8f\u5fc5\u987b\u8f93\u51fa\u4e24\u4e2a\u6d6e\u70b9\u6570\uff08\u4fdd\u7559\u5c0f\u6570\u70b9\u540e\u4e09\u4f4d\uff09\uff0c\u5206\u522b\u8868\u793a\u5904\u4e8e\u6700\u7ec8\u5e73\u8861\u72b6\u6001\u65f6\u7ef3\u7ed3X\u7684\u6a2a\u5750\u6807\u548c\u7eb5\u5750\u6807\u3002\u4e24\u4e2a\u6570\u4ee5\u4e00\u4e2a\u7a7a\u683c\u9694\u5f00\u3002\n\n# \u4ec0\u4e48 \u4e8b \u6a21\u62df\u9000\u706b\u554a\n\u4e8b\u5b9e\u8bc1\u660e\u770b\u767e\u5ea6\u767e\u79d1\u662f\u4f1a\u770b\u50bb\u7684\uff0c$OI$\u7684\u9000\u706b\u548c\u5206\u5b50\u70ed\u8fd0\u52a8\u6ca1\u591a\u5927\u5173\u7cfb\u3002  \n\n### \u5c0f\u601d\u8003\u95ee\u9898\n\u6211\u4eec\u77e5\u9053\u4e86\u5168\u56fd\u67d0\u51e0\u4e2a\u57ce\u5e02\u7684\u5750\u6807\uff0c\u6c42\u4e00\u6761\u8def\u7ebf\u4f7f\u5f97\u4ece\u5317\u4eac\u51fa\u53d1\u7ecf\u8fc7\u6240\u6709\u57ce\u5e02\u7684\u8def\u5f84\u6700\u77ed\u4e14\u6bcf\u6761\u8def\u53ea\u8d70\u4e00\u6b21  \n\n\u8fd9\u9053\u9898\u8981\u662f\u76f4\u63a5\u66b4\u641c\u7684\u8bdd\u2026\u2026  \n\u5982\u679c\u670925\u5ea7\u57ce\u5e02\uff0c\u800c\u4e14\u4f60\u7684$PC$\u5f3a\u5927\u5230\u4e00\u79d21e8\u6b21\u8fd0\u7b97\uff0c\u5b81\u5f97\u65e5\u591c\u4e0d\u505c\u7684\u7b97\u5927\u6982**\u56db\u5341\u4e5d\u4ebf\u5e74**\uff0c\u53ef\u6015\u5417  \n\u4f46\u662f\u7528\u6a21\u62df\u9000\u706b\uff0c\u53ef\u4ee5\u98de\u5feb\u5730\u7b97\u51fa\u7b54\u6848\u3002\n\n\u6a21\u62df\u9000\u706b\u662f\u7528\u6765\u6c42**\u591a\u5cf0\u51fd\u6570**\u7684**\u6781\u503c**\u7684 \uff08\u5c3d\u7ba1\u901a\u5e38\u5e76\u4e0d\u4f1a\u5c06\u591a\u5cf0\u51fd\u6570\u4f53\u73b0\u51fa\u6765\uff0c\u9700\u8981\u5b81\u81ea\u5df1\u60f3\uff09\uff0c\u8bbe\u7f6e\u5408\u9002\u7684\u53c2\u6570\u53ef\u4ee5\u5728\u5f88\u5feb\u7684\u901f\u5ea6\u91cc\u6c42\u5f97**\u8fd1\u4f3c**\u7684\u6700\u4f18\u89e3\uff0c\u6240\u4ee5\u8bf4\u8fd9\u4e2a\u7b97\u6cd5\u4e0d\u4e00\u5b9a\u5f97\u6ee1\u5206\uff0c\u4f46\u662f\u53ef\u4ee5\u5f88\u5bb9\u6613\u7684\u5f97\u4e00\u4e2a\u9ad8\u5206\u3002\n\n\u5728\u6b64\u4ee5\u505a\u4e0a\u8fb9\u9898\u7684\u4eb2\u8eab\u7ecf\u5386\u8bf4\u660e\u4e00\u4e0b  \n![](https://cdn.luogu.com.cn/upload/image_hosting/qp09a63g.png)\n(![](https://cdn.luogu.com.cn/upload/image_hosting/6lxg6xu3.png)\n\n### \u5148\u8bf4\u51e0\u4e2a\u6982\u5ff5\n$T$ : \u521d\u59cb\u6e29\u5ea6\uff0c\u662f\u4e00\u4e2a\u81ea\u5df1\u770b\u5fc3\u60c5\u548c\u9898\u76ee\u8bbe\u5b9a\u7684\u91cf\uff0c\u8fd9\u4e2a\u6570\u8d8a\u5927\uff0c\u6b63\u89e3\u6982\u7387\u8d8a\u9ad8\uff0c\u4f46\u662f\u8017\u65f6\u8d8a\u957f\u3002  \n\n$down$ : \u964d\u6e29\u7cfb\u6570\uff0c\u8bbe\u7f6e\u8fd9\u4e2a\u7cfb\u6570\u7684\u76ee\u7684\u662f\u8ba9$T$\u80fd\u4ee5\u4e00\u4e2a\u5408\u9002\u7684\u901f\u5ea6\u51cf\u5c0f\uff0c\u4f7f\u5f97\u5f53$T$\u5728\u5230\u8fbe\u8fb9\u754c\u65f6\u6211\u4eec\u5df2\u7ecf\u5c1d\u8bd5\u4e86\u8db3\u591f\u591a\u7ec4\u89e3\u6765\u4f7f\u6700\u7ec8\u89e3\u63a5\u8fd1\u6700\u4f18\u89e3\u3002\u6307\u6570\u51fd\u6570\u7684\u589e\u957f\u901f\u5ea6\u662f\u6781\u5176\u8fc5\u901f\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7ed9$down$\u9644\u4e00\u4e2a\u5f88\u5c0f\u7684\u503c\uff0c\u901a\u5e38\u5728$0.98 - 0.995$\n\u4e4b\u95f4\u914c\u60c5\u778e\u641e\uff0c\u8d8a\u5927\u7ea6\u4e0d\u51c6\u786e\uff0c\u4f46\u8d8a\u5feb\u3002\n\n$exp( n )$ \uff1ac++\u4e00\u4e2a\u51fd\u6570\uff0c\u8ba1\u7b97$e ^ n$,\u5176\u4e2d$e$\u4e3a\u81ea\u7136\u5bf9\u6570\u3002  \n\n$de$ : \u8fd9\u6b21\u5f97\u5230\u7684\u89e3\u548c\u4e4b\u524d\u6c42\u5230\u7684\u6700\u4f18\u89e3\u7684\u5dee\u503c\uff0c\u6709\u70b9\u7c7b\u4f3c\u4e8e\u5316\u5b66\u91cc\u7684**\u71b5\u53d8**\uff0c\u7528\u6765\u8bc4\u4ef7\u8fd9\u6b21\u7684\u89e3\u662f\u5426\u66f4\u4f18\u3002  \n\n$RAND$_ $MAX$ ~~\uff08\u8fd9\u4e2a\u4e3a\u4ec0\u4e48\u8fd9\u4e48\u5927\uff09~~:c++\u80fd\u751f\u6210\u7684\u6700\u5927\u7684\u968f\u673a\u6570\uff0c\u537332767\u3002  \n\n$rand()$ \uff1ac++\u51fd\u6570\uff0c\u751f\u6210\u968f\u673a\u6570\u3002\n\n### \u600e\u4e48\u9000\u706b\u5462\uff1f  \n\u4e3e\u4e2a\u70c2\u5927\u8857\u7684\u6817\u5b50\uff1a\n\n\u8d2a\u5fc3\u7b97\u6cd5\uff1a\u5154\u5b50\u671d\u7740\u6bd4\u73b0\u5728\u9ad8\u7684\u5730\u65b9\u8df3\u53bb\u3002\u5b83\u627e\u5230\u4e86\u4e0d\u8fdc\u5904\u7684\u6700\u9ad8\u5c71\u5cf0\u3002\u4f46\u662f\u8fd9\u5ea7\u5c71\u4e0d\u4e00\u5b9a\u662f\u73e0\u7a46\u6717\u739b\u5cf0\u3002\u8fd9\u5c31\u662f\u8d2a\u5fc3\uff0c\u5b83\u4e0d\u80fd\u4fdd\u8bc1\u5c40\u90e8\u6700\u4f18\u503c\u5c31\u662f\u5168\u5c40\u6700\u4f18\u503c\u3002   \n\n\u6a21\u62df\u9000\u706b\uff1a\u5154\u5b50\u559d\u9189\u4e86\u3002\u5b83\u968f\u673a\u5730\u8df3\u4e86\u5f88\u957f\u65f6\u95f4\u3002\u8fd9\u671f\u95f4\uff0c\u5b83\u53ef\u80fd\u8d70\u5411\u9ad8\u5904\uff0c\u4e5f\u53ef\u80fd\u8e0f\u5165\u5e73\u5730\u3002\u4f46\u662f\uff0c\u5b83\u6e10\u6e10\u6e05\u9192\u4e86\u5e76\u671d\u6700\u9ad8\u65b9\u5411\u8df3\u53bb\u3002\u8fd9\u5c31\u662f\u6a21\u62df\u9000\u706b\u3002\n\n\u4e00\u5f20\u56fe\u9a97\uff1a\n![](https://images2018.cnblogs.com/blog/1200714/201803/1200714-20180331070457230-679205132.gif)\n\u53ef\u4ee5\u770b\u5230\u5b83\u662f\u9010\u6e10\u8d8b\u8fd1\u4e8e\u6700\u4f18\u89e3\u7684\n\n\u672c\u9898\u4e3a\u4f8b\u7684\u4f2a\u4ee3\u7801:\n```cpp\nint T = 233;\nint tempx, tempy, tempans, de;\n//\u4e0b\u9762\u7684x, y, ans\u4e3a\u4e34\u65f6\u6700\u4f18\u89e3\nwhile( T > 1e-15 ){  //T\u5341\u5206\u63a5\u8fd1\u96f6\n\ttempx = x + (rand() * 2 - RAND_MAX) * T;\n\ttempy = y + (rand() * 2 - RAND_MAX) * T;\n\t//\u4ee5\u672c\u9898\u4e3a\u4f8b\uff0crand() * 2 - RAND_MAX\u662f\u4e00\u4e2a\u5c0f\u5957\u8def\uff0c\u8fd9\u6837\u53ef\u4ee5\u751f\u6210\u4ece -32767 \u5230 32767 \u7684\u968f\u673a\u6570\uff0c\u4ee5\u8ba9\u5750\u6807\u70b9\u8f6c\u79fb\u5230\u4e00\u4e2a\u968f\u673a\u4f4d\u7f6e\uff0c\u968f\u7740\u4e0d\u65ad\u964d\u6e29\uff0cT\u4f1a\u8d8a\u6765\u8d8a\u5c0f\uff0c\u6240\u4ee5\u5750\u6807\u70b9\u8f6c\u79fb\u7684\u8303\u56f4\u4e5f\u4f1a\u8d8a\u6765\u8d8a\u5c0f\uff0c\u9010\u6e10\u903c\u8fd1\u6700\u4f18\u70b9\n\ttempans = solve( tempx, tempy )\n\t//solve\u662f\u4f60\u7528\u6765\u6c42\u8ddd\u79bb\u7684\u51fd\u6570\n\tde = tempans - ans;\n\tif( de < 0 ){//\u662f\u5927\u4e8e\u8fd8\u662f\u5c0f\u4e8e\u5177\u4f53\u95ee\u9898\u5224\u65ad   \n\t\tx = tempx;\n\t\ty = tempy;\n\t\tw = tempw;\n\t} else if( exp( -de / T ) * RAND_MAX > rand() ){//\u4ee5\u4e00\u4e2a\u6982\u7387\u9009\u62e9\u662f\u5426\u63a5\u53d7\uff0c\u4f46\u662f\u5c31\u7b97\u662f\u63a5\u53d7\uff0c\u6211\u4eec\u4e5f\u4e0d\u4f1a\u7528\u5b83\u6765\u66f4\u65b0\u6700\u4f18\u89e3\uff0c\u56e0\u4e3a\u6211\u4eec\u5f53\u524d\u7684\u6700\u4f18\u89e3\u6bd4\u5b83\u4f18\u79c0\u3002de\u7684\u6b63\u8d1f\u6027\u5177\u4f53\u9898\u76ee\u5177\u4f53\u5206\u6790\uff0c\u4e5f\u53ef\u4ee5\u4e24\u4e2a\u90fd\u8bd5\u4e00\u4e0b\uff0c\u770b\u54ea\u4e2a\u8f93\u51fa\u6b63\u786e\u6837\u4f8b\t\n\t\tx = tempx;\n\t\ty = tempy;\t\n\t}\n\tT *= down;//\u964d\u6e29\n}\n```\n\n\n\n# \u9898\u76ee\u5206\u6790\n\u6211\u6700\u5f00\u59cb\u60f3\u7684\u662f\u53d7\u529b\u5206\u6790\u7136\u540e\u641e\u4e2a\u5408\u529b\uff0c\u6700\u540e\u7269\u4f53\u5728\u5408\u529b\u65b9\u5411\u4e0a\u79fb\u52a8\uff0c\u4f46\u662f\u4e00\u60f3\uff0c\u5408\u529b\u65b9\u5411\u4f3c\u4e4e\u4f1a\u53d8\uff0c\u7136\u540e\u5c31\u6ca1\u60f3\u6cd5\u4e86\uff08\u4ffa\u592a\u5f31\u4e86$QWQ$  \n\u770b\u8ba8\u8bba\u533a\u6709\u4eba\u8bf4\u7528\u8d28\u5fc3\u516c\u5f0f\u641e\uff1f\uff1f\uff1f\u6211\u4e0d\u592a\u61c2\uff0c\u6ca1\u641e\u3002  \n\u6700\u540e\u7528\u6a21\u62df\u9000\u706b\u778e\u641e\u51fa\u6765\u7684\uff0c\u770b\u9898\u89e3\u8fd8\u6709\u5927\u4f6c\u7528\u51f8\u5305\u4ec0\u4e48\u7684\u641e\u51fa\u6765\u4e86\uff0c\u53cd\u6b63\u6211\u4e0d\u4f1a\u3002\n\n\u7136\u540e\u5c31\u6a21\u62df\u9000\u706b\u641e\u5457\uff0c\u8003\u8651\u5230\u91cd\u529b\u52bf\u80fd\u662f\u8d8b\u8fd1\u4e8e\u7cfb\u7edf\u91cd\u529b\u52bf\u80fd\u6700\u5c0f\u7684\uff0c\u6240\u4ee5\u5f53\u7ef3\u5b50\u7684\u7ed3\u70b9\u9759\u6b62\u65f6\uff0c\u91cd\u529b\u52bf\u80fd\u4e4b\u548c\u6700\u5c0f\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u6c42\u51fa\u5728\u6bcf\u4e2a\u70b9\u65f6\u7684\u91cd\u529b\u52bf\u80fd\u5927\u5c0f\uff0c\u4ee5\u6b64\u6765\u6bd4\u8f83\u5f53\u524d\u89e3\u548c\u6700\u4f18\u89e3\u3002\n\nAC\u4ee3\u7801\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define rint register int\n#define down //\u8bf7\u81ea\u5df1\u5c1d\u8bd5\n\nint de;\nint n;\ndouble ansx, ansy, answ;\nstruct node{\n\tint x, y, w;\n}a[1050];\n\ninline int read( void ){\n\tint re = 0, f = 1;\n\tchar ch = getchar();\n\twhile( ch > '9' || ch < '0' ){\n\t\tif( ch == '-' ) f = -1;\n\t\tch = getchar();\n\t}\n\twhile( ch >= '0' && ch <= '9' ){\n\t\tre = re * 10 + ch - '0';\n\t\tch = getchar();\n\t}\n\treturn re * f;\n}\ninline double init( double x, double y ){\n\tdouble re = 0.0, d1, d2;\n\tfor( rint i = 1; i <= n; i++ ){\n\t\td1 = x - a[i].x, d2 = y - a[i].y;\n\t\tre += sqrt( d1 * d1 + d2 * d2 ) * a[i].w;\n\t}\n\treturn re;\n}\ninline void SA(){\n\tdouble T = //\u8bf7\u81ea\u5df1\u5c1d\u8bd5\n\tdouble de, tw, tx, ty;\n\twhile( T > 1e-15 ){\n\t\t//cout << T << endl;\n\t\ttx = ansx + ( rand() * 2 - RAND_MAX ) * T;\n\t\tty = ansy + ( rand() * 2 - RAND_MAX ) * T;\n\t\ttw = init( tx, ty );\n\t\tde = tw - answ;\n\t\tif( de < 0 ){\n\t\t\tansx = tx;\n\t\t\tansy = ty;\n\t\t\tansw = tw;\n\t\t} else if( exp( -de / T ) * RAND_MAX > rand() ){\t\n\t\t\tansx = tx;\n\t\t\tansy = ty;\t\n\t\t}\n\t\tT *= down;\n\t}\n}\nint main( void ){\n\tn = read();\n\tfor( rint i = 1; i <= n; i++ ){\n\t\ta[i].x = read(); a[i].y = read(); a[i].w = read();\n\t\tansx += a[i].x, ansy += a[i].y;\n\t}\n\tansx /= n, ansy /= n;\n\tansw = init( ansx, ansy );\n\t//cout << ansx << ' ' << ansy;\n\tSA();\n\tSA();\n\tSA();\n\tSA();\n\tSA();\n\tprintf( \"%.3lf %.3lf\", ansx, ansy );\n\treturn 0;\n}\n```",
        "postTime": 1571472409,
        "uid": 149105,
        "name": "Indigo_Boy",
        "ccfLevel": 3,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u6a21\u62df\u9000\u706b\u6700\u91cd\u8981\u7684\u5c31\u662f\u5224\u65ad\u90a3\u79cd\u60c5\u51b5\u662f\u6700\u4f18\u7684\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u627e\u5230\u4e00\u4e2a\u6807\u51c6\u6765\u5224\u65ad\u5f53\u524d\u60c5\u51b5\u7684\u6700\u4f18\u7387\u4e3a\u591a\u5c11\u3002\n\n\u6b64\u9898\u7684\u6700\u4f18\u60c5\u51b5\u662f\uff0c\\sum\u6240\u9009\u70b9\u5230\u91cd\u7269\u70b9\u7684\u8ddd\u79bb*\u91cd\u7269\u7684\u91cd\u91cf\uff0c\u6700\u5c0f\u5373\u6700\u4f18\u3002\u5c31\u662f\u4ee3\u7801\u4e2d\u7684energy\u51fd\u6570\u3002\n\n```\n#include <bits/stdc++.h>\n#define down 0.996 // \u5f90\u5f90\u964d\u6e29\n \nusing namespace std;\n \nstruct node {\n    int x,y,w;\n}object[2005];// \u5b58\u7269\u4f53\u7684\u5750\u6807\u548c\u91cd\u91cf\nint n;\ndouble ansx,ansy,answ; // \u6700\u7ec8\u7b54\u6848\n \ndouble energy( double x, double y )//\u6839\u636e\u9898\u610f\u53d8\u5316, \u80fd\u91cf\u603b\u548c\u8d8a\u5c0f\u8d8a\u7a33\u5b9a( \u5373\u8d8a\u63a5\u8fd1\u6b63\u786e\u7b54\u6848 )\n{\n    double r=0,dx,dy;\n    for ( int i=1; i<=n; i++ ) {\n        dx = x-object[i].x;\n        dy = y-object[i].y;\n        r += sqrt(dx*dx+dy*dy)*object[i].w;\n    }\n    return r;\n}\n \nvoid sa()\n{\n    double t = 3000; // \u6e29\u5ea6\u8db3\u591f\u9ad8\n    while ( t>1e-15 ) {\n        double ex = ansx + (rand()*2-RAND_MAX)*t; // \u968f\u673a\u4ea7\u751f\u65b0\u7b54\u6848.\n        double ey = ansy + (rand()*2-RAND_MAX)*t;\n        double ew = energy(ex,ey);\n        double de = ew - answ;\n        if ( de<0 ) { // \u65b0\u7b54\u6848\u80fd\u91cf\u4f4e\uff0c\u66f4\u7a33\u5b9a\n            ansx = ex;\n            ansy = ey;\n            answ = ew;\n        }\n        else if ( exp(-de/t)*RAND_MAX>rand() ) { // \u5426\u5219\u6839\u636e\u591a\u9879\u5f0f\u6982\u7387\u63a5\u53d7\n            ansx = ex;\n            ansy = ey;\n        }\n        t *= down;\n    }\n}\n \nvoid solve() // \u591a\u8dd1\u51e0\u904d\u9000\u706b\uff0c\u589e\u52a0\u5f97\u5230\u6700\u4f18\u89e3\u7684\u6982\u7387\n{\n    sa();sa();sa();sa();\n}\n \nint main()\n{\n    cin >> n;\n    for ( int i=1; i<=n; i++ ) {\n        scanf(\"%d %d %d\",&object[i].x,&object[i].y,&object[i].w);\n        ansx += object[i].x;\n        ansy += object[i].y;\n    }\n    ansx/=n; ansy/=n; // \u4ee5\u5e73\u5747\u503c\u4f5c\u4e3a\u521d\u59cb\u7b54\u6848\n    answ = energy(ansx,ansy);\n    solve();\n    printf(\"%.3f %.3f\\n\",ansx,ansy);\n \n    return 0;\n}\n```\n\n\n\n",
        "postTime": 1585103988,
        "uid": 305345,
        "name": "\u7267\u7267\u5927\u9b54\u738b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u4f5c\u4e3a\u6a21\u62df\u9000\u706b\u7684\u677f\u5b50\uff0c\u7f18\u4e8e\u8bc4\u4ef7\u51fd\u6570\u662f\u4e00\u4e2a\u5355\u5cf0\u51fd\u6570\uff0c\u6545\u6a21\u62df\u9000\u706bAC\u7387\u8f83\u9ad8\u3002\u800c\u5728\u76f8\u540c\u65f6\u95f4\u5185\uff0c\u7c92\u5b50\u7fa4\u7b97\u6cd5\u7684\u6b63\u786e\u7387\u662f\u9ad8\u4e8e\u6a21\u62df\u9000\u706b\u7684\u3002\n\n\u4f46\u662f\u7c92\u5b50\u7fa4\u7b97\u6cd5\u6709\u4e00\u4e2a\u7f3a\u70b9\uff0c\u5728\u540e\u671f\u5982\u679c\u9677\u5165\u4e86\u5c40\u90e8\u6700\u4f18\uff0c\u5c31\u4e0d\u5bb9\u6613\u8c03\u6574\u3002\n\n\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u5c06\u7c92\u5b50\u7fa4\u7b97\u6cd5\u548c\u6a21\u62df\u9000\u706b\u7ed3\u5408\uff01\u8fd9\u6837\u7c92\u5b50\u6709\u4e00\u5b9a\u6982\u7387\u8df3\u51fa\u5f53\u524d\u89e3\uff0c\u4ece\u800c\u83b7\u5f97\u66f4\u4f18\u79c0\u7684\u5168\u5c40\u641c\u7d22\u6027\u3002\n\n\u6ce8\uff1a\u56e0\u4e3a\u8fd9\u4e2a\u7b97\u6cd5\u8dd1\u5f97\u8fd8\u662f\u6bd4\u8f83\u5feb\u7684\uff0c\u53ef\u4ee5\u591a\u8dd1\u51e0\u904dpso\u589e\u52a0\u6b63\u786e\u7387\u3002\n\nupdate 2019/7/23 20:51\uff1a**\u7c92\u5b50\u521d\u59cb\u4f4d\u7f6e\u968f\u673a\u5206\u5e03\u786e\u5b9e\u4f1a\u589e\u52a0AC\u7387**\uff0c\u66f4\u65b0\u4e86\u4ee3\u7801\u3002\n\ncode\uff1a\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define reg register\n#define PSO_NUM 20\nstatic int n,xx[1001],yy[1001],W[1001];\ndouble T,w,bstans,gbx,gby,X1,Y1,r1,r2,f1,f2,dc;\nstruct obj{\n    double x,y,vx,vy,pbx,pby,bstans;\n}obs[PSO_NUM|1];\ninline double F(double x,double y){\n    double ans=0,dx,dy;\n    for(reg int i=1;i<=n;++i)\n        dx=x-xx[i],dy=y-yy[i],ans+=W[i]*sqrt(dx*dx+dy*dy);\n    return ans;\n}\ninline void pso(){\n    obs[1].x=gbx,obs[1].y=gby,obs[1].bstans=bstans;\n    for(reg int i=2;i<=PSO_NUM;++i)\n        obs[i].x=gbx+double((rand()<<1)-RAND_MAX)/RAND_MAX*10000,\n        obs[i].y=gby+double((rand()<<1)-RAND_MAX)/RAND_MAX*10000,\n        obs[i].bstans=F(obs[i].x,obs[i].y);\n    for(T=1000,w=0.7;T>1e-6;T*=0.92,w=max(0.0,w-0.005))\n        for(reg obj *i=obs+1,*j=obs+PSO_NUM+1;i!=j;++i)\n            r1=(double)rand()/RAND_MAX,r2=(double)rand()/RAND_MAX,\n            i->vx=w*i->vx+2*r1*(i->pbx-i->x)+2*r2*(gbx-i->x),\n            r1=(double)rand()/RAND_MAX,r2=(double)rand()/RAND_MAX,\n            i->vy=w*i->vy+2*r1*(i->pby-i->y)+2*r2*(gby-i->y),\n            i->x+=i->vx,i->y+=i->vy,\n            f1=F(i->x,i->y),\n            f1<i->bstans&&(i->bstans=f1,i->pbx=i->x,i->pby=i->y),\n            f1<bstans&&(bstans=f1,gbx=i->x,gby=i->y),\n            X1=i->x+double((rand()<<1)-RAND_MAX)/RAND_MAX*T,\n            Y1=i->y+double((rand()<<1)-RAND_MAX)/RAND_MAX*T,\n            f2=F(X1,Y1),\n            dc=f2-f1,\n            dc<0?i->x=X1,i->y=Y1:(\n            r1=(double)rand()/RAND_MAX,\n            r1<min(1.0,exp(-dc/T))&&(i->x=X1,i->y=Y1)\n            ),\n            f2<i->bstans&&(i->bstans=f2,i->pbx=X1,i->pby=Y1),\n            f2<bstans&&(bstans=f2,gbx=X1,gby=Y1)\n            ;\n}\nint main(){\n    srand(time(0));\n    srand(rand()^rand());\n    scanf(\"%d\",&n);\n    for(reg int i=1;i<=n;++i)\n        scanf(\"%d%d%d\",xx+i,yy+i,W+i),gbx+=xx[i],gby+=yy[i];\n    gbx/=n,gby/=n;\n    bstans=F(gbx,gby);\n    pso(),pso(),pso();\n    printf(\"%.3lf %.3lf\",gbx,gby);\n    return 0;\n}\n```",
        "postTime": 1563795445,
        "uid": 75765,
        "name": "Starlight237",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "# \u51e0\u4f55\u4e8c\u5206\u89e3\u6cd5\n\u770b\u9898\u89e3\u533a\u57fa\u672c\u5168\u662f\u5199\u6a21\u62df\u9000\u706b\u7684\u5927\u4f6c\n\n\u4ecd\u662f\u7eff\u540d\u7684\u6211\u8868\u793a\u5b8c\u5168\u4e0d\u61c2\n\n\u4e8e\u662f\u6211\u5c31\u5c1d\u8bd5\u5199\u4e86\u4e0b\u51e0\u4f55\u4e8c\u5206\n\n### \u5177\u4f53\u601d\u60f3\n\n\u9996\u5148\u5b9a\u4e49\u4e00\u4e2a\u77e9\u5f62\uff0c\u8868\u793a\u7ed3\u70b9\u5e73\u8861\u4f4d\u7f6e\u6240\u5904\u7684\u8303\u56f4\n\n\u6bcf\u6b21\u90fd\u5047\u8bbe\u8be5\u77e9\u5f62\u4e2d\u5fc3\u70b9\u4e3a\u7ef3\u7ed3\n\n\u901a\u8fc7\u6b63\u4ea4\u5206\u89e3\uff08\u5982\u679c\u4e0d\u77e5\u9053\u7684\u8bdd\u53ef\u4ee5\u767e\u5ea6\u4e00\u4e0b\uff0c\u8fd9\u91cc\u4e0d\u8fc7\u591a\u8d58\u8ff0\uff09\u6c42\u51fa\u6b64\u65f6\u5408\u529b\u7684\u65b9\u5411\n\n\u6211~~\u7531\u4e8e\u4e0d\u4f1a\u4f20\u9001\u56fe\u7247\u5192\u7740\u88ab\u9a82\u7684\u98ce\u9669\u9009\u62e9\u4e86~~\u7528\u5982\u4e0b\u65b9\u5f0f\u8868\u8fbe\u4e00\u4e0b\u63a5\u4e0b\u6765\u5982\u4f55\u4e8c\u5206\n\n| \\ |  |  |  | 1 |  |  |  | / |\n| :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: | :----------: |\n|  | \\ |  |  |  |  |  | / |  |\n|  |  | \\ |  |  |  | / |  |  |\n|  |  |  | \\ |  | / |  |  |  |\n| 4 |  |  |  | \u7ed3\u70b9 |  |  |  | 2 |\n|  |  |  | / |  | \\ |  |  |  |\n|  |  | / |  |  |  | \\ |  |  |\n|  | / |  |  |  |  |  | \\ |  |\n| / |  |  |  | 3 |  |  |  | \\ |\n\n\uff08\u6240\u6709\u659c\u7ebf\u5747\u4e3a45\u00b0\uff09\n\n\u5982\u679c\u5408\u529b\u65b9\u5411\u57281\u53f7\u533a\u57df\uff0c\u5219\u5c06\u8303\u56f4\u7f29\u5c0f\u5230\u4e0a\u534a\u4e2a\u77e9\u5f62\n\n\u540c\u7406\u57282\u53f7\u533a\u57df\u5219\u7f29\u5c0f\u5230\u53f3\u534a\u4e2a\u77e9\u5f62\n\n3\u53f7->\u4e0b\u534a\u4e2a\u77e9\u5f62\n\n4\u53f7->\u5de6\u534a\u4e2a\u77e9\u5f62\n      \n\u91cd\u590d\u4e0a\u8ff0\u8fc7\u7a0b\n\n\u6700\u540e\u8f93\u51fa\u6700\u540e\u4e00\u4e2a\u77e9\u5f62\u7684\u4e2d\u5fc3\u70b9\uff08\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u4e0d\u968f\u4fbf\u9009\u4e00\u4e2a\u9876\u70b9\u2026\u2026\u4f60\u53ef\u4ee5\u60f3\u8c61\u4e00\u4e0b\u6700\u540e\u5269\u4e00\u4e2a~~\u7ebf\u6bb5~~\u5bbd\u5ea6\u51e0\u4e4e\u4e3a0\u7684\u77e9\u5f62\u7684\u60c5\u51b5\uff09\n\n\u4ee3\u7801\u5982\u4e0b\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n,x[1010],y[1010],w[1010];\ndouble zx[2]={-10000,-10000},         ys[2]={10000,10000};\n// \u77e9\u5f62\u5de6\u4e0b\u70b9\u5750\u6807([0]\u4e3a x,[1]\u4e3a y)     \u53f3\u4e0a\u70b9 \nint judge(double midx,double midy)\n{\n\tdouble shuiping=0,shuzhi=0;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tdouble xiebian=sqrt((midx-x[i])*(midx-x[i])+(midy-y[i])*(midy-y[i])),\n\t\t\tshuipingbian=x[i]-midx,shuzhibian=y[i]-midy;\n\t\tif(xiebian!=0)//\u659c\u8fb9\u4e3a\u96f6\u8bf4\u660e\u8fd9\u4e2a\u70b9\u548c\u8fd9\u4e2a\u6d1e\u53e3\u4f4d\u7f6e\u76f8\u540c\uff0c\u8be5\u529b\u53ef\u4ee5\u8df3\u8fc7 \uff0c \n\t\t{\n\t\t\tshuiping+=w[i]/xiebian*shuipingbian;\n\t\t\tshuzhi+=w[i]/xiebian*shuzhibian;\t\n\t\t}\n\t}//\u5bf9\u6240\u6709\u529b\u6b63\u4ea4\u5206\u89e3 \n\tif(shuzhi>0&&shuzhi>abs(shuiping))//\u5408\u529b\u65b9\u5411\u504f\u4e0a \n\t\treturn 1;\n\tif(abs(shuzhi)<=shuiping&&shuiping>0)//\u504f\u53f3 \n\t\treturn 2;\n\tif(shuzhi<=0&&-shuzhi>abs(shuiping))//\u504f\u4e0b \n\t\treturn 3;\n\tif(abs(shuzhi)<=-shuiping&&shuiping<=0)//\u504f\u5de6\n\t\treturn 4;\n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t\tcin>>x[i]>>y[i]>>w[i];\n\tfor(int i=1;i<=200;i++)//  20000/2^200\u6211\u5c31\u4e0d\u4fe1\u4e86\u7cbe\u5ea6\u4e0d\u591f\n\t{\n\t\tdouble mid[2]={(zx[0]+ys[0])/2,(zx[1]+ys[1])/2};//\u77e9\u5f62\u4e2d\u5fc3\u5750\u6807 \n\t\tswitch(judge(mid[0],mid[1]))//\u82e5\u7ef3\u7ed3\u5728\u8be5\u70b9\u4e0a\uff0c\u5224\u65ad\u5408\u529b\u65b9\u5411 \n\t\t{\t\t\t\t//\t\t\t\t\t   ___\n\t\t\tcase 1:zx[1]=(zx[1]+ys[1])/2;//   |_|_|\n\t\t\t\t   break;\t      \t\t //   |___|\n\t\t\t\t   \t         \t\t\t//\t   ___\n\t\t\tcase 2:zx[0]=(zx[0]+ys[0])/2;//   | |_|\t\t\u4e24\u4e2a\u5c0f\u6b63\u65b9\u5f62\u4e3a\u7f29\u5c0f\u540e\u7684\u533a\u57df(\u5176\u5b9e\u662f\u957f\u65b9\u5f62\uff0c\u8fd1\u4f3c\u7406\u89e3\u4e0b) \n\t\t\t\t   break;\t \t\t\t//\t  |_|_|\n\t\t\t\t\t\t     \t\t\t //    ___\n\t\t\tcase 3:ys[1]=(zx[1]+ys[1])/2;//\t  |___|\n\t\t\t\t   break;\t             //   |_|_|\n\t\t\t\t   \t\t     \t\t\t //    ___\n\t\t\tcase 4:ys[0]=(zx[0]+ys[0])/2;//   |_| |\n\t\t\t\t   break;\t             //   |_|_| \u5206\u522b\u5411\u5bf9\u5e94\u65b9\u5411\u4e8c\u5206\u7f29\u5c0f\u77e9\u5f62\u8fb9\u957f\n\t\t}\n\t}\n\tprintf(\"%.3f %.3f\",(zx[0]+ys[0])/2,(zx[1]+ys[1])/2);//\u8f93\u51fa\u6700\u540e\u77e9\u5f62\u7684\u4e2d\u5fc3\u70b9 \n\treturn 0;\n}\n```\n",
        "postTime": 1563195192,
        "uid": 186349,
        "name": "\u91d1\u94f6\u5c9b",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u770b\u5404\u4f4d\u5927\u4f6c\u5728\u529b\u53d8\u5411\u6216\u529b\u5927\u5c0f\u8fc7\u5c0f\u65f6\u51cf\u5c0f\u6b65\u4f10\uff0c\u6709\u70b9\u9ebb\u70e6\uff0c\u672c\u849f\u84bb\u6765\u4e00\u4e2a**\u6b65\u4f10\u56fa\u5b9a\u51cf\u5c0f**\u7684\u65b9\u6cd5\uff1a\n\n\u5bf9\u529b\u8fdb\u884c\u6b63\u4ea4\u5206\u89e3\uff0c\u5982\u679c\u529b\u4e0d\u4e3a**0**\uff0c\u76f4\u63a5\u628a\u4f4d\u79fb\u957f\u5ea6\u8bbe\u4e3a`0`~`\u6b65\u4f10`\u95f4\u7684**\u968f\u673a\u6570**\uff0c\u65e0\u9700\u8003\u8651\u539f\u672c\u529b\u7684\u5927\u5c0f\u3002\n\n\u5f53\u7136\uff0c\u8fd9\u4e2a\u65b9\u6cd5\u7684\u8c03\u53c2\u6709\u70b9\u7384\u5b66\u2026\u2026\n\n\n\n\u518d\u6ce8\u610f\u4e00\u4e0b\u5e38\u6570\u4e0e\u6d6e\u70b9\u7cbe\u5ea6\uff0c\u5c31[AC](https://www.luogu.org/record/show?rid=10414990)\u5566\uff01(\u6700\u6162\u70b9328ms)\n\n**\u4ee5\u4e0b\u662f\u4ee3\u7801**(\u5199\u5f97~~\u5f88~~\u6709\u70b9\u5947\u602a)\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define F(i) for(int i=0;i<n;i++)\nconst double eps=1e-10;\ninline int cmp(double x,double y=0){\n\tif(fabs(x-y)<eps)return 0;\n\treturn x>y?1:-1;\n}\ninline double sqr(double x){\n\treturn x*x;\n}\ninline double dis(double x,double y){\n\treturn sqrt(sqr(x)+sqr(y));\n}\ndouble x[1010],y[1010],w[1010];\nint main(){\n\tint n;\n\tcin>>n;\n\tF(i)cin>>x[i]>>y[i]>>w[i];\n\tdouble sum=0.0;\n\tdouble sx=0,sy=0;\n\tF(i)sum+=w[i];\n\tF(i)sx+=x[i]*w[i];\n\tdouble avgx=sx/sum;//\u5e73\u5747X\u5750\u6807\n\tF(i)sy+=y[i]*w[i];\n\tdouble avgy=sy/sum;//\u5e73\u5747Y\u5750\u6807\n\tF(i)w[i]/=sum;//\u8d28\u91cf\u5f52\u4e00\u5316\n\tdouble nx=avgx,ny=avgy;//\u5750\u6807\n\tdouble t=20.0;//\u6b65\u4f10\u5927\u5c0f\n\t//int dog=0;(\u5faa\u73af\u8ba1\u6570\u5668\uff0c\u63a7\u5236\u5e38\u6570)\n\twhile(t>1e-8){\n\t\t//dog++;\n\t\tdouble fx=0,fy=0;//\u666e\u901a\u7684\u529b\n\t\tdouble mf=0;//\u5f80\u6d1e\u91cc\u62c9\u7684\u529b\n\t\tF(i){\n\t\t\tdouble dx=x[i]-nx,dy=y[i]-ny;\n\t\t\tif(cmp(dis(dx,dy))==0)\n\t\t\t\tmf+=w[i];//\u5f80\u6d1e\u91cc\u62c9\n\t\t\telse{\n\t\t\t\tdouble d1=1.0/dis(dx,dy)*w[i];//\u51cf\u5c11\u8ba1\u7b97\u91cf\n\t\t\t\tfx+=dx*d1;\n\t\t\t\tfy+=dy*d1;\n\t\t\t}\n\t\t}\n\t\tdouble sf=dis(fx,fy);\n\t\t//printf(\"mf=%.3lf fx=%.3lf fy=%.3lf\\n\",mf,fx,fy);\n\t\tif(cmp(mf,sf)>=0){\n        \t//   \u6d1e\u91cc\u7684\u529b\u5927\u4e8e\u7b49\u4e8e\u5411\u5916\u62c9\u7684\u529b:\u5361\u6d1e\u91cc\n            //or \u6b64\u523b\u53d7\u529b\u4e3a0:\u5c31\u662f\u8fd9\u91cc\n\t\t\tt=0;\n\t\t\tbreak;\n\t\t}\n\t\tdouble b=t*t*((double)rand()/RAND_MAX)/sf;\n\t\tfx*=b;\n\t\tfy*=b;\n\t\tnx+=fx;\n\t\tny+=fy;\n\t\tt*=0.9995;//\u6bcf\u6b21\u6b65\u4f10\u90fd\u4e580.9995\n\t}        \n\t//cout<<dog<<endl;\n\tprintf(\"%.3lf %.3lf\",nx,ny);\n}\n```",
        "postTime": 1535886065,
        "uid": 25512,
        "name": "Little_Ming",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u6253\u4e00\u4e2a\u5c06\u5c31\u53ef\u4ee5\u51fa\u6837\u4f8b\u7684\u7a0b\u5e8f\u5c31\u4ea4\u4e00\u4e0b\u8bd5\u4e00\u8bd5\u5427\u3002\u7ed3\u679c\u8fc7\u4e86\u3002\n\n## Solution\n\n+ ~~\u8eab\u4e3a\u7ade\u8d5b\u73ed\u849f\u84bb\uff0c\u65c1\u8fb9\u6709\u90a3\u4e48\u591a\u7269\u7ade\u5de8\u4f6c\uff0c\u968f\u65f6\u968f\u5730\u90fd\u53d7\u7740\u718f\u9676~~\n\n+ \u56de\u5f52\u6b63\u9898\uff0c\u6b64\u9898\u65e0\u8bba\u600e\u6837\u90fd\u6709\u4e00\u4e9b\u6a21\u62df\u9000\u706b\u7684\u6210\u5206\u5728\u91cc\u9762\uff0c\u4f46\u662f\u6211\u7684\u65b9\u6cd5\u7c7b\u4f3c\u5374\u4e0d\u4e00\u6837\u3002\n\n+ \u9996\u5148\u786e\u5b9a\u4e00\u4e2a\u70b9\uff0c\u5728\u8fd9\u4e2a\u70b9\u4e0a\u8fdb\u884c\u6b63\u4ea4\u5206\u89e3\uff0c\u627e\u51fa\u5408\u529b\u7684\u65b9\u5411\uff0c\u5c06\u4e00\u4e2a\u6570\u503c\u5e26\u5165\u8fd9\u4e2a\u65b9\u5411\u8fdb\u884c\u4f4d\u79fb\uff0c\u82e5\u79fb\u52a8\u5b8c\u4ee5\u540e\u5408\u529b\u65b9\u5411\u6539\u53d8\u5219\u201c\u964d\u6e29\u201d\uff0c\u7ed9\u8fd9\u4e2a\u6b65\u4f10\u5927\u5c0f\u503c\u4e58\u4e0a\u4e00\u4e2a\u5c0f\u4e8e\u4e00\u7684\u7cfb\u6570\uff0c\u56e0\u4e3a\u4e0b\u4e00\u6b65\u8981\u79fb\u52a8\u7684\u6b65\u4f10\u5c31\u4e00\u5b9a\u8981\u6bd4\u5f53\u524d\u5c0f\u3002\u5426\u5219\u5c31\u7ee7\u7eed\u5728\u8fd9\u4e2a\u65b9\u5411\u4e0a\u79fb\u52a8\uff0c\u76f4\u5230\u5408\u529b\u65b9\u5411\u6539\u53d8\uff0c\u8fdb\u884c\u201c\u964d\u6e29\u201d\uff0c\u76f4\u5230\u6b65\u4f10\u5c0f\u4e8e\u7cbe\u5ea6\u4e3a\u6b62\u3002\n\n## Code\n\n```\n#include<cmath>\n#include<cstdio>\n#include<cstdlib>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\n#define maxn 1005\nusing namespace std;\nconst double eps=1e-6;\nint n;\ndouble x[maxn],y[maxn],wi[maxn],ppap=1005,k=0.9;\ndouble ansx,ansy,dx,dy,prex,prey;\ninline bool equal(double a,double b){\n    return fabs(a-b)<eps;\n}\ninline double pow(double val){ return val*val; }\ninline void divide(){//\u6b63\u4ea4\u5206\u89e3\n    dx=dy=0;\n    double dis,mx,my;\n    for(int i=1;i<=n;i++){\n        dis=sqrt(pow(ansx-x[i])+pow(ansy-y[i]));\n        if(fabs(dis)<eps) continue ;\n        dx+=(x[i]-ansx)/dis*wi[i];\n        dy+=(y[i]-ansy)/dis*wi[i];\n    }\n}\ninline void move(double step){//\u5728\u8fd9\u4e2a\u65b9\u5411\u4e0a\u8fdb\u884c\u79fb\u52a8\n    double dis=sqrt(pow(dx)+pow(dy));\n    if(fabs(dis)<eps) return ;\n    ansx+=dx/dis*step;\n    ansy+=dy/dis*step;\n}\nint main(){\n    ios::sync_with_stdio(false);\n    cin>>n;\n    for(int i=1;i<=n;i++){\n        cin>>x[i]>>y[i]>>wi[i];\n    }\n    while(ppap>0.0001){\n        divide();\n        move(ppap);\n        if((!equal(prex,dx))||(!equal(prey,dy))){\n            ppap*=k;\n        }//\u6b65\u4f10\u4e0d\u4e00\u6837\uff0c\u8fdb\u884c\u201c\u964d\u6e29\u201d\n        prex=dx,prey=dy;\n        /*cout<<dx<<\" \"<<dy<<endl;\n        cout<<ansx<<\" \"<<ansy<<endl;\n        system(\"pause\");*/\n    }\n    printf(\"%.3f %.3f\",ansx,ansy);\n    return 0;\n}\n```",
        "postTime": 1533208783,
        "uid": 83253,
        "name": "Luan_233",
        "ccfLevel": 0,
        "title": "P1337  [JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX \u9898\u89e3byLuan"
    },
    {
        "content": "\u5927\u4f53\u601d\u60f3\u662f\u8fd9\u6837\u7684\uff1a\u5047\u8bbe\u4e00\u4e2a\u5e73\u8861\u70b9\uff0c\u5c06\u529b\u6b63\u4ea4\u5206\u89e3\uff0c\u8ba1\u7b97\u51fa\u5728\u6b64\u70b9\u65f6\u7684\u5408\u529b\u3002\u8fd9\u65f6\u5c06\u8fd9\u4e2a\u5408\u529b\u4e0e\u4e00\u4e2a\u5df2\u7ecf\u8bbe\u5b9a\u597d\u7684\u201c\u5c3a\u5ea6\u201d\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u8fd9\u65f6\u7684\u5408\u529b\u5927\u4e8e\u8fd9\u4e2a\u5c3a\u5ea6\uff0c\u6211\u4eec\u5c31\u5bf9\u8fd9\u4e2a\u5df2\u7ecf\u8bbe\u5b9a\u597d\u7684\u5e73\u8861\u70b9\u8fdb\u884c\u8c03\u6574\uff0c\u8ba9\u5b83\u66f4\u52a0\u63a5\u8fd1\u771f\u5b9e\u7684\u5e73\u8861\u70b9\u3002\u5f53\u5408\u529b\u5728\u5c3a\u5ea6\u4ee5\u5185\u6216\u8005\u8c03\u6574\u4e00\u5b9a\u6b21\u6570\u4ee5\u540e\uff0c\u6211\u4eec\u51cf\u5c0f\u5c3a\u5ea6\uff0c\u518d\u6b21\u8fdb\u884c\u8c03\u6574\u3002\u901a\u8fc7\u4e0d\u65ad\u7f29\u5c0f\u5c3a\u5ea6\uff0c\u5c06\u5f97\u5230\u7684\u5e73\u8861\u70b9\u7684\u7cbe\u5ea6\u8303\u56f4\u7f29\u5c0f\u5230\u4e00\u5b9a\u7684\u533a\u57df\u3002\u5f53\u7cbe\u5ea6\u5230\u8fbe\u8981\u6c42\u503c\u7684\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u8f93\u51fa\u89e3\u4e86\u3002\n\n \n\u5728\u6211\u7684\u7a0b\u5e8f\u91cc\uff0c\u6211\u7528xa,ya\u8868\u793a\u5f53\u524d\u7684\u5e73\u8861\u70b9\u4f4d\u7f6e\uff0cfx,fy\u8868\u793a\u529b\u5206\u89e3\u5230x\u8f74\u548cy\u8f74\u7684\u5206\u529b\uff0cfn\u662f\u5408\u529b\u7684\u5927\u5c0f\uff0ck\u8868\u793a\u5f53\u524d\u7684\u5c3a\u5ea6\u3002\n\n \n\u5176\u4ed6\u7684\u8bf4\u660e\u5728\u4ee3\u7801\u91cc\u5df2\u7ecf\u4f53\u73b0\u3002\u800c\u5bf9\u4e8eq\u5faa\u73af\u548ci\u5faa\u73af\u7684\u6b21\u6570\uff0c\u7406\u8bba\u4e0a\u6b21\u6570\u8d8a\u591a\u7cbe\u5ea6\u8d8a\u9ad8\u3002\u6240\u4ee5\u5728\u65f6\u95f4\u5141\u8bb8\u7684\u60c5\u51b5\u4e0b\u5e94\u8be5\u5c3d\u91cf\u589e\u52a0q\u548ci\u7684\u5faa\u73af\u6b21\u6570\u3002\n\n\n```delphi\n\n\nvar x,y,v:array[0..1001]of longint;\n    xa,ya,xx,yy,k,fx,fy,fn,dx,dy,ft:double;\n    i,j,q:longint;\n    n:longint;\nbegin\n  readln(n);\n  for i:=1 to n do readln(x[i],y[i],v[i]);\n  k:=100;\n  xa:=0;\n  ya:=0;\n  for i:=1 to 100 do\n    begin\n      xx:=xa;\n      yy:=ya;\n      for q:=1 to 200 do\n        begin\n          fx:=0;\n          fy:=0;\n          for j:=1 to n do\n            begin\n              dx:=x[j]-xx;  //\u5206\u5230x\u8f74\u7684\u6bd4\u4f8b\n              dy:=y[j]-yy;  //\u5206\u5230y\u8f74\u7684\u6bd4\u4f8b\n              ft:=sqrt(dx*dx+dy*dy);\n              if ft>0\n              then  //\u4f5c\u7528\u70b9\u4e0e\u5e73\u8861\u4f4d\u7f6e\u91cd\u5408\u65f6\u4e0d\u80fd\u591f\u5206\u89e3\n                begin\n                  fx:=fx+dx/ft*v[j];\n                  fy:=fy+dy/ft*v[j];\n                end;\n            end;\n          fn:=sqrt(fx*fx+fy*fy);\n          if fn<=k then break;  //\u5c0f\u4e8e\u5c3a\u5ea6\u5c31\u8df3\u51fa\n          xx:=xx+fx/fn*k;  //\u8c03\u6574\u5e73\u8861\u70b9\u7684\u4f4d\u7f6e\n          yy:=yy+fy/fn*k;\n        end;\n      xa:=xx;\n      ya:=yy;\n      k:=k*0.4;  //\u51cf\u5c0f\u5c3a\u5ea6\n    end;\n  writeln(xa:0:3,' ',ya:0:3);\nend.\n\n\n```",
        "postTime": 1376493088,
        "uid": 277,
        "name": "plane",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI]\u5e73\u8861\u70b9\u3011"
    },
    {
        "content": "~~\u4e0d\u4f1a\u9000\u706b\u4e5f\u80fd\u505a\u7684\u9000\u706b\u9898~~\n\n\u88ab\u540c\u673a\u623f\u7684$\\color{red}{F}\\color{black}{lamire}$\u63a8\u8350\u4e86\u8fd9\u4e48\u4e00\u9053\u9898\n\n\u7136\u540e\u6211\u4f5c\u4e3a\u4e0d\u4f1a\u9000\u706b\u7684\u5783\u573e,\u5f00\u59cb\u6309\u9898\u610f\u6a21\u62df\n\n\u601d\u8def:\u6bcf\u4e00\u6b21\u5411\u5408\u529b\u65b9\u5411\u79fb\u52a8,\u76f4\u5230\u5e73\u8861\n\n\u9996\u5148\u5c31\u662f\u5199\u4e86\u4e00\u5730\u7684\u51fd\u6570\n```cpp\nstruct point\n{\n    double x,y;\n    friend point operator + (point a,point b)\n    {\n        point c;\n        c.x=a.x+b.x;\n        c.y=a.y+b.y;\n        return c;\n    }\n    void read(int a,int b)\n    {\n        x=a;\n        y=b;\n    }\n    void print()\n    {\n        printf(\"point:%lf %lf\\n\",x,y);\n    }\n} p[1001];\ndouble point_dis(point a,point b)//point_dis\u6307\u70b9\u95f4\u8ddd\u79bb\n{\n    double d1=a.x-b.x;\n    double d2=a.y-b.y;\n    return sqrt(d1*d1+d2*d2);\n}\ndouble point_cos(point a,point b)\n{\n    return (b.x-a.x)/point_dis(a,b);\n}\ndouble point_sin(point a,point b)//,point_cos/sin\u63cf\u8ff0\u4e24\u70b9\u95f4\u89d2\u5ea6\u7684\u4f59\u5f26/\u6b63\u5f26\n{\n    return (b.y-a.y)/point_dis(a,b);\n}\npoint point_force(point s,point t,double w)s\u53d7\u5230t\u65b9\u5411w\u7684\u529b,\u5206\u89e3\u4e3a\u4e24\u4e2a\u65b9\u5411\n{\n    point c;\n    c.x=point_cos(s,t)*w;\n    c.y=point_sin(s,t)*w;\n    return c;\n}\n```\n\u7136\u540e\u5f00\u59cb\u8c03\u4e3b\u51fd\u6570\n\u4e00\u4ee3\u76ee:\n```cpp\nfor(int i=1; i<=10000; i++)\n    {\n        mv.read(0,0);\n        for(int j=1; j<=n; j++)\n        {\n            if(now.x==p[j].x && now.y==p[j].y)\n            {\n                if(abss(now.x)<=0.001)\n                {\n                    now.x=0;\n                }\n                if(abss(now.y)<=0.001)\n                {\n                    now.y=0;\n                }\n                printf(\"%.3lf %.3lf\\n\",now.x,now.y);\n                return 0;\n            }\n            mv=mv+point_force(now,p[j],w[j]);\n        }\n        now=now+mv;\n    }\n```\n\u6b64\u65f6mv(\u5373\u5408\u529b)\u8fc7\u5927,\u5bfc\u81f4\u7ef4\u62a4\u7684\u5f53\u524d\u4f4d\u7f6e\u7ecf\u5e38\u5728\u4e24\u70b9\u95f4\u5de6\u53f3\u6a2a\u8df3\n\n\u6240\u4ee5\u5f97\u5230\u4e8c\u4ee3\u76ee:\n```cpp\nfor(int i=1; i<=10000; i++)\n    {\n        mv.read(0,0);\n        for(int j=1; j<=n; j++)\n        {\n            if(now.x==p[j].x && now.y==p[j].y)\n            {\n                if(abss(now.x)<=0.001)\n                {\n                    now.x=0;\n                }\n                if(abss(now.y)<=0.001)\n                {\n                    now.y=0;\n                }\n                printf(\"%.3lf %.3lf\\n\",now.x,now.y);\n                return 0;\n            }\n            mv=mv+point_force(now,p[j],w[j]);\n        }\n        mv.x/=100;\n        mv.y/=100;\n        now=now+mv;\n    }\n```\n\u60f3\u90fd\u522b\u60f3,\u4e0d\u662f\u6b65\u6570\u5185\u722c\u4e0d\u5b8c\u5c31\u662fTLE\n\n\u6700\u540e\u5c31\u6309\u7167\u524d\u4e00\u4e9b\u6b65\u6570\u52a0\u901f\u722c\u884c,\u540e\u9762\u9010\u6e10\u653e\u7f13,\u6210\u529f[AC](https://www.luogu.com.cn/record/29213703)\n\n\u6700\u540e\u8d34\u4e0a\u4ee3\u7801,\u5b8c\u7ed3\u6492\u82b1\n```cpp\n#include <bits/stdc++.h>\n//#include <windows.h>\n//#define int long long\nusing namespace std;\nstruct point\n{\n    double x,y;\n    friend point operator + (point a,point b)\n    {\n        point c;\n        c.x=a.x+b.x;\n        c.y=a.y+b.y;\n        return c;\n    }\n    void read(int a,int b)\n    {\n        x=a;\n        y=b;\n    }\n} p[1001];\nint x[1001];\nint y[1001];\nint w[1001];\nint n;\ndouble point_dis(point a,point b)\n{\n    double d1=a.x-b.x;\n    double d2=a.y-b.y;\n    return sqrt(d1*d1+d2*d2);\n}\ndouble point_cos(point a,point b)\n{\n    return (b.x-a.x)/point_dis(a,b);\n}\ndouble point_sin(point a,point b)\n{\n    return (b.y-a.y)/point_dis(a,b);\n}\npoint point_force(point s,point t,double w)\n{\n    point c;\n    c.x=point_cos(s,t)*w;\n    c.y=point_sin(s,t)*w;\n    return c;\n}\npoint now;\npoint mv;\npoint org;\ndouble sum;\ndouble qwq;\ndouble abss(double a)\n{\n\treturn a<0?-a:a;\n}\nint main()\n{\n    org.read(0,0);\n    scanf(\"%d\",&n);\n    for(int i=1; i<=n; i++)\n    {\n        scanf(\"%d%d%d\",&x[i],&y[i],&w[i]);\n        sum+=w[i];\n        p[i].read(x[i],y[i]);\n    }\n    srand(time(0));\n    now.x=rand()%2000;\n    now.y=rand()%2000;\n    now.x-=1000;\n    now.y-=1000;\n    for(int i=1; i<=10000; i++)\n    {\n        mv.read(0,0);\n        for(int j=1; j<=n; j++)\n        {\n            if(now.x==p[j].x && now.y==p[j].y)\n            {\n                if(abss(now.x)<=0.001)\n                {\n                    now.x=0;\n                }\n                if(abss(now.y)<=0.001)\n                {\n                    now.y=0;\n                }\n                printf(\"%.3lf %.3lf\\n\",now.x,now.y);\n                return 0;\n            }\n            mv=mv+point_force(now,p[j],w[j]);\n        }\n        qwq=point_dis(mv,org);\n        if(i>=2000)\n        {\n            mv.x/=(i/2)-999;\n            mv.y/=(i/2)-999;\n        }\n        else if(qwq>=sum*7/8)\n        {\n        \tmv.x*=10;\n        \tmv.y*=10;\n\t\t}\n\t\telse if(qwq>=sum*3/4)\n\t\t{\n\t\t\tmv.x*=2;\n\t\t\tmv.y*=2;\n\t\t}\n        now=now+mv;\n    }\n    if(abss(now.x)<=0.001)\n    {\n        now.x=0;\n    }\n    if(abss(now.y)<=0.001)\n    {\n        now.y=0;\n    }\n    printf(\"%.3lf %.3lf\\n\",now.x,now.y);\n    return 0;\n}\n\n```\n",
        "postTime": 1578973594,
        "uid": 101407,
        "name": "Binah",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "- \u5982\u679c\u53ea\u6709\u4e24\u4e2a\u65b9\u5411\u76f8\u53cd\uff0c\u5728\u4e00\u6761\u76f4\u7ebf\u4e0a\u7684\u529b\uff0c\u90a3\u4e48\u5e73\u8861\u70b9\u5c31\u5728\u652f\u70b9\u4e0a\u3002\n- \u6240\u4ee5\uff0c\u7528\u521d\u4e2d\u77e5\u8bc6\u7406\u89e3\u7684\u8bdd\uff0c\u8fd9\u9053\u9898\u5176\u5b9e\u5c31\u662f\u4e00\u4e2a\u6709\u5f88\u591a\u529b\u81c2\u7684\u201c\u6760\u6746\u201d\uff0c\u53ea\u8981\u627e\u5230\u5b83\u7684\u652f\u70b9\u5c31\u53ef\u4ee5\u4e86\u3002\n- \u90a3\u4e48\u53ea\u8981*L1F1+L2F2+L3F3+...LNFN=0*\u5373\u53ef\u3002\n- \u6240\u4ee5\uff0c\u53ef\u4ee5\u7528\u6a21\u62df\u9000\u706b\u7684\u65b9\u6cd5\uff0c\u4e0d\u65ad\u66f4\u65b0\uff0c\u627e\u5230*L1F1+L2F2+L3F3+...LNFN*\u8d8b\u8fd1\u4e8e0\u7684\u60c5\u51b5\u3002\n```cpp\n#include<bits/stdc++.h>\n#define maxn 1010\nusing namespace std;\nint x[maxn];\nint y[maxn];\nint w[maxn];\nint n;\ndouble xl=-10000.0,xr=10000.0,yl=-10000.0,yr=10000.0,xans,yans,rst;\ndouble f(double xx,double yy)\n{\n\tint i;\n\tdouble sum=0.0;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tdouble t=(xx-x[i])*(xx-x[i])+(yy-y[i])*(yy-y[i]);\n\t\tt=sqrt(t);\n\t\tt*=w[i];\n\t\tsum+=t;\n\t}\n\treturn sum;\n}\nint sa()\n{\n\tdouble t=500.0,step=0.98,x1,y1;\n\tdouble len=xr-xl;\n\twhile(t>=1e-10)\n\t{\n\t\tdouble p=len*t*(rand()%100+1)/100/1000;\n\t\tx1=xans-p;\n\t\ty1=yans-p;\n\t\tif(x1>=xl&&y1>=yl)\n\t\t{\n\t\t\tdouble k=f(x1,y1);\n\t\t\tif(k<rst)\n\t\t\t{\n\t\t\t\trst=k;\n\t\t\t\txans=x1;\n\t\t\t\tyans=y1;\n\t\t\t}\n\t\t}\n\t\tx1=xans+p;\n\t\ty1=yans+p;\n\t\tif(x1<=xr&&y1<=yr)\n\t\t{\n\t\t\tdouble k=f(x1,y1);\n\t\t\tif(k<rst)\n\t\t\t{\n\t\t\t\trst=k;\n\t\t\t\txans=x1;\n\t\t\t\tyans=y1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tx1=xans+p;\n\t\ty1=yans-p;\n\t\tif(x1<=xr&&y1>=yl)\n\t\t{\n\t\t\tdouble k=f(x1,y1);\n\t\t\tif(k<rst)\n\t\t\t{\n\t\t\t\trst=k;\n\t\t\t\txans=x1;\n\t\t\t\tyans=y1;\n\t\t\t}\n\t\t}\n\t\t\n\t\tx1=xans-p;\n\t\ty1=yans+p;\n\t\tif(x1>=xl&&y1<=yr)\n\t\t{\n\t\t\tdouble k=f(x1,y1);\n\t\t\tif(k<rst)\n\t\t\t{\n\t\t\t\trst=k;\n\t\t\t\txans=x1;\n\t\t\t\tyans=y1;\n\t\t\t}\n\t\t}\n\t\tt*=step;\n\t}\n}\nint main()\n{\n\tint i;\n\tcin>>n;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tscanf(\"%d%d%d\",&x[i],&y[i],&w[i]);\n\t}\n\txans=(xl+xr)/2;\n\tyans=(yl+yr)/2;\n\trst=f(xans,yans);\n\tsa();\n\tsa();\n\tsa();\n\tprintf(\"%.3lf %.3lf\",xans,yans);\n}\n```",
        "postTime": 1563609886,
        "uid": 62133,
        "name": "wanyaxin",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u9898\u89e3\u540c\u6b65\u53d1\u5e03\u4e8e[blog](https://www.cnblogs.com/wzzorz/articles/10360087.html)  \n\n------------\n\u672c\u9898\u7684\u6b63\u89e3\u662f\u2014\u2014\u2014  \n\u662f\u4ec0\u4e48\u5462\uff1f  \n~~\u6211\u4e5f\u4e0d\u77e5\u9053~~  \n\u4f46\u8fd9\u786e\u5b9e\u662f\u9053\u5165\u624b~~mo\u4f60~~\u6a21\u62df\u9000\u706b\u7684\u597d\u9898  \n\u539f\u9898\u94fe\u63a5\uff1a[here](https://www.luogu.org/problemnew/show/P1337)  \n\u9996\u5148\u6f84\u6e05\u4e00\u4e0b\uff0c\u6a21\u62df\u9000\u706b**\u4e0d\u662f\u6b63\u89e3!\u4e0d\u662f\u6b63\u89e3!\u4e0d\u662f\u6b63\u89e3!**  \nta\u662f\u7528\u6765\u9a97\u5206\u7684~~\uff0c\u800c\u4e14\u8fd9\u9053\u9898\u80fd\u9a97\u5230\u6ee1\u5206~~  \n![\u63d0\u4ea4\u8bb0\u5f55](https://i.loli.net/2019/02/10/5c5ffe3851789.png)  \n\u8fa3\u9e21mo\u4f60\u9000\u706b\u6bc1\u6211\u9752\u6625\u2191(\u524d\u9762\u8fd8\u6709\u4e00\u639289\u5206\u3002\u3002\u3002)  \n\u4e3a\u4ec0\u4e48\u57fa\u672c\u4e00\u6837\u7684\u7a0b\u5e8f\u4f1a\u5f97\u5206\u4e0d\u540c\u5462\uff1f\u6240\u4ee5\u5148\u770bmo\u4f60\u9000\u706b\u7684\u6982\u5ff5  \n\u9996\u5148\u4e86\u89e3[\u91d1\u5c5e\u9000\u706b](https://baike.baidu.com/item/%E9%80%80%E7%81%AB/1039313?fr=aladdin)(or you won't understand 'temperature')  \n~~\u8bf4\u4eba\u8bdd~~\u5c31\u662f\u9ad8\u6e29\u5411\u4f4e\u6e29\u51b7\u5374\uff0c\u540c\u65f6~~\u778e\u8df3~~\uff0c**\u6e29\u5ea6\u8d8a\u9ad8\u8df3\u7387\u8d8a\u5927\uff0c\u8df3\u7684\u8d8a\u8fdc**\uff0c\u6700\u540e\u505c\u5728\u67d0\u9ad8\u5cf0\u5982\u4e0b\u56fe\u6240\u793a\u2193  \n![\u6d41\u7a0b](https://upload.wikimedia.org/wikipedia/commons/d/d5/Hill_Climbing_with_Simulated_Annealing.gif)  \n\u8bbexs\u4e3a\u964d\u6e29\u7cfb\u6570('X'i 'S'hu)\u6bcf\u6b21\u6e29\u5ea6\u4e58\u4e0axs(xs\u4e00\u822c\u7565\u5c0f\u4e8e1)  \n\u5f53\u6e29\u5ea6\u5c0f\u4e8e\u4e00\u4e2a\u5e38\u6570(\u5927\u4e8e0)\u65f6\u7ec8\u6b62  \n\u4e2d\u95f4\u9700\u8981\u5f15\u5165[\u968f\u673a\u6570](https://www.cnblogs.com/vectors07/p/8185215.html)  \n\u5982\u679c\u5f53\u524d\u8df3\u5230\u7684\u503c\u4f18\u4e8e\u6700\u4f18\u89e3\uff0c\u5219\u6b63\u5f0f\u8df3\u5230\u8fd9\u6765(\u4e0b\u4e00\u6b65\u4ece\u8fd9\u91cc\u8df3)  \n\u5426\u5219\u4ee5**\u4e00\u5b9a\u6982\u7387**\u8df3\u5230\u90a3\u91cc(\u6700\u597d\u7ed3\u5408\u5f53\u524d\u6e29\u5ea6)  \n\u56e0\u4e3a\u662f\u968f\u673a\u7b97\u6cd5\uff0c\u6240\u4ee5\u53ef\u4ee5\u8086\u65e0\u5fcc\u60ee\u5730~~\u778e~~\u641e\u6bd4\u5982\u591a\u8dd1\u51e0\u904d%\u4f60\u9000\u706b  \n\u73b0\u5728\u77e5\u9053\u8be5\u7b97\u6cd5\u4e3a\u4ec0\u4e48\u662frp\u7b97\u6cd5\u4e86\u5427  \n\n------------\n\u7136\u540e\u6a21\u62df\u9000\u706b\u6700\u7384\u5b66\u7684\u5730\u65b9\u5c31\u6d6e\u51fa\u6c34\u9762\u4e86  \n\u65e2\u7136\u62fcrp\uff0c\u603b\u8981~~\u6709\u4e2a\u4e0b\u9650~~\u4fdd\u8bc1\u6b63\u786e\u7387\u5427  \n**\u6240\u4ee5\u6211\u4eec\u8c03\u6574\u53c2\u6570**  \n\u589e\u52a0\u6b63\u786e\u7387\u7684\u529e\u6cd5  \n- \u8c03\u5927\u964d\u6e29\u7cfb\u6570(\u4f46\u8fd8\u662f\u8981\u5c0f\u4e8e1)  \n\n- \u589e\u9ad8\u521d\u59cb\u6e29\u5ea6  \n\n- \u51cf\u5c0f\u7ed3\u675f\u6e29\u5ea6(\u4f46\u8fd8\u662f\u8981\u5927\u4e8e0)  \n\n- \u591a\u8dd1\u51e0\u904dSA(\u5373\u6a21\u62df\u9000\u706b)  \n\n- QwQ  \n\n\u4e0d\u8fc7\u76f8\u5e94\u65f6\u95f4\u590d\u6742\u5ea6\u4f1a\u63d0\u9ad8\uff0c\u6240\u4ee5  \n**\u9053\u8def\u5343\u4e07\u6761\uff0c\u9632TLE\u7b2c\u4e00\u6761\uff0c\u4e0d\u60f3\u5361\u65f6\u9650\uff0cTLE\u4e24\u884c\u6cea**  \n\u5361\u65f6\u9650\u65b9\u6cd5:( _MAXTIME_ \u7cfb\u5bc4\u51e0\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c**\u4e00\u822c0.7-0.9**)  \n\n------------\n```cpp\nwhile ((double)clock()/CLOCKS_PER_SEC<MAXTIME)\n\tSA();\n```\n\n------------\n\n\u5b9e\u5728\u662fAC\u4e0d\u4e86\u4e5f\u53ef\u4ee5\u66f4\u6362\u968f\u673a\u6570\u79cd\u5b50  \n\u751a\u81f3\u76f4\u63a5\uff1a  \n\n------------\n```cpp\nsrand(time(NULL));//srand(xxxxx);srand(rand());\n```\n\n------------\nQ:\u5982\u679c\u60a8\u90fd\u8bd5\u8fc7\u4e86\uff0c\u8fd8\u662fAC\u4e0d\u4e86\uff0c\u600e\u4e48\u529e\uff1f  \n\nA:\u505a\u9898\u524d\u6d17\u8138\u6d17\u624b\uff0c\u6276\u8001\u5976\u5976\u8fc7\u9a6c\u8def\uff0c~~rp++~~ \n\nQ:\u5982\u679c\u60a8\u8fd8\u662fAC\u4e0d\u4e86\uff0c\u600e\u4e48\u529e\uff1f  \n\nA:\u90a3\u60a8\u8fd8\u662f\u6253\u6b63\u89e3\u5427  \n\n------------\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nint n;\nint x[1010],y[1010],w[1010];\ndouble ansx,ansy,ans=1000000000001,temperature;\ndouble xs=0.995;\nint tmpx,tmpy;\ndouble calc(double x0,double y0)//\u8ba1\u7b97\u5668\n{\n    double res=0,dx,dy;\n    for(int i=1;i<=n;++i)\n\t{\n        dx=x[i]-x0;dy=y[i]-y0;\n        res+=sqrt(dx*dx+dy*dy)*w[i];\n    }\n    return res;\n}\nint SA()//\u6a21\u62df\u9000\u706b\n{\n\tdouble tx=ansx,ty=ansy;\n\ttemperature=10000;\n\twhile(temperature>0.0000000000001)\n\t{\n\t\tdouble X=tx+temperature*(rand()*2-RAND_MAX);\n\t\tdouble Y=ty+temperature*(rand()*2-RAND_MAX);//\u4e00\u4e2a\u53ef\u8d1f\u53ef\u6b63\u53ef\u96f6\u7684\u968f\u673a\u6570\n\t\tdouble now=calc(X,Y)-ans;\n\t\tif(now<0)\n\t\t{\n\t\t\ttx=X;\n\t\t\tty=Y;\n\t\t\tans=calc(X,Y);\n\t\t\tansx=X;\n\t\t\tansy=Y;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(exp(-now/temperature)*RAND_MAX>rand())\n\t\t\t{\n\t\t\t\ttx=X,ty=Y;\n\t\t\t}\n\t\t}\n\t\ttemperature*=xs;\n\t}\n}\nint main()\n{\n\tcin>>n;\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tcin>>x[i]>>y[i]>>w[i];\n\t\ttmpx+=x[i];\n\t\ttmpy+=y[i];\n\t}\n\tsrand(time(NULL));//\u7384\u5b66\u79cd\u5b50\n\tansx=(double)tmpx/n;\n\tansy=(double)tmpy/n;//\u636e\u8bf4\u4ece\u5e73\u5747\u503c\u5f00\u59cb\u4f1a\u5feb\u4e00\u4e9b\uff1f\n\tSA();\n\tSA();\n\tSA();//\u591a\u8dd1\u51e0\u904dSA\u63d0\u6b63\u786e\u7387\n\tprintf(\"%.3lf %.3lf\\n\",ansx,ansy);\n}\n```",
        "postTime": 1549799866,
        "uid": 97593,
        "name": "G_A_TS",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u9898\u76ee\uff1a[\u540a\u6253xxx](https://www.luogu.org/problemnew/show/P1337)\n\n**\u8fd9\u7bc7\u9898\u89e3\u5b9c\u642d\u914d\u4e13\u4e1a[\u6a21\u9000](https://baike.baidu.com/item/%E6%A8%A1%E6%8B%9F%E9%80%80%E7%81%AB/8664695?fr=aladdin)\u8bb2\u89e3\u98df\u7528**\n\n![\u9000\u706b\u5927\u81f4\u8fc7\u7a0b](https://upload-images.jianshu.io/upload_images/4378213-8fa474ef70c91b70.gif?imageMogr2/auto-orient/strip%7CimageView2/2/w/500)\n\n\u5148\u4e0a\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\n#define re return\n#define st static\n#define mem(a,b) memset((a),(b),sizeof(a))\n#define inc(i,l,r) for(register int i=l;i<=r;++i)\n#define dec(i,l,r) for(register int i=l;i>=r;--i)\n\nusing namespace std;\nint n,x[1005],y[1005],w[1005];\ndouble EPS=10e-15,D=0.975;\n\t//\u7384\u5b66\u8bbe\u53c2\uff0cEPS\u5373T\uff08\u6e29\u5ea6\uff09\u76ee\u6807\u8303\u56f4\n//\uff08\u8d8a\u5c0f\uff0c\u8fd0\u884c\u6b21\u6570\uff08\u8017\u65f6\uff09\u8d8a\u591a\uff0c\u7cbe\u5ea6\u8d8a\u9ad8\uff0c\u8d8a\u63a5\u8fd1\u6b63\u786e\u7b54\u6848\uff09\n\t//D\u5373\u6e29\u5ea6\u53d8\u5316\u7387\uff0c\u5f90\u5f90\u964d\u6e29\u8fc7\u7a0b~\uff08\u8d8a\u5927\uff0c\n//\u6e29\u5ea6\u6539\u53d8\u8d8a\u5c0f\uff08\u8017\u65f6\u8d8a\u591a\uff09\uff0c\u7cbe\u5ea6\u8d8a\u9ad8\uff09\uff0c\u4e00\u822c0.95~0.99\n\ndouble calc(double x0,double y0)\n{\n    double res=0;\n    inc(i,1,n)res+=sqrt((x[i]-x0)*(x[i]-x0)+(y[i]-y0)*(y[i]-y0))*w[i];\n    re res;\n}\n//\u91cd\u529b\u52bf\u80fd\u8ba1\u7b97\uff0c\u5b64de\u7269\u7406?404\uff1a(\u5b64\u8868\u793a\uff09\u5148\u79e6\u4e4b\u4eba\u4e0d\u9700\u8981\u5b66\u7269\u7406\n//\u4e0d\u518d\u8d58\u8ff0\n\nint main()\n{\n//\tfreopen(\"in.txt\",\"r\",stdin);\n    double x1=0,y1=0,x0,y0,bx,by,res,ans,best,time=2;\n    //time \u4e00\u822c\u6765\u8bf4\u6a21\u9000\u8dd1\u4e00\u904d\u5c31\u53ef\u4ee5\u4e86\n    //\u5982\u679c\u5b9e\u5728\u4e0d\u653e\u5fc3\uff0c\u50cf\u5b64\u4e00\u6837\u8dd1\u4e24\u904d\u4e5f\u672a\u5c1d\u4e0d\u53ef\n    scanf(\"%d\",&n);\n    inc(i,1,n){\n        scanf(\"%d%d%d\",&x[i],&y[i],&w[i]);\n        bx+=x[i];by+=y[i];\n    }\n    \n    best=calc(bx/=n,by/=n);\n    //\u6c42\u53d6\u5750\u6807\u5e73\u5747\u503c\uff1abx,by;\u60f3\u6765\u4e0e\u7ed3\u679c\u5e94\u662f\u76f8\u5dee\u4e0d\u5927\n    \n    srand(20130618);\n    //\u968f\u673a\u79cd\u5b50\uff08\u968f\u673a\u8303\u56f4\uff09\uff0c\u7384\u5b66\uff08\u4e2a\u4eba\u5e78\u8fd0\u6570\u5b57\u4e0d\u65b9\u4e3a\u4e00\u6781\u597d\u9009\u62e9\uff09\n    //\u6216\u8005\u53e4\u8001\u4e1c\u65b9\u67d0\u795e\u79d8\u516b\u4f4d\u8d28\u657019260817\n    \n    while(time--)\n    {\n        x1=bx,y1=by,ans=best;\n        for(double T=100000;T>EPS;T*=D)\n        {\n            x0=x1+T*(2*rand()-RAND_MAX);y0=y1+T*(2*rand()-RAND_MAX);\n            //rand\uff08\uff09\u4e00\u4e2a\u968f\u673a\u6570\uff0cRAND_MAX\u968f\u673a\u8303\u56f4\u5185\u6700\u5927\u503c\n            //(2*rand()-RAND_MAX)\u8303\u56f4[-RAND_MAX,RANDMAX]\n            \n            res=calc(x0,y0);\n            if(res<best){best=res;bx=x0;by=y0;}\n            //\u4fdd\u7559\u6700\u4f18\u503c\uff0c\u4e00\u822c\u6765\u8bf4\u4e0d\u7528\n            //\u4e07\u4e00\u5c31\u9519\u8fc7\u4e86\u5462\uff1f\u5c0f\u751f\u6070\u662f\u4e00\u4e2a\u80c6\u5b50\u6781\u5c0fde\u4eba\n            if(res<ans||exp((ans-res)/T)>(double)(rand())/RAND_MAX)\n            //exp\u6307\u6570\u51fd\u6570\uff0cans-res<0,<0rand()/RAND_MAX<=1\n            //\u968f\u7740T\u9010\u6e10\u51cf\u5c0f\uff0cexp((ans-res)/T)>(double)(rand())/RAND_MAX)\u673a\u7387\u8d8a\u6765\u8d8a\u5c0f\n            {ans=res;x1=x0;y1=y0;}\n        }\n    }\n    printf(\"%.3lf %.3lf\",bx,by);\n    re 0;\n}\n\n```",
        "postTime": 1548722906,
        "uid": 86276,
        "name": "\u51c9\u5982\u6c34",
        "ccfLevel": 4,
        "title": "\u6a21\u62df\u9000\u706brm"
    },
    {
        "content": "## \u5173\u4e8e\u6a21\u62df\u9000\u706b\n##### \u7b80\u4ecb\n\u6a21\u62df\u9000\u706b\u662f\u4e00\u79cd\u968f\u673a\u5316\u7b97\u6cd5\u3002  \n\u5bf9\u4e8e\u4e00\u4e2a\u5f53\u524d\u6700\u4f18\u89e3\u9644\u8fd1\u7684\u975e\u6700\u4f18\u89e3\uff0c\u722c\u5c71\u7b97\u6cd5\u76f4\u63a5\u820d\u53bb\u4e86\u8fd9\u4e2a\u89e3\u3002\u800c\u5f88\u591a\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u9700\u8981\u53bb\u63a5\u53d7\u8fd9\u4e2a\u975e\u6700\u4f18\u89e3\u4ece\u800c\u8df3\u51fa\u8fd9\u4e2a\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u5373\u4e3a\u6a21\u62df\u9000\u706b\u7b97\u6cd5\u3002  \n\u5f53\u4e00\u4e2a\u95ee\u9898\u7684\u65b9\u6848\u6570\u91cf**\u6781\u5927**\uff08\u751a\u81f3\u662f\u65e0\u7a77\u7684\uff09\u800c\u4e14**\u4e0d\u662f\u4e00\u4e2a\u5355\u5cf0\u51fd\u6570**\u65f6\uff0c\u5e38\u4f7f\u7528\u6a21\u62df\u9000\u706b\u6c42\u89e3\u3002\n##### \u5b9e\u73b0\n\u5982\u679c\u65b0\u72b6\u6001\u7684\u89e3\u66f4\u4f18\u5219\u4fee\u6539\u7b54\u6848\uff0c\u5426\u5219\u4ee5\u4e00\u5b9a\u6982\u7387\u63a5\u53d7\u65b0\u72b6\u6001\u3002  \n\n\u6a21\u62df\u9000\u706b\u65f6\u6709\u4e09\u4e2a\u53c2\u6570\uff1a\u521d\u59cb\u6e29\u5ea6`$T_0$`\uff0c\u964d\u6e29\u7cfb\u6570`$d$` \uff0c\u7ec8\u6b62\u6e29\u5ea6`$T_k$`\u3002\n`$T_0$`\u662f\u4e00\u4e2a\u6bd4\u8f83\u5927\u7684\u6570\uff08\u81f3\u5c11\u9700\u8981\u5927\u4e8e\u641c\u7d22\u8303\u56f4\uff09  \n`$d$` \u662f\u4e00\u4e2a\u975e\u5e38\u63a5\u8fd11\u4f46\u662f\u5c0f\u4e8e1\u7684\u6570  \n`$T_k$`\u662f\u4e00\u4e2a\u63a5\u8fd10\u7684\u6b63\u6570  \n\u5b9a\u4e49\u5f53\u524d\u6e29\u5ea6\u4e3a`$T$`\uff0c\u65b0\u72b6\u6001\u4e0e\u5df2\u77e5\u72b6\u6001\uff08\u7531\u5df2\u77e5\u72b6\u6001\u901a\u8fc7\u968f\u673a\u7684\u65b9\u5f0f\u5f97\u5230\uff09\u4e4b\u95f4\u7684\u80fd\u91cf\u5dee\u4e3a`$\\Delta E$`\uff0c\uff08\u5f53\u8981\u6c42\u7684`$E$`\u4e3a\u6700\u5927\u503c\u65f6\uff09\u53d1\u751f\u72b6\u6001\u8f6c\u79fb\uff08\u4fee\u6539\u6700\u4f18\u89e3\uff09\u7684\u6982\u7387\u4e3a  \n`$P(\\Delta E)=\\begin{cases}1,\\quad \\Delta E>0\\\\e^{\\frac{\\Delta E}{T}},\\quad \\Delta E\\leq 0\\end{cases}$`  \n\u9996\u5148\u8ba9\u6e29\u5ea6`$T=T_0$`\uff0c\u8fdb\u884c\u8f6c\u79fb\u5c1d\u8bd5\uff0c\u518d\u8ba9`$T=T*d$`\u3002\u5f53`$T<T_k$`\u65f6\u6a21\u62df\u9000\u706b\u8fc7\u7a0b\u7ed3\u675f\uff0c\u5f53\u524d\u6700\u4f18\u89e3\u5373\u4e3a\u6700\u7ec8\u7684\u6700\u4f18\u89e3\u3002  \n\u6709\u65f6\u4e3a\u4e86\u4f7f\u5f97\u5230\u7684\u89e3\u66f4\u6709\u8d28\u91cf\uff0c\u4f1a\u5728\u6a21\u62df\u9000\u706b\u7ed3\u675f\u540e\uff0c\u4ee5\u5f53\u524d\u6e29\u5ea6\u5728\u5f97\u5230\u7684\u89e3\u9644\u8fd1\u591a\u6b21\u968f\u673a\u72b6\u6001\uff0c\u5c1d\u8bd5\u5f97\u5230\u66f4\u4f18\u7684\u89e3\uff08\u5176\u8fc7\u7a0b\u4e0e\u6a21\u62df\u9000\u706b\u76f8\u4f3c\uff09\u3002\n\n\u5982\u56fe\u968f\u7740\u6e29\u5ea6\u7684\u964d\u4f4e\uff0c\u8df3\u8dc3\u8d8a\u6765\u8d8a\u4e0d\u968f\u673a\uff0c\u6700\u4f18\u89e3\u4e5f\u8d8a\u6765\u8d8a\u7a33\u5b9a  \n![image](https://oi-wiki.org/misc/images/simulated-annealing.gif)\n\n## \u5173\u4e8e\u672c\u9898\n\u867d\u7136\u6a21\u62df\u9000\u706b\u4e0d\u662f\u6b63\u89e3\uff0c\u4f46\u662f\u53ef\u4ee5AC!  \n\u800c\u4e14\u672c\u9898\u4e5f\u662f\u4e00\u9053\u975e\u5e38\u4f18\u79c0\u7684\u6a21\u62df\u9000\u706b\u4f8b\u9898!\n\n\u5f53\u91cd\u529b\u52bf\u80fd\u6700\u5c0f\u65f6\u7a33\u5b9a\uff0c\u5c06\u7269\u7406\u6a21\u578b\u7b80\u5316  \n\u8bbe\u684c\u5b50\u7684\u9ad8\u5ea6\u4e3a`$h$`\uff0c\u7ef3\u5b50\u7684\u957f\u5ea6\u4e3a`$l$`,\u6bcf\u4e2a\u70b9\u5230`$x$`\u7684\u8ddd\u79bb\u4e3a`$dis[i]$`  \n\u91cd\u529b\u52bf\u80fd\u4e3a`$\\sum_{i=1}^{n}(h-(l-dis[i]))*W[i]=\\sum_{i=1}^{n}(h-l+dis[i])*W[i]$`  \n\u7531\u4e8e`$h-l$`\u4e3a\u5b9a\u503c\uff0c\u6240\u4ee5\u91cd\u529b\u52bf\u80fd\u6700\u5c0f\u7684\u60c5\u51b5\u7b49\u4ef7\u4e8e`$\\sum_{i=1}^{n}dis[i]*W[i]$`\u6700\u5c0f  \n\u5373 \u6c42`$n$`\u4e2a\u70b9\u7684\u5e26\u6743\u8d39\u9a6c\u70b9\n\n###### Code:\n```\n#include<bits/stdc++.h>\n#define For(i,a,b) for(int i=(a),i##_=(b);i<=i##_;++i)\n#define M 1005\n#define db double\nusing namespace std;\nint X[M],Y[M],W[M],n;\ndb ans,ansx,ansy;\ndb Pow(db x){\n\treturn x*x;\n}\ndb Dis(db x,db y){\n\treturn sqrt(Pow(x)+Pow(y));\n}\ndb Rand(){\n\treturn (db)rand()/RAND_MAX;//\u8fd4\u56de\u4e00\u4e2a[0,1]\u4e4b\u524d\u7684\u5c0f\u6570\n}\ndb Cal(db x,db y){\n\tdb res=0;\n\tFor(i,1,n)res+=Dis(x-X[i],y-Y[i])*W[i];\n\t//\u5728Cal\u4e2d\u66f4\u65b0\u7b54\u6848\n\tif(res<ans)ans=res,ansx=x,ansy=y;\n\treturn res;\n}\nvoid SimulateAnneal(){\n\tdb T0=100000,Tk=0.001,d=0.97;\n\tdb nowx=ansx,nowy=ansy,T=T0;\n\twhile(T>Tk){\n\t    //Rand()*2-1 \u8fd4\u56de\u4e00\u4e2a[-1,1]\u4e4b\u95f4\u7684\u6570\n\t\tdb nxtx=nowx+T*(Rand()*2-1);\n\t\tdb nxty=nowy+T*(Rand()*2-1);\n\t\tdb tmp=Cal(nxtx,nxty)-Cal(nowx,nowy);\n\t\t//tmp<0 \u5373\u65b0\u89e3\u66f4\u4f18\uff0c\u90a3\u4e48\u4e00\u5b9a\u63a5\u53d7\u65b0\u89e3\n\t\t//\u5426\u5219 \u4ee5\u4e00\u5b9a\u6982\u7387\u63a5\u53d7\u65b0\u89e3\n\t\tif(tmp<0||exp(-tmp/T)>Rand())nowx=nxtx,nowy=nxty;\n\t\tT*=d;\n\t}\n\t//\u4ee5\u5f53\u524d\u6e29\u5ea6\u5728\u5f97\u5230\u7684\u89e3\u9644\u8fd1\u591a\u6b21\u968f\u673a\u72b6\u6001\uff0c\u5c1d\u8bd5\u5f97\u5230\u66f4\u4f18\u7684\u89e3\n\tint t=1000;\n\tFor(i,1,t){\n\t\tdb nxtx=ansx+T*(Rand()*2-1);\n\t\tdb nxty=ansy+T*(Rand()*2-1);\n\t\tCal(nxtx,nxty);\n\t}\n}\nint main(){\n\tsrand(19260817);\n\tscanf(\"%d\",&n);\n\tFor(i,1,n){\n\t\tscanf(\"%d%d%d\",&X[i],&Y[i],&W[i]);\n\t\tansx+=X[i],ansy+=Y[i];\n\t}\n\t//\u521d\u59cb\u503c\u53ef\u4ee5\u968f\u673a\uff0c\u5728\u672c\u9898\u4e2d\u91c7\u7528\u6240\u6709\u70b9\u5750\u6807\u7684\u5e73\u5747\u503c\n\tansx/=n,ansy/=n;\n\tans=Cal(ansx,ansy);\n\tSimulateAnneal();\n\tprintf(\"%.3f %.3f\\n\",ansx,ansy);\n\treturn 0;\n}\n//\u8fd9\u4efd\u4ee3\u7801\u4e0d\u4fdd\u8bc1\u4e00\u6b21AC\u54e6\uff01\n//\u53ef\u4ee5\u624b\u8c03\u53c2\u6570\u6765\u52a0\u6df1\u7406\u89e3\u54e6\uff01\n```",
        "postTime": 1538711192,
        "uid": 64860,
        "name": "1xijing",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "\u8fd9\u9053\u9898\u8c03\u4e86\u597d\u4e45\uff0c\u679c\u7136\u975e\u6d32\u4eba\u662f\u5f97\u4e0d\u5230\u7737\u987e\u7684\u5417\u3002\u3002\u3002\n\n------------\n\n\u672c\u9898\u91c7\u7528\u6a21\u62df\u9000\u706b\u89e3\u51b3\u3002\n\n\u6a21\u62df\u9000\u706b\u662f\u4e00\u79cd\u7b80\u6d01\u660e\u4e86\u800c\u53c8\u9ad8\u6548\u7684\u8fd1\u4f3c\u7b97\u6cd5\uff0c\u57fa\u672c\u4e0a\u53ef\u4ee5\u5957\u5230\u4efb\u4f55\u6c42\u6700\u4f18\u89e3\u7684\u9898\u76ee\u4e0a\u53bb\u3002\n\n\u5b83\u7684\u539f\u7406\u662f\u6a21\u62df\u7269\u7406\u4e2d\u91d1\u5c5e\u9000\u706b\u7684\u73b0\u8c61\uff0c\u51ed\u501f\u9009\u624b\u9006\u5929\u7684RP\u8df3\u51fa\u5c40\u90e8\u6700\u4f18\u89e3\uff0c\u6765\u5230\u5168\u5c40\u6700\u4f18\u89e3\u3002\n\n\u6bd4\u8f83\u5e38\u7528\u7684\u8fd1\u4f3c\u7b97\u6cd5\u8fd8\u6709\u722c\u5c71\u548c\u9057\u4f20\uff0c\u4f46\u662f\u6211\u4e2a\u4eba\u89c9\u5f97\u6ca1\u592a\u5927\u5fc5\u8981\u638c\u63e1\uff08\u50cf\u6211\u8fd9\u79cd\u8138\u9ed1\u7684\u9009\u624b\u6709\u4e00\u6b21\u9057\u4f20\u7b97\u6cd5WA52\u3002\u3002\uff09\u3002\n\n------------\n\n\u6a21\u62df\u9000\u706b\u603b\u4f53\u5c31\u662f\u4e00\u4e2a\u6301\u7eed\u964d\u6e29\u7684\u6d41\u7a0b\u3002\n\n\u5728\u964d\u6e29\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5750\u6807\u968f\u673a\u8df3\u52a8\u7684\u8303\u56f4\u4f1a\u8d8a\u53d8\u8d8a\u5c0f\u3002\n\n\u5f53\u7136\uff0c\u4e3a\u4e86\u9632\u6b62\u641e\u9519\uff0c\u6211\u4eec\u6bcf\u4e00\u6b21\u90fd\u4f1a\u4ee5\u4e00\u5b9a\u6982\u7387\u63a5\u53d7\u4e00\u4e2a\u6bd4\u8f83\u5947\u602a\u7684\u89e3\uff0c\u8fd9\u4e00\u70b9\u6709\u4e9b\u7c7b\u4f3c\u9057\u4f20\u7b97\u6cd5\u4e2d\u7684\u7a81\u53d8\u3002\n\n```cpp\ninline void simulateAnneal(){\n\tdouble x=ansx,y=ansy;t=5000;\n\twhile(t>1e-14){\n\t\tdouble X=x+((rand()<<1)-RAND_MAX)*t,Y=y+((rand()<<1)-RAND_MAX)*t;\n\t\tdouble now=calcEnergy(X,Y),dist=now-ans;\n\t\tif(dist<0){\n\t\t\t\tansx=x=X,ansy=y=Y,ans=now;\n\t\t}else if(exp(-dist/t)*RAND_MAX>rand())x=X,y=Y;\n\t\tt*=delta;\n\t}\n}\n```\n\n\u8fd9\u91cct\u4ee3\u8868\u6e29\u5ea6\uff0c\u5b83\u4f1a\u4e00\u76f4\u9012\u51cf\u3002\n\n\u7136\u540e\u6bcf\u4e00\u6b21\u6211\u4eec\u4f1a\u6839\u636et\u7684\u503c\uff08\u63a7\u5236\u8303\u56f4\uff09\u968f\u673a\u8df3\u4e00\u4e2a\u65b0\u7684\u89e3\u3002\n\n\u6c42\u4e00\u4e0b\u5b83\u7684\u503c\uff0c\u770b\u4e00\u4e0b\u503c\u80fd\u4e0d\u80fd\u63a5\u53d7\u3002\n\n\u5047\u5982\u8fd9\u4e2a\u503c\u4e0d\u80fd\u63a5\u53d7\uff0c\u90a3\u5c31\u4ee5\u4e00\u5b9a\u6982\u7387\u63a5\u53d7\u4e00\u4e2a\u5947\u5947\u602a\u602a\u7684\u89e3\uff0c\u9009\u62e9\u89e3\u7684\u65b9\u6cd5\u9075\u5faaMetropolis\u51c6\u5219\uff08\u6211\u4e5f\u4e0d\u77e5\u9053\u8fd9\u662f\u4ec0\u4e48\u73a9\u610f\u522b\u95ee\u6211\uff09\u3002\n\n\u6c42\u503c\u7684\u6d41\u7a0b\u56e0\u9898\u800c\u5f02\uff0c\u603b\u4e4b\u5c31\u662f\u4e00\u4e2a\u8861\u91cf\u89e3\u7684\u6807\u51c6\u3002\n\n```cpp\ntemplate<typename T>inline T calcEnergy(T x,T y){\n\tT tmp=0;\n\tfor(register int i=1;i<=n;++i){\n\t\tT disx=x-a[i].x,disy=y-a[i].y;\n\t\ttmp+=sqrt(disx*disx+disy*disy)*a[i].val;\n\t}\n\treturn tmp;\n}\n```\n\n------------\n\n\u4e3b\u8981\u7684\u90e8\u5206\u5927\u6982\u5c31\u8fd9\u4e48\u591a\u4e86\uff0c\u5176\u4ed6\u8981\u6ce8\u610f\u7684\u65e0\u975e\u5c31\u662f\u5e38\u6570\u4ec0\u4e48\u7684\u4e86\u3002\n\nM_sea\u5927\u4f6c\u7528\u7684\u5e38\u6570\u662f\n\n```\ndelta=0.993\nt=2000\nloop=5\n```\n\n\uff08loop\u6307\u7684\u662f\u8fd0\u884c\u6b21\u6570\uff09\n\n\u7136\u800c\u8fd9\u4e2a\u5e38\u6570\u5bf9\u4e8e\u8138\u9ed1\u7684\u6211\u6765\u8bf4\u6bd4\u8f83\u7a92\u606f\uff0c\u6240\u4ee5\u505a\u4e86\u4e00\u70b9\u5c0f\u8c03\u6574\uff0c\u6700\u540e\u662f\n\n```\ndelta=0.9932\nt=5000\nloop=5\n```\n\n\u6700\u540e\uff0cAC\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n#include<iostream>\n#include<cstdio>\n#include<algorithm>\n#include<cmath>\n#include<cstdlib>\nusing namespace std;\nnamespace StandardIO{\n\ttemplate<typename T>inline void read(T &x){\n\t\tx=0;T f=1;char c=getchar();\n\t\tfor(;c<'0'||c>'9';c=getchar())if(c=='-')f=-1;\n\t\tfor(;c>='0'&&c<='9';c=getchar())x=x*10+c-'0';\n\t\tx*=f;\n\t}\n\ttemplate<typename T>inline void write(T x){\n\t\tif(x<0)putchar('-'),x*=-1;\n\t\tif(x>=10)write(x/10);\n\t\tputchar(x%10+'0');\n\t}\n}\nusing namespace StandardIO;\nnamespace Solve{\n\tconst int N=1010;\n\tconst double delta=0.9932;\n\t\n\tstruct SA{\n\t\tprivate:\n\t\t\tint n,sumx,sumy;\n\t\t\tdouble ans=1e18,t;\n\t\t\tstruct node{\n\t\t\t\tint x,y,val;\n\t\t\t}a[N];\n\t\t\ttemplate<typename T>inline T calcEnergy(T x,T y){\n\t\t\t\tT tmp=0;\n\t\t\t\tfor(register int i=1;i<=n;++i){\n\t\t\t\t\tT disx=x-a[i].x,disy=y-a[i].y;\n\t\t\t\t\ttmp+=sqrt(disx*disx+disy*disy)*a[i].val;\n\t\t\t\t}\n\t\t\t\treturn tmp;\n\t\t\t}\n\t\t\tinline void simulateAnneal(){\n\t\t\t\tdouble x=ansx,y=ansy;t=5000;\n\t\t\t\twhile(t>1e-14){\n\t\t\t\t\tdouble X=x+((rand()<<1)-RAND_MAX)*t,Y=y+((rand()<<1)-RAND_MAX)*t;\n\t\t\t\t\tdouble now=calcEnergy(X,Y),dist=now-ans;\n\t\t\t\t\tif(dist<0){\n\t\t\t\t\t\tansx=x=X,ansy=y=Y,ans=now;\n\t\t\t\t\t}else if(exp(-dist/t)*RAND_MAX>rand())x=X,y=Y;\n\t\t\t\t\tt*=delta;\n\t\t\t\t}\n\t\t\t}\n\t\t\t\n\t\tpublic:\n\t\t\tSA(){}\n\t\t\t~SA(){}\n\t\t\t\n\t\t\tdouble ansx,ansy;\n\t\t\tinline void init(){\n\t\t\t\tsrand(19260817),srand(rand()),srand(rand());\n\t\t\t\tread(n);\n\t\t\t\tfor(register int i=1;i<=n;++i){\n\t\t\t\t\tread(a[i].x),read(a[i].y),read(a[i].val);\n\t\t\t\t\tsumx+=a[i].x,sumy+=a[i].y;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttemplate<typename T>inline void SimulateAnneal(T times){\n\t\t\t\tansx=(double)sumx/n,ansy=(double)sumy/n;\n\t\t\t\tfor(register int i=1;i<=times;++i)simulateAnneal();\n\t\t\t}\n\t}ljz;\n\t\n\tinline void solve(){\n\t\tljz.init();\n\t\tljz.SimulateAnneal(5);\n\t\tprintf(\"%.3lf %.3lf\",ljz.ansx,ljz.ansy);\n\t}\n}\nusing namespace Solve;\nint main(){\n\tsolve();\n}\n\n```",
        "postTime": 1538145320,
        "uid": 38859,
        "name": "Nero_Claudius",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "## \u5410\u69fd\n\u6a21\u62df\u9000\u706b\u3002\u3002\u4e00\u4e2a\u795e\u5947\u7684\u7b97\u6cd5\u3002\u3002\n\n\uff08\u8fd9\u9053\u9898\u76ee\u5176\u5b9e\u53eb\u88abXXX\u540a\u6253\uff09\n\n\u8fd9\u4e2a\u7b97\u6cd5\u9760\u968f\u673a\u3002\u3002\u4e5f\u5c31\u662f\u9760\u4f60\u7684\u8138\u3002\u3002\u8138\u767d\u4e00\u70b9\uff0c\u53c2\u6570\u7528\u5f97\u4f18\u79c0\u4e00\u70b9\u5c31\u8fc7\u4e86\u3002\u3002\u3002\uff08\u6bd4\u5982\u6211\u628a\u53c2\u6570\u4ece2000\u6362\u62102333\u5c31\u8fc7\u4e86orz\uff09\n\n\u7136\u540e\u3002\u3002\u6b63\u5f0f\u4ecb\u7ecd\u4e00\u4e0b\n\n## \u6a21\u62df\u9000\u706b\uff08SA\uff09\n\u53ef\u4ee5\u53bb\u770b\u770b\u8fd9\u4e00\u7bc7\u8bb2\u7a3f\uff1ahttps://www.cnblogs.com/rvalue/p/8678318.html\n\n\u89e3\u91ca\u4e00\u4e0b\u6e29\u5ea6\u662f\u4ec0\u4e48\u4e1c\u897f\uff1a\u5176\u5b9e\u5c31\u662f\u63a7\u5236\u968f\u673a\u6ce2\u52a8\u5927\u5c0f\u7684\u53c2\u6570\uff0c\u8d8a\u63a5\u8fd1\u6700\u4f18\u89e3\uff0c\u4f60\u5c31\u8981\u964d\u6e29\uff0c\u4e5f\u5c31\u662f\u8ba9T\u6e29\u5ea6\u53d8\u5c0f\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u8ba9\u968f\u673a\u7684\u5e45\u5ea6\u53d8\u5c0f\uff0c\u4e0d\u65ad\u903c\u8fd1\u6700\u4f18\u89e3\u3002\n\n\u6e29\u5ea6\u4e0d\u80fd\u53d6\u592a\u5c0f\uff0c\u4e0d\u7136\u4f1a\u88ab\u56f0\u5728\u5c40\u90e8\u6700\u4f18\u89e3\u3002\n\n\u6839\u636e\u56fe\u611f\u6027\u7406\u89e3\u4e00\u4e0b\uff1a\n\n![](http://yingzf.applinzi.com/cloud/index.php?user/publicLink&fid=27392x7rRqdDW_VWk2Jb2tPZX0MLCAUIiWQHkCa0h2nGp1wIxr3Fi0Ti38B5Ez1zDo47zj3c3EDXKwNVWo75OeEAHOmGIWgH_qJs7fjvCUDMalwh016SgN07BMdLvukHcu8PXCFVTEI1l_DACWXY-ab01_gA6DUHY6qT7wvOGhfrfYDKGpQOr0BJDg&file_name=/1200714-20180331070457230-679205132.gif)\n\n\u90a3\u4e48\u4e3a\u4ec0\u4e48\u53eb\u6e29\u5ea6\u5462\u3002\u3002\u56e0\u4e3a\u8fd9\u4e2a\u4e1c\u897f\u548c\u70ed\u529b\u5b66\u6709\u5173orz\n\n\u5f15\u7528\u4e00\u4e0b\u6211\u53d1\u7684\u8fde\u63a5\u91cc\u9762\u7684\u5927\u4f6c\u8bf4\u7684\uff1a\n\n\u6839\u636e\u70ed\u529b\u5b66\u89c4\u5f8b\u5e76\u7ed3\u5408\u8ba1\u7b97\u673a\u5bf9\u79bb\u6563\u6570\u636e\u7684\u5904\u7406, \u6211\u4eec\u5b9a\u4e49: \u5982\u679c\u5f53\u524d\u6e29\u5ea6\u4e3a T , \u5f53\u524d\u72b6\u6001\u4e0e\u65b0\u72b6\u6001\u4e4b\u95f4\u7684\u80fd\u91cf\u5dee\u4e3a \u0394E , \u5219\u53d1\u751f\u72b6\u6001\u8f6c\u79fb\u7684\u6982\u7387\u4e3a:\n\nP(\u0394E)=e^(\u0394E/kT) \u663e\u7136\u5982\u679c \u0394E \u4e3a\u6b63\u7684\u8bdd\u8f6c\u79fb\u662f\u4e00\u5b9a\u4f1a\u6210\u529f\u7684, \u4f46\u662f\u5bf9\u4e8e \u0394E< \u6211\u4eec\u5219\u4ee5\u4e0a\u5f0f\u4e2d\u8ba1\u7b97\u5f97\u5230\u7684\u6982\u7387\u63a5\u53d7\u8fd9\u4e2a\u65b0\u89e3\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u66f4\u4f18\u7684\u89e3\u4e00\u5b9a\u8981\uff0c\u4e0d\u4f18\u7684\u89e3\u4e5f\u4e0d\u80fd\u5b8c\u5168\u4e0d\u8981\u3002\n\n\u6211\u4eec\u5bf9\u4e8e\u4e0d\u4f18\u7684\u89e3\uff0c\u6211\u4eec\u4e5f\u8981\u53bb\u62d3\u5c55\u4e00\u4e0b\uff0c\u4e0d\u80fd\u4e00\u5473\u53d6\u6700\u4f18\u89e3\uff0c\u4e0d\u7136\u5f88\u5bb9\u6613\u88ab\u56f0\u5728\u5c40\u90e8\u6700\u4f18\u89e3\u3002\n\n## \u89e3\u6cd5\n\u4e00\u4e2a\u91cd\u7269\u7684\u91cd\u529b\u52bf\u80fd\u662f\u548c\u5b83\u7684\u79bb\u5730\u8ddd\u79bb\u6210\u6b63\u6bd4\u7684\uff0c\u56e0\u4e3a\u7ef3\u957f\u548c\u684c\u9762\u79bb\u5730\u9ad8\u5ea6\u662f\u4e0d\u53d8\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u8f6c\u5316\u4e3a\u7ef3\u7ed3\u5230\u6d1e\u7684\u8ddd\u79bb\u548c\u91cd\u529b\u52bf\u80fd\u6210\u6b63\u6bd4\u3002\u5728\u6bd4\u8f83\u89e3\u662f\u5426\u66f4\u4f18\u65f6\uff0c\u6211\u4eec\u7b97\u51fa\u603b\u7684\u91cd\u529b\u52bf\u80fd\uff08\u53ef\u4ee5\u62ff\u8ddd\u79bb*\u91cd\u529b\uff09\uff0c\u5f53\u7136\u662f\u91cd\u529b\u52bf\u80fd\u5c0f\u7684\u66f4\u4f18\u3002\n\n\u5269\u4e0b\u7684\u3002\u3002\u5c31\u662f\u5957\u6a21\u62df\u9000\u706b\u4e86\n\n## \u7a0b\u5e8f\n```cpp\n#include<ctime>\n#include<cmath>\n#include<cstdio>\n#include<cstring>\n#include<iostream>\n#include<algorithm>\nusing namespace std;\nint n;\ndouble T;\nstruct node\n{\n\tdouble x,y,w;\n}p[1100];\ndouble x,y;\ndouble GPE(double ux,double uy)//\u91cd\u529b\u52bf\u80fd\u8ba1\u7b97\n{\n\tdouble sum=0;\n    for(int i=1;i<=n;i++)\n        sum+=sqrt((ux-p[i].x)*(ux-p[i].x)+(uy-p[i].y)*(uy-p[i].y))*p[i].w;\n    return sum;\n}\nvoid SA()\n{\n\tT=2333.0;//\u4fe1\u4ef02333\u5427\n\tdouble xx=x,yy=y;\n\twhile(T>1e-16)//\u5c0f\u4e8e\u7ec8\u6e29\u5c31\u9000\u51fa\uff0c\u7ec8\u6e29\u662f\u63a7\u5236\u7cbe\u5ea6\u7684\n\t{\n\t\tdouble vx=xx+(2.0*rand()-RAND_MAX)*T,vy=yy+(2.0*rand()-RAND_MAX)*T;//\u6ce2\u52a8\u533a\u95f4\u5728-RAND_MAX*T ~ RAND_MAX*T\n\t\tdouble del=GPE(vx,vy)-GPE(xx,yy);//gravitational potential energy\n\t\tif(del<0) x=xx=vx,y=yy=vy;\n\t\telse if(exp(-del/T)*RAND_MAX>rand()) xx=vx,yy=vy;//\u76f8\u4e58\u6bd4\u8f83\u7684\u7cbe\u5ea6\u4f1a\u9ad8\u4e00\u4e9b\n\t\tT*=0.997;//\u4e58\u4e0a\u964d\u6e29\u7cfb\u6570\n\t}\n}\nint main()\n{\n\tsrand(time(NULL));\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;i++)\n\t\tscanf(\"%lf%lf%lf\",&p[i].x,&p[i].y,&p[i].w),x+=p[i].x,y+=p[i].y;\n\tx/=(double)n,y/=(double)n;//\u53d6\u5e73\u5747\u503c\u597d\u4e00\u4e9b\n\tSA(),SA();\n\tprintf(\"%.3lf %.3lf\",x,y);\n\treturn 0;\n}\n```\n\n## \u5fe0\u544a\n\n~~\u5982\u679c\u603b\u6709\u4e00\u4e24\u4e2a\u70b9\u8fc7\u4e0d\u4e86\uff0c\u6362\u4e00\u4e9b\u7384\u5b66\u7684\u53c2\u6570~~\n\n~~\u8fd8\u662f\u8fc7\u4e0d\u4e86\uff0c\u90a3\u662f\u4f60\u8138\u592a\u9ed1\u4e86\u3002\u3002\u8ba9\u6b27\u6d32\u4eba\u5e2e\u4f60\u6539\u53c2\u6570\u3001\u4ea4\u4ee3\u7801\u5427\u3002\u3002\u3002~~\n\n \u5982\u679c\u53d1\u73b0\u7ecf\u5e38\u9677\u5165\u5c40\u90e8\u6700\u4f18\u89e3\u7684\u8bdd\u8003\u8651\u589e\u5927\u521d\u59cb\u7684T\u548c\u964d\u6e29\u7cfb\u6570 , \u5982\u679c\u53d1\u73b0\u6700\u7ec8\u7cbe\u5ea6\u4e0d\u591f\u7684\u8bdd\u8003\u8651\u51cf\u5c0f\u7ec8\u6e29",
        "postTime": 1532854680,
        "uid": 21874,
        "name": "hicc0305",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P1337 \u3010[JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u3011"
    },
    {
        "content": "**P1337 [JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX**  \nP1337 [JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX\u9898\u89e3  \n**\uff01\u6a21\u62df\u9000\u706b\uff01**  \n\u8bb2\u8bb2\u6a21\u62df\u9000\u706b\u662f\u4e2a\u5565  \n\u6a21\u62df\u9000\u706b\uff1a  \n\u7528\u4e86\u6a21\u62df\u9000\u706b\u8fc7\u7a0b\u7684\u601d\u60f3  \n\u6240\u4ee5\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7  \nTA\u662f\u6a21\u62df  \n\u6240\u4ee5\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7  \n\u666e\u53ca\u7ec4\u53ef\u4ee5\u8003  \n\u6240\u4ee5\u00b7\u00b7\u00b7\u00b7\u00b7\u00b7  \n\u5927\u5bb6\u5feb\u5b66\u5440\uff01   \n\n\n------------\n\n\u6a21\u62df\u9000\u706b  \n3 2 1 START\uff01\n--\n\n\u5176\u5b9e\u5c31\u662f\u7c7b\u4f3c\u4e8c\u5206\u67e5\u627e\u3002  \n\u4e0d\u540c\u7684\u662f\uff1a  \n\u6ca1\u6709\u5355\u8c03\u6027Ta\u4e5f\u53ef\u4ee5\u5de5\u4f5c\uff01  \n\u5177\u4f53\u6d41\u7a0b\uff08\u4f2a\u4ee3\u7801\uff09\uff1a  \n```cpp\n\nwhile(\u6ca1\u5230\u8fb9\u754c){\n\t//\u641e\u4e2a\u968f\u673a\u6570\n   cal();//\u8ba1\u7b97\u65b0\u7684\u7b54\u6848\n   change();//\u66f4\u65b0\n   T*=0.999;//\u9000\u706b\n}\n\n```\n\n\u5927\u5bb6\u81ea\u5df1\u770b\u535a\u5ba2\u5427  \n\u6211\u592a\u849f\u84bb\u4e86  \n\u4e0a\u4ee3\u7801\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n#define db double\n#define cdb const double\nconst int N=3005;\nstruct node{\n    db x;\n    db y;\n    db w;\n}s[N];\nint n;\ndb ansx,ansy;\ncdb cnt=1e-15;//\u8d85\u7ea7\u5c0f\u7684\u5e38\u6570 \ninline void OJ(){\n    freopen(\"DDXXX.in\",\"r\",stdin);\n    freopen(\"DDXXX.out\",\"w\",stdout); \n}\ndb F(db x,db y){//\u8ba1\u7b97\u529b\u7684\u5927\u5c0f \n    db tot=0;\n    for(int i=1;i<=n;i++){\n        db dx=x-s[i].x;\n        db dy=y-s[i].y;\n        tot+=sqrt(dx*dx+dy*dy)*s[i].w;//\u52fe\u80a1\u5b9a\u7406\u7b97\u8ddd\u79bb \n    }\n    return tot;\n}\ninline void work(){\n    db T=200;//\u968f\u673a\u9009\u64cd\u4f5c\u6b21\u6570\n    while(T>cnt){\n        db nx=ansx+(rand()*2-RAND_MAX)*T;\n        db ny=ansy+(rand()*2-RAND_MAX)*T;\n        db delta=F(nx,ny)-F(ansx,ansy);//\u86cb\u631e \n        if(delta<0) ansx=nx,ansy=ny;//\u66f4\u65b0 \n        else if(exp(-delta/T)*RAND_MAX>rand()) ansx=nx,ansy=ny;\n        T*=0.998;\n    } \n}\nint main(){\n    srand((int)time(NULL));\n    cin >> n;\n    for(int i=1;i<=n;i++){\n        scanf(\"%lf%lf%lf\",&s[i].x,&s[i].y,&s[i].w);\n        ansx+=s[i].x;\n        ansy+=s[i].y;\n    }\n    //\u6a21\u62df\u9000\u706bstep1:\u968f\u673a\u9009\u8d77\u70b9 \n    ansx/=(db)n;\n    ansy/=(db)n;\n    work();\n    printf(\"%.3lf %.3lf\\n\",ansx,ansy);\n    return 0;\n} \n```",
        "postTime": 1543213388,
        "uid": 61757,
        "name": "Seanq",
        "ccfLevel": 0,
        "title": "P1337 [JSOI2004]\u5e73\u8861\u70b9 / \u540a\u6253XXX"
    }
]