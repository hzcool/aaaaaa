[
    {
        "content": "\u624b\u52a8\u6a21\u62df\u4e00\u4e0b\u4ece $x$ \u70b9\u51fa\u53d1\u7684\u8fc7\u7a0b\uff0c\u5fc5\u7136\u662f\u5148\u541e\u6389 $\\le x$ \u7684\u70b9\uff0c\u603b\u548c\u8fbe\u5230 $s$\uff0c\u63a5\u7740\u541e\u6389 $\\le s$ \u7684\u70b9\uff0c\u4e00\u76f4\u4e0b\u53bb\u76f4\u5230\u4e0d\u80fd\u518d\u541e\u4f4d\u7f6e\u3002\n\n\u90a3\u4e48\u6211\u4eec\u9700\u8981\u652f\u6301\u5feb\u901f\u67e5\u8be2\u4ece\u70b9 $x$ \u51fa\u53d1\uff0c\u7ecf\u8fc7 $\\le y$ \u7684\u70b9\u80fd\u5230\u8fbe\u7684\u8fde\u901a\u5757\u7684\u5927\u5c0f\u3002\u6211\u4eec\u628a\u6bcf\u6761\u8fb9\u7684\u8fb9\u6743\u8d4b\u4e3a $\\max\\{s_a,s_b\\}$\uff0c\u90a3\u4e48\u8fd9\u5c31\u53ef\u4ee5\u7b80\u5355\u7528 kruscal \u91cd\u6784\u6811\u89e3\u51b3\u3002\n\n\u6ca1\u541e\u4e24\u6b21 $s$ \u7684\u5927\u5c0f\u81f3\u5c11\u7ffb\u500d\uff0c\u518d\u8003\u8651\u500d\u589e\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f $\\mathcal{O}(n\\log ^ 2 n)$\u3002\n\n```cpp\n#define N 400005\nint k, n, m, t, fa[N], w[N], f[N][19]; LL s[N];\nstruct node{\n\tint u, v, w;\n\tbool operator<(const node o)const{return w < o.w;}\n}e[N];\nint get(int x){return fa[x] == x ? x : fa[x] = get(fa[x]);}\nint main() {\n\tread(n, m);\n\trp(i, n)read(s[i]), fa[i] = i;\n\trp(i, m)read(e[i].u, e[i].v), e[i].w = max(s[e[i].u], s[e[i].v]);\n\tsort(e + 1, e + m + 1), t = n;\n\trp(i, m){\n\t\tint x = get(e[i].u), y = get(e[i].v);\n\t\tif(x != y)++t, fa[x] = fa[y] = fa[t] = f[x][0] = f[y][0] = t, s[t] = s[x] + s[y], w[t] = e[i].w;\n\t}\n\tk = log2(t);\n\trp(i, k)rp(x, t)f[x][i] = f[f[x][i - 1]][i - 1];\n\trp(i, n){\n\t\tint x = i;\n\t\twhile(true){\n\t\t\tLL p = s[x];\n\t\t\tpre(j, k, 0)if(f[x][j] && p >= w[f[x][j]])x = f[x][j];\n\t\t\tif(p == s[x])break;\n\t\t}\n\t\tif(!f[x][0])pc('1'); else pc('0');\n\t}el;\n\treturn 0;\n}\n```",
        "postTime": 1655597384,
        "uid": 119261,
        "name": "7KByte",
        "ccfLevel": 0,
        "title": "\u3010\u9898\u89e3\u3011\u300cBalticOI 2022 Day2\u300dStranded Far From Home"
    },
    {
        "content": "\u5148\u8003\u8651\u6700\u5927\u7684\u70b9\uff0c\u8fd9\u4e2a\u70b9\u4e00\u5b9a\u80fd\u591f\u8bf4\u670d\u6240\u6709\u7684\u6751\u5e84\u3002\u800c\u522b\u7684\u6751\u5e84\u4e3a\u4e86\u80fd\u591f\u8bf4\u670d\u8fd9\u4e2a\u6700\u5927\u7684\u6751\u5e84\uff0c\u5fc5\u987b\u8981\u5148\u901a\u8fc7\u8bf4\u670d\u522b\u7684\u6751\u5e84\u6765\u8fbe\u5230\u76ee\u7684\u3002\n\n\u5148\u628a\u8fd9\u4e2a\u6700\u5927\u7684\u6751\u5e84\u5220\u6389\uff0c\u5269\u4e0b\u7684\u56fe\u5c31\u4f1a\u5206\u6210\u82e5\u5e72\u4e2a\u8fde\u901a\u5757\u3002\u663e\u7136\u5982\u679c\u4e00\u4e2a\u6751\u5e84\u80fd\u591f\u8bf4\u670d\u56fe\u4e2d\u6240\u6709\u7684\u6751\u5e84\uff0c\u90a3\u4e48\u5fc5\u7136\u80fd\u5148\u8bf4\u670d\u81ea\u5df1\u5c5e\u4e8e\u7684\u8fde\u901a\u5757\u7684\u6751\u5e84\u3002\u5e76\u4e14\u80fd\u591f\u8bf4\u670d\u8fd9\u4e2a\u6700\u5927\u7684\u6751\u5e84\uff0c\u5c31\u80fd\u591f\u8bf4\u670d\u6574\u5f20\u56fe\u4e2d\u7684\u6751\u5e84\u3002\u800c\u5982\u679c\u4e00\u4e2a\u8fde\u901a\u5757\u4e2d\u7684\u6240\u6709\u6751\u5e84\u7684\u4eba\u6570\u4e4b\u548c\u90fd\u6ca1\u6709\u8fd9\u4e2a\u6700\u5927\u7684\u6751\u5e84\u591a\uff0c\u90a3\u4e48\u8fd9\u4e2a\u8fde\u901a\u5757\u4e2d\u7684\u6751\u5e84\u5c31\u4e0d\u53ef\u80fd\u8bf4\u670d\u6240\u6709\u6751\u5e84\u3002\u628a\u8fd9\u6837\u7684\u8fde\u901a\u5757\u5220\u6389\uff0c\u5269\u4e0b\u7684\u76f4\u63a5\u9012\u5f52\u4e0b\u53bb\u5c31\u884c\u4e86\u3002\n\n\u5177\u4f53\u5b9e\u73b0\u7684\u65f6\u5019\uff0c\u4e3a\u4e86\u65b9\u4fbf\uff0c\u53ef\u4ee5\u4f7f\u7528\u5e76\u67e5\u96c6\u91cd\u65b0\u5efa\u6811\u3002\u65f6\u95f4\u590d\u6742\u5ea6 $\\mathcal O(n\\log n)$\u3002\n\n\n\n```cpp\n// Author: e3c8f1a924   Time: 2022\u5e7410\u670807\u65e5 \u661f\u671f\u4e94 14\u65f618\u520651\u79d2\n#include<cstdio>\n#include<algorithm>\n#include<vector>\ntypedef long long ll;\nint f[200005], _[200005], n, vis[200005], m, s[200005], ans[200005];\nll S[200005];\nstd::vector<int> e[200005], son[200005];\nint find(int x) { return f[x] == x ? x : (f[x] = find(f[x])); }\nvoid dfs(int u) {\n\tS[u] = s[u];\n\tfor (int v : son[u]) dfs(v), S[u] += S[v];\n}\nvoid solve(int u) {\n\tans[u] = 1;\n\tfor (int v : son[u]) {\n\t\tif (S[v] >= s[u]) solve(v);\n\t}\n}\nint main() {\n\tscanf(\"%d%d\", &n, &m);\n\tfor (int i = 1; i <= n; i++) scanf(\"%d\", s + i);\n\tfor (int i = 1; i <= m; i++) {\n\t\tint u, v; scanf(\"%d%d\", &u, &v);\n\t\te[u].push_back(v), e[v].push_back(u);\n\t}\n\tfor (int i = 1; i <= n; i++) f[i] = i;\n\tfor (int i = 1; i <= n; i++) _[i] = i;\n\tstd::sort(_ + 1, _ + n + 1, [=](int x, int y) { return s[x] < s[y]; });\n\tfor (int i = 1; i <= n; i++) {      // \u91cd\u65b0\u5efa\u6811\n\t\tfor (int j : e[_[i]]) {\n\t\t\tif (!vis[j]) continue;\n\t\t\tif (find(j) == _[i]) continue;\n\t\t\tson[_[i]].push_back(find(j));\n\t\t\tf[find(j)] = _[i];\n\t\t}\n\t\tvis[_[i]] = 1;\n\t}\n\tint tot = 0;\n\tfor (int i = 1; i <= n; i++) if (f[i] == i) tot++;\n\tif (tot > 1) {\n\t\tfor (int i = 0; i < n; i++) putchar('0');\n\t\treturn puts(\"\"), 0;\n\t}\n\tdfs(_[n]), solve(_[n]);\n\tfor (int i = 1; i <= n; i++) printf(\"%d\", ans[i]);\n\treturn puts(\"\"), 0;\n}\n\n```",
        "postTime": 1665125116,
        "uid": 106140,
        "name": "e3c12195e3beef64f29a",
        "ccfLevel": 7,
        "title": "\u6807\u9898"
    }
]