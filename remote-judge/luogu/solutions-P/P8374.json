[
    {
        "content": "\u6ce8\u610f\u82e5\u4e24\u5757\u4e1c\u897f\u5408\u5e76\uff0c\u90a3\u4e48\u6211\u4eec\u53ea\u9700\u8981\u77e5\u9053\u4ed6\u4eec\u5408\u5e76\u7684\u8fb9\u754c\u4e0a\u6240\u6709\u4e1c\u897f\u7684\u8054\u901a\u60c5\u51b5\uff0c\u548c\u5b83\u4eec\u5404\u81ea\u7684\u8fde\u901a\u5757\u4e2a\u6570\uff0c\u5c31\u53ef\u4ee5\u7b97\u51fa\u603b\u8fde\u901a\u5757\u4e2a\u6570\uff0c\u8003\u8651\u4e00\u79cd\u8fdb\u884c\u5408\u5e76\u7684\u65b9\u5f0f\u3002\n\n\u8003\u8651\u9664\u4e86\u6700\u540e\u4e00\u8f6e\uff0c\u6bcf\u8f6e\u7ed3\u675f\u540e\uff0c\u79f0\u5f53\u524d\u8303\u56f4\u4e3a\u4e0b\u4e00\u8f6e\u80fd\u770b\u5230\u7684\u5b58\u50a8\u5668\uff0c\u8fd9\u4e00\u5b9a\u662f\u4e00\u4e2a\u5de6\u4e0a\u89d2\u7684\u6b63\u65b9\u5f62\u3002\n\n\u6211\u4eec\u8ba9\u8fd9\u4e9b\u5b58\u50a8\u5668\u5b58\u50a8\u8fd9\u4e9b\u4fe1\u606f\uff1a\n\n- \u5bf9\u4e8e\u4e0d\u5728\u5f53\u524d\u8303\u56f4\u7684\u53f3\u8fb9\u754c\u6216\u4e0b\u8fb9\u754c\u7684\u5b58\u50a8\u5668\uff0c\u5b58\u50a8\u521d\u59cb\u4fe1\u606f\uff08\u8be5\u4f4d\u7f6e\u662f\u5426\u662f\u6c34\u57df\uff09\u3002\n- \u5bf9\u4e8e\u5728\u5f53\u524d\u8303\u56f4\u7684\u53f3\u8fb9\u754c\u4f46\u4e0d\u662f\u53f3\u4e0b\u89d2\u7684\u5b58\u50a8\u5668\uff0c\u5b58\u50a8\u5b83\u4ee5\u53ca\u5b83\u53f3\u8fb9\u6240\u6709\u683c\u5b50\u4ee5\u53ca\u5b83\u4e0b\u9762\u4e00\u4e2a\u683c\u5b50\u53ca\u5176\u53f3\u8fb9\u6240\u6709\u683c\u5b50\u662f\u5426\u662f\u6c34\u57df\u7684\u4fe1\u606f\u3002\n- \u5bf9\u4e8e\u5728\u5f53\u524d\u8303\u56f4\u7684\u4e0b\u8fb9\u754c\u4f46\u4e0d\u662f\u53f3\u4e0b\u89d2\u7684\u5b58\u50a8\u5668\uff0c\u5bf9\u79f0\u7684\uff0c\u5b58\u50a8\u5b83\u4ee5\u53ca\u5b83\u4e0b\u8fb9\u6240\u6709\u683c\u5b50\u4ee5\u53ca\u5b83\u53f3\u9762\u4e00\u4e2a\u683c\u5b50\u53ca\u5176\u4e0b\u8fb9\u6240\u6709\u683c\u5b50\u662f\u5426\u662f\u6c34\u57df\u7684\u4fe1\u606f\u3002\n- \u5bf9\u4e8e\u53f3\u4e0b\u89d2\u7684\u5b58\u50a8\u5668\uff0c\u5b58\u50a8\u5b83\u53f3\u4e0b\u89d2\u6240\u6709\u683c\u5b50\u6784\u6210\u7684\u6b63\u65b9\u5f62\uff0c\u4e0a\u8fb9\u754c\u548c\u5de6\u8fb9\u754c\u4e0a\u6240\u6709\u683c\u5b50\u4e2d\u7684\u6240\u6709\u9646\u5730\u7684\u683c\u5b50\u4e4b\u95f4\u7684\u8054\u901a\u60c5\u51b5\u3002\u4ee5\u53ca\u8fde\u901a\u5757\u6570\u91cf\u3002\n\n\u4f8b\u5982\uff0c$n=3$\uff0c\u7b2c\u4e8c\u8f6e\u7ed3\u675f\u540e\uff0c\u5f53\u524d\u8303\u56f4\u662f\u6846\u4f4f\u7684\u6b63\u65b9\u5f62\uff0c\u5176\u4e2d\u767d\u8272\u683c\u5b50\u5c31\u5b58\u50a8\u521d\u59cb\u4fe1\u606f\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/huji5w3d.png)\n\n\u9ec4\u8272\u683c\u5b50\u5219\u5b58\u50a8\u5176\u4ee5\u53ca\u5176\u65c1\u8fb9\u4e00\u884c\u6216\u5217\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u8fd9\u4e2a\u9ec4\u8272\u683c\u5b50\u5b58\u50a8\u4e86\u5b83\u4ee5\u53ca\u6240\u6709\u6a59\u8272\u683c\u5b50\u662f\u5426\u662f\u6c34\u57df\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/nljz5phj.png)\n\n\u7eff\u8272\u683c\u5b50\u5219\u5b58\u50a8\u6240\u6709\u7eff\u3001\u6d45\u7eff\u3001\u84dd\u8272\u7684\u683c\u5b50\u4e2d\u7684\u8fde\u901a\u5757\u6570\uff0c\u4ee5\u53ca\u7eff\u8272\u548c\u6d45\u7eff\u8272\u683c\u5b50\u4e2d\u6240\u6709\u9646\u5730\u7684\u8054\u901a\u60c5\u51b5\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/hlgtp241.png)\n\n\u6ce8\u610f\u8fd9\u4e9b\u4fe1\u606f\u6c42\u51fa\u6765\u4e4b\u540e\uff0c\u4e0b\u4e00\u8f6e\u7684\u4fe1\u606f\u4f9d\u7167\u8fd9\u4e9b\u50a8\u5b58\u5355\u5143\u7684\u4fe1\u606f\u4e5f\u662f\u663e\u7136\u53ef\u4ee5\u6c42\u51fa\u6765\u7684\uff1a\u767d\u8272\u548c\u9ec4\u8272\u683c\u5b50\u7684\u4fe1\u606f\u663e\u7136\u662f\u80fd\u76f4\u63a5\u6c42\u7684\u3002\u800c\u81f3\u4e8e\u8fde\u901a\u5757\u7684\u4fe1\u606f\uff0c\u901a\u8fc7\u9ec4\u8272\u683c\u5b50\u53ef\u4ee5\u77e5\u9053\u9664\u4e86\u53f3\u4e0b\u89d2\u77e9\u5f62\u5185\u6240\u6709\u4f4d\u7f6e\u662f\u9646\u5730\u8fd8\u662f\u6c34\u57df\uff0c\u800c\u53f3\u4e0b\u89d2\u77e9\u5f62\u7684\u8fb9\u754c\u4e0a\u6240\u6709\u9646\u5730\u7684\u8054\u901a\u60c5\u51b5\u5df2\u77e5\uff0c\u90a3\u4e48\u663e\u7136\u662f\u53ef\u4ee5\u6c42\u51fa\u8fde\u901a\u5757\u6570\uff0c\u4ee5\u53ca\u65b0\u7684\u77e9\u5f62\u8fb9\u754c\u4e0a\u7684\u8054\u901a\u60c5\u51b5\u3002\n\n\u6240\u4ee5\u53ea\u8981\u6211\u4eec\u80fd\u591f\u628a\u8fd9\u4e9b\u4fe1\u606f\u585e\u5230 $100$ bits \u7684\u9650\u5236\u91cc\uff0c\u5c31\u53ef\u4ee5\u5728\u6700\u540e\u4e00\u8f6e\u8ba1\u7b97\u51fa\u7b54\u6848\u3002\n\n\u6ce8\u610f\u4e0d\u5728\u8fb9\u754c\u7684\u683c\u5b50\u663e\u7136\u6ca1\u6709\u95ee\u9898\uff0c\u5269\u4e0b\u7684\u4e0d\u662f\u53f3\u4e0b\u89d2\u7684\u683c\u5b50\u76f4\u63a5\u628a\u9700\u8981\u8bb0\u5f55\u7684\u6700\u591a $4n-2\\leq 78\\leq 100$ \u4e2a\u683c\u5b50\u7684\u4fe1\u606f\u5b58\u8fdb\u53bb\u5c31\u597d\u3002\n\n\u5269\u4e0b\u7684\u5c31\u662f\u53f3\u4e0b\u89d2\u600e\u4e48\u7f16\u7801\uff0c\u9996\u5148\u8fde\u901a\u5757\u6570\u91cf\u6700\u591a $((2n+1)^2+1)/2<2^{10}$ \u4e2a\uff0c\u9700\u8981 $10$ bits \u7f16\u7801\u3002\u9700\u8981\u5728 $90$ bits \u4ee5\u5185\u7f16\u7801\u5176\u53f3\u4e0b\u89d2\u6b63\u65b9\u5f62\u7684\u4e0a\u8fb9\u754c\u548c\u5de6\u8fb9\u754c\u4e0a\uff0c\u6240\u6709\u9646\u5730\u4e4b\u95f4\u7684\u8054\u901a\u60c5\u51b5\u3002\n\n\u8003\u8651\u628a\u5176\u4e0a\u8fb9\u754c\u548c\u5de6\u8fb9\u754c\u4ee5\u67d0\u4e00\u4e2a\u65b9\u5411\u770b\u6210\u4e00\u4e2a\u5e8f\u5217\uff0c\u9996\u5148\u8fd9\u4e2a\u5e8f\u5217\u4e0a\u8fde\u7eed\u4e00\u6bb5\u9646\u5730\u4e00\u5b9a\u662f\u8054\u901a\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u8003\u8651\u8fd9\u4e9b\u9646\u5730\u7684\u8fde\u7eed\u6bb5\u3002\u7136\u540e\u6bb5\u4e4b\u95f4\uff0c\u6ce8\u610f\u7f51\u683c\u56fe\u662f\u5e73\u9762\u56fe\uff0c\u5982\u679c\u6211\u4eec\u628a\u8fd9\u4e9b\u8fde\u7eed\u6bb5\u6309\u987a\u5e8f\u6392\u6210\u4e00\u6392\uff0c\u7136\u540e\u82e5\u6709\u4e24\u4e2a\u6bb5\u8fde\u901a\uff0c\u4e14\u5b83\u4eec\u4e2d\u95f4\u6ca1\u6709\u5176\u5b83\u6bb5\u4e0e\u4ed6\u4eec\u8fde\u901a\uff0c\u90a3\u4e48\u5c31\u8fde\u4e00\u6761\u8fb9\u3002\u90a3\u4e48\u5f62\u6210\u7684\u56fe\u4e0d\u4f1a\u6709\u4ea4\u53c9\uff0c\u4e5f\u5c31\u662f\u53ef\u4ee5\u7528\u62ec\u53f7\u5e8f\u5217\u6765\u8868\u793a\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\uff0c\u6bcf\u4e2a\u8fde\u7eed\u6bb5\u5bf9\u5e94\u82e5\u5e72\u4e2a\uff08\u53ef\u80fd\u662f $0$ \u4e2a\uff09\u62ec\u53f7\uff0c\u7136\u540e\u5f62\u6210\u7684\u62ec\u53f7\u5e8f\u5217\u6240\u6709\u76f8\u5339\u914d\u7684\u62ec\u53f7\u7684\u4e24\u6bb5\u662f\u8fde\u901a\u7684\u3002\n\n\u4f8b\u5982\u4e0a\u9762\u7684\u4f8b\u5b50\uff0c\u8fb9\u754c\u4e0a\u8fde\u7eed\u6bb5\u662f\u8fd9\u4e09\u4e2a\uff0c\u4e24\u8fb9\u7684\u8fde\u7eed\u6bb5\u8fde\u901a\u4f46\u4e0d\u4e0e\u4e2d\u95f4\u7684\u8054\u901a\uff0c\u5bf9\u5e94\u7684\u62ec\u53f7\u5e8f\u5217\u662f\u8fd9\u6837\u7684\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/pxiff72g.png)\n\n\u518d\u4f8b\u5982\uff0c\u82e5\u6709\u4e9b\u8fde\u7eed\u6bb5\u7684\u8fde\u901a\u60c5\u51b5\u7528\u7ea2\u8272\u683c\u5b50\u8868\u793a\uff0c\u90a3\u4e48\u5bf9\u5e94\u7684\u62ec\u53f7\u4e32\u662f\u8fd9\u6837\u7684\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/quxdh7op.png)\n\n\u6ce8\u610f\u6bcf\u4e00\u4e2a\u8fde\u7eed\u6bb5\u53ef\u80fd\u4f1a\u5bf9\u5e94 \u7a7a\u62ec\u53f7\u4e32\u3001`(`\u3001`)`\u3001`)(` \u56db\u79cd\u62ec\u53f7\u4e32\uff0c\u53ea\u9700\u8981 $2$ bits \u5c31\u53ef\u4ee5\u7f16\u7801\u3002\u800c\u4e0a\u5de6\u8fb9\u754c\u957f\u5ea6\u6700\u591a $4n-3$\uff0c\u90a3\u4e48\u9646\u5730\u6709\u6700\u591a $(4n-3+1)/2=2n-1$ \u6bb5\uff0c\u90a3\u4e48\u8fd9\u6700\u591a\u9700\u8981 $2(2n-1)=4n-2\\leq78$ bits \u8868\u793a\uff0c\u52a0\u4e0a\u8fde\u901a\u5757\u6570\u7684 $10$ bits\uff0c\u8fd8\u5269\u4e0b $12$ bits\uff0c\u7ef0\u7ef0\u6709\u4f59\u3002~~\u5982\u679c\u7528\u5230\u62ec\u53f7\u5e8f\u5217\u5fc5\u5b9a\u5408\u6cd5\u7684\u6027\u8d28\u751a\u81f3\u80fd\u518d\u5228\u6389\u51e0\u4e2abits\u3002~~\n\n\u5b9e\u9645\u5b9e\u73b0\u975e\u5e38\u597d\u5199\uff0c\u53ea\u9700\u8981\u4e00\u4e2a\u5e76\u67e5\u96c6\u7ef4\u62a4\u4e00\u4e0b\uff0c\u7136\u540e\u7528\u6808\u6765\u89e3\u7801\u62ec\u53f7\u5e8f\u5217\u5c31\u597d\u4e86\u3002\n\n\uff08\u4ee3\u7801\u91cc\u4e3a\u4e86\u65b9\u4fbf\uff0c\u5b9e\u9645\u4e0a\u8fde\u901a\u5757\u6570\u51cf\u53bb\u4e86\u548c\u8fb9\u754c\u76f8\u8fde\u7684\uff09\n\n```code\n#include<bits/stdc++.h>\n#include\"mars.h\"\nusing namespace std;\n//dengyaotriangle!\n\nstring process(vector<vector<string>> a,int i,int j,int k,int n){\n    if(i==2*(n-k-1)&&j==2*(n-k-1)){\n        int len=k*2+3;\n        vector<vector<char> > mp(len,vector<char>(len,0));\n        vector<int> fa(len*len);\n        iota(fa.begin(),fa.end(),0);\n        function<int(int)> grt=[&](int u){return fa[u]==u?u:fa[u]=grt(fa[u]);};\n        auto tr=[&](int i,int j){return i*len+j;};\n        int ans=0;\n        auto tm=[&](int i,int j){\n            i=grt(i),j=grt(j);\n            if(i!=j)fa[i]=j,ans--;\n        };\n        if(k==0){\n            for(int i=0;i<3;i++)for(int j=0;j<3;j++)mp[i][j]=a[i][j][0]-'0';\n        }else{\n            for(int i=0;i<2;i++)for(int j=0;j<2;j++)mp[i][j]=a[i][j][0]-'0';\n            for(int t=0;t<2;t++){\n                for(int i=1,j=2,s=0;j<len;j+=i==0,i^=1,s++){\n                    mp[i+t][j]=a[t][2][s]-'0';\n                }\n            }\n            for(int t=0;t<2;t++){\n                for(int j=1,i=2,s=0;i<len;i+=j==0,j^=1,s++){\n                    mp[i][j+t]=a[2][t][s]-'0';\n                }\n            }\n            for(int i=99;i>=88;i--)ans=ans*2+a[2][2][i]-'0';\n        }\n        for(int i=0;i<len;i++)for(int j=0;j<len;j++)ans+=mp[i][j];//,cerr<<int(mp[i][j])<<\" \\n\"[j==len-1];\n        for(int i=0;i<len;i++)for(int j=0;j<len;j++){\n            if(mp[i][j]){\n                if(i+1<len&&mp[i+1][j]){\n                    tm(tr(i,j),tr(i+1,j));\n                }\n                if(j+1<len&&mp[i][j+1]){\n                    tm(tr(i,j),tr(i,j+1));\n                }\n            }\n        }\n        if(k){//decode!\n            int rp=-1;\n            int z=0;\n            stack<int> stk;\n            for(int i=2,j=len-1;i<=len;i+=j==2,j-=j>2){\n                if(i==len||!mp[i][j]){\n                    if(rp!=-1){\n                        if(a[2][2][z]=='1'){// ) ?\n                            int u=stk.top();stk.pop();\n                            tm(u,rp);\n                        }\n                        if(a[2][2][z+1]=='1'){// ( ?\n                            stk.push(rp);\n                        }\n                        z+=2;\n                    }\n                    rp=-1;\n                }else rp=tr(i,j);\n            }\n        }\n        if(k==n-1){//ret\n            string x;\n            for(int i=0;i<100;i++,ans/=2)x+=ans%2+'0';\n            return x;\n        }else{//encode!\n            string ret;\n            int rp=-1;\n            vector<int> vec;\n            for(int i=0,j=len-1;i<=len;i+=!j,j-=!!j){\n                if(i==len||!mp[i][j]){\n                    if(rp!=-1){\n                        vec.push_back(rp);\n                    }\n                    rp=-1;\n                }else rp=tr(i,j);\n            }\n            for(int i=0;i<vec.size();i++){\n                string u=\"00\";\n                for(int j=0;j<i;j++){\n                    if(grt(vec[i])==grt(vec[j]))u[0]='1';\n                }\n                for(int j=i+1;j<vec.size();j++){\n                    if(grt(vec[i])==grt(vec[j]))u[1]='1';\n                }\n                ans-=u[0]=='0';\n                ret+=u;\n            }\n            while(ret.size()<88)ret+='0';\n            for(int i=88;i<100;i++,ans/=2)ret+=ans%2+'0';\n            return ret;\n        }\n    }else if(i==2*(n-k-1)){\n        string ret=a[2][0];\n        if(k==0)ret=a[2][1][0]+ret;\n        ret=a[0][1][0]+(a[0][0][0]+(a[1][1][0]+(a[1][0][0]+ret)));\n        while(ret.size()>100)ret.pop_back();\n        return ret;\n    }else if(j==2*(n-k-1)){\n        string ret=a[0][2];\n        if(k==0)ret=a[1][2][0]+ret;\n        ret=a[1][0][0]+(a[0][0][0]+(a[1][1][0]+(a[0][1][0]+ret)));\n        while(ret.size()>100)ret.pop_back();\n        return ret;\n    }else return a[0][0];\n}\n\n```",
        "postTime": 1654615877,
        "uid": 62598,
        "name": "dengyaotriangle",
        "ccfLevel": 10,
        "title": "P8374 [APIO2022] \u706b\u661f \u9898\u89e3"
    },
    {
        "content": "\u5199\u4e2a\u5634\u5df4 sol\u3002\u5982\u679c\u54e5\u54e5\u4eec\u53d1\u73b0\u6709\u95ee\u9898\u9ebb\u70e6\u548c\u6211\u8bf4\u4e00\u4e0b\u3002\n\n\u573a\u4e0a\u5199\u4e86 450 \u884c\u6ca1\u6709\u5199\u5b8c\uff0c\u4e5f\u6ca1\u6709\u610f\u613f\u63a5\u7740\u8c03\u4e86\u3002\n\n\u9996\u5148\u6211\u4eec\u89c2\u5bdf\u9898\u9762\u6027\u8d28\u3002\u6bcf\u4e2a\u4f4d\u7f6e\u7ed9\u4e86\u9ad8\u8fbe 100 bit \u7684\u7a7a\u95f4\u3002\n\n\u4e8e\u662f\u5bf9\u4e8e\u6240\u6709 $2n+1 \\le 10$\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u628a\u6574\u5f20\u56fe\u72b6\u538b\u4e0b\u6765\u7136\u540e\u53bb\u7b97\u7b54\u6848\u3002\u8fd9\u4e2a\u662f\u5e73\u51e1\u7684\u4e14\u80fd\u83b7\u5f97 14 \u5206\u3002\n\n\u540c\u65f6\u6211\u4eec\u53d1\u73b0\u6211\u4eec\u5bb9\u6613\u5728\u524d\u51e0\u8f6e\u72b6\u538b\u4e0b\u6bcf\u4e2a\u4f4d\u7f6e\u53ca\u5176\u53f3\u4e0b $9 \\times 9$ \u7684\u72b6\u6001\u3002\u7136\u540e\u901a\u8fc7\u4e00\u4e9b**\u5c0f\u5c0f**\u7684\u8ba8\u8bba\u628a\u4ed6\u4eec\u653e\u5230\u6700\u5de6\u4e0a\u89d2\uff0c\u5728\u6700\u540e\u4e00\u6b21\u8be2\u95ee\u4e2d\u5f97\u5230\u81f3\u591a $27 \\times 27$ \u7684\u533a\u57df\u3002\u53ef\u4ee5\u83b7\u5f97 44 \u5206\u3002\n\n\u7136\u540e\u4f60\u628a\u4ed6\u518d\u7a0d\u4e8b\u8ba8\u8bba\u53ef\u4ee5\u538b $10\\times 10 $ \u83b7\u5f97 54 \u5206\u3002\n\n\u63a5\u4e0b\u6765\u8bf4\u6b63\u89e3\u3002\u4e0d\u59a8\u5047\u8bbe $n=20$\u3002\n\n\u53d1\u73b0\u538b\u6574\u5f20\u56fe\u4e0d\u9760\u8c31\uff0c\u6211\u4eec\u6765\u538b\u8fb9\u754c\u60c5\u51b5\u3002\n\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/c5dmfej0.png)\n\n\u5728\u6700\u540e\u53ea\u5269 $5\\times 5$ \u7684\u65f6\u5019\uff0c\u6211\u5c06\u683c\u5b50\u5206\u4e3a\u4ee5\u4e0b 2 \u7c7b\uff1a\n\n- \u56fe\u4e2d\u6807\u4e86 O(1) \u7684\u683c\u5b50\u3002\u5219\u8868\u793a\u5176\u4e3a\u81f3\u5c11\u4e00\u8fb9\u957f\u4e3a $2\\times n-39$\uff0c\u6b64\u5904\u5373 1 \u7684\u957f\u65b9\u5f62\u3002\n\n- \u5176\u4f59\u683c\u5b50\u3002\u4e3a $10\\times 10$\u3002\n\n\u90a3\u4e48\u6211\u5e0c\u671b\u5728\u7b2c\u4e8c\u7c7b\u533a\u57df\u4e2d\u538b\u4e0b\u5982\u4e0b\u4fe1\u606f:\n\n- \u8be5\u533a\u57df\u7684\u7ea2\u8fb9\u4e0a\u7684 01 \u60c5\u51b5\u300240bits\u3002\n\n- \u8be5\u533a\u57df\u7684\u7ea2\u8fb9\u4e0a 1 \u7684\u8fde\u901a\u6027\u3002\u56e0\u4e3a\u6211\u4eec\u8bb0\u5f55\u4e86 01 \u60c5\u51b5\uff0c\u800c\u4e14\u8fde\u7eed\u7684 1 \u4e00\u5b9a\u5728\u4e00\u8d77\uff0c\u6211\u4eec\u76f4\u63a5\u7ed9\u6bcf\u4e2a 01 assign \u4e00\u4e2a id \u5c31\u597d\u4e86\u3002\u81f3\u591a\u662f 20 \u4e2a\u8fde\u901a\u5757\uff08\u4e24\u4e24\u5dee\u4e00\u4e2a\uff09\uff0c\u5f88\u53ef\u60dc\u6bcf\u4e2a\u9700\u8981 5 \u4f4d\u3002\u4e00\u5171\u662f 100 bits\u3002\n\n- \u8be5\u533a\u57df\u7684**\u9664\u53bb\u8fb9\u7f18**\u7684\u7b54\u6848\uff0c\u9700\u8981 8bits\u3002\n\n\n\u8fd9\u6837\u5728\u6700\u540e\u4e00\u8f6e\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u5e76\u67e5\u96c6\u6c42\u51fa\u7b54\u6848\u3002\u53ef\u662f\u95ee\u9898\u5728\u4e8e\u4f4d\u6570\u4e0d\u591f\u4e86\uff01\n\n\u8ba9\u6211\u4eec\u7406\u6027\u5206\u6790\u3002\u53d1\u73b0\u7b2c\u4e00\u7c7b\u70b9\u53ea\u8981\u81f3\u591a $10$ bits \u4fbf\u53ef\u538b\u4e0b\u6765\uff0c\u5728\u6df7\u3002\u663e\u7136\u6211\u4eec\u662f\u4e0d\u80fd\u8ba9\u4ed6\u4eec\u5212\u6c34\u7684\uff0c\u5426\u5219\u80af\u5b9a\u6ca1\u6709\u524d\u9014\u3002 \n\n\u4e8e\u662f\uff0c\u6211\u4eec\u5c06\u84dd\u8fb9 01 \u538b\u8fdb 1\uff0c\u68d5\u8fb9 01 \u538b\u7ed9 2\uff0c\u4ee5\u6b64\u7c7b\u63a8\u3002\n\n5 \u53ef\u4ee5\u5b58\u4e00\u4e9b\u7b2c\u4e00\u7c7b\u683c\u5b50\u7684\u4fe1\u606f\u3002\n\n\u90a3\u4e48\u6211\u4eec\u53ea\u8981\u5728\u6bcf\u4e2a\u5269\u4f59\u683c\u5b50\u4e2d\u5b58\u4e0b\u5bf9\u5e94\u533a\u57df\u7684 2 3 \u7c7b\u4fe1\u606f\u3002\u4e00\u5171\u9700\u8981 108 bits\u3002\u600e\u4e48\u529e\u5462\uff1f\n\n\u6211\u4eec\u94a6\u70b9\u7b2c\u4e00\u4e2a\u8fde\u901a\u5757\u7f16\u53f7\u662f 0\uff0c\u968f\u540e\u4e00\u76f4\u586b 0 \u76f4\u5230\u7b2c\u4e00\u4e2a\u548c\u5176\u4e0d\u8fde\u901a\u7684\u9996\u4e2a 1 \u7684\u4f4d\u7f6e\u586b\u4e00\u4e2a 1\u3002\u81f3\u5c11\u4e24\u4e2a\u672c\u5e94 5bit \u7684\u6570\u5206\u522b\u7528 1bit \u8868\u793a\uff0c\u521a\u597d\u8282\u7ea6\u4e86 8bit \u817e\u7ed9\u7b54\u6848\uff01\n\n\u611f\u89c9\u8fd8\u662f\u5f88\u7cbe\u5999\u7684\u3002\n\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/wadb2vcn.png)\n",
        "postTime": 1654483197,
        "uid": 55078,
        "name": "YLWang",
        "ccfLevel": 9,
        "title": "apio2022 T1"
    },
    {
        "content": "\u5bb9\u6613\u53d1\u73b0\u8fd9\u4e2a\u64cd\u4f5c\u76f8\u5f53\u4e8e\u6bcf\u6b21\u628a\u5730\u56fe\u7684\u884c\u5217\u7f29\u5c0f\u4e24\u683c\uff0c\u7136\u540e\u4f60\u9700\u8981\u628a\u4e00\u4e9b\u6709\u7528\u7684\u4fe1\u606f\u4fdd\u7559\u5728\u5269\u4e0b\u7684\u683c\u5b50\u91cc\uff0c\u4f7f\u5f97\u6700\u540e\u80fd\u591f\u5f97\u5230\u8fde\u901a\u5757\u4e2a\u6570\u3002\n\n\u6bcf\u6b21\u64cd\u4f5c\u7684\u4f4d\u7f6e\u548c\u8f6e\u6570\u662f\u5df2\u77e5\u7684\uff0c\u4f46\u662f\u6211\u4eec\u53ea\u80fd\u628a\u4fe1\u606f\u5b58\u5230\u77e9\u9635\u4e2d\uff0c\u8fd9\u662f\u4e00\u9053\u5f88\u6709\u6c34\u5e73\u7684\u901a\u4fe1\u9898\u3002\n\n\u9996\u5148\u53ef\u4ee5\u60f3\u5230\u4e00\u79cd\u601d\u8def\uff0c\u5c31\u662f\u7528\u5f53\u524d\u77e9\u9635\u7684\u53f3\u4e0b\u89d2 $(m,m)$ \u8bb0\u5f55\u77e9\u9635 $(m,m)\\sim(n,n)$ \u7684\u4fe1\u606f\uff0c\u53f3\u4e0b\u8fb9\u754c\u4e0a\u7684\u70b9\u8bb0\u5f55\u4e00\u884c\u6216\u4e00\u5217\u7684\u4fe1\u606f\uff1a\n![\u5728\u8fd9\u91cc\u63d2\u5165\u56fe\u7247\u63cf\u8ff0](https://img-blog.csdnimg.cn/6ab8f14ae18642ed9ee6ac07b5e81432.png)\n\u7136\u540e\u6bcf\u4e00\u8f6e\u6211\u4eec\u53ea\u9700\u8981\u5173\u6ce8\u8fb9\u754c\u4e0a\u7684\u4fe1\u606f\u7684\u8f6c\u79fb\uff0c\u5176\u5b83\u5730\u65b9\u4fdd\u6301\u539f\u6570\u636e\u4e0d\u53d8\uff0c\u8fd9\u6837\u5c31\u80fd\u4f7f\u5904\u7406\u7684\u6b21\u6570\u964d\u7ef4\uff0c\u4e3a\u4fe1\u606f\u8f6c\u79fb\u7684\u90e8\u5206\u7559\u4e0b\u8db3\u591f\u66b4\u529b\u7684\u5b9e\u73b0\u53ef\u80fd\u3002\n\n\u9996\u5148\u53f3\u4e0b\u8fb9\u754c\u4e0a\u7684\u4fe1\u606f\u662f\u5f88\u597d\u7ef4\u62a4\u7684\uff0c\u7531\u4e8e\u6bcf\u4e2a\u4f4d\u7f6e\u53ef\u8bb0\u5f55 100bit \u4fe1\u606f\uff0c\u800c\u77e9\u9635\u8fb9\u957f\u6700\u591a 41\uff0c\u53ef\u4ee5\u76f4\u63a5\u8bb0\u5f55\u4e00\u884c\u6216\u4e00\u5217\u7684 01 \u4e32\u3002\n\n\u91cd\u70b9\u662f\u8fd9\u4e2a\u77e9\u5f62\u5185\u4fe1\u606f\u7684\u7ef4\u62a4\u3002\u9996\u5148\u76f4\u63a5\u628a\u6574\u4e2a 01 \u77e9\u9635\u4fe1\u606f\u8bb0\u5f55\u4e0b\u6765\u662f\u4e0d\u73b0\u5b9e\u7684\uff0c\u53ea\u80fd\u5f97\u5f88\u5c11\u7684\u5206\u3002\u7531\u4e8e\u6211\u4eec\u6700\u7ec8\u76ee\u7684\u662f\u5f97\u5230\u8fde\u901a\u5757\u4e2a\u6570\uff0c\u6240\u4ee5\u53ef\u4ee5\u60f3\u5230\u7c7b\u4f3c\u63d2\u5934 DP \u7684\u5904\u7406\u65b9\u6cd5\uff1a\u8bb0\u5f55\u77e9\u9635\u5185\u8fde\u901a\u5757\u4e2a\u6570\uff0c\u5e76\u8bb0\u5f55\u8fb9\u754c\u7ebf\u4e0a\u7684\u8fde\u901a\u72b6\u51b5\uff0c\u7136\u540e\u5c31\u53ef\u4ee5\u5f80\u5de6\u4e0a\u6dfb\u884c\u6216\u5217\u8f6c\u79fb\u3002\n\n\u8fde\u901a\u5757\u4e2a\u6570\u5f88\u5c11\uff0c\u6240\u4ee5\u786c\u585e\u8fdb\u5b57\u7b26\u4e32\u4e2d\u67d0\u4e2a\u4f4d\u7f6e\u5373\u53ef\uff1b\u56f0\u96be\u7684\u662f\u8fb9\u754c\u7ebf\u7684\u8fde\u901a\u72b6\u51b5\uff0c\u6211\u4eec\u65e0\u6cd5\u76f4\u63a5\u8bb0\u5f55\u4e0b\u5305\u542b 01 \u4e32\u4ee5\u53ca\u8fde\u901a\u6027\u7684\u6240\u6709\u4fe1\u606f\u3002\u63d2\u5934DP\u4e2d\u6839\u636e\u72b6\u6001\u6570\u5c11\u7684\u6027\u8d28\u4f7f\u7528\u4e86\u91cd\u6807\u53f7\uff0c\u4f46\u662f\u8fd9\u91cc\u663e\u7136\u6ca1\u6709\u7559\u7ed9\u6211\u4eec\u5145\u8db3\u7684\u91cd\u6807\u53f7\u65f6\u95f4\uff0c\u51b5\u4e14\u72b6\u6001\u6570\u8fd8\u975e\u5e38\u591a\u3002\n\n\u6211\u4eec\u53ea\u80fd\u7528\u4e00\u79cd\u53ef\u4ee5\u76f4\u63a5\u8bfb\u53d6\u7684\u538b\u7f29\u65b9\u5f0f\u5b58\u4e0b\u8fd9\u4e2a\u4fe1\u606f\u3002\n\n\u6ce8\u610f\u5230\u9664\u4e86 $(m,m)$ \u8fd9\u4e2a\u70b9\uff0c\u5176\u5b83\u4f4d\u7f6e\u5b58\u7684\u4fe1\u606f\u90fd\u597d\u5c11\u54e6\u3002\u5373\u4fbf\u662f\u53f3\u4e0b\u8fb9\u754c\uff0c\u4e5f\u53ea\u4f7f\u7528\u4e86\u4e00\u534a\u7a7a\u95f4\uff0c\u8fd8\u53ef\u4ee5\u538b\u69a8\u3002\u6211\u4eec\u4e0d\u59a8\u8ba9\u5176\u5b83\u4f4d\u7f6e\u5206\u62c5\u4e00\u4e0b\u50a8\u5b58\u4fe1\u606f\u7684\u4efb\u52a1\uff1a\u53f3\u4e0b\u8fb9\u754c\u4e0a\u7684\u70b9\u989d\u5916\u50a8\u5b58\u4e00\u884c\u6216\u4e00\u5217\u7684 01 \u4e32\u4fe1\u606f\u3002\u6b63\u597d $(m-1,m)$ \u5904\u548c $(m,m-1)$ \u5904\u80fd\u591f\u6536\u96c6\u5230\u77e9\u5f62\u8fb9\u754c\u7ebf\u7684 01 \u4e32\u4fe1\u606f\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e24\u4e2a\u70b9\u7684\u4fe1\u606f\u8fd8\u539f\u8fb9\u754c\u7ebf\u768401\u4e32\u3002\n\n\u5269\u4e0b\u9700\u8981\u5b58\u8fdb $(m,m)$ \u7684\u4fe1\u606f\u5c31\u53ea\u5269\u8fde\u901a\u6027\u4e86\u3002\u63d2\u5934 DP \u91cc\u7684\u4e00\u7c7b\u7ecf\u5178\u7ed3\u8bba\uff0c\u5373\u8fb9\u754c\u7ebf\u4e0a\u8fde\u901a\u7684\u96c6\u5408\u53ea\u4f1a\u5305\u542b\u4e0d\u4f1a\u76f8\u4ea4\uff0c\u5c31\u6709\u70b9\u7c7b\u4f3c\u62ec\u53f7\u5e8f\u5217\u3002\n\u6211\u4eec\u5355\u72ec\u8003\u8651\u8fb9\u754c\u7ebf\u4e0a\u7684\u6bcf\u4e00\u4e2a 1 \u7684\u8fde\u7eed\u6bb5\uff0c\u5b83\u53ef\u80fd\u5904\u4e8e\u4e00\u4e2a\u8fde\u901a\u5757\u7684\u5f00\u5934\u3001\u4e2d\u95f4\u3001\u7ed3\u5c3e\uff0c\u4e5f\u53ef\u80fd\u5355\u72ec\u4e3a\u4e00\u4e2a\u8fde\u901a\u5757\uff0c\u603b\u60c5\u51b5\u6570\u5c11\u4e8e $4^{cnt}$\uff08$cnt$ \u8868\u793a\u8fde\u7eed\u6bb5\u4e2a\u6570\uff09\u3002\n\n\u628a\u8fd9\u4e9b\u4fe1\u606f\u5b58\u4e0b\u6765\u8fc7\u540e\uff0c\u6211\u4eec\u53d1\u73b0\u53ef\u4ee5\u7528\u7c7b\u4f3c\u62ec\u53f7\u5339\u914d\u7684\u65b9\u6cd5\uff0c\u7528\u6808\u6765\u552f\u4e00\u5730\u8fd8\u539f\u51fa\u6bcf\u4e2a\u8fde\u901a\u5757\u3002\u4ec0\u4e48\u60c5\u51b5\u4e0b\u5165\u6808\u51fa\u6808\uff0c\u4ec0\u4e48\u65f6\u5019\u4e0e\u524d\u9762\u8fde\u901a\u5757\u8fde\u901a\uff0c\u7a0d\u5fae\u60f3\u4e00\u4e0b\u7ec6\u8282\u5c31\u80fd\u5b9e\u73b0\u3002\n\u5373\u4f7f\u662f\u957f\u5ea6 $2n$ \u7684\u8fb9\u754c\u7ebf\uff0c1\u7684\u8fde\u7eed\u6bb5\u4e2a\u6570\u4e5f\u662f\u4e0d\u8d85\u8fc7 $n$ \u7684\uff0c\u6240\u4ee5 100bit \u5b8c\u5168\u5b58\u7684\u4e0b\u6765\u3002\n\n\u4ece\u590d\u6742\u5ea6\u5927\u6982\u662f $O(n^3)\\sim O(n^4)$ \u5427\uff0c\u6bcf\u4e2a\u4f4d\u7f6e\u7528\u5f97\u6700\u591a\u7684\u4e5f\u624d\u4e0d\u5230 90bit\uff0c\u611f\u89c9\u9650\u5236\u7ed9\u5f97\u633a\u677e\u7684\u3002\n\n# \u4ee3\u7801\n```cpp\n#incluve \"mars.h\" //JZM yyds!!\nusing namespace std;\nusing lll = __int128;\nconst lll E=1;\nconst int MAXN=114514;\nlll getlll(const string&s){\n\tlll res=0;\n\tfor(int i=0;i<100;i++)res^=(E*(s[i]^48)<<i);\n\treturn res;\n}\nstring getstr(const lll&a){\n\tstring s=\"\";\n\tfor(int i=0;i<100;i++)s+=char(((a>>i)&1)^48);\n\treturn s;\n}\n\nint fa[MAXN],id[233][233],sk[MAXN],cnt[MAXN],lk;\nbool s[233][233],d[MAXN];\nint finds(int x){\t//\u7528\u5e76\u67e5\u96c6\u5904\u7406\u7a0d\u5fae\u65b9\u4fbf\u4e00\u70b9\n\treturn !fa[x]?x:(fa[x]=finds(fa[x]));\n}\nbool unions(int u,int v){\n\tu=finds(u),v=finds(v);\n\tif(u^v)return fa[v]=u,1;\n\treturn 0;\n}\n\n\nstring process(vector <vector<string> > a, int i, int j, int k, int n)\n{\n\tint m=((n-k-1)<<1),le=3+(k<<1);\n\tif(i<m&&j<m)return a[0][0];\n\tif(i<m){\n\t\tif(!k){\n\t\t\tstring s(100,'0');\n\t\t\ts[0]=a[0][0][0],s[1]=a[0][1][0],s[2]=a[0][2][0];\n\t\t\ts[3]=a[1][0][0],s[4]=a[1][1][0],s[5]=a[1][2][0];\n\t\t\treturn s;\n\t\t}\n\t\tlll x=getlll(a[0][2]),y=x>>(le-2);\n\t\tx&=(E<<(le-2))-1;\n\t\tx=(x<<1|(a[0][1][0]^48)),x=(x<<1|(a[0][0][0]^48));\n\t\ty=(y<<1|(a[1][1][0]^48)),y=(y<<1|(a[1][0][0]^48));\n\t\treturn getstr(x^(y<<le));\n\t}if(j<m){\n\t\tif(!k){\n\t\t\tstring s(100,'0');\n\t\t\ts[0]=a[0][0][0],s[1]=a[1][0][0],s[2]=a[2][0][0];\n\t\t\ts[3]=a[0][1][0],s[4]=a[1][1][0],s[5]=a[2][1][0];\n\t\t\treturn s;\n\t\t}\n\t\tlll x=getlll(a[2][0]),y=x>>(le-2);\n\t\tx&=(E<<(le-2))-1;\n\t\tx=(x<<1|(a[1][0][0]^48)),x=(x<<1|(a[0][0][0]^48));\n\t\ty=(y<<1|(a[1][1][0]^48)),y=(y<<1|(a[0][1][0]^48));\n\t\treturn getstr(x^(y<<le));\n\t}\n\tlll f=getlll(a[2][2]);\n\tint sum=f&65535,lm=(le<<1)-5,IN=0;\n\tf>>=16;\t\t\t\t\t\t\t//\u8fd9\u91cc\u76f4\u63a5\u7ed9\u4e8616\u4f4d\u5b58\u8fde\u901a\u5757\u6570\uff0c\u8c6a\u5427\n\tlll ln1=getlll(a[2][1])>>(le-2),ln2=getlll(a[1][2])>>(le-2);\n\tfor(int i=0;i<2;i++)for(int j=0;j<2;j++)s[i][j]=(a[i][j][0]^48);\n\tfor(int i=0;i<le-2;i++)s[2+i][2]=((ln1>>i)&1);\n\tfor(int i=0;i<le-2;i++)s[2+i][1]=(a[2][1][i]^48);\n\tfor(int i=0;i<le-2;i++)s[2+i][0]=(a[2][0][i]^48);\n\tfor(int i=0;i<le-2;i++)s[2][2+i]=((ln2>>i)&1);\n\tfor(int i=0;i<le-2;i++)s[1][2+i]=(a[1][2][i]^48);\n\tfor(int i=0;i<le-2;i++)s[0][2+i]=(a[0][2][i]^48);\n\tif(!k){\n\t\tfor(int i=0;i<3;i++)for(int j=0;j<3;j++)s[i][j]=(a[i][j][0]^48);\n\t\tsum=s[2][2],f=3;\n\t}\n\tfor(int i=0;i<le;i++)\n\t\tfor(int j=0;j<le;j++){\n\t\t\tif(i>2&&j>2)break;\n\t\t\tid[i][j]=++IN,d[IN]=s[i][j],fa[IN]=0;\n\t\t}\n\tvector<int>b;\n\tfor(int i=le-1;i>1;i--)b.push_back(id[i][2]);\n\tfor(int i=3;i<le;i++)b.push_back(id[2][i]);\n\tlk=0;\n\tfor(int i=0,j;i<lm;i=j+1){\n\t\tint x=b[i];\n\t\tif(!d[x]){j=i;continue;}\n\t\tfor(j=i;j<lm-1&&d[b[j+1]];j++)unions(b[j],b[j+1]);\n\t\tint ty=f&3;f>>=2;\n\t\tif(ty==0)sk[++lk]=x;\n\t\telse if(ty==1)unions(sk[lk],x);\n\t\telse if(ty==2)unions(sk[lk],x),lk--;\n\t}\n\tfor(int i=0;i<le;i++)\n\t\tfor(int j=0;j<le;j++){\n\t\t\tif(i>1&&j>1)break;\n\t\t\tsum+=s[i][j];\n\t\t}\n\tfor(int i=0;i<le-1;i++)\n\t\tfor(int j=0;j<le;j++){\n\t\t\tif(i>1&&j>1)break;\n\t\t\tif(s[i][j]&&s[i+1][j])sum-=unions(id[i][j],id[i+1][j]);\n\t\t}\n\tfor(int i=0;i<le;i++)\n\t\tfor(int j=0;j<le-1;j++){\n\t\t\tif(i>1&&j>1)break;\n\t\t\tif(s[i][j]&&s[i][j+1])sum-=unions(id[i][j],id[i][j+1]);\n\t\t}\n\tb.clear();\n\tfor(int i=le-1;i>=0;i--)b.push_back(id[i][0]);\n\tfor(int i=1;i<le;i++)b.push_back(id[0][i]);\n\tlm=b.size();\n\tfor(int i=0;i<=IN;i++)cnt[i]=0;\n\tfor(int x:b)cnt[finds(x)]++;\n\tlk=0,f=0;lll mi=1;\n\tfor(int i=0,j;i<lm;i=j+1){\n\t\tint x=b[i];\n\t\tif(!d[x]){j=i;continue;}\n\t\tfor(j=i;j<lm-1&&d[b[j+1]];j++);\n\t\tif(!lk||finds(sk[lk])!=finds(x)){\n\t\t\tsk[++lk]=x,cnt[finds(x)]-=j-i+1;\n\t\t\tif(!cnt[finds(x)])f+=mi*3,lk--;\n\t\t}else{\n\t\t\tcnt[finds(x)]-=j-i+1,f+=mi;\n\t\t\tif(!cnt[finds(x)])f+=mi,lk--;\n\t\t}mi<<=2;\n\t}\n\treturn k==n-1?getstr(sum):getstr(f<<16|sum);\n}\n```",
        "postTime": 1654785483,
        "uid": 404407,
        "name": "OUYE2020",
        "ccfLevel": 10,
        "title": "[APIO2022] \u706b\u661f\u2014\u2014\u901a\u4fe1\u9898\u3001\u6784\u9020"
    }
]