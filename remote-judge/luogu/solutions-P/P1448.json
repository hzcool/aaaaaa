[
    {
        "content": " # P1448 [NOI1998] \u56f4\u5dfe\u88c1\u526a \u9898\u89e3\n\n\u770b\u5230\u8fd9\u4e2a\u9898\u9762\uff0c\u5927\u5bb6\u5e94\u8be5\u53ef\u4ee5\u60f3\u5230 $dp$\u3002\n\n\u6211\u4eec\u5148\u7528 $a[i][j]$ \u5b58\u50a8\u70b9 $(i,j)$ \u662f\u5426\u88ab\u86c0\u866b\u54ac\u574f\uff0c\u662f\u4e3a $0$\uff0c\u4e0d\u662f\u4e3a $1$\u3002\n\n\u4e0b\u4e00\u6b65\u6211\u4eec\u8bbe $a[i][j](2\\nmid j)$ \u8868\u793a\u4ece\u70b9 $(i,j)$ \u5f00\u59cb\uff0c\u6700\u591a\u53ef\u4ee5\u5411\u4e0b\u5ef6\u4f38\u51fa\u4e00\u4e2a\u6ca1\u6709\u4efb\u4f55\u5c0f\u4e09\u89d2\u5f62\u88ab\u86c0\u866b\u54ac\u574f\uff0c\u8fb9\u957f\u4e3a $a[i][j]$ \u7684\u6b63\u4e09\u89d2\u5f62\u3002\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a\n$$\na[i][j]=\\begin{cases}\n0 &(a[i][j]\\text{\u7684\u539f\u503c\u4e3a}0)\\\\\n1 &(a[i+1][j+1]=0)\\\\\n\\min\\{a[i+1][j+2],a[i+1][j]\\}+1 &(a[i+1][j+1]\\ne0)\\\\\n\\end{cases}\n$$\n\u4ee5\u6b64\u7c7b\u63a8\uff0c$a[i][j](2\\mid j)$ \u8868\u793a\u4ece\u70b9 $(i,j)$ \u5f00\u59cb\uff0c\u6700\u591a\u53ef\u4ee5\u5411\u4e0a\u5ef6\u4f38\u51fa\u4e00\u4e2a\u6ca1\u6709\u4efb\u4f55\u5c0f\u4e09\u89d2\u5f62\u88ab\u86c0\u866b\u54ac\u574f\uff0c\u8fb9\u957f\u4e3a $a[i][j]$ \u7684\u6b63\u4e09\u89d2\u5f62\u3002\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\uff1a\n$$\na[i][j]=\\begin{cases}\n0 &(a[i][j]\\text{\u7684\u539f\u503c\u4e3a}0)\\\\\n1 &(a[i-1][j-1]=0)\\\\\n\\min\\{a[i-1][j-2],a[i-1][j]\\}+1 &(a[i-1][j-1]\\ne0)\\\\\n\\end{cases}\n$$\n\u7531\u6b64\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u8fd9\u4e00\u90e8\u5206\u7684\u4ee3\u7801\uff1a\n\n```cpp\nfor(int i=n-1;i;i--)\n\tfor(int j=1;j<=i;j++)\n\t\tif(a[i][(j<<1)-1]&&a[i+1][(j<<1)-1]\n\t\t\t\t&&a[i+1][j<<1]&&a[i+1][(j<<1)+1]){\n\t\t\ta[i][(j<<1)-1]=min(a[i+1][(j<<1)-1],\n\t\t\t\t\ta[i+1][(j<<1)+1])+1;\n\t\t}\nfor(int i=2;i<=n;i++)\n\tfor(int j=2;j<i-1;j++)\n\t\tif(a[i][j<<1]&&a[i-1][(j<<1)-2]\n\t\t\t\t&&a[i-1][(j<<1)-1]&&a[i-1][j<<1]){\n\t\t\ta[i][j<<1]=min(a[i-1][(j<<1)-2],\n\t\t\t\t\ta[i-1][j<<1])+1;\n\t\t}\n```\n\n\u4e0b\u4e00\u6b65\uff0c\u6211\u4eec\u679a\u4e3e\u4e00\u6761\u5206\u5272\u7ebf $i$\uff0c\u5c06\u56f4\u5dfe\u5206\u6210\u4e24\u4e2a\u90e8\u5206\uff1a\u4e00\u4e2a\u4e3a\u9876\u70b9\u5728\u6700\u4e0a\u65b9\u4e14\u8fb9\u957f\u4e3a $i$ \u7684\u6b63\u4e09\u89d2\u5f62\uff0c\u4e00\u4e2a\u4e3a\u5269\u4f59\u90e8\u5206\uff0c\u4f7f\u6700\u7ec8\u5272\u4e0b\u6765\u7684\u4e24\u4e2a\u4e09\u89d2\u5f62\u4e00\u4e2a\u5728\u7b2c\u4e00\u90e8\u5206\uff0c\u4e00\u4e2a\u5728\u7b2c\u4e8c\u90e8\u5206\u3002\u7136\u540e\u5c31\u53ef\u4ee5\u53bb\u679a\u4e3e\u4e24\u4e2a\u503c $x,y$\uff0c$x$ \u4e3a\u7b2c\u4e00\u4e2a\u4e09\u89d2\u5f62\u7684\u6700\u5927\u9762\u79ef\uff1b$y$ \u4e3a\u7b2c\u4e8c\u4e2a\u4e09\u89d2\u5f62\u7684\u6700\u5927\u9762\u79ef\u3002\n\n\u6211\u4eec\u5c31\u80fd\u901a\u8fc7\u679a\u4e3e\uff0c\u5f97\u5230\u6bcf\u4e2a\u5206\u5272\u7ebf\u4e0a\u4e0b\u4e09\u89d2\u5f62\u9762\u79ef\u548c\u7684\u6700\u5927\u503c\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\nint x=0,y=0;\nfor(int i=1;i<=n;i++){\n\tx=y=0;\n\tfor(int j=1;j<=i;j++){\n\t\tfor(int k=1;k<=j;k++)\n\t\t\tx=max(x,min(i-j+1,a[j][(k<<1)-1]));\n\t\tfor(int k=1;k<j;k++)\n\t\t\tx=max(x,a[j][k<<1]);\n\t}\n\tfor(int j=i+1;j<=n;j++){\n\t\tfor(int k=1;k<=j;k++)\n\t\t\ty=max(y,a[j][(k<<1)-1]);\n\t\tfor(int k=1;k<j;k++)\n\t\t\ty=max(y,min(j-i,a[j][k<<1]));\n\t}\n\tif(x&&y)ans=max(ans,x*x+y*y); //\u6ce8\u610f\uff0cx\u548cy\u5fc5\u987b\u4e0d\u4e3a0\n}\n```\n\n\u4f46\u662f\uff0c\u8fd9\u9898\u6211\u4eec\u8fd8\u6ca1\u505a\u5b8c\uff0c\u56e0\u4e3a\u6211\u4eec\u8fd8\u6ca1\u6709\u8003\u8651\u5230\u4e0b\u9762\u8fd9\u4e2a\u60c5\u51b5\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/b87rpb4e.png)\n\n\u6ce8\uff1a\u68d5\u8272\u4e3a\u6700\u5927\u9009\u53d6\u90e8\u5206\u3002\n\n\u6240\u4ee5\uff0c\u6211\u4eec\u5e94\u8be5\u628a\u8fd9\u4e2a\u56f4\u5dfe\u65cb\u8f6c $120\u00b0$\uff0c\u518d\u7ee7\u7eed $dp$\uff0c\u5f53\u6211\u4eec\u628a\u4e09\u79cd\u60c5\u51b5\u90fd\u8003\u8651\u5b8c\u65f6\uff0c\u8fd9\u4e2a\u9898\u76ee\u5c31\u505a\u5b8c\u4e86\u3002\n\n\u65cb\u8f6c\u90e8\u5206\u4ee3\u7801\uff1a\n\n```cpp\nvoid rotate(){\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=i;j++)\n\t\t\ttemp[n-i+j][((n-i)<<1)+1]=a[i][(j<<1)-1]?1:0; //\u65cb\u8f6c\u5c16\u7aef\u671d\u4e0a\u7684\u5c0f\u4e09\u89d2\u5f62\n\t\tfor(int j=1;j<i;j++)\n\t\t\ttemp[n-i+j+1][(n-i+1)<<1]=a[i][j<<1]?1:0; //\u65cb\u8f6c\u5c16\u7aef\u671d\u4e0b\u7684\u5c0f\u4e09\u89d2\u5f62\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=(i<<1)-1;j++)\n\t\t\ta[i][j]=temp[i][j]; //\u5c06\u65cb\u8f6c\u540e\u7684\u56f4\u5dfe\u62f7\u8d1d\u5230a\u91cc\n}\n```\n\n\u5b8c\u6574\u4ee3\u7801\uff1a\n\n```cpp\n#include<iostream>\nusing namespace std;\nint n,m,ans=0;\nint a[110][210]={0},temp[110][210]={0};\nvoid calculate(){\n\tfor(int i=n-1;i;i--)\n\t\tfor(int j=1;j<=i;j++)\n\t\t\tif(a[i][(j<<1)-1]&&a[i+1][(j<<1)-1]\n\t\t\t\t\t&&a[i+1][j<<1]&&a[i+1][(j<<1)+1]){\n\t\t\t\ta[i][(j<<1)-1]=min(a[i+1][(j<<1)-1],\n\t\t\t\t\t\ta[i+1][(j<<1)+1])+1;\n\t\t\t}\n\tfor(int i=2;i<=n;i++)\n\t\tfor(int j=2;j<i-1;j++)\n\t\t\tif(a[i][j<<1]&&a[i-1][(j<<1)-2]\n\t\t\t\t\t&&a[i-1][(j<<1)-1]&&a[i-1][j<<1]){\n\t\t\t\ta[i][j<<1]=min(a[i-1][(j<<1)-2],\n\t\t\t\t\t\ta[i-1][j<<1])+1;\n\t\t\t}\n\tint x=0,y=0;\n\tfor(int i=1;i<=n;i++){\n\t\tx=y=0;\n\t\tfor(int j=1;j<=i;j++){\n\t\t\tfor(int k=1;k<=j;k++)\n\t\t\t\tx=max(x,min(i-j+1,a[j][(k<<1)-1]));\n\t\t\tfor(int k=1;k<j;k++)\n\t\t\t\tx=max(x,a[j][k<<1]);\n\t\t}\n\t\tfor(int j=i+1;j<=n;j++){\n\t\t\tfor(int k=1;k<=j;k++)\n\t\t\t\ty=max(y,a[j][(k<<1)-1]);\n\t\t\tfor(int k=1;k<j;k++)\n\t\t\t\ty=max(y,min(j-i,a[j][k<<1]));\n\t\t}\n\t\tif(x&&y)ans=max(ans,x*x+y*y);\n\t}\n}\nvoid rotate(){\n\tfor(int i=1;i<=n;i++){\n\t\tfor(int j=1;j<=i;j++)\n\t\t\ttemp[n-i+j][((n-i)<<1)+1]=a[i][(j<<1)-1]?1:0;\n\t\tfor(int j=1;j<i;j++)\n\t\t\ttemp[n-i+j+1][(n-i+1)<<1]=a[i][j<<1]?1:0;\n\t}\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=(i<<1)-1;j++)\n\t\t\ta[i][j]=temp[i][j];\n}\nint main(){\n\tios::sync_with_stdio(false);\n\tcin>>n>>m;\n\tfor(int i=1;i<=n;i++)\n\t\tfor(int j=1;j<=(i<<1)-1;j++)\n\t\t\ta[i][j]=1;\n\tfor(int i=0,x,y;i<m;i++){\n\t\tcin>>x>>y;\n\t\ta[x][y]=0;\n\t}\n\tfor(int i=0;i<3;i++){\n\t\tcalculate();\n\t\tif(i!=2)rotate();\n\t}\n\tcout<<ans;\n}\n```\n\n\u6ce8\uff1a `a<<1`\u00a0\u662f\u5728 `a`\u00a0\u4e3a\u6574\u6570\u65f6\uff0c`a*2`\u00a0\u7684\u7b49\u4ef7\u5f62\u5f0f\u3002",
        "postTime": 1679634973,
        "uid": 751417,
        "name": "diamond_153",
        "ccfLevel": 3,
        "title": "P1448 [NOI1998] \u56f4\u5dfe\u88c1\u526a \u9898\u89e3"
    }
]