[
    {
        "content": "[\u9898\u76ee\u94fe\u63a5](https://www.luogu.com.cn/problem/P3137)\n\n\u672c\u849f\u84bb\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u5199\u5f97\u4e0d\u597d\u8bf7\u6307\u51fa\uff0c\u87f9\u87f9\u3002\n\n### \u9898\u610f\uff1a\n\u6709 $n$ \u5934\u5976\u725b\uff0c\u5206\u5e03\u5728\u4e00\u4e9b\u623f\u95f4\uff0c\u67d0\u4e9b\u623f\u95f4\u53ef\u80fd\u6709\u591a\u5934\u725b\uff0c\u8981\u8ba9\u8fd9\u4e9b\u725b\u6309\u987a\u65f6\u9488\u79fb\u52a8\uff0c\u6c42\u4f7f\u6bcf\u4e00\u4e2a\u623f\u95f4\u521a\u597d\u6709\u4e00\u4e2a\u5976\u725b\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\u82b1\u8d39\u8ba1\u7b97\uff1a\u5982\u679c\u4e00\u5934\u5976\u725b\u7a7f\u8fc7\u4e86 $d$ \u6247\u95e8\uff0c\u4ed6\u6d88\u8017\u7684\u80fd\u91cf\u4e3a $d^2$\u3002\n\n### \u5206\u6790\uff1a\n\u5148\u628a\u8fd9\u4e2a\u73af\u770b\u6210\u4e00\u6761\u94fe\n\n\u9996\u5148\u8bf4\u4e00\u4e2a\u4e1c\u897f\uff1a\u5982\u679c\u6709 $1$ \u5934\u5976\u725b\u5728 $a$ \u70b9\uff0c$1$\u5934\u5976\u725b\u5728 $b$ \u70b9\uff0c\u8fd8\u6709\u4e00\u4e2a\u6ca1\u6709\u5976\u725b\u7684 $c$ \u70b9\uff0c\u4e14 $c>b>a$\uff0c\u8981\u60f3\u6709\u4e00\u5934\u5976\u725b\u5728 $b$ \u70b9\uff0c\u4e00\u5934\u5976\u725b\u5728 $c$ \u70b9\uff0c\u65b9\u6848 $a \\to b,b \\to c$ \u6bd4\u65b9\u6848 $a \\to c$ \u597d\u3002\n\n\u5f88\u5bb9\u6613\u77e5\u9053\u8fd9\u662f\u5bf9\u7684\uff0c\u53ef\u4ee5\u8bbe $x=b-a,y=c-b$\uff0c\u800c $c-a=y+x$\uff0c\u6240\u4ee5 $(x+y)^2=x^2+y^2+2xy>x^2+y^2$\u3002\n\n\u4e5f\u5c31\u662f\u8bf4\u5728\u5982\u679c\u4e00\u4e2a\u623f\u95f4\u7684\u5976\u725b\u7684\u79fb\u52a8\u7b97\u4e00\u4e2a\u79fb\u52a8\u8fc7\u7a0b\uff0c\u79fb\u52a8\u8fc7\u7a0b\u4e2d\u4e00\u5934\u5976\u725b\u4e0d\u8981\u8d8a\u8fc7\u53e6\u4e00\u5934\u6ca1\u6709\u79fb\u52a8\u7684\u5976\u725b\u3002\n\n\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u4ece\u4e00\u4e2a\u8d77\u70b9\u5f00\u59cb\uff0c\u5982\u679c\u8fd9\u4e2a\u623f\u95f4\u91cc\u6709\u8d85\u8fc7$1$\u5934\u5976\u725b\uff0c\u5c31\u628a\u8fd9\u4e9b\u5976\u725b\u79fb\u5230\u4f9d\u6b21\u540e\u9762\u6bcf\u4e00\u4e2a\u7684\u623f\u95f4\u7684\u672b\u5c3e\uff0c\u76f4\u5230\u6ca1\u6709\u591a\u4f59\u7684\u5976\u725b\u53ef\u4ee5\u79fb\u52a8\u4e3a\u6b62\u3002\n\n\u7559\u4e0b\u623f\u95f4\u91cc\u6700\u540e\u4e00\u5934\u5976\u725b\uff0c\u4e5f\u5c31\u662f\u4e0a\u4e00\u6b21\u6700\u540e\u4e00\u5934\u725b\uff0c\u6bcf\u4e00\u4e2a\u623f\u95f4\u90fd\u8fd9\u4e48\u5904\u7406\u3002\n\n\u4e3a\u4e86\u597d\u5199\u4ee3\u7801\uff0c\u53ef\u4ee5\u7559\u4e0b\u6700\u540e\u4e00\u5934\u725b\uff0c\u628a\u8fd9\u4e2a\u623f\u95f4\u91cc\u591a\u4f59\u7684\u5976\u725b\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u623f\u95f4\uff0c\u4e0b\u4e00\u4e2a\u623f\u95f4\u518d\u505a\u5904\u7406\u3002\n\n\u95ee\u9898\u662f\u8d77\u70b9\u5982\u4f55\u9009\u62e9\u3002\n\n\u5f53\u4e00\u4e2a\u8d77\u70b9\u662f\u5408\u6cd5\u65f6\uff0c$\\sum\\limits_{i=1}^{n}c_{i} \\geqslant i$\u3002\n\n\u4e0d\u77e5\u9053\u5c31\u679a\u4e3e\u5457\uff0c\u53cd\u6b63 $n$ \u4e0d\u8d85\u8fc7 $1000$\u3002\n\n\u7a9d\u8bed\u6587\u4e0d\u597d\uff0c\u53ea\u80fd\u63cf\u8ff0\u6210\u8fd9\u6837\u60f9\u3002\n\n### \u4ee3\u7801\uff1a\n\u4e3a\u6bcf\u4e00\u4e2a\u5976\u725b\u7f16\u53f7\uff0c\u4e3a $1 \\sim n$\u3002\n\n\u7528 $d_i$ \u6765\u8868\u793a\u7f16\u53f7\u4e3a $i$ \u7684\u5976\u725b\u8d70\u8fc7\u7684\u8ddd\u79bb\u3002\n\n\u7528 $\\texttt{vector}$ \u6765\u5b58\u6bcf\u4e00\u4e2a\u623f\u95f4\u91cc\u7684\u5976\u725b\u3002\n\n$\\texttt{push\\_back}$ \u628a\u5143\u7d20 $\\texttt{push}$ \u5230\u672b\u5c3e\uff0c\u6240\u4ee5\u7559\u4e0b\u6700\u540e\u4e00\u4e2a\uff0c\u5176\u4ed6\u7684\u5f80\u4e0b\u4e00\u4e2a\u623f\u95f4\u79fb\u52a8\u3002\n\n\u7136\u540e\u6ce8\u610f\u4e0b\u4e00\u4e2a\u623f\u95f4 $\\bmod n$ \u5c31\u884c\u4e86\u3002\n\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define mp make_pair\n#define reg register int\n#define msz(a) memset(a, 0, sizeof a);\n#define rep1(i, j, n) for (reg i = j; i <= n; ++i)\n#define rep2(i, j, n) for (reg i = j; i >= n; --i)\ntypedef long long LL;\ntypedef pair <int, int> PII;\nconst int INF1 = 0x3f3f3f3f, INF2 = 0x7fffffff;\nint n, d[1005], ans, nowid, result = INF2;\nvector <int> a[1005], b[1005];\nbool vis[1005];\nint main() {\n    cin >> n;\n    for (int i = 1; i <= n; ++i) {\n        int x;\n        cin >> x;\n        for (int j = 1; j <= x; ++j) a[i].push_back(++nowid), b[i].push_back(nowid); //\u7f16\u53f7\n    }\n    for (int start = 1; start <= n; ++start) {\n    \t// \u679a\u4e3e\u8d77\u70b9\u8fdb\u884c\u6a21\u62df\n        for (int now = start; ; ++now) {\n            if (now > n) now %= n;\n            if (now == start && flg == 0) break;\n            if (a[now].empty()) continue;\n            flg = 0;\n            int sz = a[now].size();\n            int p = now + 1;\n            if (p > n) p %= n;\n            for (int i = 0; i < sz - 1; ++i) {\n                a[p].push_back(a[now][i]);\n                d[a[now][i]]++;\n            }\n            int endnum = a[now][sz - 1];\n            a[now].clear();\n            a[now].push_back(endnum);\n        }\n        for (int i = 1; i <= n; ++i) {\n            if (a[i].size() != 1) { ans = -1; break; } //\u662f\u5426\u5408\u6cd5\n            ans += d[i] * d[i]; //\u8ba1\u7b97\n        }\n        if (ans ^ -1) result = min(result, ans);\n        msz(d); msz(vis); ans = 0;\n        for (int i = 1; i <= n; ++i) a[i].clear();\n        for (int i = 1; i <= n; ++i)\n            for (int j = 0; j < (int)b[i].size(); ++j)\n                a[i].push_back(b[i][j]); //\u8fd8\u539f\n    }\n    printf(\"%d\", result);\n    return 0;\n}\n```\n\n $n^2$ \u7b97\u6cd5\u53ef\u4ee5\u901a\u8fc7 $1000$ \u7684\u6570\u636e\uff0c\u90a3\u4e48 $100000$ \u7684\u6570\u636e\u600e\u4e48\u529e\u5462\u3002\n\n\u53ef\u4ee5\u53d1\u73b0\u679a\u4e3e $start$ \u4f1a\u51fa\u73b0\u8bb8\u591a\u6ca1\u7528\u7684\u679a\u4e3e\uff0c\u90a3\u54ea\u4e2a\u4e00\u4e2a $start$ \u53ef\u4ee5\u786e\u4fdd\u4e0d\u4f1a\u51fa\u73b0\u975e\u6cd5\u60c5\u51b5\u5462\u3002\n\n\u53ef\u4ee5\u5927\u6982\u731c\u51fa\u662f\u6700\u5bc6\u96c6\u7684\u90a3\u4e2a\u5730\u65b9\u7684\u5f00\u5934\u5427\u3002\n\n\u5c31\u662f\u8bf4\u6700\u5927\u5b57\u6bb5\u548c\u3002\n\n\u56e0\u4e3a\u5168\u90e8\u5976\u725b\u7684\u548c\u4e3a $n$\uff0c\u6240\u4ee5\u6240\u6709 $c_i$ \u7684\u548c\u4e00\u5b9a\u662f\u6700\u5927\u5b50\u6bb5\u548c\n\u6240\u4ee5\u8981\u628a\u6bcf\u4e00\u4e2a $c_i$ \u4e0e $1$ \u505a\u5dee\uff0c\u53ef\u4ee5\u6e05\u6670\u770b\u51fa\u6700\u5927\u7684\u5b57\u6bb5\uff0c\u518d\u6c42\u51fa\u6700\u5927\u5b50\u6bb5\u548c\u7684\u8d77\u70b9\u3002\n\n\u8bc1\u660e\u4e5f\u5f88\u7b80\u5355\uff1a\n\n\u8bbe\u6700\u5927\u5b50\u6bb5\u548c\u7684\u503c\u4e3a $x$\uff0c\u5982\u679c\u6700\u5927\u5b50\u6bb5\u548c\u4e0d\u5408\u6cd5\uff0c\u90a3\u4e48\u5728\u6700\u5927\u5b50\u6bb5\u548c\u4e4b\u540e\u5fc5\u7136\u6709\u4e00\u4e2a\u5b57\u6bb5\u7684\u503c $\\leqslant -x-1$\uff0c\u7531\u4e8e\u6240\u6709\u6570\u7684\u548c\u4e3a $0$\uff0c\u90a3\u4e48\u5728\u8fd9\u4e2a\u5b57\u6bb5\u4e4b\u540e\uff0c\u5269\u4e0b\u7684\u90a3\u4e2a\u5b57\u6bb5\u548c $\\geqslant 1$\u3002\n\n\u6240\u4ee5\u6700\u5927\u5b50\u6bb5\u548c\u7684\u503c\u4e0d\u4e3a $x$\uff0c\u77db\u76fe\u3002\n\n\u8fd9\u4e2a\u8bc1\u660e\u6709\u70b9\u3002\u3002\u5145\u5206\u663e\u793a\u51fa\u6211\u7684\u83dc\u3002\n\n\u7136\u540e\u5c31\u662f\u73af\u72b6\u6700\u5927\u5b50\u6bb5\u548c\u60f9\u3002\n\n\u73af\u72b6\u6700\u5927\u5b50\u6bb5\u548c\u597d\u50cf\u53ef\u4ee5\u7528\u5355\u8c03\u961f\u5217\uff0c\u4f46\u662f\u6211\u7528\u4e86\u53e6\u4e00\u79cd\u65b9\u6cd5\u3002\n\n\u5206\u4e24\u79cd\u60c5\u51b5\u8ba8\u8bba\uff1a\n\n$1$.\u8fd9\u4e2a\u5b57\u6bb5\u6ca1\u6709\u5305\u542b $c_1$\u548c $c_n$\uff0c\u90a3\u4e48\u5c31\u662f\u672c\u6765\u7684\u6700\u5927\u5b50\u6bb5\u548c\u3002\n\n$2$.\u5b57\u6bb5\u5305\u542b\u4e86 $c_1$\u548c $c_n$\uff0c\u90a3\u5c31\u662f\u6574\u4e2a\u548c\u51cf\u53bb\u5168\u90e8\u7684\u6700\u5c0f\u5b57\u6bb5\u548c\u3002\n\n\u6700\u5c0f\u5b57\u6bb5\u548c\u53ef\u4ee5\u628a\u6240\u6709\u5143\u7d20\u53d6\u53cd\uff0c\u6c42\u6700\u5927\u5b50\u6bb5\u548c\u3002\n\n\u628a\u4e24\u79cd\u60c5\u51b5\u53d6\u6700\u5927\u503c\u5373\u4e3a\u7b54\u3002\n\n\u8fd9\u6837\u53ef\u4ee5\u901a\u8fc7\u52a0\u5f3a\u7248\u7684\u6570\u636e\u4e86\u3002\n\n### \u4ee3\u7801\uff1a\n```cpp\n#include <bits/stdc++.h>\nusing namespace std;\n#define int long long //\u4e0d\u5f00longlong\u89c1\u7956\u5b97\n#define mp make_pair\n#define reg register int\n#define msz(a) memset(a, 0, sizeof a);\n#define rep1(i, j, n) for (reg i = j; i <= n; ++i)\n#define rep2(i, j, n) for (reg i = j; i >= n; --i)\ntypedef long long LL;\ntypedef pair <int, int> PII;\nconst int INF1 = 0x3f3f3f3f, INF2 = 0x7fffffff;\nconst int N = 1e5 + 5;\nint n, d[N], ans, nowid, result = INF2, maxn, start, f[N], b[N];\nvector <int> a[N];\nbool vis[N];\nsigned main() {\n    // freopen(\"P6170_7.in\", \"r\", stdin);\n    scanf(\"%lld\", &n);\n    for (int i = 1; i <= n; ++i) {\n        int x;\n        scanf(\"%lld\", &x);\n        b[i] = x - 1;\n        for (int j = 1; j <= x; ++j) a[i].push_back(++nowid);\n    }\n    bool flg = 1;\n    int m1 = 0, m2 = 0, sum = 0, bg1, st1, st2;\n    for (int i = 1; i <= n; ++i) {\n        if (f[i - 1] > 0) f[i] = f[i - 1] + b[i];\n        else f[i] = b[i], bg1 = i;\n        if (f[i] > m1) m1 = f[i], st1 = bg1;\n        sum += b[i];\n        b[i] = -b[i];\n    }\n    for (int i = 1; i <= n; ++i) {\n        if (f[i - 1] > 0) f[i] = f[i - 1] + b[i];\n        else f[i] = b[i];\n        if (f[i] > m2) m2 = f[i], st2 = i + 1;\n    }\n    m2 = sum + m2;\n    if (m1 > m2) start = st1;\n    else start = st2;\n    // \u5206\u7c7b\u8ba8\u8bba\u6700\u5927\u5b50\u6bb5\u548c\n    for (int now = start; ; ++now) {\n        if (now > n) now %= n;\n        if (now == start && flg == 0) break;\n        if (a[now].empty()) continue;\n        flg = 0;\n        int sz = a[now].size();\n        int p = now + 1;\n        if (p > n) p %= n;\n        for (int i = 0; i < sz - 1; ++i) {\n            a[p].push_back(a[now][i]);\n            d[a[now][i]]++;\n        }\n        int endnum = a[now][sz - 1];\n        a[now].clear();\n        a[now].push_back(endnum);\n    }\n    for (int i = 1; i <= n; ++i) \n        ans += d[i] * d[i];\n    printf(\"%lld\", ans);\n    return 0;\n}\n```\n\n\u8fd9\u4e2a\u65b9\u6cd5\u6709\u70b9\u9ebb\u70e6\uff0c\u6bd4\u5176\u4ed6\u5927\u4f6c\u7684\u65b9\u6cd5\u83dc\uff0c\u4e0d\u8fc7\u6211\u4e5f\u662f\u56e0\u4e3a\u770b\u4e0d\u61c2\u624d\u6765\u5199\u7684\u3002",
        "postTime": 1632822694,
        "uid": 347589,
        "name": "ChickenURSoBeautiful",
        "ccfLevel": 0,
        "title": "P6170"
    },
    {
        "content": "\u5199\u4e00\u7bc7\u7a0d\u5fae\u6e05\u695a\u70b9\u7684\uff0c\u81ea\u5df1\u770b\u7684\u65f6\u5019\u8499\u4e86\u534a\u5929\u2026\u2026\n\n___\n\n\u6709\u4e00\u4e2a\u663e\u7136\u7684\u8d2a\u5fc3\u65b9\u5f0f\uff1a\n\n- \u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u90fd\u7531\u9006\u65f6\u9488\u65b9\u5411\u6700\u8fd1\u7684\u6709\u725b\u7684\u4f4d\u7f6e\u586b\u5145\u3002\n\n\u8bc1\u660e\uff1a\u82e5\u5fae\u6270\u8fd9\u4e2a\u65b9\u6848\u2014\u2014\u7528\u6b21\u8fd1\u7684\u4f4d\u7f6e\u586b\u5145\uff0c\u56e0\u4e3a $\\forall x,y\\in N^*,(x+y)^2>x^2+y^2$\uff0c\u6240\u4ee5\u5fc5\u7136\u5bfc\u81f4\u7b54\u6848\u589e\u52a0\u3002\n\n\u8fd9\u4e2a\u8d2a\u5fc3\u53ef\u4ee5\u4f7f\u7528\u961f\u5217\u6765\u5b9e\u73b0\u3002\uff08\u7528\u6700\u524d\u9762\u7684\u7a7a\u95f2\u7684\u725b\u586b\u8fd9\u4e2a\u725b\u68da\uff0c\u5c06\u8fd9\u4e2a\u4f4d\u7f6e\u4e0a\u7684\u725b\u7559\u7ed9\u540e\u9762\u7684\u725b\u68da\u51cf\u5c11\u4ee3\u4ef7\uff09\u3002\n\n\u73b0\u5728\u95ee\u9898\u53d8\u6210\u4e86\u4ee5\u54ea\u4e2a\u4f4d\u7f6e\u4f5c\u4e3a\u8d77\u70b9\u5f00\u59cb\u586b\u5145\u3002\n\n\u6734\u7d20\u7684\u505a\u6cd5\u662f\u679a\u4e3e\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u4f5c\u4e3a\u8d77\u70b9,\u7136\u540e\u65ad\u73af\u4e3a\u94fe\u3002\u8fd9\u4e2a $O(n^2)$ \u7684\u5c51\u505a\u6cd5\u53ea\u80fd\u901a\u8fc7 Silver \u7684\u6570\u636e\u3002\n\n\u9996\u5148\u65ad\u73af\u4e3a\u94fe\uff0c\u590d\u5236\u4e00\u4efd\u539f\u6570\u7ec4\u5728\u672b\u5c3e\uff0c\u5219\u6bcf\u4e2a\u65b9\u6848\u53ef\u4ee5\u8868\u793a\u4e3a i~i+n-1 \u8fd9\u4e2a\u533a\u95f4\u7684\u65b9\u6848\u3002\n\n\u8003\u8651\u5220\u9664\u4e00\u4e9b\u65e0\u7528\u7684\u65b9\u6848\u3002\n\n\u624b\u753b\u51e0\u4e2a\u6837\u4f8b\u4f1a\u53d1\u73b0\uff0c\u6709\u5f88\u5927\u4e00\u90e8\u5206\u60c5\u51b5\u4f1a\u56e0\u4e3a\u524d\u9762\u7684\u725b\u4e0d\u591f\u591a\u800c\u5ba3\u544a\u4e0d\u5408\u6cd5\uff0c\u6211\u4eec\u53ef\u4ee5\u7531\u8fd9\u4e2a\u6027\u8d28\u5c1d\u8bd5\u8df3\u8fc7\u4e00\u90e8\u5206\u8d77\u70b9\u3002\n___\n\u8bbe$b_i = c_i-1$,$c_i$ \u8868\u793a\u5728\u7b2ci\u4e2a\u725b\u68da\u4e2d\u725b\u7684\u5934\u6570\u3002\u5219 \u8fd9\u4e2a\u65b9\u6848\u5408\u6cd5\u7b49\u4ef7\u4e8e**\u4efb\u610f b \u7684\u524d\u7f00\u548c\u975e\u8d1f**\u3002\n\n**\u7ed3\u8bba1** \uff1a \u82e5\u73b0\u5728\u4ee5 i \u4e3a\u8d77\u59cb\u70b9\uff0c\u8d70\u5230 j \u65f6\u5ba3\u544a\u4e0d\u5408\u6cd5\uff0c**\u5219 i,j \u4e4b\u95f4\u7684\u8d77\u70b9\u4e00\u5b9a\u4e5f\u4e0d\u5408\u6cd5**\u3002\n\n\u8bc1\u660e\uff1a\u56e0\u4e3a i~j-1 \u4e2d\u4efb\u610f\u524d\u7f00\u548c\u5927\u4e8e 0\uff0c\u79fb\u9664\u524d\u9762\u4e00\u90e8\u5206\u548c\u975e\u8d1f\u7684\u524d\u7f00\u540e \uff0c\u540e\u9762\u7684\u524d\u7f00\u548c\u4e0d\u4f1a\u53d8\u5927\uff0c\u5fc5\u7136\u4e5f\u4f1a\u5728 j \u6216 j \u4e4b\u524d\u5ba3\u544a\u4e0d\u5408\u6cd5\u3002\n___\n**\u7ed3\u8bba2** \uff1a\u53ea\u8981\u627e\u5230\u65b9\u6848\uff0c\u5fc5\u7136\u662f\u6700\u4f18\u65b9\u6848\u3002\n\n~~\u770b\u8d77\u6765\u597d\u50cf\u5f88\u7384\u5b66\u3002~~\n\n\u8bc1\u660e\uff1a\u82e5\u6211\u4eec\u5df2\u7ecf\u627e\u5230\u4e86\u4e00\u4e2a\u5408\u6cd5\u65b9\u6848 st~st+n-1\uff0c\u6574\u4e2a\u5408\u6cd5\u65b9\u6848\u7684\u603b\u524d\u7f00\u548c\u5fc5\u7136\u4e3a0\uff0c\u800c\u540e\u9762\u7684\u65b9\u6848\u7684\u751f\u6210\u65b9\u5f0f\u662f**\u526a\u5207\u4e00\u6bb5\u524d\u7f00\uff0c\u590d\u5236\u5728\u672b\u5c3e**\u3002\n\n\u53ea\u6709\u526a\u5207\u4e00\u6bb5\u524d\u7f00\u548c\u4e3a 0 \u7684\u524d\u7f00\u624d\u53ef\u4ee5\u4f7f\u751f\u6210\u7684\u65b9\u6848\u5408\u6cd5\uff0c\u56e0\u4e3a\u82e5\u526a\u5207\u4e86\u524d\u7f00\u548c\u4e3a\u6b63\u7684\u7684\uff0c\u5fc5\u5b9a\u4f7f\u65b0\u65b9\u6848\u4e2d st+n-1 \u8fd9\u4e2a\u4f4d\u7f6e\u7684\u524d\u7f00\u548c\u5c0f\u4e8e0\u3002\n\n\u7136\u800c\u6bcf\u4e00\u6bb5\u524d\u7f00\u4e3a0\u7684\u524d\u7f00\u7684\u526a\u5207\u4e0d\u4f1a\u5bf9\u7b54\u6848\u6709\u5f71\u54cd\u2014\u2014\u56e0\u4e3a\u524d\u7f00\u548c\u4e3a0\uff0c**\u5185\u90e8\u7684\u8d21\u732e\u662f\u72ec\u7acb\u4e8e\u5916\u7684**\u3002\n\n\u6240\u4ee5\u6240\u6709\u7684\u5408\u6cd5\u65b9\u6848\u7b54\u6848\u5fc5\u7136\u76f8\u540c\u3002\u627e\u5230\u65b9\u6848\u5c31\u662f\u6700\u4f18\u65b9\u6848\uff0c\u8f93\u51fa\u5373\u53ef\u3002\n\n___\n\n\u65f6\u95f4\u590d\u6742\u5ea6 $O(n)$,\u6bcf\u4e00\u4e2a\u4f4d\u7f6e\u6700\u591a\u8bbf\u95ee\u4e00\u6b21\u3002\n\n\u4ee3\u7801\uff1a\n\n```cpp\n#include <queue>\n#include <cstdio>\nconst int maxn = 1e5+5;\nint n,c[maxn<<1];\nint main(){\n\tscanf(\"%d\",&n);\n\tfor(int i=1;i<=n;++i)scanf(\"%d\",&c[i]),c[i+n] = c[i];\n\tfor(int i=1;i<=n;++i){\n\t\tlong long nowans=0;\n\t\tstd :: queue <int> q;\n\t\tfor(int j=i;j<i+n;++j){\n\t\t\twhile(c[j])--c[j],q.push(j);\n\t\t\tif(!c[j]){\n\t\t\t\tif(q.empty()){\n\t\t\t\t\tnowans = -1;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tint pos = q.front();\n\t\t\t\tq.pop();\n\t\t\t\tnowans = nowans + (long long)(j-pos)*(j-pos);\n\t\t\t}\n\t\t}\n\t\tif(nowans != -1)return printf(\"%lld\",nowans),0;\n\t}\n\treturn 0;\n}\n```\n",
        "postTime": 1608817537,
        "uid": 114153,
        "name": "Sali\u0435ri",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6170 \u3010[USACO16FEB]Circular Barn G\u3011"
    },
    {
        "content": "update:\u4fee\u6539\u4e86\u8bc1\u660e\u4e2d\u4e0d\u51c6\u786e\u7684\u90e8\u5206\uff0c\u91cd\u65b0\u4fee\u6539\u4ee3\u7801\u4f7f\u4e4b\u66f4\u52a0\u9ad8\u6548\u53ef\u8bfb\u3002\n\n\u9996\u5148\u786e\u8ba4\u4e00\u70b9\uff0c\u5976\u725b\u884c\u8d70\u7684\u8def\u5f84\u4e2d\u4e0d\u80fd\u6709\u5176\u4ed6\u5976\u725b\u7684\u7ec8\u70b9\uff0c\u5426\u5219\u4e00\u5b9a\u4e0d\u662f\u6700\u4f18\uff0c\u53ef\u4ee5\u4ece$\\forall x,y \\in N^*\\quad x^2+y^2<(x+y)^2$ \u6765\u7406\u89e3\u3002\n\n\u5f88\u5bb9\u6613\u60f3\u5230\u4e00\u79cd\u66b4\u529b\u7684\u65b9\u6cd5\uff0c\u628a\u73af\u5904\u7406\u6210\u94fe\uff0c\u679a\u4e3e\u8d77\u59cb\u70b9\uff0c\u9047\u5230\u725b\u5c31\u5b58\u5165\u961f\u5217\u4e4b\u4e2d\uff0c\u9047\u5230\u7a7a\u4f4d\u5373\u5c31\u628a\u961f\u5934\u7684\u725b\u653e\u8fdb\u53bb\uff0c\u8fd9\u6837\u5c31\u80fd\u4fdd\u8bc1\u4e0d\u4f1a\u51fa\u73b0\u4ea4\u53c9\uff0c\u4e00\u65e6\u53d1\u73b0\u5976\u725b\u6570\u4e0d\u8db3\u4ee5\u586b\u8865\u7a7a\u4f4d\uff0c\u610f\u5473\u7740\u5fc5\u7136\u51fa\u73b0\u4ea4\u53c9\uff0c\u6b64\u65f6\u8fd9\u4e2a\u8d77\u70b9\u5c31\u53ef\u4ee5\u820d\u5f03\u4e86\u3002\n\u8fd9\u79cd\u505a\u6cd5\u7684\u65f6\u95f4\u590d\u6742\u5ea6\u662f$O(n^2)$\u7684\u3002\n\n\u66b4\u529b\u7684\u505a\u6cd5\u53ef\u4ee5\u8fc7\u7b80\u5316\u7248\u7684\u9898\u76ee\uff0c\u4f46\u662f\u5374\u4e0d\u80fd\u8fc7\u672c\u9898\uff0c\u90a3\u4e48\u5e94\u8be5\u600e\u4e48\u505a\u5462\uff1f\n\u731c\u60f3\u8fd9\u6837\u4e00\u79cd\u6027\u8d28\uff1a\u5f53$i$\u548c$j$\u4e4b\u95f4\u5728j\u5904\u7b2c\u4e00\u6b21\u51fa\u73b0\u5976\u725b\u6570\u4e0d\u8db3\u4ee5\u586b\u8865\u7a7a\u4f4d\u65f6\uff0c$i$\u548c$j$\u53ca\u5176\u4e4b\u95f4\u7684\u70b9\u5747\u4e0d\u80fd\u4f5c\u4e3a\u8d77\u70b9\u3002\n\n\u8bc1\u660e\u5982\u4e0b\uff1a\n\u5047\u8bbe$i$\u548c$j$\u4e4b\u95f4\u5728$j$\u5904\u7b2c\u4e00\u6b21\u51fa\u73b0\u5976\u725b\u6570\u4e0d\u8db3\u4ee5\u586b\u8865\u7a7a\u4f4d\uff0c\u4e5f\u5c31\u662f\u524d\u7f00\u548c\u4e3a\u8d1f\u6570\uff08\u524d\u7f00\u548c\u4e3a$sum[i]=sum[i-1]+(a[i]-1)$\uff0c\u53ef\u4ee5\u601d\u8003\u4e00\u4e0b\u4e3a\u4ec0\u4e48\u8981\u51cf\u4e00\uff09\uff0c\u4f4d\u7f6e\u591a\u4e8e\u603b\u548c\uff0c\u7136\u540e\u53ef\u4ee5\u53d1\u73b0\u6bcf\u6b21$i$\u524d\u79fb\u4e00\u4f4d\uff0c$j$\u4e0d\u53d8\u7684\u60c5\u51b5\u4e0b\uff0c\u5976\u725b\u6570$-a[i]$\uff0c\u4f4d\u7f6e\u6570$-1$\u3002\n\n\u8003\u8651\u4e24\u79cd\u60c5\u51b5\uff0c\u4e00\u79cd$a[i]>=1$\uff0c\u6b64\u65f6\u663e\u7136\u4ecd\u7136\u662f\u4e0d\u53ef\u53d6\u7684\u3002\n\n\u4e00\u79cd$a[i]=0$,\u6b64\u65f6\u603b\u548c\u4e0d\u53d8\uff0c\u4f4d\u7f6e$-1$\u3002\u5728\u8fd9\u4e2a\u60c5\u51b5\u4e0b$a[i]=0$\uff0c\u5176\u5b9e\u5728$j=i$\u65f6\u5df2\u7ecf\u51fa\u73b0\u4e86\u8d1f\u6570\uff0c\u6240\u4ee5\u4ecd\u7136\u662f\u4e0d\u53ef\u53d6\u7684\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c\u5f53$i$\u5230$j$\u7684\u524d\u7f00\u548c\u51fa\u73b0\u5728$j$\u5904\u7b2c\u4e00\u6b21\u51fa\u73b0\u8d1f\u6570\u65f6\uff0c$i$\u548c$i,j$\u4e4b\u95f4\u7684\u4f4d\u7f6e\u5747\u4e0d\u80fd\u4f5c\u4e3a\u8d77\u70b9\u3002\n\n\u6839\u636e\u8fd9\u4e2a\u6027\u8d28\u5c31\u53ef\u4ee5\u526a\u6389\u5927\u90e8\u5206\u4e0d\u9700\u8981\u7684\u679a\u4e3e\u4e86\uff0c\u5177\u4f53\u4f7f\u7528\u5728\u4ee3\u7801\u4e2d\u6709\u4f53\u73b0\u3002\n\n```\n#include <cstdio>\n#include <queue>\nusing namespace std;\nint n, c[200005];\nlong long nowans;\nint main()\n{\n    scanf(\"%d\", &n);\n    for (int i = 1; i <= n; i++)\n        scanf(\"%d\", &c[i]);\n    for (int i = 1; i <= n; i++)\n        c[i + n] = c[i];\n    for (int i = 1; i <= n; i++)\n    {\n        nowans = 0;\n        queue<int> que;\n        for (int j = i; j < i + n; j++)\n        {\n            while (c[j] > 0)\n            {\n                que.push(j);\n                c[j]--;\n            }\n            //\u8fd9\u91cc\u662f\u4f18\u5316\uff0c\u4e0d\u9700\u8981\u6062\u590dc[j]\u7684\u503c\n            //\u5982\u679c\u5f53\u524d\u679a\u4e3e\u7684\u60c5\u51b5\u4e3a\u6700\u4f18\u89e3\uff0c\u6062\u590dc[j]\u6ca1\u6709\u610f\u4e49\uff0c\u56e0\u4e3a\u540e\u9762\u7684\u4e0d\u4f1a\u518d\u4f18\u4e8e\u5f53\u524d\u60c5\u51b5\n            //\u5982\u679c\u5f53\u524d\u679a\u4e3e\u7684\u60c5\u51b5\u4e0d\u662f\u6700\u4f18\u89e3\uff0c\u90a3\u4e48i\u548cj\u53ca\u5176\u4e4b\u95f4\u90fd\u4e0d\u53ef\u80fd\u662f\u5408\u6cd5\u8d77\u70b9\uff0cc[j]\u7684\u503c\u4e5f\u6ca1\u6709\u610f\u4e49\u3002\n            if (c[j] == 0)\n            {\n                if (que.empty())\n                {\n                    nowans = -1;\n                    i = j; \n                    //\u4f18\u5316\uff0c\u76f4\u63a5\u8df3\u8fc7\u53bb\n                    break;\n                }\n                int now = que.front();\n                que.pop();\n                nowans += (j - now) * (j - now);\n            }\n        }\n        if (nowans != -1)\n        {\n            printf(\"%lld\", nowans);\n            return 0;\n        }\n    }\n    return 0;\n}\n```",
        "postTime": 1585368479,
        "uid": 6322,
        "name": "woshiren",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P6170 \u3010[USACO16FEB]Circular Barn G\u3011"
    },
    {
        "content": "```\n1.\u8fd9\u662f\u4e2a\u73af\uff0c\u53ef\u4ee5\u628a\u73af\u6253\u5f00\uff0c\u53d8\u6210\u4e00\u4e2a\u5e8f\u5217\u3002\n2.\u65e0\u8bba\u662f\u54ea\u4e00\u79cd\u65b9\u6848\uff0c\u5728\u73af\u91cc\u8bbe\u5b9a\u4e00\u4e2a\u8d77\u70b9\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5\u4e5f\u53d8\u6210\u4e00\u4e2a\u5e8f\u5217\u3002\n3.\u628a\u5e8f\u5217\u7684\u524d\u5934\u79fb\u5230\u672b\u5c3e\u8fd8\u662f\u539f\u6765\u7684\u73af\u3002\n``` \n\n```\n1.\u4ee4\u5305\u542b\u96f6\u5e76\u4e14\u5de6\u53f3\u8fb9\u754c\u90fd\u662f\u96f6\u7684\u533a\u95f4\u4e3aA\uff0c\u628aA\u53f3\u8fb9\u7684\u5168\u90e8\u79fb\u5230\u5de6\u8fb9\u53bb\uff0c\u5f97\u5230\u4e00\u4e2a\u53ef\u884c\u7684\u65b9\u6848\u3002\n2.\u90a3\u4e48\uff0c\u628a\u524d\u5934\u7684\u79fb\u5230\u672b\u5c3e\u53ef\u4ee5\u751f\u6210\u65b0\u7684\u65b9\u6848\uff0c\u6613\u5f97\u53ea\u8981\u79fb\u7684\u623f\u95f4\u7684\u5976\u725b\u6570\u91cf\u4e0d\u662f1\uff0c\u65b0\u65b9\u6848\u5c31\u4e0d\u6210\u7acb\u3002\n3.\u6613\u5f97\u79fb\u52a8\u7684\u623f\u95f4\u7684\u5976\u725b\u6570\u662f1\u5bf9\u7b54\u6848\u4e0d\u5f71\u54cd\u3002\n4.\u7efc\u4e0a\uff0c\u53ea\u8981\u627e\u5230\u65b9\u6848\u5e76\u91c7\u53d6\u6700\u4f18\u7684\u79fb\u52a8\u65b9\u6cd5\u5c31\u662f\u6700\u4f18\u65b9\u6848\u3002\n```\n```\n\u6700\u4f18\u7684\u79fb\u52a8\u65b9\u6cd5\u3002\n1.u\u53f7\u623f\u95f4\u8ddd\u79bbm\u53f7\u623f\u95f4x\u4e2a\u5355\u4f4d\uff0cm\u53f7\u623f\u95f4\u8ddd\u79bbv\u53f7\u623f\u95f4y\u4e2a\u5355\u4f4d\uff0cu\u53f7\u623f\u95f4\u5976\u725b\u6570\u4e3a2\uff0cm\u53f7\u623f\u95f4\u5976\u725b\u6570\u4e3a1\uff0cv\u53f7\u623f\u95f4\u5976\u725b\u6570\u4e3a0\uff0c\u6700\u4f18\u79fb\u52a8\u65b9\u6848\u662f\u4ecem\u53f7\u623f\u95f4\u79fb\u52a81\u53ea\u5976\u725b\u5230v\u53f7\u623f\u95f4\uff0c\u4eceu\u53f7\u623f\u95f4\u79fb\u52a81\u53ea\u5976\u725b\u5230m\u53f7\u623f\u95f4\u3002\n2.\u4e0a\u8ff0\u60c5\u51b5\u8981\u79fb\u52a81\u53ea\u5976\u725b\uff0c\u4e0a\u8ff0\u65b9\u6848\u6d88\u8017\u7684\u80fd\u91cf\u4e3ax^2+y^2\uff0c\u76f4\u63a5\u4eceu\u53f7\u623f\u95f4\u79fb\u52a8\u5230v\u53f7\u623f\u95f4\u6d88\u8017\u7684\u80fd\u91cf\u4e3a(x+y)^2\uff0c\u56e0\u4e3ax,y\u90fd\u662f\u6574\u6570\uff0c\u6613\u5f97x^2+y^2<(x+y)^2\n3.\u6613\u5f97\u6700\u4f18\u79fb\u6cd5\u662f\u6bcf\u6b21\u90fd\u79fb\u8ddd\u79bb\u7a7a\u623f\u95f4\u6700\u8fd1\u7684\u623f\u95f4\u7684\u5976\u725b\u6765\u586b\u8865\u3002\n```\n\n### \u5207\u8bb0\uff0c\u6709\u65f6\u4e0d\u5f00long long\u89c1\u7956\u5b97\u3002~~\uff08233\uff09~~\n```cpp\n#include <algorithm>\n#include <cstdio>\n#include <queue>\n\nusing namespace std;\n\nconst int maxn = 1e5+7;\n\nint n, c[maxn<<1];\nint l, r, a[maxn];\nlong long ans;\n\nint main() {\n    scanf(\"%d\", &n);\n    for (int i = 1; i <= n; i++) {\n        scanf(\"%d\", &c[i]);\n        c[i+n] = c[i];\n    }\n\n    for (int i = 1, t; i <= n; i++) {\n        ans = 0; l = 1; r = 0;\n        t = i;\n        for (int j = i; j < i+n; j++, t = j) {\n            for (int k = 1; k <= c[j]; k++) a[++r] = j;\n            c[j] = 0;\n            if (l > r) {\n                ans = -1;\n                break;\n            } else {\n                ans += (a[l]-j)*(a[l]-j);\n                l++;\n            }\n        }\n        if (ans > -1) break;\n        i = t;\n    }\n    printf(\"%lld\", ans);\n\n    return 0;\n}\n```",
        "postTime": 1585370378,
        "uid": 246609,
        "name": "llooser",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6170 \u3010[USACO16FEB]Circular Barn G\u3011"
    },
    {
        "content": "[\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P3137)\n\n\u4e00\u9053\u5f88\u597d\u7684\u6570\u8bba\u9898\u3002\n\n### \u9898\u610f\uff1a\n\u6709 $n$ \u5934\u5976\u725b\uff0c\u5206\u5e03\u5728\u4e00\u4e9b\u623f\u95f4\uff0c\u67d0\u4e9b\u623f\u95f4\u53ef\u80fd\u6709\u591a\u5934\u725b\uff0c\u8981\u8ba9\u8fd9\u4e9b\u725b\u6309\u987a\u65f6\u9488\u79fb\u52a8\uff0c\u4f7f\u6bcf\u4e00\u4e2a\u623f\u95f4\u6070\u597d\u6709\u4e00\u4e2a\u5976\u725b\u7684\u6700\u5c0f\u82b1\u8d39\u3002\n\n\u82b1\u8d39\u8ba1\u7b97\uff1a\u5982\u679c\u4e00\u5934\u5976\u725b\u7a7f\u8fc7\u4e86 $d$ \u6247\u95e8\uff0c\u4ed6\u6d88\u8017\u7684\u80fd\u91cf\u4e3a $d^2$ \u3002\n\n### \u601d\u8def:\n\u5bf9\u4e8e\u8fd9\u9053\u9898\uff0c\u6211\u53ef\u4ee5\u76f4\u8bf4\uff0c\u7528**\u66b4\u529b**\u5c31\u884c\u4e86\uff0c~~\u6839\u672c\u4e0d\u9700\u8981\u5176\u4ed6\u7684\u6280\u5de7~~\u3002\n\n\u9996\u5148\u8bf4\u4e00\u4e2a\u4e1c\u897f\uff1a\u5982\u679c\u6709 $1$ \u5934\u5976\u725b\u5728 $a$ \u70b9\uff0c$1$ \u5934\u5976\u725b\u5728 $b$ \u70b9\uff0c\u8fd8\u6709\u4e00\u4e2a\u6ca1\u6709\u5976\u725b\u7684 $c$ \u70b9\uff0c\u4e14 $c>b>a$\uff0c\u8981\u60f3\u6709\u4e00\u5934\u5976\u725b\u5728 $b$ \u70b9\uff0c\u4e00\u5934\u5976\u725b\u5728 $c$ \u70b9\uff0c\u65b9\u6848 $a \\to b,b \\to c$ \u6bd4\u65b9\u6848 $a \\to c$ \u597d\u3002\n\n\u56e0\u4e3a $\\sum c_i = n$\uff0c\u4e14\u8981\u4f7f\u5f97 $\\forall c_i = 1$\uff0c\u6bcf\u5934\u5976\u725b\u8d70\u7684\u6b65\u6570\u6700\u5c11\uff0c\u6240\u4ee5\u53ef\u4ee5\u76f4\u63a5\u4ece\u7b2c $1$ \u4e2a\u623f\u95f4\u5f00\u59cb\u904d\u5386\uff0c\u5982\u679c $c_i > 1$ \uff0c\u5c31\u628a\u8fd9\u4e2a\u623f\u95f4\u7684 $ (c_i-1)$ \u5934\u5976\u725b\u79fb\u5230\u540e\u9762\u7684\u4e00\u4e2a\u623f\u95f4\uff0c\u7559\u5728\u8fd9\u4e2a\u623f\u95f4\u91cc\u7684\u5976\u725b\u4e00\u5b9a\u662f\u6b65\u6570\u8d70\u7684\u6700\u591a\u7684\uff0c\u6240\u4ee5\u4e0d\u7528\u5224\u65ad\u6bcf\u5934\u5976\u725b\u7684\u65b0\u65e7\uff0c\u4ee5\u6b64\u7c7b\u63a8\uff0c\u76f4\u5230\u6ee1\u8db3 $\\forall c_i =1$\uff0c\u5faa\u73af\u7ed3\u675f\u3002\n\n\u6bd4\u5982\u8bf4:\n\n\u6837\u4f8b\u6570\u636e : `10 1 0 0 2 0 0 1 2 2 2`.\n\n\u660e\u663e\u6700\u4f18\u7684\u65b9\u6848\u662f\uff1a\n$4\\to5,4\\to6,1\\to4,10\\to3,10\\to2,9\\to1,9\\to10,8\\to9$ \u3002\n\n\u5982\u679c\u4e00\u4e2a\u4e00\u4e2a\u8d70\u7684\u8bdd\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n^2)$\uff0c\u4e0d\u4f1a\u7206\u3002\n\n\u4f46\u662f\u5982\u679c\u5168\u90e8\u8d70\u7684\u8bdd\uff0c\u65f6\u95f4\u590d\u6742\u5ea6\u662f $O(n)$\uff0c\u521a\u597d\u3002\n\n## \u8d34\u8d34\u4ee3\u7801\n\n```cpp\n#include <bits/stdc++.h>\n#define ll long long\nusing namespace std;\nstruct node{ll N,S,W;}a[101000];\n// N \u5f53\u524d\u623f\u95f4\u7684\u4e0b\u4e00\u4e2a\u623f\u95f4\n// S \u5f53\u524d\u623f\u95f4\u8fd8\u6709\u591a\u5c11\u5934\u725b\n// W \u5f53\u524d\u623f\u95f4\u8fd8\u6709\u591a\u5c11\u5934\u725b\nll n,ans,p=1;\nint main(){\n\tcin>>n;\n\tfor(ll i=1;i<=n;i++) cin>>a[i].S;\n\tfor(ll i=1;i<=n;i++)\n\t\ta[i].N=i+1;\n\ta[n].N=1;\n    // \u8bb0\u5f55\u5f53\u524d\u623f\u95f4\u7684\u4e0b\u4e00\u4e2a\u623f\u95f4\u7684\u7f16\u53f7\n\tfor(ll i=1;i<=2*n;i++){\n\t\tif(a[p].S>1){\n\t\t\ta[a[p].N].S+=a[p].S-1;\n\t\t\ta[a[p].N].W+=a[p].S-1;\n\t\t\ta[p].S=1;\n\t\t}\n\t\tp=a[p].N;\n\t}\n\tfor(ll i=1;i<=n;i++) ans+=(a[i].W*a[i].W);\n\tprintf(\"%lld\",ans);\n\treturn 0;\n}\n```\n\u65f6\u95f4\u590d\u6742\u5ea6\u8fd8\u633a\u4f4e , $O(n)$\u3002\n\n~~\u8fd9\u6837\u4f60\u5c31\u80fd\u4e00\u4e0b A \u4e24\u9053\u9898\u5566~~",
        "postTime": 1659580905,
        "uid": 590600,
        "name": "MoriyaSuwako",
        "ccfLevel": 0,
        "title": "P6170\u9898\u89e3"
    },
    {
        "content": "\u8d21\u732e\u662f $n^2$ \u7684\u5f62\u5f0f\uff0c\u8fd9\u662f\u5f88\u503c\u5f97\u601d\u8003\u7684\u3002\n\n\u9996\u5148\u63a8\u8bba\uff1a\u5976\u725b\u8d70\u8fc7\u7684\u8def\u5f84\u4e2d\uff0c\u4e0d\u80fd\u591f\u5b58\u5728\u5176\u4ed6\u5976\u725b\u7684\u7ec8\u70b9\u3002\u7528\u5177\u4f53\u7684\u4f8b\u5b50\u6765\u8bf4\uff0c\u5c31\u662f\u5982\u679c\u5b58\u5728 $1\\to 4$ \u548c $2\\to 3$ \u7684\u60c5\u51b5\uff0c\u90a3 $1\\to 3$ \u548c $2\\to4$ \u80af\u5b9a\u662f\u66f4\u4f18\u7684\u3002\n\n\u4e3a\u4ec0\u4e48\uff1f\u6211\u4eec\u8003\u8651\u8ba1\u7b97\u4e24\u8005\uff1a$3^2+1^2=10$\uff0c$2^2+2^2=8<10$\uff0c\u56e0\u6b64\u540e\u8005\u66f4\u4f18\u3002\n\n\u5982\u679c\u7528\u62bd\u8c61\u7684\u65b9\u5f0f\u8fdb\u884c\u8bc1\u660e\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a $x^2+y^2$ \u6bd4 $(x+y)^2$ \u6765\u7684\u5c0f\uff0c\u8fd9\u4e2a\u7ed3\u8bba\u662f\u53ef\u4ee5\u63a8\u5e7f\u7684\u3002\n\n\u663e\u7136\u6070\u5f53\u9009\u62e9\u8d77\u70b9\u7684\u65b9\u5f0f\uff0c\u662f\u901a\u8fc7 G \u7ec4\u8fd9\u9898\u7684\u91cd\u8981\u4e00\u70b9\u3002\u5982\u679c\u4e00\u6bb5\u533a\u95f4\u7684\u5976\u725b\u4e0d\u591f\u7a20\u5bc6\uff0c\u90a3\u4e48\u7528\u5b83\u4f5c\u4e3a\u8d77\u70b9\u5c31\u4e0d\u5408\u7406\u3002\u4ec0\u4e48\u53eb\u4e0d\u591f\u7a20\u5bc6\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u725b\u7684\u6570\u91cf\u4e0d\u591a\u4e8e\u7684\u6570\u91cf\u3002\u8fd9\u4e5f\u5c31\u662f @woshiren \u9898\u89e3\u4e2d\u524d\u7f00\u548c\u8981\u51cf\u4e00\u7684\u7406\u7531\u3002\n\n\u7531\u4e8e\u725b\u7684\u6570\u91cf\u7b49\u4e8e $n$\uff0c\u56e0\u6b64\u4e00\u5b9a\u4f1a\u51fa\u73b0\u5927\u91cf\u7684\u7a00\u758f\u70b9\u4ee5\u53ca\u5c11\u90e8\u5206\u7684\u7a20\u5bc6\u533a\u57df\uff0c\u56e0\u6b64\uff0c\u6309\u7167\u4e0a\u8ff0\u7684\u601d\u8def\u8fdb\u884c\u679a\u4e3e\u8d77\u70b9\uff0c\u53ef\u4ee5\u51cf\u6389\u5927\u91cf\u7684\u5947\u602a\u800c\u4e0d\u5fc5\u8981\u7684\u70b9\u3002\n\n\u5b9e\u73b0\u53ef\u4ee5\u770b\u4e00\u4e0b\u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long\n#define N 200005 \nusing namespace std;\nint n,c[N],cur;\nsigned main(){\n    scanf(\"%lld\",&n);\n    for(int i=1;i<=n;i++){\n    \tscanf(\"%lld\",&c[i]);\n    \tc[i+n]=c[i];//\u65ad\u73af\u4e3a\u94fe \n\t}for(int i=1;i<=n;i++){\n\t\tcur=0;queue<int>q;\n\t\tfor(int j=i;j<i+n;j++){\n\t\t\twhile(c[j]>0)q.push(j),c[j]--;\n\t\t\tif(q.empty()){cur=-1;break;}\n            if(!c[j])cur+=(j-q.front())*(j-q.front()),q.pop();\n        }if(cur!=-1){printf(\"%lld\\n\",cur);return 0;}\n    }return 0;\n}\n```\n\n",
        "postTime": 1634477695,
        "uid": 212283,
        "name": "Aw\u987f\u987f",
        "ccfLevel": 5,
        "title": "\u3010\u9898\u89e3\u3011[USACO16FEB]Circular Barn G"
    },
    {
        "content": "\u8fd9\u662f\u849f\u84bb\u7684\u7b2c\u56db\u7bc7\u9898\u89e3\uff0c\u8bf7\u795e\u7287\u52ff\u55b7\u672c\u9898\u89e3\u3002\n\n\u8003\u8651\u4e00\u4e0b\u6bcf\u4e00\u4e2a\u5976\u725b\u6309\u4e0b\u6807\u6392\u5e8f\uff0c\u90a3\u4e48\u6700\u7ec8\u7684\u4f4d\u7f6e\u5fc5\u7136\u662f\u8fde\u7eed\u7684\u4e00\u4e32\u6570\uff0c~~%10\u610f\u4e49\u4e0b~~\n\n\u90a3\u4e48\u53ea\u9700\u8981\u786e\u5b9a\u597d\u6700\u7ec8\u7684\u4f4d\u7f6e\uff0c\u7edf\u8ba1\u5c31\u53ef\u4ee5\u4e86\u3002\n\n\u663e\u7136\u521d\u59cb\u4f4d\u7f6e\u548c\u6392\u5e8f\u6570\u7ec4\u4e2d\u7684\u4e0b\u6807\u4e4b\u5dee\u6700\u5927\u7684\uff0c\u6700\u7ec8\u4f4d\u7f6e\u5c31\u662f\u5f53\u524d\u4f4d\u7f6e\uff0c~~\u4e0d\u9700\u8981\u79fb\u52a8~~\n\n\u5176\u4f59\u7684\u6309\u7167\u8fd9\u79cd\u6392\u5217\u79fb\u52a8\u5373\u53ef\u3002\n\n```cpp\n#include<cstdio>\n#include<algorithm>\nusing namespace std;\nlong long a[100001],n,x,b[100001],c[100001],maxx=-0x3f3f3f3f,p,cnt,ans;\nint main()\n{\n    scanf(\"%d\",&n);\n    for(register int i=0i<=n;i++)//\u6709\u8bef\uff01\u9632\u6284\u88ad\n    {\n        scanf(\"%d\",&x);\n        while(x)\n        {\n            a[cnt++]=i;\n            x--;\n        }\n    }\n    for(register int i=0;i<n;i++) b[i]=a[i]-i;\n    for(register int i=0;i<n;i++)\n    if(b[i]>maxx) maxx=b[i],p=i;\n    c[p]=a[p];\n    for(register int i=p-1;i>=0;i--) c[i]=c[i+1]-1,c[i]%=n;\n    for(register int i=p+1;i<n;i++) c[i]=c[i-1]+1,c[i]%=n;\n    for(register int i=0;i<n;i++)\n    {\n        if(c[i]<a[i]) c[i]+=n;\n        ans+=(c[i]-a[i])*(c[i]-a[i]);\n    }\n    printf(\"%lld\\n\",ans);\n    return 0;\n}\n```\n[P6170 [USACO16FEB]Circular Barn G\u9898\u76ee\u4f20\u9001\u95e8](https://www.luogu.com.cn/problem/P6170)\n",
        "postTime": 1584150243,
        "uid": 243479,
        "name": "2020ywj",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6170 \u3010[USACO16FEB]Circular Barn G\u3011"
    },
    {
        "content": "\u672c\u4eba\u6c34\u7684\u7b2c\u4e00\u7bc7\u9898\u89e3\uff0c\u5199\u7684\u8f83\u5dee\u8bf7\u8c05\u89e3~\n\n\n------------\n\u8fd9\u9898\u672c\u8d28\u4e0a\u548c\u94f6\u7ec4\u7684 P3137 \u4e00\u81f4\uff0c\u9664\u4e86\u4e0d\u80fd\u7528 $O(N^2)$ \u6765\u89e3\u3002\n\n### \u9898\u610f\uff1a\n\n\u6709 $N$ \u5934\u5976\u725b\u987a\u65f6\u9488\u7ecf\u8fc7\u4e00\u4e2a\u73af\uff0c\u73af\u4e00\u5171 $N$ \u4e2a\u4f4d\u7f6e\uff0c\u67d0\u4e9b\u4e3a\u7a7a\u3002\u5976\u725b\u80fd\u91cf\u6d88\u8017\u4e3a\u8d70\u7684\u8def\u7a0b\u5e73\u65b9\uff0c\u8981\u6c42\u6d88\u8017\u6700\u5c11\u80fd\u91cf\u586b\u6ee1\u6240\u6709\u7a7a\u4f4d\u3002\n\n### \u5206\u6790\uff1a\n\n- \u4e3a\u4e86\u8ba9\u603b\u80fd\u91cf\u503c\u6700\u5c11\uff0c\u8981\u5c3d\u53ef\u80fd\u4fdd\u8bc1\u6bcf\u5934\u5976\u725b\u8d70\u7684\u8def\u7a0b\u6700\u77ed\uff0c\u56e0\u4e3a\u80fd\u91cf\u6d88\u8017\u662f\u8ddd\u79bb\u5e73\u65b9\u3002\n\n- \u8981\u62ff\u6ee1\u5206\u5fc5\u987b\u540c\u65f6\u5e26\u7740\u6240\u6709\u5f53\u524d\u7684\u5976\u725b\u8d70\uff0c\u4e0d\u7136\u4f1a\u8d85\u65f6\u3002\n\n- \u6bcf\u5934 \u201c\u7275\u7740\u8d70\u201d \u7684\u5976\u725b\u5f97\u8bb0\u5f55\u4f4d\u7f6e\uff0c\u8ba9\u6700\u65e9\u6765\u7684\u6700\u5148\u62b5\u8fbe\u7a7a\u4f4d\u3002\n\n- \u4fdd\u8bc1\u5faa\u73af\u6570\u7ec4\u3002\n\n### \u601d\u8def\uff1a\n\n- \u8bb0\u5f55\u4e4b\u524d\u591a\u4f59\u7684\u5976\u725b\u6570\u91cf\uff08\u5047\u8bbe\u4e00\u4e2a\u683c\u5b50\u5927\u4e8e $1$ \u5934\u5976\u725b\u6570\u91cf\uff0c\u5219\u628a\u5269\u4e0b\u7684\u5976\u725b \u201c\u7275\u7740\u8d70\u201d\uff09\u3002\n\n- \u7528\u961f\u5217\u50a8\u5b58\u6240\u6709\u5f53\u524d\u5976\u725b\u7684\u4e0b\u6807\uff08\u4fdd\u8bc1\u6700\u65e9\u6765\u7684\u725b\u6700\u5148\u8d70\uff09\u3002\n\n- \u627e\u5230\u67d0\u4e2a\u8d77\u70b9\uff0c\u4fdd\u8bc1\u8fd9\u4e2a\u8d77\u70b9\u5f00\u59cb\u5f80\u540e\u80fd\u591f\u586b\u6ee1\u6240\u6709\u7a7a\u4f4d\u3002\u8fd9\u91cc\u901a\u8fc7\u53cd\u5411\u904d\u5386\u6c42\u51fa $sum$\uff0c\u5e76\u4ece $sum$ \u6570\u7ec4\u4e2d\u627e\u5230\u6700\u5927\u7684\u503c\u4f5c\u4e3a\u8d77\u70b9\u3002\n\n- \u628a\u539f\u5148\u7684\u6570\u7ec4\u4e58\u4ee5 $2$\uff08\u8d77\u5230\u6570\u7ec4\u5faa\u73af\u4f5c\u7528\uff0c\u8fd9\u6837\u4e5f\u4e0d\u9700\u8981\u53d6\u6a21\u4e86\uff09\u3002\n\n- **\u8fdb\u884c\u5976\u725b\u4ea4\u6362\uff1a** \u5982\u679c\u5f53\u524d\u4f4d\u7f6e\u4e0d\u4e3a\u7a7a\u4e14\u624b\u4e0a\u6709 \u201c\u7275\u7740\u8d70\u201d \u7684\u5976\u725b\u65f6\uff0c\u7528\u624b\u4e0a\u7684\u5976\u725b\u548c\u5f53\u524d\u4f4d\u7f6e\u4e0a\u7684\u5976\u725b\u8fdb\u884c\u4ea4\u6362\uff0c\u4fdd\u8bc1\u4e0b\u4e00\u6b21\u5976\u725b\u7684\u80fd\u91cf\u503c \u201c\u5237\u65b0\u201d\u3002\n\n\n------------\n### \u4ee3\u7801\uff1a\n\n```cpp\n#include<bits/stdc++.h>\n#define int long long //\u522b\u5fd8\u4e86\u5f00long long!\nusing namespace std;\nint n,num[212345],sum[114514],c,idx,ans; //num\u50a8\u5b582*\u539f\u6765\u7684\u6570\u7ec4\uff0cidx\u4e3a\u8d77\u70b9\u4e0b\u6807\nsigned main(){\n\tcin >> n;\n\tfor(int i=0;i<n;i++)cin >> num[i];\n\tfor(int i=n-1;i>=0;i--){//\u53cd\u5411\u904d\u5386\u6c42\u51fasum\u4e2d\u7684\u503c\uff0c\u7528\u4e8e\u6c42\u8d77\u70b9\u4e0b\u6807\n\t\tc+=num[i]-1;\n\t\tsum[i]=c;\n\t}c=0;\n\tfor(int i=0;i<n;i++)//\u67e5\u8be2sum\u4e2d\u7684\u6700\u5927\u503c\u4e0b\u6807\u8bbe\u4e3a\u8d77\u70b9\n\t\tif(sum[i]>c){\n\t\t\tidx=i;\n\t\t\tc=sum[i];\n\t\t}\n\tfor(int i=n;i<n*2;i++)num[i]=num[i-n];//\u6570\u7ec4*2\uff0c\u4fdd\u8bc1\u5faa\u73af\n\tqueue<int>q;//\u961f\u5217\u5b58\u5f53\u524d\u6240\u6709\u5976\u725b\u4e0b\u6807\n\tfor(int i=idx;i<n+idx;i++)\n\t\tif(num[i]){\n\t\t\tif(!q.empty()){//\u5982\u679c\u6570\u7ec4\u4e0d\u4e3a\u7a7a\u4e14\u624b\u5934\u6709\u7275\u7740\u7684\u725b\n\t\t\t\tans+=pow(i-q.front(),2);\n\t\t\t\tq.pop();//\u8fdb\u884c\u5976\u725b\u7684\u4ea4\u6362\uff0c\u4fdd\u8bc1\u6700\u5c0f\u80fd\u91cf\u6d88\u8017\u5e76\u8ba1\u7b97ans\n\t\t\t\tq.push(i);\n\t\t\t}\n\t\t\tfor(int j=1;j<num[i];j++)q.push(i);//\u9664\u4e86\u4e00\u5934\u5976\u725b\u4e4b\u5916\u522b\u7684\u5168\u90e8\u62ff\u8d70\n\t\t\tnum[i]=1;\n\t\t}else{\n\t\t\tans+=pow(i-q.front(),2);//\u5982\u679c\u5f53\u524d\u4e3a\u7a7a\u4f4d\uff0c\u5219\u62ff\u51fa\u6700\u65e9\u8fdb\u961f\u5217\u7684\u5976\u725b\n\t\t\tnum[i]=1;\n\t\t\tq.pop();\n\t\t}\n\tcout << ans;\n}\n\n```\n\n",
        "postTime": 1666688066,
        "uid": 723188,
        "name": "xyhqsjkl",
        "ccfLevel": 0,
        "title": "P6170 \u9898\u89e3"
    },
    {
        "content": "## \u601d\u8def\n\u8f6c\u6362\u9898\u610f\uff0c\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u725b\u68da\u6765\u8bf4\uff0c\u6709\u591a\u5c11\u4e2a\u725b\u7ecf\u8fc7\u5c31\u7b49\u4e8e\u524d\u9762\u8fd8\u6709\u591a\u5c11\u4e2a\u725b\u68da\u6ca1\u586b\u6ee1\u3002\u5047\u8bbe\u5b58\u5728\u4e00\u725b\u68da\u6709 $i$ \u5934\u725b\u8d70\u8fc7\uff0c\u90a3\u4e48\u7531\u4e8e\u6700\u540e\u6bcf\u4e2a\u725b\u68da\u53ea\u80fd\u7ad9\u4e00\u5934\u725b\uff0c\u6240\u4ee5\uff0c\u4ed6\u524d\u9762\u5fc5\u5b9a\u6709 $i-1$ \u4e2a\u725b\u68da\u4e3a\u7a7a\uff0c\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u8f6c\u6362\u4e86\u9898\u610f\uff0c\u628a\u4ed6\u53d8\u6210\u4e00\u4e2a\u73af\uff0c\u7136\u540e\u6a21\u62df\u5373\u53ef\uff0c\u5982\u679c\u6709\u591a\u4f59\u7684\u725b\uff0c\u6211\u4eec\u5c31\u5f80\u524d\u8d70\uff0c\u5982\u679c\u6211\u4eec\u6bcf\u4e00\u4e2a\u70b9\u90fd\u6709\u4e86\u725b\uff0c\u5c31\u53ef\u4ee5\u7ed3\u675f\u4e86\u3002\u6700\u540e\u7b97\u51fa\u5bf9\u4e8e\u4efb\u610f\u4e00\u4e2a\u725b\u68da\u725b\u7684\u7ecf\u8fc7\u6b21\u6570\uff0c\u7136\u540e\u76f4\u63a5\u8ba1\u7b97\u5373\u53ef\u3002\u5bf9\u4e8e\u6b63\u786e\u6027\u7684\u4fdd\u969c\uff0c\u4e5f\u5f88\u597d\u8bf4\uff0c\u6700\u5148\u5230\u5fc5\u5b9a\u82b1\u8d39\u6700\u5c0f\u3002\n## Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstruct node{\n\tint walk,next,num;\n}a[100005];\nint n;\nlong long ans,ans1;\nbool book[100005];\nint main(){\n\tcin>>n;\n\tfor(int i=1;i<=n;i++){\n\t\tcin>>a[i].num;\n\t\ta[i].next=i%n+1; //\u53d8\u6210\u73af \n\t}\n\tint post=1;\n\twhile(ans1!=n){\n\t\tif(a[post].num>1){\u524d\u8d70 \n\t\t\ta[a[post].next].num+=a[post].num-1;\n\t\t\ta[a[post].next].walk+=a[post].num-1;\n\t\t\ta[post].num=1;\n\t\t}\n\t\tif(a[post].num==1&&book[post]==0){\n\t\t\tbook[post]=1;\n\t\t\tans1++; \n\t\t}\n\t\tpost=a[post].next;\n\t}\n\tfor(int i=1;i<=n;i++) ans+=a[i].walk*a[i].walk;\n\tcout<<ans;\n\treturn 0;\n} \n```\n",
        "postTime": 1664464429,
        "uid": 754856,
        "name": "_zexal_",
        "ccfLevel": 3,
        "title": "P6170 [USACO16FEB]Circular Barn G \u9898\u89e3"
    },
    {
        "content": "\u9996\u5148\u4e00\u770b\u5230\u9898\u76ee\u6211\u5c31\u60f3\u5230\u4e86\u9006\u63a8\u3002\u3002\n\n\u6309\u7167\u9898\u76ee\u8981\u6c42\uff0c\u8ba9\u76ee\u524d\u6bcf\u4e00\u4e2a\u725b\u56de\u5230\u81ea\u5df1\u7684\u623f\u95f4\uff0c\u4e5f\u5c31\u662f\u6bcf\u4e2a\u623f\u95f4\u53ea\u5141\u8bb8\u6709\u4e00\u53ea\u725b\uff0c\u90a3\u4e48\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6570\u7ec4\u5047\u5b9a\u7b2c $i$ \u5934\u725b\u7684\u521d\u59cb\u623f\u95f4\u7f16\u53f7\u3002\n\n\u63a5\u7740\uff0c\u6211\u4eec\u5b9a\u4e49\u4e00\u4e2a\u961f\u5217\uff0c\u8fd9\u4e2a\u961f\u5217\u662f\u53ef\u4ee5\u5999\u7528\u7684\uff01\uff01\n\n\u4ece\u4e00\u4e2a\u623f\u95f4\u5f00\u59cb\uff0c\u6309\u7167\u9006\u5411\u904d\u5386\u5b8c\u6240\u6709\u7684\u623f\u95f4\uff0c\u7528\u5b9a\u4e49\u7684\u961f\u5217\u5b58\u653e\u6bcf\u4e00\u4e2a\u7a7a\u7740\u7684\u623f\u95f4\u7f16\u53f7\u3002\u904d\u5386\u5b8c\u4e4b\u540e\uff0c\u6b64\u65f6\u961f\u5217\u7684\u9996\u4f4d\u4e00\u5b9a\u662f\u987a\u65f6\u9488\u65b9\u5411\u6700\u4f18\u7684\u4e00\u95f4\u3002\u6211\u4eec\u628a\u8fd9\u91cc\u591a\u4f59\u7684\u725b\u642c\u5230\u961f\u5217\u9996\u4f4d\u7684\u623f\u95f4\u53bb\uff0c\u4e5f\u5c31\u662f\u539f\u672c\u7684\u5976\u725b\u6570\u5fc5\u987b\u8981\u5728 $1$ \u4ee5\u4e0a\u624d\u53ef\u4ee5\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002\n\n\u5373\u4e3a\uff1a\n\n    while(a[i]>0&&!que.empty())\n    {\n        a[i]--;\n        a[que.front()]++;\n        s[que.front()]=s[i];\n        que.pop();\n    }\n    \n#### \u8fd9\u4e2a\u65f6\u5019\u6709\u4eba\u8981\u95ee\u4e86\uff1a\u4e3a\u4ec0\u4e48\u961f\u5217\u9996\u4f4d\u7684\u623f\u95f4\u4e00\u5b9a\u662f\u6700\u4f18\u623f\u95f4\u5462\uff1f\n\n\u56e0\u4e3a\u8fd9\u6837\u53ef\u4ee5\u8ba9\u540e\u9762\u5976\u725b\u7684\u79fb\u52a8\u80fd\u91cf\u5c3d\u91cf\u5c0f\u3002\u4e0d\u4fe1\u4f60\u8bd5\u8bd5\u3002\u3002\n\n\u8fdb\u884c\u5b8c\u64cd\u4f5c\u4e4b\u540e\uff0c\u7279\u6b8a\u6765\u770b\u961f\u5217\u662f\u6709\u53ef\u80fd\u8fd8\u6709\u5143\u7d20\u7684\u3002\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u8fdb\u884c\u91cd\u590d\u7684\u64cd\u4f5c\uff0c\u7ee7\u7eed\u628a\u961f\u5217\u91cc\u5269\u4e0b\u7684\u5143\u7d20\u5168\u90e8\u7528\u5b8c\uff0c\u66f4\u597d\u8fbe\u5230\u6700\u4f18\u89e3\u3002\n\n\u6700\u540e\u5c31\u662f\u7edf\u8ba1\u7b54\u6848\u4e86\u3002\n\n\u8fd9\u4e2a\u6ca1\u6709\u4ec0\u4e48\u8bf4\u7684\uff0c\u6309\u7167\u8d70\u8fc7\u7684 $d$ \u4e2a\u623f\u95f4\u5f80\u7b54\u6848\u4e0a\u589e\u52a0 $d^2$ \u3002\n\n\u6b64\u65f6\u4f60\u4ee5\u4e3a\u53ef\u4ee5\u5bf9\u4e86\n\n\u4f46\u662f\u522b\u5fd8\u8bb0\u628a\u6570\u636e\u8303\u56f4\u770b\u4e00\u4e0b\uff08\u61c2\u7684\u90fd\u61c2\uff09\u3002\n\n\u4ee3\u7801\u5982\u4e0b\uff1a\n\n```cpp\n\n#include<bits/stdc++.h>\nusing namespace std;\nint a[100005];\nint s[100005];\nlong long ans;\nint main()\n{\n\tqueue<int> que;\n\tint n;\n\tcin>>n;\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tcin>>a[i];\n\t}\n\tfor(int i=0;i<n;i++)\n\t{\n\t\ts[i]=i;\n\t}\n\tfor(int i=n-1;i>=0;i--)\n\t{\n\t\twhile(a[i]>0&&!que.empty())\n\t\t{\n\t\t\ta[i]--;\n\t\t\ta[que.front()]++;\n\t\t\ts[que.front()]=s[i];\n\t\t\tque.pop();\n\t\t}\n\t\tif(a[i]==0)\n\t\t{\n\t\t\tque.push(i);\n\t\t}\n\t}\n\tint i=-1;\n\twhile(!que.empty())\n\t{\n\t\ti=(i+n)%n;\n\t\twhile(a[i]>0&&!que.empty())\n\t\t{\n\t\t\ta[i]--;\n\t\t\ta[que.front()]++;\n\t\t\ts[que.front()]=s[i];\n\t\t\tque.pop();\n\t\t}\n\t\tif(a[i]==0)\n\t\t{\n\t\t\tque.push(i);\n\t\t}\n\t\ti--;\n\t}\n\tfor(int i=0;i<n;i++)\n\t{\n\t\tif(s[i]>i)\n\t\t{\n\t\t\tans+=long((i+n-s[i])*(i+n-s[i]));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tans+=long((i-s[i])*(i-s[i]));\n\t\t}\n\t}\n\tcout<<ans;\n\treturn 0;\n}\n```",
        "postTime": 1643109187,
        "uid": 439177,
        "name": "Super_Sheep",
        "ccfLevel": 0,
        "title": "P6170\u9898\u89e3"
    },
    {
        "content": "$\\text{Upd 10.17}$ \u5c06\u975e\u516c\u5f0f\u7684 $\\LaTeX$ \u6362\u6210\u4e86\u516c\u5f0f\u5757\u3002\n\n\u95ee\u9898\u770b\u8d77\u6765\u4e0d\u592a\u597d\u505a\uff0c\u4e0d\u59a8\u5148\u60f3\u4e00\u60f3\u7b80\u5355\u7684\u95ee\u9898\u3002\u5bf9\u4e8e\u4e09\u4e2a\u623f\u95f4\u7f16\u53f7 $a,b,c$\uff0c\u4e14 $a<b<c$\uff0c\u5982\u679c $a,b$ \u5747\u6709\u4e00\u53ea\u5976\u725b\uff0c$c$ \u6ca1\u6709\u5976\u725b\uff0c\u8981\u60f3\u4f7f\u5f97 $a$ \u6ca1\u6709\u5976\u725b\uff0c$b,c$ \u5747\u6709\u4e00\u53ea\u5976\u725b\uff0c\u6700\u4f18\u7b56\u7565\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1f\n\n  - $a$ \u76f4\u63a5\u5230 $c$\uff0c\u8fd9\u6837\u7684\u82b1\u8d39\u662f $(c-a)^2$\u3002\n  \n  - $a$ \u5230 $b$\uff0c$b$ \u4e5f\u5230 $c$\uff0c\u8fd9\u6837\u7684\u82b1\u8d39\u662f $(b-a)^2+(c-b)^2$\u3002\n  \n\u4e0d\u59a8\u8bbe $x=b-a,y=c-b$\uff0c\u5219\uff1a\n\n  - $a$ \u76f4\u63a5\u5230 $c$ \u7684\u82b1\u8d39\u4e3a $(x+y)^2$\u3002\n  \n  - $a$ \u5230 $b$\uff0c$b$ \u4e5f\u5230 $c$ \u7684\u82b1\u8d39\u4e3a $x^2+y^2=(x+y)^2-2xy<(x+y)^2$\u3002\n  \n\u6240\u4ee5\u6211\u4eec\u77e5\u9053\u4e86\uff0c\u7b2c\u4e8c\u4e2d\u65b9\u6848\u6bd4\u7b2c\u4e00\u4e2d\u65b9\u6848\u66f4\u4f18\u3002\u8fd9\u4e2a\u7ed3\u8bba\u8bf4\u660e\u4e86\u4ec0\u4e48\uff1f\u5f88\u663e\u7136\uff0c\u6211\u4eec\u5728\u79fb\u52a8\u725b\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6700\u4f18\u7684\u79fb\u52a8\u65b9\u6848\u662f\uff0c\u79fb\u52a8\u7684\u725b\u4e0d\u80fd\u8d8a\u8fc7\u5176\u5b83\u7684\u725b\u3002\n\n\u6240\u4ee5\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u4e00\u4e2a\u8d77\u70b9 $s$\uff0c\u4ece\u8fd9\u4e2a\u8d77\u70b9 $s$ \u5f00\u59cb\uff0c\u6bcf\u4e00\u4e2a\u623f\u95f4\u90fd\u5c06\u591a\u4f59\u7684\u5976\u725b\u79fb\u52a8\u5230\u4e0b\u4e00\u4e2a\u623f\u95f4\u3002\n\n\u5982\u679c\u4e0b\u4e00\u4e2a\u623f\u95f4\u8fd8\u591a\u51fa\u6765\u5976\u725b\u518d\u5982\u540c\u4e0a\u8ff0\u4e00\u6837\u5904\u7406\u5373\u53ef\u3002\n\n\u90a3\u4e48\u8d77\u70b9\u5e94\u8be5\u600e\u4e48\u9009\uff1f\u90a3\u5c31\u76f4\u63a5\u679a\u4e3e\u4e00\u4e2a\u8d77\u70b9\u3002\n\n\u8fd9\u6837\u6211\u4eec\u8bb0\u5f55\u6bcf\u4e2a\u5976\u725b\u7684\u8def\u7a0b $d_i$\uff0c\u6700\u540e\u7b54\u6848\u5373\u4e3a $\\sum_{i=1}^nd_i^2$\u3002\n\n\u4e3a\u4e86\u65b9\u4fbf\uff0c\u6211\u4eec\u4e5f\u8981\u5b58\u4e00\u4e0b\u6bcf\u4e00\u4e2a\u7267\u573a\u91cc\u6709\u54ea\u4e9b\u725b\uff0c\u76f4\u63a5\u5b58\u4f1a\u70b8\u6389\uff0c\u6240\u4ee5\u53ef\u4ee5\u7528 `vector` \u6765\u7ef4\u62a4\u3002\n\n\u4f46\u8fd9\u6837\u505a\u7684\u590d\u6742\u5ea6\u662f $\\mathcal{O}(n^2)$ \u7684\uff0c\u5728 $n\\le 10^5$ \u4e4b\u4e0b\u96be\u4ee5\u627f\u53d7\u3002\n\n\u8003\u8651\u6211\u4eec\u628a\u65f6\u95f4\u6d6a\u8d39\u5728\u4ec0\u4e48\u5730\u65b9\uff0c\u79fb\u52a8\u5976\u725b\u80af\u5b9a\u662f\u5fc5\u987b\u6d88\u8017\u4e00\u4e2a $\\mathcal{O}(n)$ \u7684\uff0c\u800c\u6070\u6070\u662f\u627e\u8d77\u59cb\u70b9\u7684\u8fc7\u7a0b\u4e2d\u6d88\u8017\u7684\u65f6\u95f4\u592a\u591a\uff0c\u5982\u679c\u6211\u4eec\u80fd\u901a\u8fc7\u9884\u5904\u7406\uff0c\u5f97\u51fa\u771f\u6b63\u7684\u8d77\u70b9\u5728\u54ea\u91cc\u7684\u8bdd\uff0c\u662f\u4e0d\u662f\u5c31\u80fd\u505a\u5230 $\\mathcal{O}(n)$ \u7684\u4e86\uff1f\n\n\u7b54\u6848\u662f\u80af\u5b9a\u7684\u3002\u73b0\u5728\u95ee\u9898\u5c31\u662f\u9009\u62e9\u8d77\u70b9\u4e86\u3002\u4e0d\u59a8\u731c\u4e00\u4e2a\u7ed3\u8bba\uff1a\u6700\u5927\u5b50\u6bb5\u548c\u7684\u5f00\u5934\u4f4d\u7f6e\u3002\n\n\u8fd9\u4e2a\u7ed3\u8bba\u53ef\u4ee5\u7528\u53cd\u8bc1\u6cd5\u8bc1\u660e\uff0c\u8bfb\u8005\u81ea\u8bc1\u4e0d\u96be\uff08\u96fe\n\n\u7136\u540e\u5c31\u662f\u8981\u6c42\u73af\u72b6\u7684\u6700\u5927\u5b50\u6bb5\u548c\uff0c\u8fd9\u4e2a\u76f4\u63a5 $\\mathcal{O}(n)$ \u7684 `dp` \u5c31\u53ef\u4ee5\u4e86\u3002\u4e0d\u8fc7\u8fd9\u91cc\u662f\u73af\u72b6\u7684\u5e8f\u5217\uff0c\u9700\u8981\u65ad\u73af\u6210\u94fe\u7684\u5c0f\u6280\u5de7\u3002\n\n\u53e6\u5916\u6ce8\u610f\u8981\u5f00 $\\text{long long}$\u3002\n\n\u590d\u6742\u5ea6 $\\mathcal{O}(n)$\u3002",
        "postTime": 1634024538,
        "uid": 360511,
        "name": "UperFicial",
        "ccfLevel": 0,
        "title": "\u9898\u89e3 P6170\u3010[USACO16FEB]Circular Barn G\u3011"
    }
]