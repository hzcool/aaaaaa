[
    {
        "content": "\u6bd4\u8d5b\u65f6\u5199\u7684\u7a0b\u5e8f\u5f00\u4e86o2\u540e\u8dd1\u4e86286ms\uff0c\u7adf\u7136\u662f\u76ee\u524d\u7b2c\u4e00233  \n\u601d\u60f3\u4ecd\u7136\u662f\u80cc\u5305\uff0c\u4f46\u662f\u548c\u8d5b\u540e\u9898\u89e3\u91cc\u7684\u5904\u7406\u6709\u4e9b\u4e0d\u540c\uff0c\u5e38\u6570\u66f4\u5c0f\u4e00\u4e9bqwq  \n\u6211\u4eec\u8bb0\u4e00\u4e2a\u5f0f\u5b50\u7684$s$\u548c$c$\u7684\u4e2a\u6570\u5206\u522b\u4e3a$a$\u3001$b$\uff0c\u5219\u4e0d\u59a8\u4ee4\u4f53\u79ef$v=a-b$\uff0c\u90a3\u4e48\u7b54\u6848\u5c31\u662f\u4f53\u79ef\u4e3a$0$\u65f6\u7684\u6700\u5927\u4ef7\u503c$w$\u4e86\u3002\u5176\u5b9e\u7531\u5bf9\u79f0\u6027\uff0c\u4e5f\u53ef\u4ee5\u4ee4\u6240\u6709$v=b-a$\u3002\u90a3\u4e48\u4ef7\u503c\u5462\uff1f\u5168\u90e8\u8bbe\u4e3a$w=a$\u6216\u5168\u90e8$w=b$\u90fd\u53ef\u4ee5\u5566\uff0c\u4e2a\u4eba\u89c9\u5f97\u8fd9\u6837\u5904\u7406\u8fd8\u662f\u633a\u6f02\u4eae\u7684qwq  \n\u4e8e\u662f\u5c31\u6210\u4e86\u5e26\u6709\u8d1f\u6570\u4f53\u79ef\u7684\u80cc\u5305\u95ee\u9898\u5566\uff0c\u548cP2079\u7c7b\u4f3c\uff0c\u6211\u4eec\u53ea\u9700\u8981\u5904\u7406\u4e00\u4e0b\u6570\u7ec4\u4e0b\u6807\u8d8a\u754c\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u6211\u4eec\u628a\u6240\u6709\u4e0b\u6807\u5e73\u79fb\u4e00\u4e2a\u8db3\u591f\u5927\u7684$T$\u5c31\u53ef\u4ee5\u4e86\uff0c\u5176\u4ed6\u7167\u5e38\u5199\u3002\u53e6\u5916\u7531\u4e8e\u6709\u8d1f\u6570\u4f53\u79ef\uff0c\u76f4\u63a5\u6eda\u52a8\u6570\u7ec4\u5c31\u4f1a\u6709\u540e\u6548\u6027\u4e86\uff0c\u6539\u4e3a\u53d6\u819c\u6eda\u52a8\u4e5f\u65e0\u59a8\u3002\u65b9\u7a0b\uff1a\n$$dp[i][j+T] = max(dp[i][j+T], dp[i-1][j-v+T]+w)$$  \n\u4ee3\u7801\u5982\u4e0b\uff1a\n```cpp\n#include <cstdio>\n#include <cstring>\nusing namespace std;\n\nconst int inf = 100000000;\nconst int T = 1000300;\nint N, sum[2], dp[2][2001005], l, r;\nchar s[2000005];\n\ninline int max(int x, int y)\n{\n    return x>y? x: y;\n}\ninline int min(int x, int y)\n{\n    return x<y? x: y;\n}\nint main()\n{\n    scanf(\"%d\", &N);\n    for (register int i=0; i<=2001000; ++i) dp[0][i] = dp[1][i] = -inf;\n    dp[0][T] = 0;\n    for (register int i=1, ls; i<=N; ++i) {\n        scanf(\"%s\", s), ls = strlen(s);\n        sum[0] = 0, sum[1] = 0;\n        for (register int j=0; j<ls; j+=2) if (s[j]=='c') sum[0]++; else sum[1]++;\n        int w = sum[0], v = sum[1] - sum[0];\n        l = min(l, l+v), r = max(r, r+v);\n        for (register int j=l; j<=r; j++) {\n            dp[i&1][j+T] = max(dp[i&1][j+T], dp[i&1^1][j+T]);\n            dp[i&1][j+T] = max(dp[i&1][j+T], dp[i&1^1][j-v+T]+w);\n            //printf(\"%d: %d\\n\", j, dp[i&1][j+T]);\n        }\n    }\n    printf(\"%d\\n\", dp[N&1][T]);\n    return 0;\n}\n```",
        "postTime": 1535448605,
        "uid": 9315,
        "name": "zhyh",
        "ccfLevel": 6,
        "title": "\u9898\u89e3 P4832 \u3010\u73c8\u767e\u7483\u5815\u843d\u7684\u5f00\u59cb\u3011"
    },
    {
        "content": "### \u80cc\u5305\n\n\u5b66\u8fc7\u9ad8\u4e00\u6570\u5b66\u7684\u90fd\u77e5\u9053$sin^2x+cos^2x=1$\u3002\u9898\u76ee\u4e2d\u8bf4\u7b54\u6848\u5fc5\u987b\u4e3a\u6574\u6570\uff0c\u6240\u4ee5**s\u548cc\u7684\u6570\u91cf\u5fc5\u987b\u76f8\u7b49**\uff0c\u4ee5\u51d1\u6210\u82e5\u5e72\u5bf9\u3002\n\n\u95ee\u9898\u5c31\u8f6c\u53d8\u4e3a\u80cc\u5305\u95ee\u9898\uff1a**\u6bcf\u4e2a\u5f0f\u5b50\u62bd\u8c61\u6210\u7269\u54c1**\uff0c**$s-c$\u62bd\u8c61\u6210\u91cd\u91cf**\uff0c\u800c\u6211\u4eec\u7684\u76ee\u6807\u662f\u627e\u5230\u603b\u91cd\u91cf\u4e3a**0**\u65f6\u7684\u6700\u5927\u4ef7\u503c\uff0c**\u4ef7\u503c\u62bd\u8c61\u6210$s$\uff08\u6216\u8005$c$\uff09**\uff0c\u56e0\u4e3a\u6bcf\u4e00\u5bf9\u914d\u5bf9\u7684$s$\u548c$c$\u4ef7\u503c\u4e3a1\u3002\n\n\u6211\u4eec\u8bbe$f[i][j]$\u8868\u793a\u524d$i$\u4e2a\u7269\u54c1\u4e2d\uff0c\u603b\u91cd\u91cf\u4e3a$j$\u65f6\u7684\u6700\u5927\u4ef7\u503c\u3002\u90a3\u4e48\uff1a\n\n$f[i][j]=max(f[i][j],f[i-1][j-w]+v)$\n\n\u5176\u4e2d$w$\u4e3a\u7269\u54c1$i$\u7684\u91cd\u91cf\uff0c$v$\u4e3a\u7269\u54c1$i$\u7684\u4ef7\u503c\u3002\n\n\u7531\u4e8e\u91cd\u91cf\u53ef\u80fd\u4e3a\u8d1f\u6570\uff0c\u4e0b\u6807\u8d8a\u754c\uff0c\u6240\u4ee5\u6211\u4eec\u628a\u4e0b\u6807\u53f3\u79fb\u8db3\u591f\u5927\u7684\u957f\u5ea6$D$\uff0c\u6240\u4ee5\uff1a\n\n$f[i][j+D]=max(f[i][j+D],f[i-1][j-w+D]+v)$\n\n\u7531\u4e8e$D$\u5f88\u5927\uff0c\u76f4\u63a5\u8fd9\u6837\u505a\u80af\u5b9a\u70b8\u7a7a\u95f4\uff0c\u6211\u4eec\u8003\u8651\u4f18\u5316\u7b2c\u4e00\u7ef4\u3002\u7531\u4e8e\u8f6c\u79fb\u65f6\u53ea\u6709$f[i-1][]$\u6709\u7528\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u7528\u4e00\u4e2a$g[]$\u6570\u7ec4\u4f5c\u4e3a$f[i-1][]$\u3002\u5373\uff1a\n\n$f[j+D]=max(f[j+D],g[j-w+D]+v)$\n\n\u7ed3\u5408\u4ee3\u7801\u7406\u89e3\u5427\n\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\nstring a;\nconst int D=1e6+90;\nint l,r,n; //l\u8868\u793a\u81f3\u4eca\u6700\u5c0f\u91cd\u91cf\uff0cr\u8868\u793a\u6700\u5927\u91cd\u91cf \nint f[2*D],g[2*D]; //f\u8868\u793ai\u8fd9\u4e00\u7ef4\uff0cg\u8868\u793ai-1\u90a3\u4e00\u7ef4\n\nint main(){\n\tscanf(\"%d\",&n);\n\tmemset(f,128,sizeof f);\n\tmemset(g,128,sizeof g);\n\tg[D]=0;//\u521d\u59cb\u5316\n\tfor(int i=1;i<=n;i++)\n\t{\n\t\tint sums=0,sumc=0;\n\t\tcin>>a;\n\t\tfor(int j=0;j<a.size();j++)\n\t\t{\n\t\t\tif(a[j]=='s') sums++;\n\t\t\telse if(a[j]=='c') sumc++;\n\t\t}\n\t\tint v=sums,w=sums-sumc;\n\t\tl=min(l,l+w),r=max(r,r+w);//\u66f4\u65b0l\u548cr\uff0c\u4f5c\u4e3a\u679a\u4e3e\u91cd\u91cf\u7684\u5de6\u7aef\u70b9\u548c\u53f3\u7aef\u70b9\n\t\tfor(int j=l+D;j<=r+D;j++)//\u628a+D\u7684\u64cd\u4f5c\u653e\u8fd9\u6765\u6548\u679c\u4e00\u6837\n\t\t\tf[j]=max(f[j],max(g[j],g[j-w]+v));\n\t\tfor(int j=l+D;j<=r+D;j++)\n\t\t\tg[j]=f[j];//\u66f4\u65b0g\u6570\u7ec4\n\t}\n\tprintf(\"%d\",f[D]);//\u76f8\u5f53\u4e8ef[0]\n\treturn 0;\n}\n```\n",
        "postTime": 1612165108,
        "uid": 280519,
        "name": "Yaha",
        "ccfLevel": 4,
        "title": "\u9898\u89e3 P4832 \u3010\u73c8\u767e\u7483\u5815\u843d\u7684\u5f00\u59cb\u3011"
    },
    {
        "content": "# Problem\n[link](https://www.luogu.com.cn/problem/P4832)\n\n# Solution\n\u8fd9\u662f\u4e00\u9053\u6bd4\u8f83 _\u5947\u5999_ \u7684**\u80cc\u5305 DP**\uff0c\u770b\u8fc7\u5176\u4ed6\u9898\u89e3\u540e\u53d1\u73b0\u5927\u4f6c\u90fd\u662f\u76f4\u63a5\u4e00\u4e2a\u80cc\u5305\u5f97\u7ed3\u679c\uff0c\u672c\u849f\u84bb\u81ea\u5df1\u5e76\u6ca1\u6709\u8fd9\u6837\u7684\u672c\u4e8b\uff0c\u505a\u6cd5\u6bd4\u8f83\u504f\u76f4\u63a5\u3002\n\n\u5b66\u8fc7\u6570\u5b66\u7684\u5927\u5bb6\u5e94\u8be5\u90fd\u77e5\u9053 $\\sin^2 x + \\cos^2 x = 1$\u3002\n\u9898\u76ee\u4e2d\u8bf4**\u6700\u540e\u7684\u7ed3\u679c\u5fc5\u987b\u4e3a\u6574\u6570**\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u628a\u6bcf\u4e2a\u51fd\u6570\n\u770b\u6210\uff1a\n\n$v + u \\times \\sin^2 x$ \u6216 $v + u \\times \\cos^2 x$\u3002\u5176\u4e2d $v$\uff0c$u$ \u4e3a\u6574\u6570\u3002\n \n \u90a3\u4e48\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u628a $v$ \u770b\u6210\u7269\u54c1\u7684\u4ef7\u503c\uff0c$u$ \u770b\u6210\u7269\u54c1\u7684\u8d39\u7528\uff0c\u56e0\u4e3a\u8d39\u7528\u5206\u4e3a\u4e24\u79cd\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7528**\u4e24\u4e2a\u80cc\u5305** $sf$\uff0c$cf$ \u5b58\u50a8\uff0c\u5bb9\u91cf\u4e3a $u$ \u65f6\uff0c\u6b64\u65f6\u7684\u603b\u4ef7\u503c\u4fbf\u662f $sf_u+cf_u+u$\u3002\n\n\u8fd9\u91cc\u8981\u6ce8\u610f\u4e00\u4e0b\uff0c\u80cc\u5305\u7684\u5bb9\u91cf\u4ee3\u8868\uff0c\u5f53\u6709 $u$ \u4e2a $\\sin^2 x$\uff08\u6216 $\\cos^2 x$\uff09\u65f6\uff0c\u6700\u5927\u7684 $v$\u3002\u6240\u4ee5\u4e24\u4e2a\u80cc\u5305\u5408\u5e76\u65f6\uff0c\u4e5f\u4f1a\u6709 $u$ \u4e2a $1$\u3002\n\n# Code\n```cpp\n#include<bits/stdc++.h>\nusing namespace std;\n\nint sf[1000100],cf[1000100];\nint sSum,cSum;\n\n//01\u80cc\u5305\nvoid zeroPack(int f[],int p,int u,int v)\n{\n\tint i;\n\t\n\tfor(i=p;i>=u;i--)\n\tf[i]=max(f[i],f[i-u]+v);\n}\nint main()\n{\n\tint n;\n\tint i,j;\n\tint ans=0;\n\t\n\tcin>>n;\n\tmemset(sf,0x80,sizeof(sf));\n\tmemset(cf,0x80,sizeof(cf));\n    //\u521d\u59cb\u5316\u4e3a\u6700\u5c0f\u503c\uff0c\u4ee3\u8868\u4e0d\u80fd\u6709u\u4e2asinx\u6216cosx\n\tsf[0]=cf[0]=0;\n\tfor(i=1;i<=n;i++)\n\t{\n\t\tstring str;\n\t\tint s=0,c=0;\n\t\tcin>>str;\n\t\tfor(j=0;j<str.size();j+=2)\n\t\t{\n\t\t\tif(str[j]=='s') ++s;\n\t\t\telse if(str[j]=='c') ++c;\n\t\t}\n\t\tif(s-c>=0)\n\t\t{\n\t\t\tsSum+=s-c;//\u80cc\u5305\u603b\u5927\u5c0f\n\t\t\tzeroPack(sf,sSum,s-c,min(s,c));\n\t\t}\n\t\telse\n\t\t{\n\t\t\tcSum+=c-s;//\u80cc\u5305\u603b\u5927\u5c0f\n\t\t\tzeroPack(cf,cSum,c-s,min(s,c));\n\t\t}\n\t}\n\tfor(i=0;i<=min(sSum,cSum);i++)\n\tif(sf[i]>=0&&cf[i]>=0)\n\tans=max(ans,sf[i]+cf[i]+i);\n\t\n\tcout<<ans;\n\treturn 0;\n}\n\n```\n _\u6492\u82b1~~ _ ",
        "postTime": 1633478231,
        "uid": 239192,
        "name": "\u6df8\u68a3ling",
        "ccfLevel": 7,
        "title": "\u9898\u89e3 P4832 \u73c8\u767e\u7483\u5815\u843d\u7684\u5f00\u59cb"
    }
]