{
    "description": "\u4f60\u9700\u8981\u5305\u542b\u5934\u6587\u4ef6`lib.h`\uff1b\n\n\u5728\u672c\u5730\u7f16\u8bd1\u65f6\uff0c\u9700\u8981\u548c `lib.cpp` \u4e00\u8d77\u7f16\u8bd1\uff1b\n\n\u4ea4\u4e92\u5e93\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u6570\u636e\u7c7b\u578b\u548c\u51fd\u6570\uff1a\n\n```cpp\nstruct Data{\n\tunsigned short a,b,c,d;\n\tvoid operator*=(const Data &x);\n\tvoid clr();\n};\n```\n\nData \u7c7b\u578b\u662f\u4e00\u4e2a\u542b\u5e7a\u534a\u7fa4 $(D,*,e)$\uff0c\u5177\u4f53\u5730\uff1a\n\n$D$ \u662f\u7c7b\u578b\u4e3a Data \u7684\u5143\u7d20\u6784\u6210\u7684\u96c6\u5408\uff1b\n\n$*:D\\times D\\to D$\n\n$e\\in D$\n\n$\\forall x,y,z\\in D, x*(y*z)=(x*y)*z$\n\n$\\forall x\\in D, x*e=e*x=x$\n\n\u4f7f\u7528 `x.clr()` \u53ef\u4ee5\u5c06 $x$ \u4fee\u6539\u4e3a $e$\uff1b\n\n\u4f7f\u7528 `x=y` \u53ef\u4ee5\u5c06 $x$ \u4fee\u6539\u4e3a $y$\uff1b\n\n\u4f7f\u7528 `x*=y` \u53ef\u4ee5\u5c06 $x$ \u4fee\u6539\u4e3a $x*y$\uff0c\u8fd9\u4e2a\u64cd\u4f5c\u7684\u8c03\u7528\u6b21\u6570\u6709\u5e38\u6570\u4e0a\u9650 $2\\times 10^7$\uff0c\u4e0d\u8ba1 $x=e$ \u6216 $y=e$ \u7684\u60c5\u51b5\u3002\n\n\u521d\u59cb\u6761\u4ef6\u4e0b\uff0c\u5e73\u9762\u4e0a\u6bcf\u4e2a\u70b9 $(x,y)$ \u90fd\u5bf9\u5e94\u4e00\u4e2a\u6743\u503c $d(x,y)\\in D$\uff1b\n\n\u4f60\u9700\u8981\u5b9e\u73b0\u4ee5\u4e0b\u51fd\u6570\uff1a\n\n```cpp\nvoid update(int x,int dim,Data d1,Data d2);\n```\n\n\u5bf9\u6bcf\u4e2a $(x_0,y_0)$ \u6267\u884c\u64cd\u4f5c\uff1a\n\n\u82e5 $dim=0$ \u4e14 $x_0<x$\uff0c\u5219\u5c06 $d(x_0,y_0)$ \u4fee\u6539\u4e3a $d(x_0,y_0)*d1$\uff1b\n\n\u82e5 $dim=0$ \u4e14 $x_0\\ge x$\uff0c\u5219\u5c06 $d(x_0,y_0)$ \u4fee\u6539\u4e3a $d(x_0,y_0)*d2$\uff1b\n\n\u82e5 $dim=1$ \u4e14 $y_0<x$\uff0c\u5219\u5c06 $d(x_0,y_0)$ \u4fee\u6539\u4e3a $d(x_0,y_0)*d1$\uff1b\n\n\u82e5 $dim=1$ \u4e14 $y_0\\ge x$\uff0c\u5219\u5c06 $d(x_0,y_0)$ \u4fee\u6539\u4e3a $d(x_0,y_0)*d2$\uff1b\n\n```cpp\nData query(int x,int y);\n```\n\n\u67e5\u8be2 $d(x,y)$\uff0c\u8fd4\u56de\u503c\u4e3a\u7b54\u6848\u3002\n\n\u4e3a\u4e86\u60a8\u7684\u65b9\u4fbf\uff0c\u8fd9\u91cc\u63d0\u4f9b\u6a21\u677f\u3002\u8bf7\u5b8c\u5584\u4ee5\u4e0b\u4ee3\u7801\uff1a\n\n```cpp\n/* BEGIN HEADER: */\nstruct Data{\n\tunsigned short a,b,c,d;\n\tvoid operator*=(const Data &x);\n\tvoid clr();\n};\nvoid update(int x,int dim,Data d1,Data d2);\nData query(int x,int y);\n/* END HEADER. */\n\n#include <bits/stdc++.h>\n\nvoid update(int x,int dim,Data d1,Data d2){\n\t// complete this\n}\nData query(int x,int y){\n\t// complete this\n}\n```\n\n\u7531\u4e8e\u6d1b\u8c37\u7684\u4ea4\u4e92\u65b9\u6cd5\u6bd4\u8f83\u5947\u602a\uff0c\u6240\u4ee5\u63d0\u4ea4\u7684\u65f6\u5019\u9700\u8981\u628a\u672c\u5730\u7684\u4ee3\u7801\u590d\u5236\u8fc7\u6765\uff0c\u653e\u5728 update, query \u51fd\u6570\u8fd9\u91cc\uff0c\u548c\u524d\u9762\u7684 HEADER \u4e00\u8d77\u63d0\u4ea4\u3002\u63d0\u4ea4\u65f6\u4e0d\u5f15\u7528 \"lib.h\" \u5934\u6587\u4ef6\u3002",
    "inputFormat": "\u8fd9\u662f\u4ea4\u4e92\u9898\uff0c\u4e0d\u9700\u8981\u8fd9\u79cd\u4e1c\u897f\u3002",
    "outputFormat": "\u8fd9\u662f\u4ea4\u4e92\u9898\uff0c\u4e0d\u9700\u8981\u8fd9\u79cd\u4e1c\u897f\u3002",
    "samples": [
        [
            "10\n2 200842854 123159544\n2 192001936 902183645\n2 996055655 154684468\n2 957446126 232761122\n1 739061119 1 4 6\n1 762263616 1 5 8\n1 669159682 0 10 7\n2 361701640 274578757\n1 392040275 0 2 8\n1 800311125 1 3 2\n",
            "(0,0,0,0)\n(0,0,0,0)\n(0,0,0,0)\n(0,0,0,0)\n(19,19,329,10)\n"
        ]
    ],
    "hint": "Idea\uff1accz181078\uff0cSolution\uff1accz181078\uff0cCode\uff1accz181078\uff0cData\uff1accz181078\n\n\u5bf9\u4e8e\u524d 8 \u7ec4\u6570\u636e\uff0c\u64cd\u4f5c\u4e2a\u6570\u5206\u522b\u4e3a $10,1000,10000,20000,40000,60000,80000,10^5$\uff0c\u4e14 $x,y,dim$ \u5747\u5300\u968f\u673a\u9009\u53d6\uff1b\n\n\u5bf9\u4e8e\u5176\u4f59\u6570\u636e\uff0c\u64cd\u4f5c\u4e2a\u6570\u4e3a $10^5$\uff0c\u4e14\u6784\u6210\u5b50\u4efb\u52a1\u3002\n\n\u5bf9\u4e8e\u6240\u6709\u6570\u636e\uff1a\n\u5bf9\u4e8e update \u64cd\u4f5c\uff0c\u6ee1\u8db3 $1\\le x\\le 10^9$\uff0c$dim\\in\\{0,1\\}$\uff1b\n\u5bf9\u4e8e query \u64cd\u4f5c\uff0c\u6ee1\u8db3 $1\\le x,y\\le 10^9$\u3002\n\n"
}