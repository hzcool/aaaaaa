{
    "description": "\n\nIngrid is a head of a big railway station and, among other duties, is responsible for routing trains to the right platforms. The station has one entrance, and there are many switches that direct trains to other switches and platforms.\n\nEach switch has one inbound track and two outbound tracks, platforms have one inbound track, and station entrance has one outbound track. Each outbound track is connected to one inbound track and vice versa. Every switch and platform is reachable from station entrance.\n\nPlatforms have a rail dead ends and you may assume that trains disappear from the platform immediately after arriving to it.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/i6zwkhqd.png)\n\nEach morning Ingrid looks at the timetable and writes switch toggling instruction: when and which switch to toggle. She would like to automate this process to save a lot of time.\n\n",
    "inputFormat": "\n\nThe first line of the input file contains a single integer $n$ \u2014 the total number of switches and platforms on the station $(3 \\le n \\le 51)$ .\n\nThe i-th of the following $n$ lines describes a switch or a platform with an index $i$ . Description starts with a character `p` for a platform or `s` for a switch. Next number $q_{i}$ indicates the number of the switch the inbound track is connected to or $0$ if it is connected to station entrance $(0 \\le q_{i} < i)$ . Description of the platform also contains a unique lowercase English letter \u2014 the platform identifier.\n\nTrains spend exactly one minute to move between two connected switches or a switch and a platform. In the morning, each switch is toggled in a way that a train would pass to the one of the two outbound tracks connected to the switch/platform with the lower number.\n\nNext line of the input file contains a single integer $m (1 \\le m \\le 1000)$ \u2014 the number of trains in timetable.\n\nEach of the following $m$ lines contains integer $a_{i} (0 \\le a_{i} \\le 10 000$ ; $a_{i} > a_{i\u22121})$ \u2014 the time in minutes when a train arrives to the station entrance, and the letter $p_{i}$ \u2014 identifier of the destination platform for this train.\n\n",
    "outputFormat": "\n\nIn the first line output integer $c$ \u2014 the number of commands in the switch toggling instruction. For each command, output two integers $s_{i}$ and $t_{i} (1 \\le s_{i} \\le n$ ; $0 \\le t_{i} \\le 10^{9})$ \u2014 the number of the switch and the time to toggle it. Assume that the switch is toggled between minutes $t_{i} \u2212 1$ and $t_{i}.$\n\nOutput commands in order of non-decreasing time. The number of commands should not exceed $100 000$ .\n\n",
    "samples": [
        [
            "7\ns 0\ns 1\ns 1\np 2 a\np 2 b\np 3 c\np 3 d\n5\n0 a\n1 c\n3 b\n4 a\n5 d\n",
            "6\n1 2\n1 4\n2 4\n2 6\n1 6\n3 7\n"
        ],
        [
            "5\ns 0\np 1 y\ns 1\np 3 z\np 3 x\n3\n7 y\n8 y\n15 y\n",
            "0\n"
        ],
        [
            "3\ns 0\np 1 y\np 1 z\n3\n7 y\n8 y\n10 y\n",
            "5\n1 1\n1 2\n1 2\n1 3\n1 200\n"
        ]
    ],
    "hint": "Below is the time trace for the first example.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/j38jeq0g.png)\n\nTime limit: 2 s, Memory limit: 256 MB. \n\n",
    "translation": "## \u9898\u76ee\u63cf\u8ff0\n\n\u82f1\u683c\u4e3d\u5fb7\u662f\u4e00\u5bb6\u5927\u578b\u706b\u8f66\u7ad9\u7684\u7ad9\u957f\uff0c\u9664\u5176\u4ed6\u804c\u8d23\u5916\uff0c\u8fd8\u8d1f\u8d23\u5c06\u706b\u8f66\u5f00\u5230\u6b63\u786e\u7684\u7ad9\u53f0\u3002\u8f66\u7ad9\u6709\u4e00\u4e2a\u5165\u53e3\uff0c\u6709\u8bb8\u591a\u9053\u5c94\u5c06\u5217\u8f66\u5f15\u5bfc\u81f3\u5176\u4ed6\u9053\u5c94\u548c\u7ad9\u53f0\u3002\n\n\u6bcf\u4e2a\u9053\u5c94\u6709\u4e00\u6761\u5165\u7ad9\u8f68\u9053\u548c\u4e24\u6761\u51fa\u7ad9\u8f68\u9053\uff0c\u7ad9\u53f0\u6709\u4e00\u6761\u5165\u7ad9\u8f68\u9053\uff0c\u8f66\u7ad9\u5165\u53e3\u6709\u4e00\u6761\u51fa\u7ad9\u8f68\u9053\u3002\u6bcf\u4e2a\u51fa\u7ad9\u78c1\u9053\u8fde\u63a5\u5230\u4e00\u4e2a\u5165\u7ad9\u78c1\u9053\uff0c\u53cd\u4e4b\u4ea6\u7136\u3002\u6bcf\u4e2a\u9053\u5c94\u548c\u7ad9\u53f0\u90fd\u53ef\u4ee5\u4ece\u8f66\u7ad9\u5165\u53e3\u5230\u8fbe\u3002\n\n\u6708\u53f0\u6709\u4e00\u4e2a\u94c1\u8def\u6b7b\u80e1\u540c\uff0c\u4f60\u53ef\u4ee5\u5047\u8bbe\u706b\u8f66\u5230\u8fbe\u6708\u53f0\u540e\u7acb\u5373\u4ece\u6708\u53f0\u4e0a\u6d88\u5931\u3002\n\n\u6bcf\u5929\u65e9\u4e0a\uff0c\u82f1\u683c\u4e3d\u5fb7\u90fd\u4f1a\u67e5\u770b\u65f6\u95f4\u8868\uff0c\u5e76\u7f16\u5199\u5207\u6362\u6307\u4ee4\uff1a\u4f55\u65f6\u4ee5\u53ca\u5207\u6362\u54ea\u4e2a\u5f00\u5173\u3002\u5979\u5e0c\u671b\u5c06\u6b64\u8fc7\u7a0b\u81ea\u52a8\u5316\u4ee5\u8282\u7701\u5927\u91cf\u65f6\u95f4\u3002\n\n## \u8f93\u5165\u683c\u5f0f\n\n\u8f93\u5165\u6587\u4ef6\u7684\u7b2c\u4e00\u884c\u5305\u542b\u4e00\u4e2a\u6574\u6570n\u2014\u7ad9\u70b9\u4e0a\u4ea4\u6362\u673a\u548c\u5e73\u53f0\u7684\u603b\u6570\n\n\u4ee5\u4e0bn\u884c\u7684\u7b2ci\u884c\u63cf\u8ff0\u4e86\u5177\u6709\u7d22\u5f15i\u7684\u4ea4\u6362\u673a\u6216\u5e73\u53f0\u3002\u8bf4\u660e\u4ee5\u5b57\u7b26p\u5f00\u5934\u8868\u793a\u5e73\u53f0\uff0c\u4ee5\u5b57\u7b26s\u5f00\u5934\u8868\u793a\u4ea4\u6362\u673a\u3002\u4e0b\u4e00\u4e2a\u6570\u5b57q`i`\u8868\u793a\u5165\u7ad9\u8f68\u9053\u8fde\u63a5\u5230\u7684\u9053\u5c94\u7684\u7f16\u53f7\uff0c\u5982\u679c\u8fde\u63a5\u5230\u8f66\u7ad9\u5165\u53e3\uff0c\u5219\u8868\u793a0(0\u2264q$i$\u2264i)\u5e73\u53f0\u8bf4\u660e\u8fd8\u5305\u542b\u4e00\u4e2a\u552f\u4e00\u7684\u5c0f\u5199\u82f1\u6587\u5b57\u6bcd -- \u5e73\u53f0\u6807\u8bc6\u7b26\u3002\n\n\u5217\u8f66\u5728\u4e24\u4e2a\u76f8\u8fde\u7684\u9053\u5c94\u6216\u9053\u5c94\u4e0e\u7ad9\u53f0\u4e4b\u95f4\u79fb\u52a8\u53ea\u9700\u4e00\u5206\u949f\u3002\u65e9\u4e0a\uff0c\u6bcf\u4e00\u4e2a\u9053\u5c94\u90fd\u4f1a\u4ee5\u4e00\u79cd\u65b9\u5f0f\u8fdb\u884c\u5207\u6362\uff0c\u5217\u8f66\u5c06\u901a\u8fc7\u8fde\u63a5\u5230\u9053\u5c94/\u7ad9\u53f0\u7684\u4e24\u6761\u51fa\u7ad9\u8f68\u9053\u4e2d\u7f16\u53f7\u8f83\u4f4e\u7684\u4e00\u6761\u3002\n\u8f93\u5165\u6587\u4ef6\u7684\u4e0b\u4e00\u884c\u5305\u542b\u4e00\u4e2a\u6574\u6570m(0\u2264m\u22641000) -- \u65f6\u523b\u8868\u4e0a\u7684\u5217\u8f66\u6570\u91cf\u3002\n\n\u4ee5\u4e0bm\u884c\u4e2d\u7684\u6bcf\u4e00\u884c\u90fd\u5305\u542b\u6574\u6570a*i* (0\u2264a$i$ \u226410000;a$i$>a$i-1$) -- \u5217\u8f66\u5230\u8fbe\u8f66\u7ad9\u5165\u53e3\u7684\u65f6\u95f4\uff08\u4ee5\u5206\u949f\u4e3a\u5355\u4f4d\uff09\uff0c\u4ee5\u53ca\u5b57\u6bcdp*i* -- \u5217\u8f66\u76ee\u7684\u7ad9\u53f0\u7684\u6807\u8bc6\u7b26\u3002\n\n## \u8f93\u51fa\u683c\u5f0f\n\n\u5728\u7b2c\u4e00\u884c\u8f93\u51fa\u6574\u6570c\u4e2d\uff0c\u5f00\u5173\u5207\u6362\u6307\u4ee4\u4e2d\u7684\u547d\u4ee4\u6570\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u547d\u4ee4\uff0c\u8f93\u51fa\u4e24\u4e2a\u6574\u6570 s`i`\u548c t$i$ (1\u2264s$i$ \u2264n;0\u2264 t$i$ \u226410^9) -- \u5f00\u5173\u7684\u7f16\u53f7\u548c\u5207\u6362\u5f00\u5173\u7684\u65f6\u95f4\u3002\u5047\u8bbe\u5f00\u5173\u5728\u5206\u949f\u4e4b\u95f4\u5207\u6362 t$i$-1 \u548c `t`\u3002\n\n\u6309\u975e\u9012\u51cf\u65f6\u95f4\u987a\u5e8f\u8f93\u51fa\u547d\u4ee4\u3002\u547d\u4ee4\u7684\u6570\u91cf\u4e0d\u5e94\u8d85\u8fc7100000\u3002"
}