{
    "description": "\u4e00\u573a\u65b0\u7684\u7279\u522b\u8003\u8bd5\u6765\u4e34\u4e86\uff0c\u8fd9\u6b21\u7684\u8003\u8bd5\u5185\u5bb9\u662f\uff08wan e de\uff09\u6587\u5316\u8bfe\uff0c\u4f46\u6709\u6240\u4e0d\u540c\u7684\u662f\uff0c\u8003\u8bd5\u4e2d\u5141\u8bb8\u5b66\u751f\u4f7f\u7528\u5bf9\u8bb2\u673a\u3002\u7136\u800c\uff0c\u5bf9\u8bb2\u673a\u7684\u63a5\u6536\u8303\u56f4\u662f\u6709\u9650\u7684\uff08\u6bcf\u4e2a\u5bf9\u8bb2\u673a\u90fd\u80fd\u53d1\u9001\u65e0\u9650\u8fdc\uff0c\u4f46\u662f\u53ea\u80fd\u63a5\u6536\u5230\u63a5\u6536\u8303\u56f4\u5185\u7684\u4fe1\u53f7\uff09\uff0c\u6240\u4ee5\u4e0d\u662f\u6240\u6709\u5b66\u751f\u90fd\u80fd\u63a5\u6536\u5230\u5176\u4ed6\u540c\u5b66\u7684\u5e7f\u64ad\u3002\n\n\u8003\u8bd5\u65f6\uff0c\u5171\u6709 $n$ \u540d\u5b66\u751f\u5750\u6210\u4e00\u6392\uff08\u4ece\u5de6\u81f3\u53f3\u4f9d\u6b21\u7f16\u53f7\u4e3a $1$ ~ $n$\uff09\uff0c\u7eeb\u5c0f\u8def\u81ea\u5df1\u5750\u5728\u7b2c $c$ \u53f7\u4f4d\u7f6e\u3002\u6bcf\u540d\u5b66\u751f\u90fd\u6709\u4e00\u4e2a\u80fd\u529b\u503c $w_i$\u3002\u7eeb\u5c0f\u8def\u5df2\u7ecf\u7ed9\u6bcf\u540d\u5b66\u751f\u5b89\u6392\u4e86\u4e00\u4e2a\u63a5\u6536\u8303\u56f4\u4e3a $d_i$ \u7684\u5bf9\u8bb2\u673a\u3002\n\n\u6bcf\u540d\u5b66\u751f\u53ef\u4ee5\u76f4\u63a5\u505a\u51fa\u96be\u5ea6**\u4e0d\u8d85\u8fc7**\u81ea\u8eab\u80fd\u529b\u503c\u7684**\u6240\u6709**\u9898\u76ee\uff0c\u4e00\u65e6\u4e00\u540d\u5b66\u751f\u51ed\u80fd\u529b\u505a\u51fa\u67d0\u9053\u9898\uff0c\u4ed6\u5c31\u4f1a\u628a\u8fd9\u9053\u9898\u7684\u505a\u6cd5\u8fdb\u884c\u5e7f\u64ad\u3002\u4e00\u540d\u5750\u5728\u4f4d\u7f6e $i$\uff0c\u6709\u63a5\u6536\u8303\u56f4\u4e3a $d_i$ \u7684\u5bf9\u8bb2\u673a\u7684\u5b66\u751f\uff0c\u53ef\u4ee5\u63a5\u6536\u5230 $[i-d_i,\\ i+d_i]$ \u8303\u56f4\u5185\u6240\u6709\u5b66\u751f\u7684\u5e7f\u64ad\uff0c\u82e5\u8fd9\u4e2a\u8303\u56f4\u5185\u6709\u4eba\u516c\u5e03\u4e86\u505a\u6cd5\uff0c\u5219\u4ed6\u5c06\u4f1a\u505a\u8fd9\u9053\u9898\uff0c\u5e76\u4e5f\u4f1a\u628a\u8fd9\u9053\u9898\u7684\u505a\u6cd5\u8fdb\u884c\u5e7f\u64ad\u3002\n\n\u7eeb\u5c0f\u8def\u4f1a\u95ee\u4f60\u4e00\u4e9b\u95ee\u9898\uff1a\u5f53\u4e00\u9053\u9898\u76ee\u96be\u5ea6\u4e3a $x$ \u65f6\uff0c\u6709\u591a\u5c11\u5b66\u751f\u4f1a\u505a\u8fd9\u9053\u9898\uff1f\u7531\u4e8e\u7eeb\u5c0f\u8def\u60f3\u9690\u85cf\u5b9e\u529b\uff0c\u4ed6\u53ef\u80fd\u4f1a\u4fee\u6539\u81ea\u5df1\u7684\u80fd\u529b\u503c\u3002\u8fd9\u4e24\u79cd\u64cd\u4f5c\u5206\u522b\u7528\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u8868\u793a\uff1a\n\n- $1\\ x$\uff0c\u8868\u793a\u8be2\u95ee\u5f53\u4e00\u9053\u9898\u76ee\u96be\u5ea6\u4e3a $x$ \u65f6\uff0c\u6709\u591a\u5c11\u5b66\u751f\u4f1a\u505a\u8fd9\u9053\u9898\u3002\n\n- $2\\ x$\uff0c\u5c06\u7eeb\u5c0f\u8def\u7684\u80fd\u529b\u503c\u4fee\u6539\u4e3a $x$\uff0c\u5373\u5c06 $w_c$ \u4fee\u6539\u4e3a $x$\u3002\n\n---\n\n\u5f62\u5f0f\u5316\u63cf\u8ff0\uff08\u4e0e\u4e0a\u6587\u540c\u4e49\uff09\uff1a\n\n> \u7ed9\u4f60\u4e24\u4e2a\u957f\u4e3a $n$ \u7684\u6570\u5217 $w_{1..n}$ \u548c $d_{1..n}$\uff0c\u4ee5\u53ca\u4e00\u4e2a $w_c$ \u53ef\u4fee\u6539\u7684\u4f4d\u7f6e $c$\u3002\u73b0\u5728\u6709\u4e24\u79cd\u64cd\u4f5c\uff08\u5171 $m$ \u6b21\uff09\uff1a\n- $1\\ x$ \u8868\u793a\u4e00\u6b21\u8be2\u95ee\uff1a\u8bbe $f_i=\\begin{cases}1\\quad(w_i\\ge x)\\\\1\\quad(\\exists\\ j \\in [i - d_i,\\ i + d_i],\\ f_j=1)\\\\ 0\\quad(otherwise)\\end{cases}$\uff0c\u8fd9\u91cc\u7684 $f_i$ \u5b9a\u4e49\u4e2d\u5f15\u7528\u4e86 $f_j$\uff0c$\\ \\ \\ \\ $\u6240\u4ee5 $f_{1..n}$ \u662f\u4f1a\u4e0d\u65ad\u66f4\u65b0\u7684\uff0c\u76f4\u5230\u65e0\u6cd5\u7ee7\u7eed\u66f4\u65b0\u65f6\uff0c\u8ba1\u7b97\u8fd9\u6b21\u8be2\u95ee\u7684\u7b54\u6848\u4e3a $\\sum\\limits_{i=1}^nf_i$\u3002\n- $2\\ x$ \u8868\u793a\u4e00\u6b21\u4fee\u6539\uff1a\u628a $w_c$ \u4fee\u6539\u4e3a $x$\u3002",
    "inputFormat": "\u7531\u4e8e\u6570\u636e\u91cf\u592a\u5927\uff0c\u4e3a\u4e86\u907f\u514d\u8bfb\u5165\u8017\u65f6\u8fc7\u957f\uff0c\u4f7f\u7528**\u4f2a\u968f\u673a\u6570\u751f\u6210\u5668**\u7684\u65b9\u5f0f\u8f93\u5165\uff0c\u5e76**\u5f3a\u5236\u5728\u7ebf**\u3002\n\n**\u5efa\u8bae\u4f60\u5ffd\u7565\u8f93\u5165\u683c\u5f0f\uff0c\u76f4\u63a5\u4f7f\u7528\u4e0b\u9762\u63d0\u4f9b\u7684\u6570\u636e\u751f\u6210\u5668\u6a21\u677f\uff0c\u4e86\u89e3\u5177\u4f53\u7684\u751f\u6210\u8fc7\u7a0b\u5bf9\u4f60\u6765\u8bf4\u662f\u4e0d\u5fc5\u8981\u7684\u3002**\n\n\u7b2c\u4e00\u884c\uff0c\u4e09\u4e2a\u6b63\u6574\u6570 $n,\\ m,\\ c$\uff0c\u5206\u522b\u4ee3\u8868\u5b66\u751f\u7684\u603b\u4eba\u6570\uff0c\u64cd\u4f5c\u603b\u6570\u548c\u7eeb\u5c0f\u8def\u6240\u5728\u7684\u4f4d\u7f6e\u3002\n\n\u7b2c\u4e8c\u884c\uff0c\u4e94\u4e2a\u6574\u6570 $\\mathrm{seed},\\ \\mathrm{mind},\\ \\mathrm{maxd},\\ \\mathrm{mfq},\\ k$\u3002\n\n> \u6b64\u5904\u7684 $\\mathrm{mind},\\ \\mathrm{maxd}$ \u4ec5\u7528\u4e8e\u751f\u6210\u521d\u59cb\u7684 $d_{1..n}$\uff0c\u4e0b\u6587\u4e2d\u8c03\u6574 $d_p$ \u6240\u7528\u7684 $t$ \u53ef\u80fd\u4e0d\u5728 $[\\mathrm{mind},\\ \\mathrm{maxd}]$ \u8303\u56f4\u5185\u3002\n\n\u63a5\u4e0b\u6765\u7684 $k$ \u884c\uff0c\u6bcf\u884c\u4e24\u4e2a\u6574\u6570 $p,\\ t$\uff0c\u8868\u793a\u8c03\u6574\u7b2c $p$ \u53f7\u540c\u5b66\u7684\u5bf9\u8bb2\u673a\u63a5\u6536\u8303\u56f4\uff08\u5373 $d_p$\uff09\u4e3a $t$\u3002\n\n> \u82e5\u4e00\u540d\u540c\u5b66\u7684\u5bf9\u8bb2\u673a\u63a5\u6536\u8303\u56f4\u88ab\u8c03\u6574\u591a\u6b21\uff0c\u4ee5**\u6700\u540e\u4e00\u6b21**\u4e3a\u51c6\u3002\n\n---\n\n** \u6570\u636e\u751f\u6210\u5668\u6a21\u677f\uff1a**\n\n```cpp\n#include <cstdio>\n\nunsigned long long seed;\nint n, m, c, mfq, mind, maxd, k, w[2000001], d[2000001];\n\ninline int randInt() { seed = 99999989 * seed + 1000000007; return seed >> 33; } \n\nvoid generate()\n{\n\t// \u5728\u8bfb\u5165\u79cd\u5b50\u540e\u751f\u6210\u521d\u59cb\u7684 w \u6570\u7ec4\u548c d \u6570\u7ec4.\n    for (int i = 1; i <= n; i++) { w[i] = randInt() % n; }\n    for (int i = 1; i <= n; i++) { d[i] = randInt() % (maxd - mind + 1) + mind; }\n}\n\nvoid getOperation(int lastans, int &opt, int &x)\n{\n    // \u751f\u6210\u4e00\u6b21\u64cd\u4f5c\u7684\u53c2\u6570 opt \u548c x, lastans \u8868\u793a\u4e0a\u4e00\u6b21\u8be2\u95ee\u7684\u7b54\u6848, \u521d\u59cb\u503c\u4e3a 0.\n    if ((0ll + randInt() + lastans) % mfq) { opt = 1; } else { opt = 2; }\n    x = (0ll + randInt() + lastans) % n;\n}\n\nint main()\n{\n    scanf(\"%d %d %d\", &n, &m, &c);\n    scanf(\"%llu %d %d %d %d\", &seed, &mind, &maxd, &mfq, &k);\n    generate();\n    for (int i = 1; i <= k; i++)\n    {\n        int p, t;\n        scanf(\"%d %d\", &p, &t);\n        d[p] = t;\n    }\n    // \u4ece\u8fd9\u91cc\u5f00\u59cb\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u751f\u6210\u7684 w \u6570\u7ec4\u548c d \u6570\u7ec4.\n    int lastans = 0, finalans = 0;\n    for (int i = 1; i <= m; i++)\n    {\n        int opt, x;\n        getOperation(lastans, opt, x);\n        if (opt == 1)\n        {\n            // \u5728\u8fd9\u91cc\u6267\u884c\u8be2\u95ee\u64cd\u4f5c\uff0c\u5e76\u7528\u7b54\u6848\u7684\u8868\u8fbe\u5f0f\u66ff\u4ee3\u4e0b\u9762\u7684 ___.      \n            finalans = (finalans * 233ll + ___) % 998244353;\n            lastans = ___;\n        }\n        else\n        {\n            // \u5728\u8fd9\u91cc\u6267\u884c\u4fee\u6539\u64cd\u4f5c.\n        }\n    }\n    printf(\"%d\\n\", finalans);\n    return 0;\n}\n```",
    "outputFormat": "\u4ee4 $ans_i$ \u8868\u793a\u7b2c $i$ \u6b21\u8be2\u95ee\uff08\u64cd\u4f5c $1$\uff09\u7684\u7b54\u6848\uff0c$T_i=\\begin{cases}(T_{i-1}\\times 233+ans_i)\\mod 998244353\\quad(i\\ge 1)\\\\0\\quad(i=0)\\end{cases}$\n\n\u8bbe $q$ \u8868\u793a\u8be2\u95ee\uff08\u64cd\u4f5c $1$\uff09\u7684\u4e2a\u6570\uff0c\u4f60\u53ea\u9700\u8981\u8f93\u51fa\u4e00\u4e2a\u6574\u6570 $T_q$\u3002",
    "samples": [
        [
            "3 3 2\n19720918 0 1 2 0",
            "700"
        ],
        [
            "10 10 8\n2102036 0 1 4 1\n5 2",
            "760521825"
        ],
        [
            "1000 1000 126\n114321251 1 2 2 0",
            "91977056"
        ]
    ],
    "hint": "### \u4f60\u9700\u8981\u7528\u5230\u7684\u53d8\u91cf\uff1a\n\n$1\\le c\\le n\\le 2\\times 10^6$\uff0c$1\\le m\\le 2\\times 10^6$\uff0c$0\\le w_i,\\ d_i,\\ x<n$\u3002\n\n### \u5176\u5b83\u7528\u4e8e\u751f\u6210\u6570\u636e\u7684\u53d8\u91cf\uff1a\n\n$1\\le \\mathrm{seed},\\ \\mathrm{mfq}\\le 10^9$\uff0c$0\\le \\mathrm{mind}\\le \\mathrm{maxd}<n$\uff0c$0\\le k\\le 2\\times 10^5$\uff0c$1\\le p\\le n$\uff0c$0\\le t<n$\u3002\n\n## \u6837\u4f8b\u89e3\u91ca\n\n### \u6837\u4f8b\u4e00\uff1a\n\n\u751f\u6210\u5f97\u5230\u4e09\u540d\u540c\u5b66\u7684\u80fd\u529b\u503c $w_{1..3} = \\{0,\\ 1,\\ 2\\}$\uff0c\u5bf9\u8bb2\u673a\u63a5\u6536\u8303\u56f4 $d_{1..3} = \\{1,\\ 0,\\ 1\\}$\u3002\n\n\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u662f `1 1`\uff0c\u8be2\u95ee\u6709\u591a\u5c11\u540c\u5b66\u4f1a\u505a\u96be\u5ea6\u4e3a $1$ \u7684\u9898\u3002\n\n\u7eeb\u5c0f\u8def\uff08\u7b2c $2$ \u540d\u540c\u5b66\uff09\u548c\u7b2c $3$ \u540d\u540c\u5b66\u80fd\u591f\u72ec\u7acb\u505a\u51fa\u8fd9\u9053\u9898\uff08$w_2 \\ge 1$ \uff0c$w_3 \\ge 1$\uff09\uff0c\u7b2c $1$ \u540d\u540c\u5b66\u867d\u7136\u80fd\u529b\u4e0d\u8db3\uff0c\u4f46\u901a\u8fc7\u5bf9\u8bb2\u673a\u80fd\u63a5\u6536\u5230\u7eeb\u5c0f\u8def\u5e7f\u64ad\u7684\u505a\u6cd5\uff08$2 \\in [1 - d_1,\\ 1 + d_1]$\uff09\uff0c\u6240\u4ee5\u4ed6\u4e5f\u4f1a\u505a\u3002\u6545 $ans_1 = 3$\u3002\n\n\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u662f `2 0`\uff0c\u4fee\u6539\u7eeb\u5c0f\u8def\uff08\u7b2c $2$ \u540d\u540c\u5b66\uff09\u7684\u80fd\u529b\u503c\u4e3a $0$\u3002\u6b64\u65f6 $w_{1..3} = \\{0,\\ 0,\\ 2\\}$\u3002\n\n\u7b2c\u4e09\u4e2a\u64cd\u4f5c\u662f `1 1`\uff0c\u518d\u6b21\u8be2\u95ee\u6709\u591a\u5c11\u540c\u5b66\u4f1a\u505a\u96be\u5ea6\u4e3a $1$ \u7684\u9898\u3002\n\n\u53ea\u6709\u7b2c $3$ \u540d\u540c\u5b66\u80fd\u591f\u72ec\u7acb\u505a\u51fa\uff08$w_3 \\ge 1$\uff09\uff0c\u7136\u800c\u7b2c $1$ \u540d\u540c\u5b66\u548c\u7eeb\u5c0f\u8def\uff08\u7b2c $2$ \u540d\u540c\u5b66\uff09\u90fd\u65e0\u6cd5\u63a5\u6536\u5230\u4ed6\u5e7f\u64ad\u7684\u505a\u6cd5\uff08$3 \\notin [1 - d_1,\\ 1 + d_1]$\uff0c$3 \\notin [2 - d_2,\\ 2 + d_2]$\uff09\uff0c\u505a\u4e0d\u51fa\u6765\u3002\u6545 $ans_2 = 1$\u3002\n\n\u7efc\u4e0a\u6240\u8ff0\uff0c$T_1 = ans_1 = 3$\uff0c$T_2 = 3 \\times T_1+ ans_2 = 3 \\times 233 + 1 = 700$\uff0c\u4ec5\u8f93\u51fa $700$ \u5373\u53ef\u3002\n\n### \u6837\u4f8b\u4e8c\uff1a\n\n\u751f\u6210\u5f97\u5230 $w_{1..10} = \\{1,\\ 6,\\ 6,\\ 5,\\ 3,\\ 5,\\ 2,\\ 7,\\ 9,\\ 5\\}$\uff0c$d_{1..10} =\\{1,\\ 1,\\ 1,\\ 1,\\ 2,\\ 0,\\ 1,\\ 0,\\ 1,\\ 1\\}$\u3002\n\n\u5341\u6b21\u64cd\u4f5c\u53ca\u5bf9\u5e94\u7ed3\u679c\u5982\u4e0b\u6240\u793a\uff1a\n\n`1 6`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_1 = 9$\uff0c$T_1 = 9$\u3002\n\n`2 2`\uff0c\u4fee\u6539\u64cd\u4f5c\uff0c$w_{1..10}$ \u53d8\u4e3a $\\{1,\\ 6,\\ 6,\\ 5,\\ 3,\\ 5,\\ 2,\\ 2,\\ 9,\\ 5\\}$\u3002\n\n`1 7`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_2 = 2$\uff0c$T_2 = 2099$\u3002\n\n`1 3`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_3 = 9$\uff0c$T_3 = 489076$\u3002\n\n`2 4`\uff0c\u4fee\u6539\u64cd\u4f5c\uff0c$w_{1..10}$ \u53d8\u4e3a $\\{1,\\ 6,\\ 6,\\ 5,\\ 3,\\ 5,\\ 2,\\ 4,\\ 9,\\ 5\\}$\u3002\n\n`1 3`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_4 = 10$\uff0c$T_4 = 113954718$\u3002\n  \n`2 2`\uff0c\u4fee\u6539\u64cd\u4f5c\uff0c$w_{1..10}$ \u53d8\u4e3a $\\{1,\\ 6,\\ 6,\\ 5,\\ 3,\\ 5,\\ 2,\\ 2,\\ 9,\\ 5\\}$\u3002\n  \n`1 9`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_5 = 2$\uff0c$T_5 = 597096118$\u3002  \n\n`1 0`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_6 = 10$\uff0c$T_6 = 367430437$\u3002    \n\n`1 3`\uff0c\u67e5\u8be2\u64cd\u4f5c\uff0c$ans_7 = 9$\uff0c$T_7 = 760521825$\u3002\n\n\u4ec5\u8f93\u51fa $760521825$ \u5373\u53ef\u3002\n\n### \u6837\u4f8b\u4e09\uff1a\n\n~~\u51fa\u9898\u4eba\u6709\u8db3\u591f\u7684\u826f\u5fc3\u5199\u51fa\u8fd9\u4e2a\u6837\u4f8b\u7684\u89e3\u91ca\uff0c\u53ef\u60dc\u7248\u9762\u592a\u5c0f\uff0c\u5199\u4e0d\u4e0b\u3002~~"
}