{
    "description": "\u4e00\u5e74\u4e00\u5ea6\u7684\u201c\u5e7b\u5f71\u9601\u590f\u65e5\u54c1\u9152\u5927\u4f1a\u201d\u9686\u91cd\u5f00\u5e55\u4e86\u3002\u5927\u4f1a\u5305\u542b\u54c1\u5c1d\u548c\u8da3\u5473\u6311\u6218 \u4e24\u4e2a\u73af\u8282\uff0c\u5206\u522b\u5411\u4f18\u80dc\u8005\u9881\u53d1\u201c\u9996\u5e2d\u54c1\u9152\u5bb6\u201d\u548c\u201c\u9996\u5e2d\u730e\u624b\u201d\u4e24\u4e2a\u5956\u9879\uff0c\u5438\u5f15\u4e86\u4f17\u591a\u54c1\u9152\u5e08\u53c2\u52a0\u3002\n\n\n\u5728\u5927\u4f1a\u7684\u665a\u9910\u4e0a\uff0c\u8c03\u9152\u5e08 Rainbow \u8c03\u5236\u4e86 $n$ \u676f\u9e21\u5c3e\u9152\u3002\u8fd9 $n$ \u676f\u9e21\u5c3e\u9152\u6392\u6210\u4e00\u884c\uff0c\u5176\u4e2d\u7b2c $n$ \u676f\u9152 ($1 \u2264 i \u2264 n$) \u88ab\u8d34\u4e0a\u4e86\u4e00\u4e2a\u6807\u7b7e $s_i$ \uff0c\u6bcf\u4e2a\u6807\u7b7e\u90fd\u662f $26$ \u4e2a\u5c0f\u5199 \u82f1\u6587\u5b57\u6bcd\u4e4b\u4e00\u3002\u8bbe $str(l, r)$ \u8868\u793a\u7b2c $l$ \u676f\u9152\u5230\u7b2c $r$ \u676f\u9152\u7684 $r - l + 1$ \u4e2a\u6807\u7b7e\u987a\u6b21\u8fde\u63a5\u6784\u6210\u7684\u5b57\u7b26\u4e32\u3002\u82e5 $str(p, p_0) = str(q, q_0)$\uff0c\u5176\u4e2d $1 \u2264 p \u2264 p_0 \u2264 n$, $1 \u2264 q \u2264 q_0 \u2264 n$, $p \u2260 q$\uff0c$p_0-p+1 = q_0 - q + 1 = r$ \uff0c\u5219\u79f0\u7b2c $p$ \u676f\u9152\u4e0e\u7b2c $q$ \u676f\u9152\u662f\u201c $r$ \u76f8\u4f3c\u201d \u7684\u3002\u5f53\u7136\u4e24\u676f\u201c $r$ \u76f8\u4f3c\u201d($r > 1$)\u7684\u9152\u540c\u65f6\u4e5f\u662f\u201c $1$ \u76f8\u4f3c\u201d\u3001\u201c $2$ \u76f8\u4f3c\u201d\u3001\u2026\u2026\u3001\u201c $(r - 1)$ \u76f8\u4f3c\u201d\u7684\u3002\u7279\u522b\u5730\uff0c\u5bf9\u4e8e\u4efb\u610f\u7684 $1 \u2264 p ,q \u2264 n,p  \u2260  q$\uff0c\u7b2c $p$ \u676f\u9152\u548c\u7b2c $q$ \u676f\u9152\u90fd \u662f\u201c $0$ \u76f8\u4f3c\u201d\u7684\u3002\n\n\n\u5728\u54c1\u5c1d\u73af\u8282\u4e0a\uff0c\u54c1\u9152\u5e08 Freda \u8f7b\u677e\u5730\u8bc4\u5b9a\u4e86\u6bcf\u4e00\u676f\u9152\u7684\u7f8e\u5473\u5ea6\uff0c\u51ed\u501f\u5176\u4e13\u4e1a\u7684\u6c34\u51c6\u548c\u7ecf\u9a8c\u6210\u529f\u593a\u53d6\u4e86\u201c\u9996\u5e2d\u54c1\u9152\u5bb6\u201d\u7684\u79f0\u53f7\uff0c\u5176\u4e2d\u7b2c $i$ \u676f\u9152 ($1 \u2264 i \u2264 n$) \u7684 \u7f8e\u5473\u5ea6\u4e3a $a_i$ \u3002\u73b0\u5728 Rainbow \u516c\u5e03\u4e86\u6311\u6218\u73af\u8282\u7684\u95ee\u9898\uff1a\u672c\u6b21\u5927\u4f1a\u8c03\u5236\u7684\u9e21\u5c3e\u9152\u6709\u4e00\u4e2a\u7279\u70b9\uff0c\u5982\u679c\u628a\u7b2c $p$ \u676f\u9152\u4e0e\u7b2c $q$ \u676f\u9152\u8c03\u5151\u5728\u4e00\u8d77\uff0c\u5c06\u5f97\u5230\u4e00\u676f\u7f8e\u5473\u5ea6\u4e3a $a_p\\times a_q$ \u7684 \u9152\u3002\u73b0\u5728\u8bf7\u5404\u4f4d\u54c1\u9152\u5e08\u5206\u522b\u5bf9\u4e8e $r = 0,1,2,\u22ef,n-1$ \uff0c\u7edf\u8ba1\u51fa\u6709\u591a\u5c11\u79cd\u65b9\u6cd5\u53ef\u4ee5 \u9009\u51fa $2$ \u676f\u201c $r$ \u76f8\u4f3c\u201d\u7684\u9152\uff0c\u5e76\u56de\u7b54\u9009\u62e9 $2$ \u676f\u201c$r$ \u76f8\u4f3c\u201d\u7684\u9152\u8c03\u5151\u53ef\u4ee5\u5f97\u5230\u7684\u7f8e\u5473\u5ea6\u7684\u6700\u5927\u503c\u3002\n",
    "inputFormat": "\u7b2c $1$ \u884c\u5305\u542b $1$ \u4e2a\u6b63\u6574\u6570 $n$ \uff0c\u8868\u793a\u9e21\u5c3e\u9152\u7684\u676f\u6570\u3002\n\n\u7b2c $2$ \u884c\u5305\u542b\u4e00\u4e2a\u957f\u5ea6\u4e3a $n$ \u7684\u5b57\u7b26\u4e32 $S$\uff0c\u5176\u4e2d\u7b2c $i$ \u4e2a\u5b57\u7b26\u8868\u793a\u7b2c $i$ \u676f\u9152\u7684\u6807\u7b7e\u3002\n\n\u7b2c $3$ \u884c\u5305\u542b $n$ \u4e2a\u6574\u6570\uff0c\u76f8\u90bb\u6574\u6570\u4e4b\u95f4\u7528\u5355\u4e2a\u7a7a\u683c\u9694\u5f00\uff0c\u5176\u4e2d\u7b2c $i$ \u4e2a\u6574\u6570\u8868\u793a\u7b2c $i$ \u676f\u9152\u7684\u7f8e\u5473\u5ea6 $a_i$ \u3002\n",
    "outputFormat": "\u5305\u62ec $n$ \u884c\u3002\n\n\u7b2c $i$ \u884c\u8f93\u51fa $2$ \u4e2a\u6574\u6570\uff0c\u4e2d\u95f4\u7528\u5355\u4e2a\u7a7a\u683c\u9694\u5f00\u3002\u7b2c $1$ \u4e2a\u6574 \u6570\u8868\u793a\u9009\u51fa\u4e24\u676f\u201c $(i - 1)$ \u76f8\u4f3c\u201d\u7684\u9152\u7684\u65b9\u6848\u6570\uff0c\u7b2c 2 \u4e2a\u6574\u6570\u8868\u793a\u9009\u51fa\u4e24\u676f \u201c $(i - 1)$ \u76f8\u4f3c\u201d\u7684\u9152\u8c03\u5151\u53ef\u4ee5\u5f97\u5230\u7684\u6700\u5927\u7f8e\u5473\u5ea6\u3002\u82e5\u4e0d\u5b58\u5728\u4e24\u676f\u201c $(i - 1)$ \u76f8\u4f3c\u201d \u7684\u9152\uff0c\u8fd9\u4e24\u4e2a\u6570\u5747\u4e3a $0$ \u3002\n",
    "samples": [
        [
            "10\nponoiiipoi\n2 1 4 7 4 8 3 6 4 7",
            "45 56\n10 56\n3 32\n0 0\n0 0\n0 0\n0 0\n0 0\n0 0\n0 0"
        ],
        [
            "12\nabaabaabaaba\n1 -2 3 -4 5 -6 7 -8 9 -10 11 -12\n",
            "66 120\n34 120\n15 55\n12 40\n9 27\n7 16\n5 7\n3 -4\n2 -4\n1 -4\n0 0\n0 0"
        ]
    ],
    "hint": "\u3010\u6837\u4f8b\u8bf4\u660e 1\u3011\n\n\u7528\u4e8c\u5143\u7ec4 $(p, q)$ \u8868\u793a\u7b2c $p$ \u676f\u9152\u4e0e\u7b2c $q$ \u676f\u9152\u3002\n\n$0$ \u76f8\u4f3c\uff1a\u6240\u6709 $45$ \u5bf9\u4e8c\u5143\u7ec4\u90fd\u662f $0$ \u76f8\u4f3c\u7684\uff0c\u7f8e\u5473\u5ea6\u6700\u5927\u7684\u662f $8 \u00d7 7 = 56 $\u3002\n\n$1$ \u76f8\u4f3c\uff1a $(1,8) (2,4) (2,9) (4,9) (5,6) (5,7) (5,10) (6,7) (6,10) (7,10) $\uff0c\u6700\u5927\u7684 $8 \u00d7 7 = 56$ \u3002\n\n$2$ \u76f8\u4f3c\uff1a $(1,8) (4,9) (5,6)$ \uff0c\u6700\u5927\u7684 $4 \u00d7 8 = 32$ \u3002\n\n\u6ca1\u6709 $3,4,5, \u22ef ,9$ \u76f8\u4f3c\u7684\u4e24\u676f\u9152\uff0c\u6545\u5747\u8f93\u51fa $0$ \u3002\n\n\n\n ![](https://cdn.luogu.com.cn/upload/pic/1508.png) \n\n\u3010\u65f6\u96501s\uff0c\u5185\u5b58512M\u3011\n"
}