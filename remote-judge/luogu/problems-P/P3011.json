{
    "description": "Kenosha, the city nearest Farmer John, has M (1 <= M <= 14,000) roads conveniently numbered 1..M that connect N (2 <= N <= 300) junctions which are conveniently numbered 1..N. No two roads connect the same pair of junctions. No road connects a junction to itself. The integer travel time T\\_ij (1 <= T\\_ij <= 100) between junctions i and j is the same for both directions (i.e., T\\_ij = T\\_ji).\n\nEach junction has a single traffic light with two colors: blue or purple. The color of each light alternates periodically: blue for certain duration and then purple for another duration.  Traffic is permitted to commence travel down the road between any two junctions, if and only if the lights at both junctions are the same color at the moment of departing from one junction for the other.  The lights do not necessarily have to be the same on the whole trip down the road.\n\nIf a vehicle arrives at a junction just at the moment the lights switch it must consider the new colors of lights. Vehicles are allowed to wait at the junctions. You are given the city map which shows:\n\n```cpp\n                                    Init  Remg  Blue   Purple\n       4       76         Junction  Color Time  Cycle  Cycle\n>>[1B]===[2P]======          1        B    2     16      99\n    |   /          \\         2        P    6     32      13\n  40|  /75          \\        3        P    2     87       4\n    | /              \\       4        P   38     96      49\n  [3P]===============[4P]>>\n           77\n```\n```cpp\n* The travel times T_ij for all roads \n* The durations of the two colors at junction i. (DB_i (1 <= DB_i <= 100) for the blue light and DP_i (1 <= DP_i <= 100) for the purple light) \n* The initial color C_i of the light at junction i (a letter 'B' or 'P' with the obvious meaning) and the remaining time R_i (1 <= R_i <= 100) for this color to change \nFind the minimum time one needs to get from a given source S (1 <= S <= N) to a given destination D (1 <= D <= N; D != S). \nConsider the map below with four junctions and five roads. FJ wants to travel from junction 1 to junction 4. The first light is blue; the rest are purple. \n```\nThe minimum time is 127 utilizing the path 1-2-4.\nInitially, the light at junction 1 is blue. Since the light at junction 2 is purple, vehicle waits at junction 1 for 2 seconds then travels 4 seconds to junction 2.\n\nAt time 6, the light at junction 2 switches to blue whereas the light at junction 4 has 32 more seconds to switch to blue. However, after 32 seconds, the light at junction 2 switches to purple and the light at junction 4 switches to blue at the same time. So the vehicle needs to wait 13 seconds more for junction 2 to switch to blue then the lights have the same color and vehicle travels 76 seconds to the destination junction 4.\n\nThe total time is 2+4+32+13+76=127 seconds. \n\nBelow is a more graphical presentation of this travel plan:\n\n```cpp\n                                                                                                      1    1    1    1    1    1\n             1    1    2    2    3    3    4    4    5    5    6    6    7    7    8    8    9    9    0    0    1    1    2    2\n   0....5....0....5....0....5....0....5....0....5....0....5....0....5....0....5....0....5....0....5....0....5....0....5....0....5..\n   --------------------------------------------------------------------------------------------------------------------------------\nJ1 BBBPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPBBBBBBBBBBBBBBBBPPPPPPPPPP\nJ2 PPPPPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBPPPPPPPPPPPPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBPPPPPPPPPPPPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB\nJ3 PPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBPPPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB\nJ4 PPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPPBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB\nFJ 1..>>>2............................................>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>4\n```",
    "inputFormat": "\\* Line 1: Two space-separated integers: S and D\n\n\\* Line 2: Two space-separated integers: N and M\n\n\\* Lines 3..N+2: Line i+2 line describes junction i with a character and three integers (all separated by a single space): C\\_i, R\\_i, DB\\_i, and DP\\_i\n\n\\* Lines N+3..N+M+2: Line N+2+k describes road k with three integers: i, j, and T\\_ij\n",
    "outputFormat": "\\* Line 1: One integer: the time taken by a minimum-time path from the source junction to the destination junction. If there is no path, output 0.\n",
    "samples": [
        [
            "1 4 \n4 5 \nB 2 16 99 \nP 6 32 13 \nP 2 87 4 \nP 38 96 49 \n1 2 4 \n1 3 40 \n2 3 75 \n2 4 76 \n3 4 77 \n",
            "127 \n"
        ]
    ],
    "hint": "",
    "translation": "## **\u9898\u76ee\u63cf\u8ff0**\n\n\u548cFJ\u9760\u7684\u6700\u8fd1\u7684\u57ce\u5e02Kenosha\u5e02\u6709 $M$\u6761\u9053\u8def\u3002(\u7f16\u53f7\u4e3a$1-M$) \u8fde\u63a5\u7740$N$\u4e2a\u8def\u53e3 (\u7f16\u53f7\u4e3a$1-N$) \u3002\u4fdd\u8bc1\u6ca1\u6709\u91cd\u8fb9\u548c\u81ea\u73af\u3002 \n\n\u4ece\u70b9$i$\u5230\u70b9$j$\u9700\u8981\u7684\u65f6\u95f4\u662f$T_{ij}$\uff0c \u4e14\u4fdd\u8bc1$T_{ij}$ = $T_{ji}$\n\n\u6bcf\u4e2a\u8def\u53e3\u6709\u4e00\u4e2a\u4ea4\u901a\u706f\uff0c\u6709\u4e24\u79cd\u989c\u8272\uff1a\u84dd\u8272\u548c\u7d2b\u8272\u3002\u4e24\u4e2a\u989c\u8272\u5468\u671f\u6027\u7684\u4ea4\u66ff\u3002\u84dd\u8272\u6301\u7eed\u4e00\u5b9a\u65f6\u95f4\uff0c\u7136\u540e\u7d2b\u8272\u6301\u7eed\u4e00\u5b9a\u65f6\u95f4\u3002\n\u60f3\u8981\u4ece$i$\u5230$j$\u53ea\u6709\u5728$i$\u548c$j$\u7684\u4fe1\u53f7\u706f\u989c\u8272\u76f8\u540c\u7684\u65f6\u5019\u624d\u53ef\u4ee5\u8d70(\u4eceT1\u79bb\u5f00i\u8d70\u5411j\uff0c\u53ea\u9700T1\u65f6\u523bi\u4e0ej\u7684\u989c\u8272\u76f8\u540c\u5373\u53ef\uff0c\u65e0\u5176\u4ed6\u4efb\u4f55\u7ea6\u675f\u3002)\n\n\u5982\u679c\u5728\u53d8\u5e7b\u706f\u7684\u90a3\u4e00\u79d2\u5230$j$\uff0c\u8003\u8651\u7684\u662f\u53d8\u5e7b\u540e\u7684\u989c\u8272\u3002\n\u7ed9\u4f60\u6240\u6709\u7b2c$i$\u4e2a\u8def\u53e3\u7684\u84dd\u8272\u706f\u6301\u7eed\u65f6\u95f4$DB_i$\u548c\u7d2b\u8272\u706f\u6301\u7eed\u65f6\u95f4$DP_i$\n\u548c\u6bcf\u4e2a\u8def\u53e3\u521a\u5f00\u59cb\u706f\u7684\u989c\u8272$C_i$,\u5269\u4f59\u6301\u7eed\u65f6\u95f4$R_i$\n\u6c42\u4e00\u4e2a\u7ed9\u5b9a\u7684\u539f\u70b9$S$\u5230\u7ed9\u5b9a\u76ee\u6807\u70b9$D$\u7684\u6700\u5c0f\u65f6\u95f4\u3002\n\n## \u8f93\u5165\u8f93\u51fa\u683c\u5f0f\n###   \u8f93\u5165\u683c\u5f0f\n * \u7b2c\u4e00\u884c\u4e24\u4e2a\u6574\u6570 S\u548cD\n * \u7b2c\u4e8c\u884c\u4e24\u4e2a\u6574\u6570 N\u548cM\n * \u7b2c\u4e09\u81f3N+2\u884c\u3002\u7b2ci+2\u884c\u63cf\u8ff0\u70b9i\u7684\u4fe1\u53f7\u706f\u60c5\u51b5 $C_i$,   $R_i$,  $DB_i$,   $DP_i$\n * \u7b2c\u4e09\u9053N+M+2\u884c\uff1a\u7b2cN+2+k\u884c\u63cf\u8ff0\u7b2ck\u6761\u9053\u8def : $i$, $j$, $T_{ij}$\n###   \u8f93\u51fa\u683c\u5f0f\n * \u4e00\u4e2a\u6574\u6570\u4ee3\u8868\u4eceS\u5230D\u6700\u5c11\u6d88\u8017\u7684\u65f6\u95f4\uff0c \u5982\u679cS\u3001D\u4e0d\u8fde\u901a\uff0c\u8f93\u51fa0\n\n\u611f\u8c22@ToBiChi \u63d0\u4f9b\u7ffb\u8bd1"
}