{
    "description": "The protagonist of this task, Chell, must solve a new puzzle GLaDOS has come up with.\n\nChell is in a room whose layout that can be represented as a matrix of dimensions N rows and M columns. Each field can be one of the following:\n\n- Obstructed field - there is a wall in it (denoted as \u2018#\u2019),\n- The field where Chell is initially (denoted as \u2018C\u2019),\n- The field where Chell must get to in order to solve the puzzle (denoted as \u2018F\u2019), or\n- An empty field (denoted as \u2018.\u2019).\n\nChell is carrying a so-called portal gun, a gun with which you can create portals in the walls.\n\nIn each move, she can do one of the following:\n- Move to an adjacent field using one move up, down, left or right (she cannot move to the field with a wall in it). This move lasts one unit of time.\n- Create a portal in the wall by turning towards a wall, not necessarily an adjacent one, in the direction up, down, left or right and shooting. The portal will be created only on the side of the wall it was hit from. In each moment, **at most two portals can be active**\u200b. If a new portal is being created in the moment when two portals are already active, the one that was created earlier will disappear. It is not possible to create a new portal at the position of another existing portal. This move lasts a negligible\namount of time, i.e. zero amounts of time.\n- If she\u2019s at a field that is adjacent to a wall and there\u2019s a portal on her side of the wall, she can step into the portal and exit to a non-obstructed field with another portal. This move is possible if there are two active portals and lasts one unit of time.\n\nChell wants to know the minimal amount of time it takes for her to solve the puzzle, i.e. to reach the field denoted as \u2018F\u2019.\n\n**Please note**: The room will always have walls on the sides, and letters \u2018C\u2019 and \u2018F\u2019 will appear only once in the matrix.\n",
    "inputFormat": "The first line of input contains the positive integers N and M (4 \u2264 N, M \u2264 500), the numbers from the task.\n\nEach of the following N lines contains M characters that describe the layout of the room.\n",
    "outputFormat": "You must output the minimal amount of time it takes to solve the puzzle, or \u201cnemoguce\u201d (without quotation marks, Croatian for impossible) if it is not possible to solve it.\n",
    "samples": [
        [
            "4 4\n####\n#.F#\n#C.#\n####\n",
            "2"
        ],
        [
            "6 8\n########\n#.##..F#\n#C.##..#\n#..#...#\n#.....##\n########\n",
            "4"
        ],
        [
            "4 5\n#####\n#C#.#\n###F#\n#####\n",
            "nemoguce\n"
        ]
    ],
    "hint": "In test cases worth 50% of total points, it will hold 4 \u2264 N, M \u2264 15.\n\n**Clarification\u200b \u200bof\u200b \u200bthe\u200b \u200bsecond\u200b \u200btest\u200b \u200bcase:**\n\nThe puzzle can be solved in 8 moves, illustrated in the pictures below.\n\nIn the first move, we turn towards the left wall, shoot and create a portal that appears on the wall in the $3^{rd}$ row and $1^{st}$ column (coordinates (3,1)) from the right side.\n\nIn the second move, we create a portal from the upper side of the wall at coordinates (6,2).\n\nIn the third move, we step into the portal at coordinates (3,1) and exit at coordinates (5,2) - a\nnon-obstructed field with the second portal.\n\nIn the fourth move, we turn right and create a portal from the left side of the wall at coordinates (5,7).\nSince there are already two portals, the one at field (3,1) disappears.\n\nIn the fifth move, we step into the portal at coordinates (6,2) and exit at coordinates (5,6) with the\nsecond portal.\n\nIn the sixth move, we create a new portal from the lower side of the wall at coordinates (1,6), making\nthe portal at coordinates (6,2) disappear.\n\nIn the seventh move, we step into the portal at coordinates (5,7) and exit at coordinates (2,6).\nFinally, in the eighth move, we move one place to the right to end the game.\n\nThe portal creation in moves 1, 2, 4 and 6 lasts zero amounts of time, whereas the rest of the move\nlast one unit of time, so the total time needed to solve the puzzle is 4 units of time.\n\n![](https://cdn.luogu.com.cn/upload/pic/17512.png)",
    "translation": "\u9898\u76ee\u5927\u610f:\n\n\u7ed9\u5b9a\u4e00\u4e2a\u77e9\u9635\uff0c\u6bcf\u4e2a\u683c\u5b50\u7531\u4e0b\u5217\u5b57\u6bcd\u8868\u793a\uff1a\n\n\u25cf\u6709\u969c\u788d\u7684\u533a\u57df\u8868\u793a\u4e3a\u2018#\u2019\n\n\u25cf \u521d\u59cb\u4f4d\u7f6e\u8868\u793a\u4e3a\u2018C\u2019\n\n\u25cf \u76ee\u6807\u4f4d\u7f6e\u8868\u793a\u4e3a \u2018F\u2019\n\n\u25cf \u7a7a\u767d\u533a\u57df\u8868\u793a\u4e3a\u2018.\u2019\n\n\u53ef\u4ee5\u8fdb\u884c\u4e09\u79cd\u64cd\u4f5c\uff1a\n\u25cf\u8d70\u5230\u4e0a\u4e0b\u5de6\u53f3\u76f8\u90bb\u7684\u683c\u5b50\uff0c\u4e0d\u80fd\u8d70\u5230\u6709\u5899\u7684\u533a\u57df\u4e0a\uff0c\u6d88\u8017\u4e00\u4e2a\u5355\u4f4d\u65f6\u95f4\u3002\n\n\u25cf\u5728\u5899\u58c1\u4e0a\u521b\u5efa\u4f20\u9001\u95e8\uff0c\u7528\u67aa\u5411\u4e0a\u3001\u5411\u4e0b\u3001\u5411\u5de6\uff0c\u5411\u53f3\u76f4\u5c04\u5411\u7740\u5899\u58c1\u3002\u4f20\u9001\u95e8\u4f1a\u5728\u88ab\u51fb\u4e2d\u7684\u5899\u7684\u4e00\u4fa7\u4ea7\u751f\u3002\u5728\u6bcf\u4e00\u65f6\u523b\uff0c\u6700\u591a\u4e24\u4e2a\u4f20\u9001\u95e8\u53ef\u4ee5\u662f\u6d3b\u52a8\u7684\u3002\u5982\u679c\u5728\u5df2\u6709\u4e24\u4e2a\u4f20\u9001\u95e8\u7684\u57fa\u7840\u4e0a\u518d\u5c04\u51fb\u521b\u5efa\u4e86\u4e00\u4e2a\u65b0\u7684\uff0c\u90a3\u4e48\u8f83\u65e9\u521b\u5efa\u7684\u95e8\u5c06\u6d88\u5931\u3002\u8fd9\u4e2a\u5c04\u51fb\u6d88\u8017\u7684\u65f6\u95f4\u53ef\u5ffd\u7565\u3002\n\n\u25cf\u5982\u679c\u5979\u5728\u4e00\u4e2a\u9760\u8fd1\u5899\u7684\u5730\u65b9\uff0c\u5899\u4e0a\u6709\u4e00\u4e2a\u4f20\u9001\u95e8\uff0c\u5979\u53ef\u4ee5\u8fdb\u5165\uff0c\u5230\u8fbe\u53e6\u4e00\u4e2a\u95e8\u5916\u7684\u65e0\u969c\u788d\u533a\u57df\u51fa\u6765\uff0c\u9700\u8981\u6d88\u8017\u4e00\u4e2a\u5355\u4f4d\u65f6\u95f4\u3002\n\n\u6c42\u5230\u8fbe\u76ee\u7684\u5730\u201cF\u201d\u6240\u9700\u7684\u6700\u5c11\u65f6\u95f4"
}