{
    "description": "\u7ed9\u5b9a\u4e00\u68f5 $n$ \u4e2a\u70b9\u7684\u65e0\u6839\u6811\uff0c\u8fb9\u6709\u8fb9\u6743\u3002\n\n\u4ee4 $E(x,y)$ \u8868\u793a\u6811\u4e0a $x,y$ \u4e4b\u95f4\u7684\u7b80\u5355\u8def\u5f84\u4e0a\u7684\u6240\u6709\u8fb9\u7684\u96c6\u5408\uff0c\u7279\u522b\u5730\uff0c\u5f53 $x=y$ \u65f6\uff0c$E(x,y) = \\varnothing$\u3002\n\n\u4f60\u9700\u8981 **\u5b9e\u65f6** \u56de\u7b54 $q$ \u4e2a\u8be2\u95ee\uff0c\u6bcf\u4e2a\u8be2\u95ee\u7ed9\u5b9a $p,l,r$\uff0c\u8bf7\u4f60\u6c42\u51fa\u96c6\u5408 $\\bigcap_{i=l}^r E(p,i)$ \u4e2d\u6240\u6709\u8fb9\u7684\u8fb9\u6743\u548c\uff0c\u5373 $E(p, l\\dots r)$ \u7684\u4ea4\u6240\u5305\u542b\u7684\u8fb9\u7684\u8fb9\u6743\u548c\u3002\n\n\u901a\u4fd7\u7684\u8bb2\uff0c\u4f60\u9700\u8981\u6c42\u51fa $p$ \u5230 $[l,r]$ \u5185\u6bcf\u4e00\u4e2a\u70b9\u7684\u7b80\u5355\u8def\u5f84\u7684\u516c\u5171\u90e8\u5206\u957f\u5ea6\u3002\n\n",
    "inputFormat": "\u7b2c\u4e00\u884c\u4e24\u4e2a\u6574\u6570 $n,q$\uff0c\u8868\u793a\u6811\u7684\u7ed3\u70b9\u6570\u548c\u8be2\u95ee\u6570\u3002\n\n\u63a5\u4e0b\u6765 $n-1$ \u884c\uff0c\u6bcf\u884c\u4e09\u4e2a\u6574\u6570 $x,y,w$\uff0c\u8868\u793a $x$ \u4e0e $y$ \u4e4b\u95f4\u6709\u4e00\u6761\u6743\u503c\u4e3a $w$ \u7684\u8fb9\u3002\n\n\u63a5\u4e0b\u6765 $q$ \u884c\uff0c\u6bcf\u884c\u4e09\u4e2a\u6574\u6570 $p_0,l_0,r_0$\u3002\u7b2c $i$ \u4e2a\u8be2\u95ee\u7684 $p,l,r$ \u5206\u522b\u4e3a $p_0,l_0,r_0$ \u5f02\u6216\u4e0a $lastans$ \u7684\u503c\uff0c\u5176\u4e2d $lastans$ \u662f\u4e0a\u6b21\u8be2\u95ee\u7684\u7b54\u6848\uff0c\u521d\u59cb\u65f6\u4e3a $0$\u3002",
    "outputFormat": "\u5bf9\u4e8e\u6bcf\u4e2a\u8be2\u95ee\uff0c\u4e00\u884c\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a\u7b54\u6848\u3002",
    "samples": [
        [
            "5 4\n3 1 2\n1 5 1\n2 3 3\n3 4 4\n2 3 5\n2 1 7\n0 7 7\n5 5 2",
            "3\n2\n6\n0"
        ],
        [
            "10 10\n2 1 9907\n3 2 8329\n4 2 8402\n5 4 3636\n6 4 8747\n7 4 3080\n8 6 780\n9 6 5414\n10 9 3545\n2 10 10\n26107 26106 26101\n4 9 10\n14171 14166 14169\n8958 8949 8949\n36008 36014 36013\n11485 11485 11472\n3 9 9\n30888 30894 30895\n8404 8404 8411\n",
            "26108\n0\n14161\n8959\n36015\n11482\n0\n30892\n8402\n0\n"
        ]
    ],
    "hint": "\u3010\u6837\u4f8b 1 \u8bf4\u660e\u3011\n\n\u6837\u4f8b\u4e2d\u7684\u6811\u5982\u56fe\u6240\u793a\uff1a\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/g6l15zpv.png)\n\n\u4e0b\u9762\u89e3\u91ca\u4e2d\u7684\u8be2\u95ee\u53c2\u6570\u5747\u4e3a\u5f02\u6216 $lastans$ \u4e4b\u540e\u5f97\u5230\u7684\u771f\u5b9e\u503c\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e00\u4e2a\u8be2\u95ee\uff0c$p=2$\uff0c$l=3$\uff0c$r=5$\uff0c$\\bigcap_{i=3}^5 E(2,i)$ \u4e3a\u8fb9 $(2,3)$\uff0c\u957f\u5ea6\u4e3a $3$\u3002\n\n\u5bf9\u4e8e\u7b2c\u4e8c\u4e2a\u8be2\u95ee\uff0c$p=1$\uff0c$l=2$\uff0c$r=4$\uff0c$\\bigcap_{i=2}^4 E(1,i)$ \u4e3a\u8fb9 $(1,3)$\uff0c\u957f\u5ea6\u4e3a $2$\uff1b\n\n\u5bf9\u4e8e\u7b2c\u4e09\u4e2a\u8be2\u95ee\uff0c$p=2$\uff0c$l=5$\uff0c$r=5$\uff0c$\\bigcap_{i=5}^5 E(2,i)$ \u4e3a\u8fb9\u96c6 $\\{(2,3),(3,1),(1,5)\\}$\uff0c\u957f\u5ea6\u4e3a $6$\uff1b\n\n\u5bf9\u4e8e\u7b2c\u56db\u4e2a\u8be2\u95ee\uff0c$p=3$\uff0c$l=3$\uff0c$r=4$\uff0c$\\bigcap_{i=3}^4 E(3,i)=\\varnothing$\uff0c\u957f\u5ea6\u4e3a $0$\u3002\n\n\n---\n\n\u3010\u6570\u636e\u8303\u56f4\u3011\n\n**\u672c\u9898\u91c7\u7528\u6346\u7ed1\u6d4b\u8bd5\u3002**\n\n| \u5b50\u4efb\u52a1\u7f16\u53f7 |   $n,q\\leq$    | \u7279\u6b8a\u6027\u8d28 | \u5206\u503c |\n| :--------: | :------------: | :------: | :--: |\n|     1      |     $10^5$     |  $l=r$   |  8   |\n|     2      |     $10^5$     |  $p=1$   |  20  |\n|     3      |     $10^3$     |    \u65e0    |  20  |\n|     4      |     $10^5$     |    \u65e0    |  26  |\n|     5      | $2\\times 10^5$ |    \u65e0    |  26  |\n\n\u5bf9\u4e8e $100\\%$ \u7684\u6570\u636e\uff0c$1\\leq n,q\\leq 2\\times 10^5$\uff0c$1\\leq x,y,p\\leq n$\uff0c$1\\leq l\\leq r\\leq n$\uff0c$1\\leq w\\leq 10^4$\u3002"
}