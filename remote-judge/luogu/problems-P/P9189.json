{
    "description": "Due to the disorganized structure of his mootels (much like motels but with\nbovine rather than human guests), Farmer John has decided to take up the role of\nthe mootel custodian to restore order to the stalls.\n\nEach mootel has $N$ stalls labeled $1$ through $N$ and $M$ corridors that connect pairs of stalls to each other\nbidirectionally. The $i$ th stall is painted with color $C_i$ and initially has a\nsingle key of color $S_i$ in it. FJ will have to rearrange the keys to appease\nthe cows and restore order to the stalls.\n\nFJ starts out in stall $1$ without holding any keys and is allowed to repeatedly\ndo one of the following moves:\n- Pick up a key in the stall he is currently in. FJ can hold multiple keys at\na time.\n- Place down a key he is holding into the stall he is currently\nin. A stall may hold multiple keys at a time.\n- Enter stall $1$ by\nmoving through a corridor.\n- Enter a stall other than stall $1$ by\nmoving through a corridor. He can only do this if he currently holds a key that\nis the same color as the stall he is entering.\n\nUnfortunately, it seems that the keys are not in their intended locations. To\nrestore order to FJ's mootel, the $i$th stall requires that a single key of\ncolor $F_i$ is in it. It is guaranteed that $S$ is a permutation of $F$.\n\nFor $T$ different mootels, FJ starts in stall $1$ and needs\nto place every key in its appropriate location, ending back in stall $1$. For\neach of the $T$ mootels, please answer if it is possible to do this.",
    "inputFormat": "The first line contains $T$, the number of mootels (test cases).\n\nEach test case will be preceded by a blank line. Then, the first line \nof each test case contains two integers $N$ and $M$.\n\nThe second line of each test case contains $N$ integers. The $i$-th integer on\nthis line $C_i$ means that stall $i$ has color $C_i$.\n\nThe third line of each test case contains $N$ integers. The $i$-th integer on\nthis line $S_i$ means that stall $i$ initially holds a key of color $S_i$.\n\nThe fourth line of each test case contains $N$ integers. The $i$-th integer on\nthis line $F_i$ means that stall $i$ needs to have a key of color $F_i$ in it.\n\nThe next $M$ lines of each test case follow. The $i$-th of these lines contains\ntwo distinct integers $u_i$ and $v_i$. This represents\nthat a corridor exists between stalls $u_i$ and $v_i$. No corridors are\nrepeated.\n",
    "outputFormat": "For each mootel, output `YES` on a new line if there exists a way for FJ to return\na key of color $F_i$ to each stall $i$ and end back in stall $1$. Otherwise,\noutput `NO` on a new line.",
    "samples": [
        [
            "2\n\n5 5\n4 3 2 4 3\n3 4 3 4 2\n2 3 4 4 3\n1 2\n2 3\n3 1\n4 1\n4 5\n\n4 3\n3 2 4 1\n2 3 4 4\n4 2 3 4\n4 2\n4 1\n4 3\n",
            "YES\nNO\n"
        ],
        [
            "5\n\n2 0\n1 2\n2 2\n2 2\n\n2 1\n1 1\n2 1\n2 1\n1 2\n\n2 1\n1 1\n2 1\n1 2\n1 2\n\n2 1\n1 1\n1 2\n2 1\n1 2\n\n5 4\n1 2 3 4 4\n2 3 5 4 2\n5 3 2 4 2\n1 2\n1 3\n1 4\n4 5\n",
            "YES\nYES\nNO\nYES\nNO\n"
        ]
    ],
    "hint": "For the first test case of the first sample, here is a possible sequence of moves:\n\n```\nCurrent stall: 1. Keys held: []. Keys in stalls: [3, 4, 3, 4, 2]\n(pick up key of color 3)\nCurrent stall: 1. Keys held: [3]. Keys in stalls: [x, 4, 3, 4, 2]\n(move from stall 1 to 2, allowed since we have a key of color C_2=3)\nCurrent stall: 2. Keys held: [3]. Keys in stalls: [x, 4, 3, 4, 2]\n(pick up key of color 4)\nCurrent stall: 2. Keys held: [3, 4]. Keys in stalls: [x, x, 3, 4, 2]\n(move from stall 2 to 1 to 4 to 5, allowed since we have keys of colors C_4=4 and C_5=3)\nCurrent stall: 5. Keys held: [3, 4]. Keys in stalls: [x, x, 3, 4, 2]\n(pick up key of color 2 and place key of color 3)\nCurrent stall: 5. Keys held: [2, 4]. Keys in stalls: [x, x, 3, 4, 3]\n(move from stall 5 to 4 to 1 to 3, allowed since we have keys of colors C_4=4 and C_3=2)\nCurrent stall: 3. Keys held: [2, 4]. Keys in stalls: [x, x, 3, 4, 3]\n(pick up key of color 3 and place key of color 4)\nCurrent stall: 3. Keys held: [2, 3]. Keys in stalls: [x, x, 4, 4, 3]\n(move from stall 3 to stall 2 and place key of color 3)\nCurrent stall: 2. Keys held: [2]. Keys in stalls: [x, 3, 4, 4, 3]\n(move from stall 2 to stall 1 and place key of color 2)\nCurrent stall: 1. Keys held: []. Keys in stalls: [2, 3, 4, 4, 3]\n```\n\nFor the second test case of the first sample, there exists no way for FJ to return a key of color\n$F_i$ to each stall $i$ and end back at stall $1$.\n\n$0 \\le M \\le 10^5$, $1 \\le C_i, S_i, F_i, u_i, v_i \\le N \\le 10^5$.   \n$1 \\le T \\le 100$, $1 \\le \\sum N \\le 10^5$, $1 \\le \\sum M \\le 2\\cdot 10^5$.\n\n- Test cases 3-6 satisfy $N,M\\le 8$.\n- Test cases 7-10 satisfy $C_i=F_i$.\n- Test cases 11-18 satisfy no additional constraints.\n",
    "translation": "\u5976\u725b\u65c5\u9986\u53ef\u4ee5\u88ab\u770b\u4f5c\u4e00\u4e2a $N$ \u4e2a\u8282\u70b9 $M$ \u6761\u8fb9\u7684\u65e0\u5411\u7b80\u5355\u56fe\uff0c\u5176\u4e2d\u6bcf\u4e2a\u623f\u95f4\u6709\u4e00\u4e2a\u989c\u8272 $C_i$\uff0c\u4ee5\u53ca\u4e00\u4e2a\u94a5\u5319\uff0c\u989c\u8272\u4e3a $S_i$\uff0c FJ \u6700\u521d\u5728 $1$ \u53f7\u8282\u70b9\uff0c\u624b\u4e0a\u4e00\u628a\u94a5\u5319\u90fd\u6ca1\u6709\u3002\n\nFJ \u53ef\u4ee5\u8fdb\u884c\u65e0\u6570\u6b21\u4ee5\u4e0b\u64cd\u4f5c\uff1a\n\n- \u6361\u8d77\u5f53\u524d\u623f\u95f4\u7684\u94a5\u5319\u3002\uff08FJ \u53ef\u4ee5\u540c\u65f6\u624b\u6301\u591a\u4e2a\u94a5\u5319\uff09\n\n- \u5c06\u90e8\u5206\u6216\u5168\u90e8\u624b\u4e0a\u7684\u94a5\u5319\u653e\u5728\u5f53\u524d\u623f\u95f4\u3002 (\u623f\u95f4\u5185\u53ef\u4ee5\u540c\u65f6\u653e\u591a\u628a\u94a5\u5319)\n\n- \u901a\u8fc7\u4e00\u6761\u8fb9\uff0c\u79fb\u5230\u4e00\u4e2a\u76f8\u90bb\u7684\u623f\u95f4\uff0c\u524d\u63d0\u662f\u76ee\u6807\u623f\u95f4\u662f\u623f\u95f4 $1$, \u6216\u8005 FJ \u62e5\u6709\u81f3\u5c11\u4e00\u4e2a\u76ee\u6807\u623f\u95f4\u989c\u8272\u7684\u94a5\u5319\u3002\n\n\u5df2\u77e5 $F$ \u662f $S$ \u7684\u6392\u5217\uff0c FJ \u60f3\u8981\u8ba9\u6bcf\u4e2a\u623f\u95f4\u91cc\u9762\u90fd\u6070\u597d\u6709\u4e00\u4e2a $F_i$ \u989c\u8272\u7684\u94a5\u5319\uff0c\u6c42\u662f\u5426\u53ef\u80fd\u3002\n\n\u6709 $T$ \u7ec4\u6570\u636e\uff0c\u6bcf\u7ec4\u6570\u636e\u7531\u4e00\u4e2a\u7a7a\u884c\u5f00\u59cb\uff0c\u63a5\u7740\u5148\u7ed9\u5b9a $3$ \u884c\u6bcf\u884c $N$ \u4e2a\u6574\u6570\uff0c\u5206\u522b\u8868\u793a $C$,$S$,$F$\uff0c\u6700\u540e\u7ed9\u5b9a $M$ \u884c\uff0c\u6bcf\u884c\u4e24\u4e2a\u6574\u6570\u8868\u793a\u4e00\u6761\u8fb9\u3002\n\nby [Error_Eric](/user/217300)."
}