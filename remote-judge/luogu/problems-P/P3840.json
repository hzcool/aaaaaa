{
    "description": "\u6839\u636e\u6c99\u7eb3\u739b\uff08Shahnameh\uff09\u4e2d\u7684\u53e4\u4ee3\u6ce2\u65af\u4f20\u8bf4\uff0cZal\uff0c\u4f20\u5947\u7684\u6ce2\u65af\u82f1\u96c4\uff0c\u75af\u72c2\u5730\u7231\u4e0a\u4e86Kabul\u738b\u56fd\u7684\u516c\u4e3bRudaba\u3002\u5728Zal\u5411Rudaba\u6c42\u5a5a\u65f6\uff0cRudaba\u7684\u7236\u4eb2\u7ed9\u4ed6\u4e86\u4e00\u4e2a\u6311\u6218\u3002\n\n\u5728\u6ce2\u65af\u6709$n$\u4e2a\u57ce\u5e02\uff0c\u6807\u8bb0\u4e3a\u4ece$0$\u5230$n-1$\uff0c\u4ee5\u53ca$m$\u6761\u53cc\u5411\u9053\u8def\uff0c\u6807\u8bb0\u4e3a\u4ece$0$\u5230$m-1$\u3002 \u6bcf\u6761\u9053\u8def\u8fde\u63a5\u4e24\u4e2a\u4e0d\u540c\u7684\u57ce\u5e02\u3002\u6bcf\u4e00\u5bf9\u57ce\u5e02\u81f3\u591a\u4f1a\u88ab\u4e00\u6761\u9053\u8def\u8fde\u63a5\u3002\u6709\u4e9b\u9053\u8def\u662f**\u5fa1\u9053**\\_\\_(royal roads)\\_\\_\uff0c\u4e13\u7528\u4e8e\u7687\u5ba4\u884c\u9a76\uff0c\u4f46\u8fd9\u662f\u4fdd\u5bc6\u7684\u3002Zal\u7684\u4efb\u52a1\u662f\u627e\u51fa\u54ea\u4e9b\u9053\u8def\u662f\u5fa1\u9053\u3002\n\nZal\u6709\u4e00\u5f20\u5305\u62ec\u6240\u6709\u57ce\u5e02\u548c\u6240\u6709\u9053\u8def\u7684\u6ce2\u65af\u5730\u56fe\u3002\u4ed6\u4e0d\u77e5\u9053\u54ea\u4e9b\u9053\u8def\u662f\u5fa1\u9053\uff0c\u4f46\u662f\u4ed6\u53ef\u4ee5\u6c42\u6551\u4e8eSimurgh\u2014\u2014\u597d\u5fc3\u7684\u795e\u9e1f\u3001Zal\u7684\u4fdd\u62a4\u8005\u3002\u7136\u800c\uff0cSimurgh\u5e76\u4e0d\u60f3\u76f4\u63a5\u544a\u8bc9\u4ed6\u54ea\u4e9b\u9053\u8def\u662f\u5fa1\u9053\u3002\u4f5c\u4e3a\u66ff\u4ee3\uff0cSimurgh\u544a\u8bc9Zal\uff0c\u6240\u6709\u5fa1\u9053\u7684\u96c6\u5408\u662f\u4e00\u4e2a**\u9ec4\u91d1\u96c6\u5408**\\_\\_(golden set)\\_\\_\u3002\u4e00\u4e2a\u9053\u8def\u7684\u96c6\u5408\u662f\u9ec4\u91d1\u96c6\u5408\uff0c\u5f53\u4e14\u4ec5\u5f53\uff1a\n\n- \u5b83\u6070\u597d\u5305\u542b$n-1$\u6761\u9053\u8def\uff0c\u800c\u4e14\n\n- \u5bf9\u4e8e\u6bcf\u4e00\u5bf9\u57ce\u5e02\uff0c\u4ec5\u6cbf\u7740\u8fd9\u4e2a\u96c6\u5408\u4e2d\u7684\u9053\u8def\u5373\u53ef\u4ece\u5176\u4e2d\u4e00\u4e2a\u57ce\u5e02\u62b5\u8fbe\u53e6\u5916\u4e00\u4e2a\u57ce\u5e02\u3002\n\n\u6b64\u5916\uff0cZal\u53ef\u4ee5\u95eeSimurgh\u4e00\u4e9b\u95ee\u9898\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u95ee\u9898\uff1a\n\n1. Zal\u9009\u51fa\u9053\u8def\u7684\u4e00\u4e2a\u9ec4\u91d1\u96c6\u5408\uff0c\u7136\u540e\n\n2. Simurgh\u4f1a\u544a\u8bc9Zal\uff0c\u5728\u6240\u9009\u62e9\u7684\u9ec4\u91d1\u96c6\u5408\u4e2d\u6709\u591a\u5c11\u6761\u9053\u8def\u662f\u5fa1\u9053\u3002\n\n\u4f60\u7684\u7a0b\u5e8f\u53ef\u4ee5\u95eeSimurgh\u6700\u591a$q$\u4e2a\u95ee\u9898\uff0c\u4ee5\u6b64\u5e2e\u52a9Zal\u627e\u51fa\u5fa1\u9053\u7684\u96c6\u5408\u3002\u8bc4\u6d4b\u5de5\u5177\u5c06\u626e\u6f14Simurgh\u7684\u89d2\u8272\u3002\n\n\n## \u5b9e\u73b0\u7ec6\u8282\n\n\u4f60\u9700\u8981\u5b9e\u73b0\u4e0b\u9762\u7684\u51fd\u6570\uff1a\n\n(Java)  `int[] find\\_roads(int n, int[] u, int[] v)`\n\n(C++)  `std::vector<int> find\\_roads(int n, std::vector<int> u, std::vector<int> v)`\n\n- $n$\uff1a\u57ce\u5e02\u7684\u6570\u91cf\uff0c\n\n- $u$\u548c$v$\uff1a\u5747\u4e3a\u957f\u5ea6\u4e3a$m$\u7684\u6570\u7ec4\u3002\u5bf9\u4e8e\u6240\u6709$0 \\leq i \\leq m-1$\uff0c$u[i]$\u548c$v[i]$\u662f\u88ab\u9053\u8def$i$\u6240\u8fde\u63a5\u7684\u57ce\u5e02\u3002\n\n- \u8be5\u51fd\u6570\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u957f\u5ea6\u4e3a$n-1$\u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u6240\u6709\u5fa1\u9053\u7684\u6807\u53f7\uff08\u53ef\u4ee5\u4ee5\u4efb\u610f\u7684\u987a\u5e8f\u7ed9\u51fa\uff09\u3002\n\n\u4f60\u7684\u7a0b\u5e8f\u81f3\u591a\u53ea\u80fd\u8c03\u7528\u8bc4\u6d4b\u5de5\u5177\u4e2d\u7684\u5982\u4e0b\u51fd\u6570$q$\u6b21\uff1a\n\n(Java)  `int count\\_common\\_roads(int[] r)`\n\n(C++) `int count\\_common\\_roads(std::vector<int> r)`\n\n- $r$\uff1a\u957f\u5ea6\u4e3a$n-1$\u7684\u6570\u7ec4\uff0c\u5176\u4e2d\u5305\u62ec\u4e86\u4e00\u4e2a\u9ec4\u91d1\u96c6\u5408\u4e2d\u7684\u9053\u8def\u6807\u53f7\uff08\u53ef\u4ee5\u4ee5\u4efb\u610f\u7684\u987a\u5e8f\u7ed9\u51fa\uff09\u3002\n\n- \u8be5\u51fd\u6570\u5c06\u8fd4\u56de$r$\u4e2d\u7684\u5fa1\u9053\u6570\u91cf\u3002\n",
    "inputFormat": "\u4f60\u9700\u8981\u5b9e\u73b0\u4e0a\u8ff0\u51fd\u6570\n",
    "outputFormat": "\u51fd\u6570\u9700\u8981\u8fd4\u56de\u4e00\u4e2a\u5408\u6cd5\u7684\u7ed3\u679c\n",
    "samples": [
        [
            "n = 4\nu = [0, 0, 0, 1, 1, 2]\nv = [1, 2, 3, 2, 3, 3]",
            "\u4e00\u4e2a\u53ef\u80fd\u7684\u8f93\u51fa\uff1a\n[0, 1, 5]"
        ]
    ],
    "hint": "\u4e0b\u9762\u662f\u4e00\u4e2a\u4f8b\u5b50\n\n`find\\_roads(4, [0, 0, 0, 1, 1, 2], [1, 2, 3, 2, 3, 3])`\n\n ![](https://cdn.luogu.com.cn/upload/pic/6777.png) \n\n\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u6709$4$\u4e2a\u57ce\u5e02\u548c$6$\u6761\u9053\u8def\u3002\u6211\u4eec\u5c06\u8fde\u63a5\u57ce\u5e02$a$\u548c$b$\u7684\u9053\u8def\u8868\u793a\u4e3a$(a, b)$\u3002\u8fd9\u4e9b\u9053\u8def\u6309\u7167\u4e0b\u9762\u7684\u987a\u5e8f\u88ab\u6807\u4e3a\u4ece$0$\u5230$5$\uff1a$(0,1)$\uff0c$(0,2)$\uff0c$(0,3)$\uff0c$(1,2)$\uff0c$(1,3)$\u548c$(2,3)$\u3002\u6bcf\u4e2a\u9ec4\u91d1\u96c6\u5408\u5305\u542b$n-1=3$\u6761\u9053\u8def\u3002\n\n\u5047\u8bbe\u5fa1\u9053\u662f\u6807\u53f7\u4e3a$0$\uff0c$1$\u548c$5$\u7684\u9053\u8def\uff0c\u5373$(0,1)$\uff0c$(0,2)$\u548c$(2,3)$\u3002\u8fd9\u6837\u7684\u8bdd\uff1a\n\n- `count\\_common\\_roads([0, 1, 2])`\u8fd4\u56de$2$\u3002\u8be5\u8be2\u95ee\u6d89\u53ca\u5230\u6807\u53f7\u4e3a$0,1$\u548c$2$\u7684\u9053\u8def\uff0c\u5373$(0,1)$\uff0c$(0,2)$\u548c$(0,3)$\u3002\u5176\u4e2d\u6709\u4e24\u6761\u9053\u8def\u662f\u5fa1\u9053\u3002\n\n- `count\\_common\\_roads([5, 1, 0])`\u8fd4\u56de$3$\u3002\u8be5\u8be2\u95ee\u6d89\u53ca\u5230\u6240\u6709\u7684\u5fa1\u9053\u3002\n\n\u51fd\u6570`find\\_roads`\u9700\u8981\u8fd4\u56de`[5, 1, 0]`\u6216\u4efb\u610f\u5176\u4ed6\u5305\u542b\u8fd9\u4e09\u4e2a\u5143\u7d20\u4e14\u957f\u5ea6\u4e3a$3$\u7684\u6570\u7ec4\u3002\n\n\u6ce8\u610f\uff0c\u4e0b\u9762\u5217\u51fa\u7684\u8c03\u7528\u662f\u4e0d\u5141\u8bb8\u7684\uff1a\n\n- `count\\_common\\_roads([0, 1])`\uff1a\u8fd9\u91cc$r$\u7684\u957f\u5ea6\u4e0d\u662f$3$\u3002\n\n- `count\\_common\\_roads([0, 1, 3])`\uff1a\u8fd9\u91cc$r$\u4e0d\u662f\u4e00\u4e2a\u9ec4\u91d1\u96c6\u5408\uff0c\u56e0\u4e3a\u65e0\u6cd5\u4ec5\u6cbf\u9053\u8def$(0,1)$\uff0c$(0,2)$\uff0c$(1,2)$\u5c31\u4ece\u57ce\u5e02$0$\u8d70\u5230\u57ce\u5e02$3$\u3002\n\n\n## \u9650\u5236\u6761\u4ef6\n\n- $n-1 \\leq m \\leq n(n-1)/2$\n\n- $0 \\leq u[i],v[i] \\leq n-1$\uff08\u5bf9\u4e8e\u6240\u6709$0 \\leq i \\leq m-1$\uff09\n\n- \u5bf9\u4e8e\u6240\u6709$0 \\leq i \\leq m-1$\uff0c\u9053\u8def$i$\u8fde\u63a5\u4e24\u4e2a\u4e0d\u540c\u7684\u57ce\u5e02\uff08\u5373$u[i] \\neq v[i]$\uff09\u3002\n\n- \u6bcf\u5bf9\u57ce\u5e02\u4e4b\u95f4\u81f3\u591a\u8fde\u6709\u4e00\u6761\u9053\u8def\u3002\n\n- \u7ecf\u7531\u8fd9\u4e9b\u9053\u8def\uff0c\u53ef\u4ee5\u5728\u4efb\u610f\u4e00\u5bf9\u57ce\u5e02\u4e4b\u95f4\u6765\u5f80\u3002\n\n- \u6240\u6709\u7684\u5fa1\u9053\u7ec4\u6210\u4e00\u4e2a\u9ec4\u91d1\u96c6\u5408\u3002\n\n- `find\\_roads`\u53ef\u4ee5\u8c03\u7528`count\\_common\\_roads`\u6700\u591a$q$\u6b21\u3002\u5728\u6bcf\u6b21\u8c03\u7528\u4e2d\uff0c\u7531$r$\u6240\u7ed9\u51fa\u7684\u9053\u8def\u5fc5\u987b\u662f\u4e00\u4e2a\u9ec4\u91d1\u96c6\u5408\u3002\n\n\n## \u5b50\u4efb\u52a1\n\n1. \uff08$13$\u5206\uff09$n \\leq 7$\uff0c$q = 30000$\n\n2. \uff08$17$\u5206\uff09$n \\leq 50$\uff0c$q = 30000$\n\n3. \uff08$21$\u5206\uff09$n \\leq 240$\uff0c$q = 30000$\n\n4. \uff08$19$\u5206\uff09$q = 12000$\uff0c\u5728\u4efb\u610f\u4e24\u4e2a\u57ce\u5e02\u4e4b\u95f4\u90fd\u8fde\u6709\u4e00\u6761\u9053\u8def\n\n5. \uff08$30$\u5206\uff09$q = 8000$\n"
}