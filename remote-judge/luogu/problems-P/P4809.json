{
    "description": "**\u9898\u76ee\u8bd1\u81ea [CCC 2018](https://cemc.math.uwaterloo.ca/contests/computing/2018/) S5\u300c[Maximum Strategic Savings](https://cemc.math.uwaterloo.ca/contests/computing/2018/stage%201/seniorEF.pdf)\u300d**\n\n\u6709 $N$ \u4e2a\u661f\u7403\uff0c\u7f16\u53f7\u4e3a $1\\ldots N$\u3002\u6bcf\u4e2a\u661f\u7403\u6709 $M$ \u5ea7\u57ce\u5e02\uff0c\u7f16\u53f7\u4e3a $1\\ldots M$\u3002\u6211\u4eec\u5c06 $e$ \u661f\u7403\u4e0a\u7684\u57ce\u5e02 $f$ \u8bb0\u4f5c $(e,\\,f)$\u3002\n\n\u6709 $N\\times P$ \u6761\u53cc\u5411\u822a\u7ebf\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u661f\u7403 $e(1\\le e\\le N)$\uff0c\u6709 $P$ \u6761\u822a\u7ebf\uff0c\u7f16\u53f7\u4e3a $1$ \u5230 $P$\u3002\u7b2c $i$ \u6761\u822a\u7ebf\u8fde\u63a5\u57ce\u5e02 $(e,\\,a_i)$ \u548c $(e,\\,b_i)$\uff0c\u4e14\u6bcf\u5929\u9700\u8981\u82b1\u8d39 $c_i$ \u7684\u4ee3\u4ef7\u7ef4\u62a4\u3002\n\n\u6709 $M\\times Q$ \u4e2a\u53cc\u5411\u6e2f\u53e3\u3002\u5bf9\u4e8e\u6240\u6709\u7f16\u53f7\u4e3a $f(1\\le f\\le M)$ \u7684\u57ce\u5e02\uff0c\u6709 $Q$ \u4e2a\u6e2f\u53e3\uff0c\u7f16\u53f7\u4e3a $1$ \u5230 $Q$\u3002\u7b2c $j$ \u4e2a\u6e2f\u53e3\u53ef\u4ee5\u8fde\u63a5\u57ce\u5e02 $(x_j,\\,f)$ \u548c $(y_j,\\,f)$\uff0c\u4e14\u6bcf\u5929\u9700\u8981\u82b1\u8d39 $z_j$ \u7684\u4ee3\u4ef7\u7ef4\u62a4\u3002\n\n\u73b0\u5728\u9700\u8981\u62c6\u9664\u4e00\u4e9b\u6e2f\u53e3\u548c\uff08\u6216\uff09\u53d6\u6d88\u4e00\u4e9b\u822a\u7ebf\uff0c\u4f7f\u5f97\u57ce\u5e02\u4e4b\u95f4\u4ecd\u80fd\u4fdd\u6301\u8054\u901a\uff0c\u4e14\u8282\u7701\u7684\u4ee3\u4ef7\u4e4b\u548c\u6700\u5927\u3002",
    "inputFormat": "\u7b2c\u4e00\u884c\u56db\u4e2a\u6574\u6570\uff0c\u5206\u522b\u4e3a $N,\\,M,\\,P,\\,Q\\ (0\\le N,\\,M,\\,P,\\,Q\\le10^5)$\u3002\n\n\u63a5\u4e0b\u6765 $P$ \u884c\uff0c\u6bcf\u884c\u4e09\u4e2a\u6574\u6570 $a_i,\\,b_i,\\,c_i(1\\le a_i,\\,b_i\\le M,\\,1\\le c_i\\le10^8)$\u3002\n\n\u518d\u63a5\u4e0b\u6765 $Q$ \u884c\uff0c\u6bcf\u884c\u4e09\u4e2a\u6574\u6570 $x_j,\\,y_j,\\,z_j(1\\le x_j,\\,y_j\\le N,\\,1\\le z_j\\le 10^8)$\u3002\n\n\u6570\u636e\u4fdd\u8bc1\u57ce\u5e02\u4e4b\u95f4\u4e24\u4e24\u8054\u901a\uff0c\u53ef\u80fd\u6709\u91cd\u8fb9\u6216\u81ea\u73af\u3002",
    "outputFormat": "\u8f93\u51fa\u4e00\u884c\u4e00\u4e2a\u6574\u6570\u8868\u793a\u6bcf\u5929\u6700\u591a\u80fd\u8282\u7701\u7684\u4ee3\u4ef7\u4e4b\u548c\u3002",
    "samples": [
        [
            "2 2 1 2\n1 2 1\n2 1 1\n2 1 1",
            "3"
        ],
        [
            "2 3 4 1\n2 3 5\n3 2 7\n1 2 6\n1 1 8\n2 1 5",
            "41"
        ]
    ],
    "hint": "#### \u6837\u4f8b 2 \u89e3\u91ca\n\u4e00\u79cd\u53ef\u884c\u7684\u6700\u4f18\u89e3\u662f\u5173\u95ed\u57ce\u5e02 $(1,\\,1)$ \u4e0e $(1,1)$\u3001$(2,\\,1)$ \u4e0e $(2,\\,1)$\u3001$(1,\\,1)$ \u4e0e $(1,\\,2)$\u3001$(1,\\,3)$ \u4e0e $(1,\\,2)$\u3001$(2,\\,3)$ \u4e0e $(2,\\,2)$ \u4e4b\u95f4\u7684\u822a\u7ebf\uff1b\u5e76\u5173\u95ed\u57ce\u5e02 $(2,\\,3)$ \u4e0e $(1,\\,3)$ \u95f4\u7684\u6e2f\u53e3\u3002\u6700\u7ec8\u53ef\u4ee5\u8282\u7701 $8 + 8 + 6 + 7 + 7 + 5 = 41$ \u7684\u4ee3\u4ef7\u3002\n\n\u5bf9\u4e8e $\\frac{2}{15}$ \u7684\u6570\u636e\uff0c$P,\\,Q\\le100$\uff0c\u4e14\u5bf9\u4e8e\u6240\u6709\u7684 $1\\le i\\le P$\uff0c\u90fd\u6709 $c_i=1$\uff1b\u5bf9\u4e8e\u6240\u6709\u7684 $1\\le j\\le Q$\uff0c\u90fd\u6709 $z_j=1$\uff1b\n\n\u5bf9\u4e8e\u53e6\u5916 $\\frac{2}{15}$ \u7684\u6570\u636e\uff0c$P,\\,Q\\le 200$\uff1b\n\n\u5bf9\u4e8e\u53e6\u5916 $\\frac{5}{15}$ \u7684\u6570\u636e\uff0c$N,\\,M\\le 200$\uff1b\n\n\u5bf9\u4e8e\u5168\u90e8\u7684\u6570\u636e\uff0c$1\\le N,\\,M,\\,P,\\,Q\\le10^5$\u3002"
}