{
    "description": "\u6709 $n$ \u4e2a\u661f\u7403\uff0c\u5b83\u4eec\u7684\u7f16\u53f7\u662f 1 \u5230 $n$\uff0c\u5b83\u4eec\u5750\u843d\u5728\u540c\u4e00\u4e2a\u661f\u7cfb\u5185\uff0c\u8fd9\u4e2a\u661f\u7cfb\u53ef\u4ee5\u62bd\u8c61\u4e3a\u4e00\u6761\u6570\u8f74\uff0c\u6bcf\u4e2a\u661f\u7403\u90fd\u662f\u6570\u8f74\u4e0a\u7684\u4e00\u4e2a\u70b9\uff0c\u7279\u522b\u5730\uff0c\u7f16\u53f7\u4e3a $i$ \u7684\u661f\u7403\u7684\u5750\u6807\u662f $i$\u3002\n\n\u4e00\u5f00\u59cb\uff0c\u7531\u4e8e\u79d1\u6280\u4e0a\u7684\u539f\u56e0\uff0c\u8fd9 $n$ \u4e2a\u661f\u7403\u7684\u5c45\u6c11\u4e4b\u95f4\u65e0\u6cd5\u8fdb\u884c\u4ea4\u6d41\uff0c\u56e0\u6b64\u4ed6\u4eec\u4e5f\u4e0d\u77e5\u9053\u5f7c\u6b64\u7684\u5b58\u5728\u3002\u73b0\u5728\uff0c\u8fd9\u4e9b\u661f\u7403\u72ec\u7acb\u53d1\u5c55\u51fa\u4e86\u661f\u9645\u7a7f\u8d8a\u4e0e\u661f\u9645\u4ea4\u6d41\u7684\u5de5\u5177\u3002\u5bf9\u4e8e\u7b2c $i$ \u4e2a\u661f\u7403\uff0c\u4ed6\u901a\u8fc7\u53d1\u5c04\u5f3a\u529b\u4fe1\u53f7\uff0c\u6210\u529f\u5730\u4e0e\u7f16\u53f7\u5728 $[l_i,i-1]$ \u7684\u6240\u6709\u661f\u7403\u53d6\u5f97\u4e86\u8054\u7cfb(\u7f16\u53f7\u4e3a 1 \u7684\u661f\u7403\u6ca1\u6709\u53d1\u51fa\u4efb\u4f55\u4fe1\u53f7)\uff0c\u53d6\u5f97\u8054\u7cfb\u7684\u4e24\u4e2a\u661f\u7403\u4f1a\u5efa\u7acb **\u53cc\u5411** \u7684\u4f20\u9001\u95e8\uff0c\u5bf9\u4e8e\u5efa\u7acb\u4e86\u4f20\u9001\u95e8\u7684\u4e24\u4e2a\u661f\u7403 $u,v$\uff0c$u$ \u4e0a\u7684\u5c45\u6c11\u53ef\u4ee5\u82b1\u8d39 1 \u5355\u4f4d\u65f6\u95f4\u4f20\u9001\u5230 $v$\uff0c$v$ \u4e0a\u7684\u5c45\u6c11\u4e5f\u53ef\u4ee5\u82b1\u8d39 1 \u5355\u4f4d\u65f6\u95f4\u4f20\u9001\u5230 $u$ \uff0c\u6211\u4eec\u7528 $dist(x,y)$ \u8868\u793a\u4ece\u7f16\u53f7\u4e3a $x$ \u7684\u661f\u7403\u51fa\u53d1\uff0c\u901a\u8fc7\u4e00\u7cfb\u5217\u661f\u7403\u95f4\u7684\u4f20\u9001\u95e8\uff0c\u4f20\u9001\u5230\u7f16\u53f7\u4e3a $y$ \u7684\u661f\u7403\u6700\u5c11\u9700\u8981\u82b1\u8d39\u7684\u65f6\u95f4\u3002\n\n\u73b0\u5728\u6709 $q$ \u4e2a\u661f\u9645\u5546\u4eba\uff0c\u7b2c $i$ \u4e2a\u5546\u4eba\u521d\u59cb\u6240\u5728\u7684\u4f4d\u7f6e\u662f $x_i$, \u4ed6\u7684\u76ee\u7684\u5730\u662f $[l_i,r_i]$ \u4e2d\u7684\u5176\u4e2d\u4e00\u4e2a\u661f\u7403\uff0c\u4fdd\u8bc1 $l_i<r_i<x_i$ \u3002\u4ed6\u4f1a\u5728\u8fd9\u4e9b\u661f\u7403\u4e2d\u7b49\u6982\u7387\u6311\u9009\u4e00\u4e2a\u661f\u7403 $y$ (\u6bcf\u4e2a\u661f\u7403\u90fd\u6709\u4e00\u6837\u7684\u6982\u7387\u88ab\u9009\u4e2d\u4f5c\u4e3a\u76ee\u7684\u5730)\uff0c\u7136\u540e\u901a\u8fc7\u4e00\u7cfb\u5217\u661f\u7403\u7684\u4f20\u9001\u95e8\uff0c**\u82b1\u8d39\u6700\u5c11\u7684\u65f6\u95f4**\u5230\u8fbe\u661f\u7403 $y$ \u3002\u5546\u4eba\u60f3\u77e5\u9053\u4ed6\u82b1\u8d39\u7684\u671f\u671b\u65f6\u95f4\u662f\u591a\u5c11\uff1f\u4e5f\u5c31\u662f\u8ba1\u7b97 $\\frac{1}{r_i-l_i+1}{\\sum_{y=l_i}^{r_i}{dist(x_i,y)}}$ \u3002\n",
    "inputFormat": "\u7b2c\u4e00\u884c\u4e00\u4e2a\u6b63\u6574\u6570 $n$ \uff0c\u8868\u793a\u661f\u7403\u7684\u4e2a\u6570\u3002\n\n\u7b2c\u4e8c\u884c $n-1$ \u4e2a\u6b63\u6574\u6570\uff0c\u7b2c $i$ \u4e2a\u6b63\u6574\u6570\u4e3a  $l_{i+1}$ \uff0c\u8868\u793a\u7f16\u53f7\u5728 $[l_{i+1},i]$ \u533a\u95f4\u5185\u6240\u6709\u661f\u7403\u5df2\u7ecf\u4e0e\u7f16\u53f7\u4e3a $i+1$ \u7684\u661f\u7403\u53d6\u5f97\u4e86\u8054\u7cfb\uff0c\u5e76\u4e14\u53ef\u4ee5\u901a\u8fc7\u82b1\u8d39 1 \u5355\u4f4d\u8fdb\u884c\u5f7c\u6b64\u7684\u4f20\u8f93\u3002\u4fdd\u8bc1 $l_{i+1}\\leq i$\n\n\u7b2c\u4e09\u884c\u4e00\u4e2a\u6b63\u6574\u6570 $q$ \uff0c\u8868\u793a\u8be2\u95ee\u7ec4\u6570\u3002\n\n\u63a5\u4e0b\u6765 $q$ \u884c\uff0c\u6bcf\u884c\u4e09\u4e2a\u6570\u5b57 $l_i,r_i,x_i$ \uff0c\u8868\u793a\u5728 $[l_i,r_i]$ \u8fd9\u4e2a\u533a\u95f4\u4e2d\u7b49\u6982\u7387\u9009\u62e9\u4e00\u4e2a\u661f\u7403 $y$\uff0c$dist(x_i,y)$ \u7684\u671f\u671b\u3002\u4fdd\u8bc1 $l_i<r_i<x_i$\n",
    "outputFormat": "\u5bf9\u4e8e\u6bcf\u7ec4\u8be2\u95ee\uff0c\u6ce8\u610f\u5230\u7b54\u6848\u5fc5\u7136\u662f\u4e00\u4e2a\u6709\u7406\u6570\uff0c\u56e0\u6b64\u4ee5 $p/q$ \u7684\u683c\u5f0f\u8f93\u51fa\u8fd9\u4e2a\u6709\u7406\u6570\uff0c\u8981\u6c42 $\\gcd(p,q)=1$ \u3002\n\n\u5982\u679c\u7b54\u6848\u4e3a\u6574\u6570 $m$ \uff0c\u8f93\u51fa $m/1$ \u3002",
    "samples": [
        [
            "7\n1 1 2 1 4 6\n5\n3 4 6\n1 5 7\n1 2 4\n1 2 6\n1 3 5",
            "3/2\n13/5\n3/2\n2/1\n1/1"
        ]
    ],
    "hint": "\u6837\u4f8b\u5bf9\u5e94\u7684\u65e0\u5411\u56fe\u5982\u4e0b\uff1a![ex](https://cdn.luogu.com.cn/upload/pic/63831.png)\n\n\u5bf9\u4e8e $20\\%$ \u7684\u6570\u636e\uff0c\u6ee1\u8db3 $n \\leq 100$\u3002\n\n\u5bf9\u4e8e\u53e6 $25\\%$ \u7684\u6570\u636e\uff0c\u6ee1\u8db3 $n\\leq 2000$\n\n\u5bf9\u4e8e\u53e6 $25\\%$ \u7684\u6570\u636e\uff0c\u6ee1\u8db3 $n\\leq 5000$\n\n\u5bf9\u4e8e $100\\%$ \u7684\u6570\u636e\uff0c\u6ee1\u8db3 $n,q\\leq 3\\times 10^5$"
}