{
    "description": "The past few years have seen a revolution in user interface technology. For many years, keyboards and mice were the tools used to interact with computers. But with the introduction of smart phones and tablets, people are increasingly using their computers by tapping and moving their fingers on the screen. Naturally this has led to new paradigms in user interface design. One important principle is that objects on the display obey \u201cphysical\u201d laws. In this problem, you will see an example of this.\n\nYou have been hired to build a simulator for the window manager to be used in the next generation of smart phones from Advanced Cellular Manufacturers (ACM). Each phone they produce will have a rectangular screen that fully displays zero or more rectangular windows. That is, no window exceeds the boundaries of the screen or overlaps any other window. The simulator must support the following commands.\n\nOPEN $x$ $y$ $w$ $h$ \u2014\u00a0open a new window with top-left corner coordinates $(x,y)$, width $w$ pixels and height $h$ pixels.\n\nCLOSE $x$ $y$ \u2014\u00a0close an open window that includes the pixel at $(x,y)$. This allows a user to tap anywhere on a window to close it.\n\nRESIZE $x$ $y$ $w$ $h$ \u2014\u00a0set the dimensions of the window that includes the pixel at $(x,y)$ to width $w$ and height $h$. The top-left corner of the window does not move.\n\nMOVE $x$ $y$ $d_ x$ $d_ y$ \u2014\u00a0move the window that includes the pixel at $(x,y)$. The movement is either $d_ x$ pixels in the horizontal direction or $d_ y$ pixels in the vertical direction. At most one of $d_ x$ and $d_ y$ will be non-zero.\n\nThe OPEN and RESIZE commands succeed only if the resulting window does not overlap any other windows and does not extend beyond the screen boundaries. The MOVE command will move the window by as many of the requested pixels as possible. For example, if $d_ x$ is 30 but the window can move only 15 pixels to the right, then it will move 15 pixels.\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3zw4uj2x.png)\n\n   Figure 1: MOVE example \n\nACM is particularly proud of the MOVE command. A window being moved might \u201cbump into\u201d another window. In this case, the first window will push the second window in the same direction as far as appropriate, exactly as if the windows were physical objects. This behavior can cascade \u2013 a moving window might encounter additional windows which are also pushed along as necessary. Figure\u00a01 shows an example with three windows, where window A is moved to the right, pushing the other two along.",
    "inputFormat": "The first line of input contains two positive integers $x_{\\max }$ and $y_{\\max }$, the horizontal and vertical dimensions of the screen, measured in pixels. Each is at most $10^9$ (ACM is planning on building displays with very high resolution). The top-left pixel of the screen has coordinates $(0,0)$. Each of the following lines contains a command as described above. One or more spaces separate the command name and the parameters from each other. The command parameters are integers that satisfy these conditions: $0 \\leq x < x_{\\max }$, $0 \\leq y < y_{\\max }$, $1 \\leq w,h \\leq 10^9$, and $|d_ x|,|d_ y| \\leq 10^9$. There will be at most 256 commands.",
    "outputFormat": "The output must follow the format illustrated in the sample output below.\n\nSimulate the commands in the order they appear in the input. If any errors are detected during a command\u2019s simulation, display the command number, command name, and the first appropriate message from the following list, and ignore the results of simulating that command (except as noted).\n\nno window at given position \u2014\u00a0for the CLOSE, RESIZE, and MOVE commands \u2014\u00a0if there is no window that includes the pixel at the specified position.\n\nwindow does not fit \u2014\u00a0for the OPEN and RESIZE commands \u2014\u00a0if the resulting window would overlap another window or extend beyond the screen boundaries.\n\nmoved $d\u2019$ instead of $d$ \u2014\u00a0for the MOVE command \u2014\u00a0if the command asked to move a window $d$ pixels, but it could only move $d\u2019$ pixels before requiring a window to move beyond the screen boundaries. The values $d$ and $d\u2019$ are the absolute number of pixels requested and moved, respectively. The window is still moved in this case, but only for the smaller distance.\n\nAfter all commands have been simulated and any error messages have been displayed, indicate the number of windows that are still open. Then for each open window, in the same order that they were opened, display the coordinates of the top-left corner $(x,y)$, the width, and the height.",
    "samples": [
        [
            "320 200\nOPEN 50 50 10 10\nOPEN 70 55 10 10\nOPEN 90 50 10 10\nRESIZE 55 55 40 40\nRESIZE 55 55 15 15\nMOVE 55 55 40 0\nCLOSE 55 55\nCLOSE 110 60\nMOVE 95 55 0 -100\n",
            "Command 4: RESIZE - window does not fit\nCommand 7: CLOSE - no window at given position\nCommand 9: MOVE - moved 50 instead of 100\n2 window(s):\n90 0 15 15\n115 50 10 10\n"
        ]
    ],
    "hint": "Time limit: 1000 ms, Memory limit: 1048576 kB. \n\n International Collegiate Programming Contest (ACM-ICPC) World Finals 2015",
    "translation": "\u8fc7\u53bb\u51e0\u5e74\uff0c\u7528\u6237\u754c\u9762\u6280\u672f\u53d1\u751f\u4e86\u4e00\u573a\u9769\u547d\u3002\u591a\u5e74\u6765\uff0c\u952e\u76d8\u548c\u9f20\u6807\u4e00\u76f4\u662f\u4e0e\u8ba1\u7b97\u673a\u4ea4\u4e92\u7684\u5de5\u5177\u3002\u4f46\u968f\u7740\u667a\u80fd\u624b\u673a\u548c\u5e73\u677f\u7535\u8111\u7684\u63a8\u51fa\uff0c\u4eba\u4eec\u8d8a\u6765\u8d8a\u591a\u5730\u901a\u8fc7\u5728\u5c4f\u5e55\u4e0a\u6572\u51fb\u548c\u79fb\u52a8\u624b\u6307\u6765\u4f7f\u7528\u7535\u8111\u3002\u8fd9\u81ea\u7136\u5bfc\u81f4\u4e86\u7528\u6237\u754c\u9762\u8bbe\u8ba1\u7684\u65b0\u8303\u5f0f\u3002\u4e00\u4e2a\u91cd\u8981\u7684\u539f\u5219\u662f\u663e\u793a\u5668\u4e0a\u7684\u5bf9\u8c61\u9075\u5b88\u201c\u7269\u7406\u201d\u5b9a\u5f8b\u3002\u5728\u8fd9\u4e2a\u95ee\u9898\u4e2d\uff0c\u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u4f8b\u5b50\u3002\n\n\u60a8\u5df2\u88ab\u8058\u8bf7\u4e3awindow manager\u6784\u5efa\u4e00\u4e2a\u6a21\u62df\u5668\uff0c\u7528\u4e8e\u9ad8\u7ea7\u624b\u673a\u5236\u9020\u5546\uff08ACM\uff09\u7684\u4e0b\u4e00\u4ee3\u667a\u80fd\u624b\u673a\u3002\u4ed6\u4eec\u751f\u4ea7\u7684\u6bcf\u6b3e\u624b\u673a\u90fd\u6709\u4e00\u4e2a\u77e9\u5f62\u5c4f\u5e55\uff0c\u53ef\u4ee5\u5b8c\u5168\u663e\u793a\u96f6\u4e2a\u6216\u591a\u4e2a\u77e9\u5f62\u7a97\u53e3\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6ca1\u6709\u7a97\u53e3\u8d85\u51fa\u5c4f\u5e55\u8fb9\u754c\u6216\u4e0e\u4efb\u4f55\u5176\u4ed6\u7a97\u53e3\u91cd\u53e0\u3002\u6a21\u62df\u5668\u5fc5\u987b\u652f\u6301\u4ee5\u4e0b\u547d\u4ee4\u3002\n\nOPEN x y w h\u2014\u2014\u6253\u5f00\u4e00\u4e2a\u5177\u6709\u5de6\u4e0a\u89d2\u5750\u6807\uff08x\uff0cy\uff09\u3001\u5bbd\u5ea6w\u50cf\u7d20\u548c\u9ad8\u5ea6h\u50cf\u7d20\u7684\u65b0\u7a97\u53e3\n\nCLOSE x y\u2014\u2014\u5173\u95ed\u4e00\u4e2a\u6253\u5f00\u7684\u7a97\u53e3\uff0c\u5176\u4e2d\u5305\u62ec\uff08x\uff0cy\uff09\u5904\u7684\u50cf\u7d20\u3002\u8fd9\u5141\u8bb8\u7528\u6237\u70b9\u51fb\u7a97\u53e3\u4e0a\u7684\u4efb\u610f\u4f4d\u7f6e\u4ee5\u5173\u95ed\u7a97\u53e3\u3002\n\nRESIZE x y w h\u2014\u2014\u5c06\u5305\u542b\uff08x\uff0cy\uff09\u5904\u50cf\u7d20\u7684\u7a97\u53e3\u5c3a\u5bf8\u8bbe\u7f6e\u4e3a\u5bbd\u5ea6w\u548c\u9ad8\u5ea6h\u3002\u7a97\u53e3\u7684\u5de6\u4e0a\u89d2\u4e0d\u79fb\u52a8\u3002\n\nMOVE x y dx dy\u2014\u2014\u79fb\u52a8\u5305\u542b\uff08x\uff0cy\uff09\u5904\u50cf\u7d20\u7684\u7a97\u53e3\u3002\u79fb\u52a8\u662f\u6c34\u5e73\u65b9\u5411\u4e0a\u7684dx\u50cf\u7d20\u6216\u5782\u76f4\u65b9\u5411\u4e0a\u7684dy\u50cf\u7d20\u3002dx\u548cdy\u4e2d\u6700\u591a\u6709\u4e00\u4e2a\u4e3a\u975e\u96f6\u3002\n\n![](https://cdn.luogu.com.cn/upload/image_hosting/3zw4uj2x.png)\n\n\u56fe1\uff1a\u79fb\u52a8\u793a\u4f8b\n\nACM\u5bf9MOVE\u547d\u4ee4\u7279\u522b\u81ea\u8c6a\u3002\u6b63\u5728\u79fb\u52a8\u7684\u7a97\u53e3\u53ef\u80fd\u4f1a\u201c\u649e\u4e0a\u201d\u53e6\u4e00\u4e2a\u7a97\u53e3\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7b2c\u4e00\u4e2a\u7a97\u53e3\u5c06\u4ee5\u76f8\u540c\u7684\u65b9\u5411\u5c3d\u53ef\u80fd\u8fdc\u5730\u63a8\u52a8\u7b2c\u4e8c\u4e2a\u7a97\u53e3\uff0c\u5c31\u50cf\u8fd9\u4e9b\u7a97\u53e3\u662f\u7269\u7406\u5bf9\u8c61\u4e00\u6837\u3002\u6b64\u884c\u4e3a\u53ef\u80fd\u4f1a\u5c42\u53e0\u2013\u79fb\u52a8\u7684\u7a97\u53e3\u53ef\u80fd\u4f1a\u9047\u5230\u5176\u4ed6\u7a97\u53e3\uff0c\u8fd9\u4e9b\u7a97\u53e3\u4e5f\u4f1a\u6839\u636e\u9700\u8981\u88ab\u63a8\u9001\u3002\u56fe1\u663e\u793a\u4e86\u4e00\u4e2a\u6709\u4e09\u4e2a\u7a97\u53e3\u7684\u793a\u4f8b\uff0c\u5176\u4e2d\u7a97\u53e3A\u5411\u53f3\u79fb\u52a8\uff0c\u63a8\u52a8\u5176\u4ed6\u4e24\u4e2a\u7a97\u53e3\u3002\n\n\u8f93\u5165\u683c\u5f0f\n\n\u7b2c\u4e00\u884c\u8f93\u5165\u5305\u542b\u4e24\u4e2a\u6b63\u6574\u6570x_max\u548cy_max\uff0c\u5373\u5c4f\u5e55\u7684\u6c34\u5e73\u548c\u5782\u76f4\u5c3a\u5bf8\uff0c\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\u3002\u6bcf\u4e2a\u663e\u793a\u5668\u7684\u6700\u5927\u5206\u8fa8\u7387\u4e3a10^9\uff08ACM\u6b63\u8ba1\u5212\u5efa\u9020\u5177\u6709\u6781\u9ad8\u5206\u8fa8\u7387\u7684\u663e\u793a\u5668\uff09\u3002\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u50cf\u7d20\u5177\u6709\u5750\u6807\uff080,0\uff09\u3002\u4e0b\u9762\u7684\u6bcf\u4e00\u884c\u90fd\u5305\u542b\u4e00\u4e2a\u5982\u4e0a\u6240\u8ff0\u7684\u547d\u4ee4\u3002\u547d\u4ee4\u540d\u548c\u53c2\u6570\u4e4b\u95f4\u7528\u4e00\u4e2a\u6216\u591a\u4e2a\u7a7a\u683c\u5206\u9694\u3002\u547d\u4ee4\u53c2\u6570\u662f\u6ee1\u8db3\u8fd9\u4e9b\u6761\u4ef6\u7684\u6574\u6570\uff1a0\u2264x<x_max\uff0c0\u2264y<y_max\uff0c1\u2264w\uff0ch\u226410^9\uff0c|d_x|\u3001|d_y|\u226410^9\u3002\u6700\u591a\u6709256\u6761\u547d\u4ee4\u3002\n\n\u8f93\u51fa\u683c\u5f0f\n\n\u8f93\u51fa\u5fc5\u987b\u9075\u5faa\u4ee5\u4e0b\u793a\u4f8b\u8f93\u51fa\u4e2d\u6240\u793a\u7684\u683c\u5f0f\u3002\n\n\u6309\u7167\u547d\u4ee4\u5728\u8f93\u5165\u4e2d\u51fa\u73b0\u7684\u987a\u5e8f\u6a21\u62df\u547d\u4ee4\u3002\u5982\u679c\u5728\u547d\u4ee4\u6a21\u62df\u8fc7\u7a0b\u4e2d\u68c0\u6d4b\u5230\u4efb\u4f55\u9519\u8bef\uff0c\u8bf7\u663e\u793a\u547d\u4ee4\u7f16\u53f7\u3001\u547d\u4ee4\u540d\u79f0\u548c\u4e0b\u8868\u4e2d\u7684\u7b2c\u4e00\u6761\u9002\u5f53\u6d88\u606f\uff0c\u5e76\u5ffd\u7565\u6a21\u62df\u8be5\u547d\u4ee4\u7684\u7ed3\u679c\uff08\u9664\u975e\u53e6\u6709\u8bf4\u660e\uff09\u3002\n\n\u5982\u679c\u5728\u6307\u5b9a\u4f4d\u7f6e\u6ca1\u6709\u5305\u542b\u50cf\u7d20\u7684\u7a97\u53e3\uff0c\u5219\u5728\u7ed9\u5b9a\u4f4d\u7f6e\u6ca1\u6709\u7a97\u53e3\uff08\u7528\u4e8e\u5173\u95ed\u3001\u8c03\u6574\u5927\u5c0f\u548c\u79fb\u52a8\u547d\u4ee4\uff09\u3002\n\n\u5982\u679c\u751f\u6210\u7684\u7a97\u53e3\u4e0e\u53e6\u4e00\u4e2a\u7a97\u53e3\u91cd\u53e0\u6216\u8d85\u51fa\u5c4f\u5e55\u8fb9\u754c\uff0c\u5219\u7a97\u53e3\u4e0d\u9002\u7528\u4e8e\u201c\u6253\u5f00\u201d\u548c\u201c\u8c03\u6574\u5927\u5c0f\u201d\u547d\u4ee4\u3002\n\n\u5982\u679c\u547d\u4ee4\u8981\u6c42\u79fb\u52a8\u7a97\u53e3d\u4e2a\u50cf\u7d20\uff0c\u5219\u79fb\u52a8d'\u800c\u4e0d\u662fd-\u5bf9\u4e8eMOVE\u547d\u4ee4\uff0c\u4f46\u5728\u8981\u6c42\u7a97\u53e3\u79fb\u52a8\u5230\u5c4f\u5e55\u8fb9\u754c\u4e4b\u5916\u4e4b\u524d\uff0c\u5b83\u53ea\u80fd\u79fb\u52a8d'\u4e2a\u50cf\u7d20\u3002\u503cd\u548cd\u2019\u5206\u522b\u662f\u8bf7\u6c42\u548c\u79fb\u52a8\u7684\u50cf\u7d20\u7684\u7edd\u5bf9\u6570\u91cf\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7a97\u53e3\u4ecd\u4f1a\u79fb\u52a8\uff0c\u4f46\u4ec5\u79fb\u52a8\u8f83\u5c0f\u7684\u8ddd\u79bb\u3002\n\n\u6a21\u62df\u6240\u6709\u547d\u4ee4\u5e76\u663e\u793a\u4efb\u4f55\u9519\u8bef\u6d88\u606f\u540e\uff0c\u6307\u793a\u4ecd\u6253\u5f00\u7684\u7a97\u53e3\u6570\u3002\u7136\u540e\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u6253\u5f00\u7684\u7a97\u53e3\uff0c\u6309\u7167\u6253\u5f00\u7684\u987a\u5e8f\u663e\u793a\u5de6\u4e0a\u89d2\uff08x\uff0cy\uff09\u7684\u5750\u6807\u3001\u5bbd\u5ea6\u548c\u9ad8\u5ea6\u3002\n\n\u8f93\u5165\u8f93\u51fa\u6837\u4f8b\n\n\u8f93\u5165 #1\n\n320 200\n\nOPEN 50 50 10 10\n\nOPEN 70 55 10 10\n\nOPEN 90 50 10 10\n\nRESIZE 55 55 40 40\n\nRESIZE 55 55 15 15\n\nMOVE 55 55 40 0\n\nCLOSE 55 55\n\nCLOSE 110 60\n\nMOVE 95 55 0 -100\n\n\u8f93\u51fa #1\n\nCommand 4: RESIZE - window does not fit\n\nCommand 7: CLOSE - no window at given position\n\nCommand 9: MOVE - moved 50 instead of 100\n\n2 window(s):\n\n90 0 15 15\n\n115 50 10 10\n\n\u8bf4\u660e/\u63d0\u793a\n\n\u65f6\u95f4\u9650\u5236\uff1a1000\u6beb\u79d2\uff0c\u5185\u5b58\u9650\u5236\uff1a1048576 kB\u3002\n\n\u8be5\u9898\u51fa\u81ea\uff1a2015\u5e74\u56fd\u9645\u5927\u5b66\u751f\u7f16\u7a0b\u5927\u8d5b\uff08ACM-ICPC\uff09\u4e16\u754c\u603b\u51b3\u8d5b"
}