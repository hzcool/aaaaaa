{
    "description": "\n\n\u8eab\u540e\u7684\u95e8\u88ab\u6572\u54cd\uff0c\u63a5\u8fc7\u5929\u4f9d\u5305\u56de\u6765\u7684\u4e00\u5927\u76d2\u591a\u8089\uff0c\u653e\u4e0b\u4e1c\u897f\u8d34\u8d34\u4e00\u4f1a\u513f\u4e4b\u540e\uff0c\u5979\u4eec\u51b3\u5b9a\u628a\u591a\u8089\u4eec\u5728\u9633\u53f0\u4e0a\u6392\u6210\u4e00\u6392\u3002\n\n\u591a\u8089\u4eec\u7684\u9ad8\u5ea6\u4e0d\u5c3d\u76f8\u540c\uff0c\u5929\u4f9d\u5148\u5c06\u4e00\u5171 $n$ \u76c6\u591a\u8089\u968f\u610f\u6392\u6210\u4e00\u6392\uff0c\u4ece\u5de6\u5230\u53f3\u7b2c $i$ \u76c6\u7684\u9ad8\u5ea6\u4e3a $a_i$\u3002\u4e3a\u4e86\u7f8e\u89c2\uff0c\u5979\u5e0c\u671b\u4ea4\u6362\u67d0\u4e9b\u591a\u8089\u7684\u4f4d\u7f6e\uff0c\u4f7f\u5f97\u7531\u9ad8\u5ea6\u7ec4\u6210\u7684\u5e8f\u5217 $A$ \u7684**\u5b57\u5178\u5e8f**\u5c3d\u53ef\u80fd\u5c0f\uff0c\u4e0d\u8fc7\uff0c\u4e3a\u4e86\u7167\u987e\u591a\u8089\u4eec\u7684\u611f\u53d7\uff08\uff1f\uff09\u5979\u8981\u6c42\u963f\u7eeb\u53ea\u80fd\u9009\u53d6 $A$ \u7684\u4e00\u4e2a**\u957f\u5ea6\u4e3a\u5076\u6570\u7684\u5b50\u5e8f\u5217**\uff08\u957f\u5ea6\u53ef\u4ee5\u4e3a $0$\uff09\uff0c\u4ea4\u6362\u5e8f\u5217\u91cc\u7b2c $1$ \u76c6\u548c\u7b2c $2$ \u76c6\uff0c\u7b2c $3$ \u76c6\u548c\u7b2c $4$ \u76c6\u2026\u2026\u7684\u4f4d\u7f6e\uff0c\u7136\u540e\u653e\u56de\u5b83\u4eec\u539f\u6765\u7684\u4f4d\u7f6e\u4e2d\u3002\n\n\u82e6\u6d3b\u4ea4\u7ed9\u4e86\u963f\u7eeb\uff0c\u601d\u8003\u7684\u5de5\u4f5c\u81ea\u7136\u4ea4\u7ed9\u4f60\u5566\uff01\u8bf7\u544a\u8bc9\u963f\u7eeb\uff0c\u4ec5\u4f7f\u7528**\u4e00\u6b21**\u9009\u53d6\u5b50\u5e8f\u5217\u7684\u64cd\u4f5c\uff0c\u5979\u80fd\u591f\u5f97\u5230\u7684\u5b57\u5178\u5e8f\u6700\u5c0f\u7684\u65b0\u9ad8\u5ea6\u5e8f\u5217 $A'$\u3002\n\n#### \u5f62\u5f0f\u5316\u9898\u610f\n\n\u7ed9\u5b9a\u4e00\u4e2a\u957f\u4e3a $n$ \u7684\u6574\u6570\u5e8f\u5217 $A$\uff0c\u4e0b\u6807\u4ece $1$ \u5f00\u59cb\u3002\u4f60\u53ef\u4ee5**\u4efb\u53d6\u4e00\u4e2a**\u81ea\u7136\u6570 $k$ \u4ee5\u53ca\u4e00\u4e2a\u5e8f\u5217 $\\lang 1,2,\\dots,n\\rang$ \u7684\uff0c\u957f\u5ea6\u4e3a $2k~(k\\in\\mathbb N)$ \u7684**\u5b50\u5e8f\u5217** $P$\uff0c\u5e76\u5bf9\u4e8e\u6240\u6709 $i=1,2,\\dots,k$\uff0c\u4ea4\u6362 $A_{P_{2i-1}}$ \u4e0e $A_{P_{2i}}$ \u7684\u503c\u3002\u6c42\u5728\u6240\u6709\u53ef\u80fd\u5f97\u5230\u7684\u65b0\u5e8f\u5217 $A'$ \u4e2d\uff0c**\u5b57\u5178\u5e8f** \u6700\u5c0f\u7684\u5e8f\u5217\u3002\n\n**\u5b57\u5178\u5e8f**\uff1a\u5bf9\u4e8e\u957f\u5ea6\u4e3a $n$ \u7684\u5e8f\u5217 $A$ \u548c $B$\uff0c\u5b9a\u4e49 $A$ \u7684\u5b57\u5178\u5e8f\u5c0f\u4e8e $B$\uff0c\u5f53\u4e14\u4ec5\u5f53\uff1a\n\n$$\n\\exists i\\in[1,n], (\\forall j\\in[1,i), A_j=B_j)\\land A_i<B_i.\n$$\n\n**\u6ce8\u610f**\uff1a\u672c\u9898\u8f93\u5165\u8f93\u51fa\u65b9\u5f0f\u5177\u6709\u7279\u6b8a\u6027\u3002\u8be6\u89c1\u300c\u8f93\u5165\u683c\u5f0f\u300d\u4e0e\u300c\u8f93\u51fa\u683c\u5f0f\u300d\u3002\n",
    "inputFormat": "\u4e3a\u8282\u7701\u7a0b\u5e8f\u8f93\u5165\u8017\u65f6\uff0c\u5e8f\u5217 $A$ \u5c06\u5728\u4f60\u7684\u7a0b\u5e8f\u5185\u90e8\u7531 `xorShift128Plus` \u548c\u63d0\u4f9b\u7684\u79cd\u5b50\u751f\u6210\u3002\u4e0b\u9762\u7ed9\u51fa C++ \u8bed\u8a00\u4e0b\u7684\u793a\u4f8b\u7a0b\u5e8f\uff1a\n\n```cpp\n#include <cstdio> // scanf\n\nconst int MAXN = 712; // Set a right value according to your solution.\nint n, a[MAXN + 1];\n\nnamespace Generator {\n\nunsigned long long k1, k2;\nint thres;\n\ninline unsigned long long xorShift128Plus() {\n    unsigned long long k3 = k1, k4 = k2;\n    k1 = k4, k3 ^= (k3 << 23), k2 = k3 ^ k4 ^ (k3 >> 17) ^ (k4 >> 26);\n    return k2 + k4;\n}\n\ninline void generate() {\n    for (int i = 1; i <= n; ++i) {\n        a[i] = xorShift128Plus() % thres;\n    }\n}\n\n} // namespace Generator.\n\nint main() {\n    scanf(\"%d\", &n);\n    scanf(\"%llu %llu %d\", &Generator::k1, &Generator::k2, &Generator::thres);\n    Generator::generate();\n    // Now array a[1..n] represents the sequence A in the statement.\n    return 0;\n}\n```\n\n\u8f93\u5165\u6587\u4ef6\u4ec5\u6709\u4e00\u884c\uff0c\u5305\u542b\u56db\u4e2a\u6574\u6570 $n,k_1,k_2,\\textit{thres}$\u3002\n\n\u7a0b\u5e8f\u8bfb\u5165\u5e8f\u5217\u957f\u5ea6 $n$\uff0c\u79cd\u5b50 $k_1,k_2$ \u548c\u5e8f\u5217\u503c\u4e0a\u9650 $\\textit{thres}$\uff0c\u7528 `xorShift128Plus` \u8fde\u7eed\u751f\u6210 $n$ \u4e2a\u968f\u673a\u6570\uff0c\u5c06\u5b83\u4eec\u5bf9 $\\textit{thres}$ \u53d6\u6a21\u7684\u503c\u4f9d\u6b21\u8d4b\u7ed9 $a_1,a_2,\\cdots,a_n$\uff0c\u5f97\u5230\u5e8f\u5217 $A$\u3002\u8bf7\u4f7f\u7528\u5176\u4ed6\u8bed\u8a00\u7684\u9009\u624b\u81ea\u884c\u67e5\u9605\u76f8\u5173\u4fe1\u606f\u5b9e\u73b0\u751f\u6210\u5668\u3002\n",
    "outputFormat": "\u4e3a\u8282\u7701\u7a0b\u5e8f\u8f93\u51fa\u8017\u65f6\uff0c\u4f60\u7684\u7a0b\u5e8f\u5e94\u5f53\u8f93\u51fa\u4e00\u884c\u4e00\u4e2a\u6574\u6570\uff0c\u8868\u793a $\\left(\\sum_{i=1}^ni\\times A_i'\\right)\\bmod2^{64}$ \u7684\u503c\u3002\n",
    "samples": [
        [
            "7 20120712 21702102 4",
            "43"
        ],
        [
            "10 114514 19198 10",
            "256"
        ]
    ],
    "hint": "#### \u6837\u4f8b #1 \u89e3\u91ca\n\n\u751f\u6210\u7684\u5e8f\u5217\u4e3a $A=\\lang 1,1,3,0,0,1,3\\rang$\uff0c\u9009\u53d6 $k=1,P=\\lang 1,5\\rang$, \u5f97\u5230\u7b54\u6848\u5e8f\u5217\u4e3a $A'=\\lang 0,1,3,0,1,1,3\\rang$\uff0c\u6309\u7167\u8981\u6c42\u8ba1\u7b97\u77e5\u7b54\u6848\u4e3a $43$\u3002\n\n#### \u6837\u4f8b #2 \u89e3\u91ca\n\n\u751f\u6210\u7684\u5e8f\u5217\u4e3a $A=\\lang 2,8,0,6,2,2,1,7,8,3\\rang$\uff0c\u9009\u53d6 $k=3,P=\\lang 1,3,4,7,8,10\\rang$, \u5f97\u5230\u7b54\u6848\u5e8f\u5217\u4e3a $A'=\\lang 0,8,2,1,2,2,6,3,8,7\\rang$\uff0c\u6309\u7167\u8981\u6c42\u8ba1\u7b97\u77e5\u7b54\u6848\u4e3a $256$\u3002\n\n### \u6570\u636e\u89c4\u6a21\u4e0e\u7ea6\u5b9a\n\n**\u672c\u9898\u91c7\u7528 Subtask \u7684\u8ba1\u5206\u65b9\u5f0f\u3002**\n\n\u5bf9\u4e8e $100\\%$ \u7684\u6d4b\u8bd5\u6570\u636e\uff0c$1\\le n\\le10^7$\uff0c$2\\le \\textit{thres}\\le10^9$\uff0c$0\\le k_1,k_2<2^{64}$\u3002\n\n\u5bf9\u4e8e\u4e0d\u540c\u7684\u5b50\u4efb\u52a1\uff0c\u4f5c\u5982\u4e0b\u7ea6\u5b9a\uff1a\n\n | \u5b50\u4efb\u52a1\u7f16\u53f7 |    $n$    |     $\\textit{thres}$     | \u7279\u6b8a\u6027\u8d28 | \u5206\u503c |\n| :--------: | :-------: | :---------: | :------: | :--: |\n|    $1$     | $\\le10^5$ |  $\\le10^9$   |  **\u6709**  | $10$ |\n|    $2$     |   $\\le20$    | $\\le10$ |    \u65e0    | $15$ |\n|    $3$     | $\\le10^7$ | $=2$  |    \u65e0    | $20$ |\n|    $4$     | $\\le10^7$ | $\\le10^7$ |    \u65e0    | $25$ |\n|    $5$     | $\\le10^7$ | $\\le10^9$ |    \u65e0    | $30$ |\n\n- **\u7279\u6b8a\u6027\u8d28**\uff1a\u4fdd\u8bc1\u7a0b\u5e8f\u6b63\u786e\u751f\u6210\u7684\u5e8f\u5217 $A$ \u4e2d\u4e0d\u5b58\u5728\u76f8\u7b49\u5143\u7d20\u3002\n\n- **\u6ce8\u610f**\uff1a\u672c\u9898\u65f6\u9650\u4e3a $0.5\\text s$\u3002\n\n- ~~\u70ed\u77e5\u8bc6\uff1a\u300a\u4e16\u672b\u6b4c\u8005\u300b\u6f14\u5531\u4e8e\u590f\u65e5\uff0c\u663e\u7136\u4e0d\u5728\u96e8\u6c34\u8282\u6c14\u3002~~\n"
}