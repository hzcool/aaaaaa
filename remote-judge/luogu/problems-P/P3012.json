{
    "description": "Like all bovines, Farmer John's cows speak the peculiar 'Cow'\n\nlanguage. Like so many languages, each word in this language comprises a sequence of upper and lowercase letters (A-Z and a-z).  A word is valid if and only if each ordered pair of adjacent letters in the word is a valid pair.\n\nFarmer John, ever worried that his cows are plotting against him, recently tried to eavesdrop on their conversation. He overheard one word before the cows noticed his presence. The Cow language is spoken so quickly, and its sounds are so strange, that all that Farmer John was able to perceive was the total number of uppercase letters, U (1 <= U <= 250) and the total number of lowercase\n\nletters, L (1 <= L <= 250) in the word. \n\nFarmer John knows all P (1 <= P <= 200) valid ordered pairs of adjacent letters.  He wishes to know how many different valid \n\nwords are consistent with his limited data.  However, since\n\nthis number may be very large, he only needs the value modulo\n\n97654321.\n\n\u7ea6\u7ff0\u5bb6\u7684\u5976\u725b\u7528\u522b\u4eba\u542c\u4e0d\u61c2\u7684\u201c\u725b\u8bed\u201d\u8054\u7edc\u3002\u725b\u8bed\u91c7\u7528\u82f1\u6587\u5b57\u6bcd\uff0c\u800c\u4e14\u533a\u5206\u5927\u5c0f\u5199\u3002\u725b \u8bed\u4e2d\u7684\u8bed\u6cd5\u4e2d\uff0c\u524d\u540e\u5b57\u6bcd\u7684\u8854\u63a5\u975e\u5e38\u91cd\u8981\uff0c\u5b58\u5728P\u4e2a\u57fa\u672c\u7ec4\u5408\uff0c\u6bcf\u4e2a\u5b57\u6bcd\u4e4b\u540e\u53ea\u80fd\u63a5\u56fa\u5b9a\u7684 \u51e0\u4e2a\u5b57\u6bcd\u3002 \u7ea6\u7ff0\u62c5\u5fc3\u5976\u725b\u6b63\u5728\u5bc6\u8c0b\u53cd\u5bf9\u4ed6\uff0c\u4e8e\u662f\u6700\u8fd1\u4e00\u76f4\u5728\u5077\u542c\u5979\u4eec\u7684\u5bf9\u8bdd\u3002\u53ef\u662f\u725b\u8bed\u592a\u590d\u6742\u4e86\uff0c \u4ed6\u53ea\u6a21\u6a21\u7cca\u7cca\u5730\u542c\u5230\u4e86\u4e00\u4e2a\u5355\u8bcd\uff0c\u5e76\u786e\u5b9a\u4e86\u8fd9\u4e2a\u5355\u8bcd\u4e2d\u6709U\u4e2a\u5927\u5199\u5b57\u6bcd\uff0cL\u4e2a\u5c0f\u5199\u5b57\u6bcd\u3002\u7ea6 \u7ff0\u5bf9\u8fd9\u4e2a\u5355\u8bcd\u5f88\u5728\u610f\uff0c\u4ed6\u60f3\u77e5\u9053\uff0c\u6709\u591a\u5c11\u725b\u8bed\u8bcd\u6c47\u62e5\u6709U\u4e2a\u5927\u5199\u5b57\u6bcd\uff0cL\u4e2a\u5c0f\u5199\u5b57\u6bcd\u3002\u7531\u4e8e \u8fd9\u4e2a\u6570\u5b57\u592a\u5927\u4e86\uff0c\u4f60\u53ea\u8981\u8f93\u51fa\u7b54\u6848\u53d6 97654321 \u7684\u4f59\u6570\u5c31\u53ef\u4ee5\u4e86\u3002 \u8f93\u5165\u683c\u5f0f ? ? \u7b2c\u4e00\u884c\uff1a\u4e09\u4e2a\u7528\u7a7a\u683c\u9694\u5f00\u7684\u6574\u6570\uff1aU\uff0cL\u548cP\uff0c1 \u2264 U, L \u2264 250\uff0c1 \u2264 P \u2264 200 \u7b2c\u4e8c\u884c\u5230P + 1\u884c\uff1a\u7b2ci + 1\u6709\u4e24\u4e2a\u5b57\u6bcdAi\u548cBi\uff0c\u8868\u793a\u5b57\u6bcdAi\u540e\u9762\u53ef\u4ee5\u63a5Bi\uff0c\u6ca1\u6709\u4e00\u5bf9Ai\u548c Bi\u662f\u5b8c\u5168\u76f8\u540c\u7684\n",
    "inputFormat": "\\* Line 1: Three space-separated integers: U, L and P\n\n\\* Lines 2..P+1: Two letters (each of which may be uppercase or lowercase), representing one valid ordered pair of adjacent letters in Cow.\n",
    "outputFormat": "\\* Line 1: A single integer, the number of valid words consistent with Farmer  John's data mod 97654321.\n",
    "samples": [
        [
            "2 2 7 \nAB \nab \nBA \nba \nAa \nBb \nbB \n",
            "7 \n"
        ]
    ],
    "hint": "The word Farmer John overheard had 2 uppercase and 2 lowercase letters.  The valid pairs of adjacent letters are AB, ab, BA, ba, Aa, Bb and bB.\n\n\nThe possible words are:\n\nAabB\nABba\nabBA\nBAab\nBbBb\nbBAa\nbBbB"
}